import{s as M}from"./index-ph7f-Bih.js";import{s as z}from"./index-Dxs3XwIn.js";import{s as G}from"./index-Dfd85u33.js";import{b as J}from"./index-CaW9szM_.js";import{s as Q}from"./index-Ckqgf0m_.js";import{s as X}from"./index-B-hHolUA.js";import{s as Y}from"./index-D7o03dXP.js";import{q as Z,u as ee,h as r,n as a,H as w,s as le,c as h,a as l,d as o,w as i,F,o as v,f as E,e as te,t as u,l as c,E as I}from"./index-BShNAIhh.js";import"./index-QIG-zb-E.js";import"./index-BK0Kbx9n.js";const oe={class:"w-full h-full flex justify-content-center overflow-auto"},ne={class:"text-5xl ml-3"},se={class:"flex flex-column justify-content-center gap-3 p-3 h-full"},ae={class:"flex flex-wrap justify-content-between align-items-center"},ie={class:"font-bold text-lg"},ue={class:"flex flex-wrap justify-content-between align-items-center"},de={class:"flex flex-wrap justify-content-between align-items-center"},re={class:"font-bold text-lg"},ce={class:"flex flex-wrap justify-content-between align-items-center"},me={class:"font-bold text-lg"},fe={class:"flex flex-wrap justify-content-between align-items-centerm-2"},pe={class:"font-bold text-lg"},ve={class:"flex flex-wrap justify-content-between align-items-centerm-2"},be={class:"flex flex-wrap justify-content-between align-items-centerm-2"},ge={class:"flex flex-column"},we={class:""},Ve={class:"font-bold"},he={class:""},_e={for:"on_label"},Pe={class:""},ye={for:"on_label"},ke={class:"flex flex-column"},xe={class:""},$e={class:"font-bold"},Be={class:""},De={for:"on_label"},Ce={class:""},Ue={for:"on_label"},He={__name:"SettingPage",setup(Se){const{t:d}=Z(),N=ee(),_=r(!1),$=r(!1),b=r(),j=r(),T=r(),B=r(a.getSettingsValue("delivery")),D=r(a.getSettingsValue("isFestiveDay")),C=r(a.getSettingsValue("hasBibimbap")),U=r(a.getSettingsValue("hasBox")),S=r(a.getSettingsValue("checkIP")),P=r(a.getSettingsValue("useChildrenDiscount"));w(B,t=>{a.updateSetting("delivery",t,(e,s)=>{m(e,s)})}),w(D,t=>{a.updateSetting("isFestiveDay",t,(e,s)=>{m(e,s)})}),w(C,t=>{a.updateSetting("hasBibimbap",t,(e,s)=>{m(e,s)})}),w(U,t=>{a.updateSetting("hasBox",t,(e,s)=>{m(e,s)})}),w(S,t=>{a.updateSetting("checkIP",t,(e,s)=>{m(e,s)})}),w(P,t=>{a.updateSetting("useChildrenDiscount",t,(e,s)=>{m(e,s)})});const W=le(()=>{var t;return!!((t=window.env)!=null&&t.ENABLE_ROAST_DUCK)});function L(){_.value=!0,b.value=a.weekPrice.value}function O(){H()?(a.updateWeekPrices((e,s)=>{m(e,s)}),_.value=!1):m(!1,"设置价格","价格不能为负")}function H(){for(const t in b.value)for(const e in b.value[t])if(b.value[t][e]<0)return!1;return!0}function K(){$.value=!0,j.value=a.getPriceDataValue("childrenWeekPrice"),T.value=a.getPriceDataValue("childrenPricePercentage")}function R(){b.value=void 0}function m(t,e,s=""){N.add({severity:t?"success":"error",summary:d(t?"common.success":"common.error"),detail:d("common.edit")+d("optionPages."+q(e))+d("common."+(t?"success":"failed")+s),life:1e3})}function q(t){switch(t){case"delivery":return"takeAwayFeature";case"isFestiveDay":return"takeAwayFeature";case"hasBibimbap":return"showBibimbap";case"hasBox":return"showBow";case"checkIP":return"wifiOrder";case"useChildrenDiscount":return"takeAwayFeature"}}return(t,e)=>{const s=Y,g=X,f=Q,y=J,k=G,x=z,A=M;return v(),h(F,null,[l("div",oe,[o(f,{class:"flex flex-column h-full mt-1 lg:p-5",style:{"max-width":"1000px"}},{title:i(()=>[l("label",ne,u(c(d)("optionPages.settings")),1),o(s)]),content:i(()=>[l("div",se,[o(f,{class:"shadow-5"},{content:i(()=>[l("div",ae,[l("label",ie,u(c(d)("optionPages.takeAwayFeature")),1),o(g,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=n=>B.value=n)},null,8,["modelValue"]),o(s),l("label",null,u(c(d)("optionPages.takeAwayFeatureOn")),1)])]),_:1}),o(f,{class:"shadow-5"},{content:i(()=>[l("div",ue,[e[13]||(e[13]=l("label",{class:"font-bold text-lg"},"使用红日价格",-1)),o(g,{modelValue:D.value,"onUpdate:modelValue":e[1]||(e[1]=n=>D.value=n)},null,8,["modelValue"]),o(s),e[14]||(e[14]=l("label",null,"开启后，使用红日价格",-1))])]),_:1}),(W.value,v(),E(f,{key:0,class:"shadow-5"},{content:i(()=>[l("div",de,[l("label",re,u(c(d)("optionPages.showBibimbap")),1),o(g,{modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=n=>C.value=n)},null,8,["modelValue"]),o(s),l("label",null,u(c(d)("optionPages.showBibimbapOn")),1)])]),_:1})),(W.value,v(),E(f,{key:1,class:"shadow-5"},{content:i(()=>[l("div",ce,[l("label",me,u(c(d)("optionPages.showBow")),1),o(g,{modelValue:U.value,"onUpdate:modelValue":e[3]||(e[3]=n=>U.value=n)},null,8,["modelValue"]),o(s),l("label",null,u(c(d)("optionPages.showBoxOn")),1)])]),_:1})),o(f,{class:"shadow-5"},{content:i(()=>[l("div",fe,[l("label",pe,u(c(d)("optionPages.wifiOrder")),1),o(g,{modelValue:S.value,"onUpdate:modelValue":e[4]||(e[4]=n=>S.value=n)},null,8,["modelValue"]),o(s),l("label",null,u(c(d)("optionPages.wifiOrderOn")),1)])]),_:1}),o(f,{class:"shadow-5"},{content:i(()=>[l("div",ve,[e[15]||(e[15]=l("label",{class:"font-bold text-lg"},"设置价格",-1)),o(y,{label:t.$t("common.edit"),onClick:e[5]||(e[5]=n=>L())},null,8,["label"]),o(s),e[16]||(e[16]=l("label",null,"设置周一至周日与红日的价格",-1))])]),_:1}),o(f,{class:"shadow-5"},{content:i(()=>[l("div",be,[e[17]||(e[17]=l("label",{class:"font-bold text-lg"},"设置小孩价格",-1)),o(s),e[18]||(e[18]=l("label",null,"使用百分比设置价格",-1)),o(g,{modelValue:P.value,"onUpdate:modelValue":e[6]||(e[6]=n=>P.value=n)},null,8,["modelValue"]),o(s),e[19]||(e[19]=l("label",null,"设置小孩的价格",-1)),o(y,{label:t.$t("common.edit"),onClick:e[7]||(e[7]=n=>K())},null,8,["label"])])]),_:1})])]),_:1})]),o(A,{visible:_.value,"onUpdate:visible":e[9]||(e[9]=n=>_.value=n),header:t.$t("optionPages.editWeekPrice"),onHide:e[10]||(e[10]=n=>R())},{default:i(()=>[l("div",ge,[(v(!0),h(F,null,I(b.value,(n,V)=>(v(),h("div",{key:V,class:"flex justify-content-between m-1 gap-2"},[l("div",we,[l("label",Ve,u(t.$t("optionPages.week."+V))+":",1)]),l("div",he,[o(x,{variant:"on"},{default:i(()=>[o(k,{type:"number",modelValue:n.lunch,"onUpdate:modelValue":p=>n.lunch=p,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",_e,u(t.$t("optionPages.lunch")),1)]),_:2},1024)]),l("div",Pe,[o(x,{variant:"on"},{default:i(()=>[o(k,{type:"number",modelValue:n.dinner,"onUpdate:modelValue":p=>n.dinner=p,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",ye,u(t.$t("optionPages.dinner")),1)]),_:2},1024)])]))),128)),o(y,{label:t.$t("common.save"),onClick:e[8]||(e[8]=n=>O())},null,8,["label"])])]),_:1},8,["visible","header"]),o(A,{visible:$.value,"onUpdate:visible":e[12]||(e[12]=n=>$.value=n),header:t.$t("optionPages.editChildrenWeekPrice")},{default:i(()=>[l("div",ke,[P.value?(v(!0),h(F,{key:0},I(j.value,(n,V)=>(v(),h("div",{key:V,class:"flex justify-content-between m-1 gap-2"},[l("div",xe,[l("label",$e,u(t.$t("optionPages.week."+V))+":",1)]),l("div",Be,[o(x,{variant:"on"},{default:i(()=>[o(k,{type:"number",modelValue:n.lunch,"onUpdate:modelValue":p=>n.lunch=p,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",De,u(t.$t("optionPages.lunch")),1)]),_:2},1024)]),l("div",Ce,[o(x,{variant:"on"},{default:i(()=>[o(k,{type:"number",modelValue:n.dinner,"onUpdate:modelValue":p=>n.dinner=p,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",Ue,u(t.$t("optionPages.dinner")),1)]),_:2},1024)])]))),128)):te("",!0),o(y,{label:t.$t("common.save"),onClick:e[11]||(e[11]=n=>O())},null,8,["label"])])]),_:1},8,["visible","header"])],64)}}};export{He as default};
