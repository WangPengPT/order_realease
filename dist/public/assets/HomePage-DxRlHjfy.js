import{x as bt,B as Ke,y as at,z as gt,f as L,q as k,s as ge,i as te,A as Me,D as me,E as et,h as u,t as B,l as Ce,u as Le,r as ae,o as tt,a as J,g as G,F as fe,p as $e,k as w,j as se,G as ht,v as je,m as Te,e as on,H as tr,I as nr,w as pt,c as Oe,J as mt,K as rr,R as sn,L as At,M as ar,N as Bt,O as or,P as ut,Q as ir,S as Qt,T as ln,U as sr,V as lr,W as ct,X as ur,n as Gt,b as cr,d as dr}from"./index-1dCEm_cl.js";import{s as We,a as un}from"./index-DeFCAIDH.js";import{s as de,a as cn}from"./index-BCa1uPT7.js";import{D as xe,c as Ie,s as Jt,a as fr}from"./index-DVB00fvC.js";import{_ as ot,c as Be}from"./_plugin-vue_export-helper-vSIagneg.js";import{s as vr}from"./index-Dtd5OjYN.js";import{s as Xt}from"./index-CyUZ5nvL.js";import{a as Lt,b as Pt,c as Ot,s as Mt,d as pr,S as hr}from"./pagination-J5i2jY6x.js";import{s as mr}from"./index-DmlY4l4q.js";import{s as br}from"./index-B0Ye6kEQ.js";import{s as Zt}from"./index-OWh77L6i.js";import{s as gr}from"./index-BJahb5K3.js";var dt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Et={exports:{}},en;function yr(){return en||(en=1,function(r){var i=function(){var d=String.fromCharCode,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",g={};function _(h,C){if(!g[h]){g[h]={};for(var q=0;q<h.length;q++)g[h][h.charAt(q)]=q}return g[h][C]}var U={compressToBase64:function(h){if(h==null)return"";var C=U._compress(h,6,function(q){return D.charAt(q)});switch(C.length%4){default:case 0:return C;case 1:return C+"===";case 2:return C+"==";case 3:return C+"="}},decompressFromBase64:function(h){return h==null?"":h==""?null:U._decompress(h.length,32,function(C){return _(D,h.charAt(C))})},compressToUTF16:function(h){return h==null?"":U._compress(h,15,function(C){return d(C+32)})+" "},decompressFromUTF16:function(h){return h==null?"":h==""?null:U._decompress(h.length,16384,function(C){return h.charCodeAt(C)-32})},compressToUint8Array:function(h){for(var C=U.compress(h),q=new Uint8Array(C.length*2),c=0,f=C.length;c<f;c++){var F=C.charCodeAt(c);q[c*2]=F>>>8,q[c*2+1]=F%256}return q},decompressFromUint8Array:function(h){if(h==null)return U.decompress(h);for(var C=new Array(h.length/2),q=0,c=C.length;q<c;q++)C[q]=h[q*2]*256+h[q*2+1];var f=[];return C.forEach(function(F){f.push(d(F))}),U.decompress(f.join(""))},compressToEncodedURIComponent:function(h){return h==null?"":U._compress(h,6,function(C){return I.charAt(C)})},decompressFromEncodedURIComponent:function(h){return h==null?"":h==""?null:(h=h.replace(/ /g,"+"),U._decompress(h.length,32,function(C){return _(I,h.charAt(C))}))},compress:function(h){return U._compress(h,16,function(C){return d(C)})},_compress:function(h,C,q){if(h==null)return"";var c,f,F={},X={},ne="",ee="",Q="",W=2,H=3,Y=2,b=[],v=0,l=0,m;for(m=0;m<h.length;m+=1)if(ne=h.charAt(m),Object.prototype.hasOwnProperty.call(F,ne)||(F[ne]=H++,X[ne]=!0),ee=Q+ne,Object.prototype.hasOwnProperty.call(F,ee))Q=ee;else{if(Object.prototype.hasOwnProperty.call(X,Q)){if(Q.charCodeAt(0)<256){for(c=0;c<Y;c++)v=v<<1,l==C-1?(l=0,b.push(q(v)),v=0):l++;for(f=Q.charCodeAt(0),c=0;c<8;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1}else{for(f=1,c=0;c<Y;c++)v=v<<1|f,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=0;for(f=Q.charCodeAt(0),c=0;c<16;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1}W--,W==0&&(W=Math.pow(2,Y),Y++),delete X[Q]}else for(f=F[Q],c=0;c<Y;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1;W--,W==0&&(W=Math.pow(2,Y),Y++),F[ee]=H++,Q=String(ne)}if(Q!==""){if(Object.prototype.hasOwnProperty.call(X,Q)){if(Q.charCodeAt(0)<256){for(c=0;c<Y;c++)v=v<<1,l==C-1?(l=0,b.push(q(v)),v=0):l++;for(f=Q.charCodeAt(0),c=0;c<8;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1}else{for(f=1,c=0;c<Y;c++)v=v<<1|f,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=0;for(f=Q.charCodeAt(0),c=0;c<16;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1}W--,W==0&&(W=Math.pow(2,Y),Y++),delete X[Q]}else for(f=F[Q],c=0;c<Y;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1;W--,W==0&&(W=Math.pow(2,Y),Y++)}for(f=2,c=0;c<Y;c++)v=v<<1|f&1,l==C-1?(l=0,b.push(q(v)),v=0):l++,f=f>>1;for(;;)if(v=v<<1,l==C-1){b.push(q(v));break}else l++;return b.join("")},decompress:function(h){return h==null?"":h==""?null:U._decompress(h.length,32768,function(C){return h.charCodeAt(C)})},_decompress:function(h,C,q){var c=[],f=4,F=4,X=3,ne="",ee=[],Q,W,H,Y,b,v,l,m={val:q(0),position:C,index:1};for(Q=0;Q<3;Q+=1)c[Q]=Q;for(H=0,b=Math.pow(2,2),v=1;v!=b;)Y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=C,m.val=q(m.index++)),H|=(Y>0?1:0)*v,v<<=1;switch(H){case 0:for(H=0,b=Math.pow(2,8),v=1;v!=b;)Y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=C,m.val=q(m.index++)),H|=(Y>0?1:0)*v,v<<=1;l=d(H);break;case 1:for(H=0,b=Math.pow(2,16),v=1;v!=b;)Y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=C,m.val=q(m.index++)),H|=(Y>0?1:0)*v,v<<=1;l=d(H);break;case 2:return""}for(c[3]=l,W=l,ee.push(l);;){if(m.index>h)return"";for(H=0,b=Math.pow(2,X),v=1;v!=b;)Y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=C,m.val=q(m.index++)),H|=(Y>0?1:0)*v,v<<=1;switch(l=H){case 0:for(H=0,b=Math.pow(2,8),v=1;v!=b;)Y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=C,m.val=q(m.index++)),H|=(Y>0?1:0)*v,v<<=1;c[F++]=d(H),l=F-1,f--;break;case 1:for(H=0,b=Math.pow(2,16),v=1;v!=b;)Y=m.val&m.position,m.position>>=1,m.position==0&&(m.position=C,m.val=q(m.index++)),H|=(Y>0?1:0)*v,v<<=1;c[F++]=d(H),l=F-1,f--;break;case 2:return ee.join("")}if(f==0&&(f=Math.pow(2,X),X++),c[l])ne=c[l];else if(l===F)ne=W+W.charAt(0);else return null;ee.push(ne),c[F++]=W+ne.charAt(0),f--,W=ne,f==0&&(f=Math.pow(2,X),X++)}}};return U}();r!=null?r.exports=i:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return i})}(Et)),Et.exports}var _r=yr();const Nt=dn(_r);var wr=bt`
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: dt('tag.primary.background');
        color: dt('tag.primary.color');
        font-size: dt('tag.font.size');
        font-weight: dt('tag.font.weight');
        padding: dt('tag.padding');
        border-radius: dt('tag.border.radius');
        gap: dt('tag.gap');
    }

    .p-tag-icon {
        font-size: dt('tag.icon.size');
        width: dt('tag.icon.size');
        height: dt('tag.icon.size');
    }

    .p-tag-rounded {
        border-radius: dt('tag.rounded.border.radius');
    }

    .p-tag-success {
        background: dt('tag.success.background');
        color: dt('tag.success.color');
    }

    .p-tag-info {
        background: dt('tag.info.background');
        color: dt('tag.info.color');
    }

    .p-tag-warn {
        background: dt('tag.warn.background');
        color: dt('tag.warn.color');
    }

    .p-tag-danger {
        background: dt('tag.danger.background');
        color: dt('tag.danger.color');
    }

    .p-tag-secondary {
        background: dt('tag.secondary.background');
        color: dt('tag.secondary.color');
    }

    .p-tag-contrast {
        background: dt('tag.contrast.background');
        color: dt('tag.contrast.color');
    }
`,xr={root:function(i){var d=i.props;return["p-tag p-component",{"p-tag-info":d.severity==="info","p-tag-success":d.severity==="success","p-tag-warn":d.severity==="warn","p-tag-danger":d.severity==="danger","p-tag-secondary":d.severity==="secondary","p-tag-contrast":d.severity==="contrast","p-tag-rounded":d.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},kr=Ke.extend({name:"tag",style:wr,classes:xr}),$r={name:"BaseTag",extends:at,props:{value:null,severity:null,rounded:Boolean,icon:String},style:kr,provide:function(){return{$pcTag:this,$parentInstance:this}}};function nt(r){"@babel/helpers - typeof";return nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},nt(r)}function Tr(r,i,d){return(i=Sr(i))in r?Object.defineProperty(r,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[i]=d,r}function Sr(r){var i=Ir(r,"string");return nt(i)=="symbol"?i:i+""}function Ir(r,i){if(nt(r)!="object"||!r)return r;var d=r[Symbol.toPrimitive];if(d!==void 0){var D=d.call(r,i);if(nt(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}var Ze={name:"Tag",extends:$r,inheritAttrs:!1,computed:{dataP:function(){return gt(Tr({rounded:this.rounded},this.severity,this.severity))}}},Dr=["data-p"];function Cr(r,i,d,D,I,g){return k(),L("span",me({class:r.cx("root"),"data-p":g.dataP},r.ptmi("root")),[r.$slots.icon?(k(),ge(et(r.$slots.icon),me({key:0,class:r.cx("icon")},r.ptm("icon")),null,16,["class"])):r.icon?(k(),L("span",me({key:1,class:[r.cx("icon"),r.icon]},r.ptm("icon")),null,16)):te("",!0),r.value!=null||r.$slots.default?Me(r.$slots,"default",{key:2},function(){return[u("span",me({class:r.cx("label")},r.ptm("label")),B(r.value),17)]}):te("",!0)],16,Dr)}Ze.render=Cr;var Ar=bt`
    .p-avatar {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: dt('avatar.width');
        height: dt('avatar.height');
        font-size: dt('avatar.font.size');
        background: dt('avatar.background');
        color: dt('avatar.color');
        border-radius: dt('avatar.border.radius');
    }

    .p-avatar-image {
        background: transparent;
    }

    .p-avatar-circle {
        border-radius: 50%;
    }

    .p-avatar-circle img {
        border-radius: 50%;
    }

    .p-avatar-icon {
        font-size: dt('avatar.icon.size');
        width: dt('avatar.icon.size');
        height: dt('avatar.icon.size');
    }

    .p-avatar img {
        width: 100%;
        height: 100%;
    }

    .p-avatar-lg {
        width: dt('avatar.lg.width');
        height: dt('avatar.lg.width');
        font-size: dt('avatar.lg.font.size');
    }

    .p-avatar-lg .p-avatar-icon {
        font-size: dt('avatar.lg.icon.size');
        width: dt('avatar.lg.icon.size');
        height: dt('avatar.lg.icon.size');
    }

    .p-avatar-xl {
        width: dt('avatar.xl.width');
        height: dt('avatar.xl.width');
        font-size: dt('avatar.xl.font.size');
    }

    .p-avatar-xl .p-avatar-icon {
        font-size: dt('avatar.xl.icon.size');
        width: dt('avatar.xl.icon.size');
        height: dt('avatar.xl.icon.size');
    }

    .p-avatar-group {
        display: flex;
        align-items: center;
    }

    .p-avatar-group .p-avatar + .p-avatar {
        margin-inline-start: dt('avatar.group.offset');
    }

    .p-avatar-group .p-avatar {
        border: 2px solid dt('avatar.group.border.color');
    }

    .p-avatar-group .p-avatar-lg + .p-avatar-lg {
        margin-inline-start: dt('avatar.lg.group.offset');
    }

    .p-avatar-group .p-avatar-xl + .p-avatar-xl {
        margin-inline-start: dt('avatar.xl.group.offset');
    }
`,Er={root:function(i){var d=i.props;return["p-avatar p-component",{"p-avatar-image":d.image!=null,"p-avatar-circle":d.shape==="circle","p-avatar-lg":d.size==="large","p-avatar-xl":d.size==="xlarge"}]},label:"p-avatar-label",icon:"p-avatar-icon"},Nr=Ke.extend({name:"avatar",style:Ar,classes:Er}),Rr={name:"BaseAvatar",extends:at,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Nr,provide:function(){return{$pcAvatar:this,$parentInstance:this}}};function rt(r){"@babel/helpers - typeof";return rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},rt(r)}function tn(r,i,d){return(i=Br(i))in r?Object.defineProperty(r,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):r[i]=d,r}function Br(r){var i=Lr(r,"string");return rt(i)=="symbol"?i:i+""}function Lr(r,i){if(rt(r)!="object"||!r)return r;var d=r[Symbol.toPrimitive];if(d!==void 0){var D=d.call(r,i);if(rt(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}var fn={name:"Avatar",extends:Rr,inheritAttrs:!1,emits:["error"],methods:{onError:function(i){this.$emit("error",i)}},computed:{dataP:function(){return gt(tn(tn({},this.shape,this.shape),this.size,this.size))}}},Pr=["aria-labelledby","aria-label","data-p"],Or=["data-p"],Mr=["data-p"],zr=["src","alt","data-p"];function qr(r,i,d,D,I,g){return k(),L("div",me({class:r.cx("root"),"aria-labelledby":r.ariaLabelledby,"aria-label":r.ariaLabel},r.ptmi("root"),{"data-p":g.dataP}),[Me(r.$slots,"default",{},function(){return[r.label?(k(),L("span",me({key:0,class:r.cx("label")},r.ptm("label"),{"data-p":g.dataP}),B(r.label),17,Or)):r.$slots.icon?(k(),ge(et(r.$slots.icon),{key:1,class:Ce(r.cx("icon"))},null,8,["class"])):r.icon?(k(),L("span",me({key:2,class:[r.cx("icon"),r.icon]},r.ptm("icon"),{"data-p":g.dataP}),null,16,Mr)):r.image?(k(),L("img",me({key:3,src:r.image,alt:r.ariaLabel,onError:i[0]||(i[0]=function(){return g.onError&&g.onError.apply(g,arguments)})},r.ptm("image"),{"data-p":g.dataP}),null,16,zr)):te("",!0)]})],16,Pr)}fn.render=qr;const Fr={class:"grid"},Ur={key:0,class:"col-12 sm:col-12 md:col-6 lg:col-4 border-round surface-section shadow-1 p-2"},Vr={class:"flex flex-column"},jr=["onClick"],Wr={class:"p-1 flex-shrink-0 w-7rem h-7rem flex align-items-center justify-content-center overflow-hidden"},Kr=["src","alt"],Hr={class:"flex flex-column justify-content-center"},Yr={class:"font-bold"},Qr={class:"flex flex-wrap gap-2"},Gr={class:"flex gap-1 align-items-center"},Jr={class:"text-color-secondary line2"},Xr={key:0,class:"text-xl font-bold text-primary"},Zr={key:1,class:"flex align-items-center gap-1"},ea={class:"text-l font-bold text-color-secondary"},ta={class:"text-sm line-through text-500"},na={key:2,class:"flex gap-2 mr-2",id:"card-quantity"},ra={class:"w-2rem text-xl text-center"},aa={key:3,class:"flex gap-2 mr-2"},oa={key:0,class:"m-2 mt-0"},ia={class:"flex flex-row justify-content-between align-content-center"},sa={class:"flex flex-column"},la={class:"text-l font-bold"},ua={key:0,class:"text-l font-bold text-color-secondary"},ca={key:1,class:"flex align-items-center gap-1"},da={class:"text-l font-bold text-color-secondary"},fa={class:"text-sm line-through text-500"},va={key:0,class:"flex ml-2 mr-2"},pa={class:"w-2rem text-xl text-center"},ha={key:1,class:"flex gap-2 mr-3 pt-2 pb-2"},ma={class:"mb-2 flex justify-content-center"},ba={class:"font-bold text-center"},ga={class:"mb-2"},ya={class:"text-color-secondary m-0 line-height-3 line2 text-center"},_a={class:"mb-2"},wa={class:"flex justify-content-center"},xa=["src","alt"],ka={class:"flex align-items-center gap-2"},$a=["src","alt"],Ta={class:"flex align-items-center gap-3 ml-auto"},Sa={__name:"DishList",props:{rateDish:{type:Function,required:!0},likedItemsRef:Array,dislikedItemsRef:Array,tabIndex:Number,onlyVeg:Boolean},setup(r){const{t:i}=Le(),d=xe.dishDatas,D=ae(null),I=r,g=(l,m=!0)=>{if(!I.onlyVeg)return!0;if(m)return l.vegetable;if(l.subItems.length>0){for(const A of l.subItems)if(A.vegetable)return!0}else return l.dish.vegetable;return!1};tt(()=>{let l=J.getOrderMenuTab()[I.tabIndex];if(J.customDishAPI.customDishes.value.map(N=>N.name),J.getMenu().length==0){console.log("exit");return}D.value=d.value[A(d.value,l)].mainDishes,xe.showDishList(D.value);function A(N,P){for(const E in N)if(N[E].name==P)return E;console.error("Can not find tab index in menu")}});let _={rated:!1,id:null,like:0,rate:0};const U=l=>xe.dishDatas.value[l]?xe.dishDatas.value[l].quantity:0,h=l=>{if(!q())return!1;const m=l.quantity;let A=3;if(l.price>0&&(A=9),l.limit){const N=l.id,P=q(),E=(P.peopleType.adults+P.peopleType.children)*l.limit,Z=P.order.find(z=>z.dishid==N);let V=0;if(l.subitem)for(const z of l.subitem){V+=U(z);const j=P.order.find(ce=>ce.dishid==C(z));j&&(V+=j.quantity)}else V+=l.quantity,Z&&(V+=Z.quantity);return m>=A||E&&V>=E}return m>=A},C=l=>xe.dishDatas.value[l]?xe.dishDatas.value[l].id:0,q=()=>J.getTableValue(),c=l=>{let m="absolute origin-top-left mt-1 ml-1 border-round-lg pl-1 pr-1 text-xs text-white font-bold ";switch(l){case"new":m+="bg-red-600";break;case"recommended":case"special":m+="bg-orange-600";break;default:m+="bg-blue-600"}return m};function f(l){I.rateDish(_.id,_.like,_.rate,_.rated),X(l,_.rate,_.like),_.id=null,_.like=0,_.rate=0,_.rated=!1}const F=l=>{const m=I.likedItemsRef.indexOf(l);if(_.id=l.id,m!==-1)I.likedItemsRef.splice(m,1),_.like+=-1,_.rate+=-1,_.rated=!1;else{_.rated=!0,I.likedItemsRef.push(l);const A=I.dislikedItemsRef.indexOf(l);A!==-1?(I.dislikedItemsRef.splice(A,1),_.like+=1):(_.like+=1,_.rate+=1)}f(l)};function X(l,m=0,A=0){l.rates=(l.rates||0)+m,l.likes=(l.likes||0)+A}const ne=l=>{const m=I.dislikedItemsRef.indexOf(l);if(_.id=l.id,m!==-1)I.dislikedItemsRef.splice(m,1),_.rate+=-1,_.rated=!1;else{_.rated=!0,I.dislikedItemsRef.push(l);const A=I.likedItemsRef.indexOf(l);A!==-1?(I.likedItemsRef.splice(A,1),_.like+=-1):_.rate+=1}f(l)},ee=ae(!1),Q=ae({}),W=l=>{ee.value=!0,Q.value=l},H=l=>{l.target.src="/images/default.png"};function Y(l){v(l.target,300)}function b(l){v(l.target,110)}function v(l,m){const A=l.naturalWidth,N=l.naturalHeight,P=Math.min(A,m),E=P/A,Z=N*E;l.style.width=`${P}px`,l.style.height=`${Z}px`}return(l,m)=>(k(),L(fe,null,[u("div",Fr,[(k(!0),L(fe,null,$e(D.value,(A,N)=>{var P;return k(),L(fe,{key:N},[g(A,!1)?(k(),L("div",Ur,[u("div",Vr,[u("div",{class:Ce(["flex flex-row",A.subItems.length!==0?"flex-grow-1":""]),onClick:E=>W(A.dish)},[((P=A.dish.etiquette)==null?void 0:P.length)>0?(k(),L("div",{key:0,class:Ce(c(A.dish.etiquette))},B(w(i)("common.etiquette."+A.dish.etiquette)),3)):te("",!0),u("div",Wr,[u("img",{src:A.dish.image||"/images/default.png",alt:A.dish.name,class:"w-full h-full",style:{"object-fit":"cover"},onError:H,onLoad:b},null,40,Kr)]),u("div",Hr,[u("div",Yr,B(A.dish.name),1),u("div",null,[u("div",Qr,[u("div",Gr,[(k(),L(fe,null,$e(5,E=>u("i",{key:E,class:Ce(["pi invert-star",E<=Math.floor(A.dish.likes/A.dish.rates*5)?"pi-star-fill":E-.5<=A.dish.likes/A.dish.rates*5?"pi-star-half-fill":"pi-star"]),style:{color:"black"}},null,2)),64)),u("p",null,"("+B(A.dish.rates?A.dish.rates:0)+")",1)])])]),u("div",null,[u("p",Jr,B(A.dish.note),1)])])],10,jr),A.subItems.length==0?(k(),L("div",{key:0,class:Ce(["flex ml-2 mr-2 mb-2",Number(A.dish.price)>0?"justify-content-between":"justify-content-end"])},[!A.dish.discount&&Number(A.dish.price)>0?(k(),L("span",Xr,"â‚¬"+B(A.dish.price),1)):te("",!0),A.dish.discount?(k(),L("div",Zr,[u("span",ea,"â‚¬"+B(A.dish.dis_price),1),u("span",ta,"â‚¬"+B(A.dish.price),1),G(w(Ze),{severity:"danger",value:"-"+A.dish.discount+"%"},null,8,["value"])])):te("",!0),A.dish.soldout?te("",!0):(k(),L("div",na,[G(w(de),{icon:"pi pi-minus",rounded:"",disabled:A.dish.quantity<=0,onClick:E=>A.dish.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),u("span",ra,B(A.dish.quantity),1),G(w(de),{icon:"pi pi-plus",rounded:"",disabled:h(A.dish),onClick:E=>A.dish.quantity++,class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])),A.dish.soldout?(k(),L("div",aa,[G(w(Ze),{severity:"danger",value:l.$t("common.soldout")},null,8,["value"])])):te("",!0)],2)):te("",!0),A.subItems.length!==0?(k(!0),L(fe,{key:1},$e(A.subItems,(E,Z)=>(k(),L(fe,{key:"index"},[!E.disable&&g(E)?(k(),L("div",oa,[u("div",ia,[u("div",sa,[u("span",la,B(E.subname),1),!E.discount&&E.price!=="0.00"&&E.price!=="0"?(k(),L("span",ua,"â‚¬"+B(E.price),1)):te("",!0),E.discount?(k(),L("div",ca,[u("span",da,"â‚¬"+B(E.dis_price),1),u("span",fa,"â‚¬"+B(E.price),1),G(w(Ze),{severity:"danger",value:"-"+E.discount+"%"},null,8,["value"])])):te("",!0)]),E.soldout?te("",!0):(k(),L("div",va,[G(w(de),{icon:"pi pi-minus",rounded:"",disabled:E.quantity<=0,onClick:V=>E.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),u("span",pa,B(E.quantity),1),G(w(de),{icon:"pi pi-plus",rounded:"",onClick:V=>E.quantity++,class:"w-2rem h-2rem",disabled:h(E)},null,8,["onClick","disabled"])])),E.soldout?(k(),L("div",ha,[G(w(Ze),{severity:"danger",value:l.$t("common.soldout")},null,8,["value"])])):te("",!0)])])):te("",!0)],64))),128)):te("",!0)])])):te("",!0)],64)}),128))]),G(w(We),{visible:ee.value,"onUpdate:visible":m[2]||(m[2]=A=>ee.value=A),modal:"",header:" ",style:ht([{width:"23rem"},{width:"80vw","max-width":"700px"}]),pt:{header:{class:"p-1"}}},{default:se(()=>[u("div",ma,[u("span",ba,B(Q.value.name),1)]),u("div",ga,[u("span",ya,B(Q.value.note),1)]),u("div",_a,[u("div",wa,[u("img",{class:"w-full h-auto object-contain",src:Q.value.image,alt:Q.value.name,onError:H,onLoad:Y},null,40,xa)])]),u("div",ka,[(k(!0),L(fe,null,$e(Q.value.allergies,(A,N)=>(k(),L("img",{src:"images/"+A+".png",alt:A,class:"w-2rem h-2rem border-round flex-shrink-0",style:{"object-fit":"cover","min-width":"2rem"}},null,8,$a))),256)),u("div",Ta,[u("button",{onClick:m[0]||(m[0]=A=>F(Q.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[u("i",{class:Ce(["pi pi-thumbs-up text-xl",I.likedItemsRef.includes(Q.value)?"text-green-500":"text-gray-400"])},null,2)]),u("button",{onClick:m[1]||(m[1]=A=>ne(Q.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[u("i",{class:Ce(["pi pi-thumbs-down text-xl",I.dislikedItemsRef.includes(Q.value)?"text-red-500":"text-gray-400"])},null,2)])])])]),_:1},8,["visible"])],64))}},Ia=ot(Sa,[["__scopeId","data-v-e1c6bd92"]]),Da={key:0,class:"text-3xl font-bold"},Ca={class:"flex flex-column gap-3 p-1"},Aa={key:0,class:"flex flex-column gap-1"},Ea={key:0,class:"m-0"},Na={key:0,class:"m-0"},Ra={class:"flex justify-content-between gap-4 mt-1"},Ba={class:"flex align-items-center gap-2"},La=["src","alt"],Pa={class:"flex-grow-1 min-width-0 max-w-18rem"},Oa={class:"flex flex-column gap-1"},Ma={class:"flex align-items-center gap-2"},za={class:"text-xl font-bold line1 whitespace-nowrap overflow-hidden text-overflow-ellipsis",style:{"max-width":"20rem"}},qa={class:"flex align-items-end gap-1"},Fa={key:0,class:"text-xl font-bold text-primary"},Ua={key:1,class:"text-xl font-bold text-primary"},Va={key:2,class:"text-sm text-color-secondary"},ja={key:0,class:"text-xs text-primary"},Wa={class:"flex-shrink-0 flex flex-wrap justify-content-between align-items-center gap-1"},Ka={class:"flex flex-wrap justify-content-between align-content-center"},Ha={class:"flex align-items-center gap-1"},Ya={class:"w-2rem text-center"},Qa={key:1,class:"flex flex-column gap-2 mt-2"},Ga={for:"in_label"},Ja={for:"in_label"},Xa={class:"bottom-0 left-0 mt-2"},Za={class:"text-2xl font-bold"},eo={class:"text-2xl font-bold text-primary pl-2"},to={class:"flex justify-content-between"},no={__name:"Cart",props:{checkout:{type:Function,required:!0},isTakeaway:Boolean},setup(r,{expose:i}){const{locale:d}=Le(),D=on(),{t:I}=Le(),g=Ie.cartDishs,_=ae([]),U=ae(),h=ae(),C=ae(!1),q=ae(!1),c=ae(!0),f=ae(""),F=ae("");function X(V,z,j){let ce="";const re=d.value,ve=J.customDishAPI.getCustomDishByName(V);for(const ye of j){const _e=ve.types[z].dishes.find(De=>De.dishid===ye.id)[`name_${re}`];ce=ce+_e+"/"}return ce}function ne(V,z){const j=d.value;return J.customDishAPI.getCustomDishByName(V).types[z][`typeName_${j}`]}const ee=(V,z)=>{const j=_.value[V].quantity+z;j>=0&&(_.value[V].quantity=j)};function Q(V){V&&U.value&&(U.value.dishNote=h.value?h.value:void 0),q.value=!1}function W(){h.value&&(h.value=void 0),U.value&&(U.value=void 0)}function H(V){U.value=V,h.value=U.value.dishNote?U.value.dishNote:void 0,q.value=!0}const Y=r;i({showDishList:V=>{C.value=!0,_.value.length=0;for(let z=0;z<V.length;z++)_.value.push(V[z]);c.value=_.value.length==0&&g.length==0}});function v(V){Ie.removeItem(V)}function l(){Y.isTakeaway?m():A()}function m(){const V=[];g.value.forEach(z=>{V.push(z)}),_.value.forEach(z=>{z.quantity>0&&V.push(z)}),V.length<=0?Te.show_warn(I("notification.select_at_least_one")):(C.value=!1,D.push({path:"/paymentPage"}))}function A(){Y.checkout({name:f.value,note:F.value},V=>{V.success&&(g.value.forEach(z=>{z.dishNote=void 0}),_.value.forEach(z=>{z.dishNote=void 0}),F.value="",xe.cleanDishDataQty(),Be.deleteCookie("cartDish_normal"),Ie.cleanAll(),Be.deleteCookie("cartDish_custom"))})&&(C.value=!1)}function N(V){return V.subname!=""&&V.subname!="Default Title"?V.name+" "+V.subname:V.name}function P(){let V=0;return g.value.forEach(z=>{V+=z.discount?(z.dis_price?z.dis_price:0)*z.count:(z.price?z.price:0)*z.count}),_.value.forEach(z=>{V+=z.discount?(z.dis_price?z.dis_price:0)*z.quantity:(z.price?z.price:0)*z.quantity}),"â‚¬"+V.toFixed(2)}const E=V=>{V.target.src="/images/default.png"},Z=V=>{const z=V.quantity;let j=3;return V.price>0&&(j=9),z>=j};return(V,z)=>(k(),L(fe,null,[G(w(We),{class:"bg-primary-reverse text-sm md:text-lg lg:text-xl",visible:C.value,"onUpdate:visible":z[2]||(z[2]=j=>C.value=j),modal:"",header:V.$t("common.cart"),style:ht([{backgroundColor:"rgba(250, 250, 250, 1)",height:"100%",minWidth:"24rem"},{width:"80vw","max-width":"700px"}]),dismissableMask:!0},{footer:se(()=>[u("div",Xa,[u("span",Za,B(V.$t("common.total"))+": ",1),u("span",eo,B(P()),1),G(w(de),{icon:r.isTakeaway?"pi pi-wallet":"pi pi-plus",class:"p-button-success p-button-rounded ml-3",onClick:l,label:r.isTakeaway?w(I)("common.pay"):w(I)("common.send")},null,8,["icon","label"])])]),default:se(()=>[c.value?(k(),L("h2",Da,"Cart is empty.")):te("",!0),u("div",Ca,[(k(!0),L(fe,null,$e(w(g),(j,ce)=>(k(),ge(w(vr),{style:{overflow:"hidden"},key:ce},{title:se(()=>[je(B(V.$t(`common.${j.name}`)),1)]),subtitle:se(()=>[je(B(V.$t("common.price"))+" : "+B(j.price)+"â‚¬",1)]),content:se(()=>[w(J).customDishAPI.customDishes.value.find(re=>re.name==j.name)?(k(),L("div",Aa,[(k(!0),L(fe,null,$e(j.notesAndId,(re,ve)=>(k(),L("div",null,[j.notesAndId[ve].length!==0?(k(),L("span",Ea,B(ne(j.name,ve))+": "+B(X(j.name,ve,re)),1)):te("",!0)]))),256)),u("div",null,[j.dishNote?(k(),L("span",Na,B(V.$t("common.note"))+": "+B(j.dishNote),1)):te("",!0)])])):te("",!0)]),footer:se(()=>[u("div",Ra,[r.isTakeaway?te("",!0):(k(),ge(w(de),{key:0,label:w(I)("common.edit")+" "+w(I)("common.note"),severity:"contrast",onClick:re=>H(j)},null,8,["label","onClick"])),G(w(de),{label:w(I)("common.remove"),severity:"danger",onClick:re=>v(j)},null,8,["label","onClick"])])]),_:2},1024))),128)),(k(!0),L(fe,null,$e(_.value,(j,ce)=>(k(),L("div",{key:ce,class:"p-2 border-round shadow-1 transition-all transition-duration-200 hover:shadow-3 flex flex-column gap-1"},[u("div",Ba,[u("img",{src:j.image,alt:j.name,class:"w-4rem h-4rem border-round flex-shrink-0",onError:E,style:{"object-fit":"cover","min-width":"4rem"}},null,40,La),u("div",Pa,[u("div",Oa,[u("div",Ma,[u("span",za,B(N(j)),1)])]),u("div",qa,[j.discount?(k(),L("span",Fa,"â‚¬"+B(Number(j.dis_price?j.dis_price:0).toFixed(2)),1)):te("",!0),j.discount?te("",!0):(k(),L("span",Ua,"â‚¬"+B(Number(j.price?j.price:0).toFixed(2)),1)),j.price>0?(k(),L("span",Va,"/uni.")):te("",!0)])])]),u("div",null,[j.dishNote?(k(),L("span",ja,B(w(I)("common.note")+": "+j.dishNote),1)):te("",!0)]),u("div",Wa,[u("div",Ka,[r.isTakeaway?te("",!0):(k(),ge(w(de),{key:0,label:w(I)("common.edit")+" "+w(I)("common.note"),severity:"contrast",class:"w-3.5rem h-2rem",onClick:re=>H(j)},null,8,["label","onClick"]))]),u("div",Ha,[G(w(de),{icon:"pi pi-minus",rounded:"",disabled:j.quantity<=0,onClick:re=>ee(ce,-1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),u("span",Ya,B(j.quantity),1),G(w(de),{icon:"pi pi-plus",rounded:"",disabled:Z(j),onClick:re=>ee(ce,1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])])]))),128))]),r.isTakeaway?te("",!0):(k(),L("div",Qa,[G(w(Xt),{variant:"in"},{default:se(()=>[G(w(un),{id:"in_label",modelValue:f.value,"onUpdate:modelValue":z[0]||(z[0]=j=>f.value=j),variant:"filled",maxlength:"20"},null,8,["modelValue"]),u("label",Ga,B(w(I)("common.name")),1)]),_:1}),G(w(Xt),{variant:"in"},{default:se(()=>[G(w(Jt),{id:"in_label",class:"min-w-full",rows:"5",modelValue:F.value,"onUpdate:modelValue":z[1]||(z[1]=j=>F.value=j),variant:"filled",maxlength:"200"},null,8,["modelValue"]),u("label",Ja,B(w(I)("common.observation")),1)]),_:1})]))]),_:1},8,["visible","header"]),G(w(We),{visible:q.value,"onUpdate:visible":z[6]||(z[6]=j=>q.value=j),header:w(I)("common.note"),onHide:z[7]||(z[7]=j=>W()),modal:"",dismissableMask:!0},{default:se(()=>[G(w(Jt),{modelValue:h.value,"onUpdate:modelValue":z[3]||(z[3]=j=>h.value=j),rows:"5",cols:"30",placeholder:w(I)("common.edit")+" "+w(I)("common.note")+"...",maxlength:"100"},null,8,["modelValue","placeholder"]),u("div",to,[G(w(de),{label:w(I)("common.cancel"),severity:"danger",onClick:z[4]||(z[4]=j=>Q(!1))},null,8,["label"]),G(w(de),{label:w(I)("common.save"),severity:"primary",size:"sm",onClick:z[5]||(z[5]=j=>Q(!0))},null,8,["label"])])]),_:1},8,["visible","header"])],64))}},ro=ot(no,[["__scopeId","data-v-0e3055df"]]);var ao=bt`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,oo={root:"p-overlaybadge"},io=Ke.extend({name:"overlaybadge",style:ao,classes:oo}),so={name:"OverlayBadge",extends:cn,style:io,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},vn={name:"OverlayBadge",extends:so,inheritAttrs:!1,components:{Badge:cn}};function lo(r,i,d,D,I,g){var _=tr("Badge");return k(),L("div",me({class:r.cx("root")},r.ptmi("root")),[Me(r.$slots,"default"),G(_,me(r.$props,{pt:r.ptm("pcBadge")}),null,16,["pt"])],16)}vn.render=lo;ae([]);ae("iniImages()");const uo={class:"m-3"},co={class:"flex flex-column gap-2"},fo={class:"w-full flex justify-content-center"},vo={key:0,class:"max-w-19rem"},po=["src"],ho={style:{width:"300px",height:"300px",background:"url(/boxImage/box.png)"}},mo={key:0,class:"flex align-items-center justify-content-center text-4xl font-bold text-white w-full h-full"},bo={key:1,class:"grid m-0 p-2"},go=["onClick"],yo={class:"flex align-items-center justify-content-center font-bold m-0 p-0",style:{width:"94px",height:"94px"}},_o=["src"],wo={class:"flex flex-wrap justify-content-between align-items-center m-1"},xo={class:"flex gap-1 align-items-center"},ko={key:0},$o={class:"font-bold mb-2"},To={key:1,class:"flex justify-content-between gap-2 mt-3"},So={class:"font-bold mb-2"},Io={class:"flex mr-2"},Do={class:"w-3rem text-xl text-center"},Co={class:"font-bold block mb-2"},Ao={class:"flex flex-wrap"},Eo={key:2,class:"flex flex-wrap gap-2 mt-3"},No={class:"font-bold block mb-2"},Ro={class:"font-bold block mb-2 text-center"},Bo={class:"flex flex-wrap gap-2 mt-3"},Lo={__name:"CustomDish",props:{currentCustomDish:Object,tabindex:Number},emits:["typeClick"],setup(r,{emit:i}){const{locale:d}=Le(),D=r,I=nr(),{t:g}=Le(),_=ae(null);pt(()=>D.currentCustomDish,N=>{N&&(_.value=N)},{immediate:!0,deep:!0});const U=Oe(()=>_.boxImages),h=ae(0),C=Oe(()=>{var P;if(_.value==null)return 0;let N=(P=_.value)==null?void 0:P.initialPrice;for(const E of _.value.types??[])for(const Z of E.dishes??[])Z.selected&&(N+=Z.price);return Number(N).toFixed(2)}),q=i,c=ae(null),f=Oe(()=>{const N=d.value,P=`title_${N}`,E=`description_${N}`;return _.value==null?{}:_.value.descriptions.map(Z=>({title:Z[P],descriptions:Z.descriptions.map(V=>V[E]),image:Z==null?void 0:Z.image}))}),F=Oe(()=>{var E,Z;const N=Number(((E=_.value)==null?void 0:E.like)??0),P=Number(((Z=_.value)==null?void 0:Z.rate)??0);return P?N/P*5:0});function X(N,P){const E=d.value;return N[`${P}_${E}`]}function ne(N,P,E){const Z=N[P];if(Z.selected){Z.selected=!1;return}else{const z=N.filter(j=>j.selected).length;if(E===1){l(N),Z.selected=!0;return}z<E&&(Z.selected=!0)}}function ee(N,P,E){const Z=N.dishes;q("typeClick",N,P,Z[P].selected),ne(Z,P,E)}function Q(N){return N.selected}function W(){if(!m(_.value.types))return;const N=Y(_.value.types),P=b(_.value.types);Ie.addItem({dishid:-1,name:_.value.name,category:D.currentCustomDish.category,count:h.value!==0?h.value:1,price:C.value,notes:N,notesAndId:P}),console.log("CART: ",Ie.cartDishs),v(_.value.types),Te.show({severity:"info",summary:"info",detail:g("customDishBibimbapVue.addToCartSuccessBibimbap")})}function H(N){return!N||!N.dishes?"":N.dishes.filter(E=>E.selected).map(E=>E.name).join(",")}function Y(N){return N?N.map(P=>H(P)):[]}function b(N){return N?N.map(P=>P.dishes?P.dishes.filter(E=>E.selected).map(E=>({id:E.dishid,name:E.name})):[]):[]}function v(N){N&&N.forEach(P=>{P.dishes&&P.dishes.forEach(E=>{E.selected=!1})})}function l(N){N.forEach(P=>P.selected=!1)}function m(N){if(_.value.options.quantity&&h.value<=0)return Te.show({severity:"warn",detail:g("notification.quantity_must_be_positive")}),!1;for(const P of N)if(P.dishes.filter(Z=>Z.selected).length<P.minQuantity){const Z=P.typeName;return Te.show({severity:"warn",detail:g("notification.select_type_of",{name:Z})}),!1}return!0}function A(N){N?J.customDishAPI.like(_.value.id)&&(c.value="like",I.add({severity:"success",summary:g("common.success"),detail:g("common.rate")+" "+g("common.success"),life:750})):J.customDishAPI.unLike(_.value.id)&&(c.value="unlike",I.add({severity:"success",summary:g("common.success"),detail:g("common.rate")+" "+g("common.success"),life:750}))}return(N,P)=>{var E,Z,V,z,j,ce;return k(),L("div",uo,[u("div",co,[G(w(Mt),{class:"w-full max-w-xl mx-auto"},{default:se(()=>[(k(!0),L(fe,null,$e(f.value,(re,ve)=>(k(),ge(w(Lt),{key:ve,value:ve},{default:se(()=>[G(w(Pt),null,{default:se(()=>[je(B(re.title),1)]),_:2},1024),G(w(Ot),null,{default:se(()=>{var ye;return[(k(!0),L(fe,null,$e(re.descriptions,(_e,De)=>(k(),L("p",{key:De},B(_e),1))),128)),u("div",fo,[(ye=re.image)!=null&&ye.src?(k(),L("div",vo,[u("img",{src:re.image.src,class:"w-full"},null,8,po)])):te("",!0)])]}),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),((Z=(E=_.value)==null?void 0:E.value)==null?void 0:Z.name)==="MY BOX"?(k(),ge(w(Mt),{key:0,class:"w-full max-w-xl mx-auto"},{default:se(()=>[G(w(Lt),{value:"0"},{default:se(()=>[G(w(Pt),null,{default:se(()=>[je(" ðŸ¥© "+B(N.$t("common.showMybox")),1)]),_:1}),G(w(Ot),null,{default:se(()=>[u("div",ho,[N.isEmptyArray(U.value)?(k(),L("div",mo,B(N.$t("common.myboxAlarm")),1)):te("",!0),N.isEmptyArray(U.value)?te("",!0):(k(),L("div",bo,[(k(!0),L(fe,null,$e(U.value,re=>(k(),L("div",{class:"col-4 p-0",onClick:ve=>N.imageSelectAction(re)},[u("div",yo,[re?(k(),L("img",{key:0,class:"m-0 p-0",src:N.imagePath(re),style:{width:"82px",height:"82px"}},null,8,_o)):te("",!0)])],8,go))),256))]))])]),_:1})]),_:1})]),_:1})):te("",!0)]),u("div",wo,[u("div",xo,[(k(),L(fe,null,$e(5,re=>u("i",{key:re,class:Ce(["pi invert-star",re<=Math.floor(F.value)?"pi-star-fill":re-.5<=F.value?"pi-star-half":"pi-star"]),style:{color:"black"}},null,2)),64)),u("p",null,"("+B((V=_.value)!=null&&V.rate?_.value.rate:0)+")",1)]),u("div",null,[G(w(de),{text:"",icon:"pi pi-thumbs-up",severity:c.value==="like"?"success":"",onClick:P[0]||(P[0]=re=>A(!0))},null,8,["severity"]),G(w(de),{text:"",icon:"pi pi-thumbs-down",severity:c.value==="unlike"?"danger":"",onClick:P[1]||(P[1]=re=>A(!1))},null,8,["severity"])])]),(z=_.value)!=null&&z.options.extraInfo?(k(),L("div",ko,[u("label",$o,B(_.value.options.extraInfo),1)])):te("",!0),(j=_.value)!=null&&j.options.quantity?(k(),L("div",To,[u("div",null,[u("label",So,B(N.$t("common.quantity"))+" / "+B(N.$t("common.pieces")),1)]),u("div",Io,[G(w(de),{icon:"pi pi-minus",disabled:h.value<=0,onClick:P[2]||(P[2]=re=>{var ve;return h.value-=(ve=_.value)==null?void 0:ve.options.quantitySetp}),class:"w-2rem h-2rem"},null,8,["disabled"]),u("span",Do,B(h.value),1),G(w(de),{icon:"pi pi-plus",disabled:h.value>=_.value.options.maxQuantity,onClick:P[3]||(P[3]=re=>{var ve;return h.value+=(ve=_.value)==null?void 0:ve.options.quantitySetp}),class:"w-2rem h-2rem"},null,8,["disabled"])])])):te("",!0),(k(!0),L(fe,null,$e((ce=_.value)==null?void 0:ce.types,(re,ve)=>(k(),L("div",{key:re.id},[mt(u("div",null,[u("label",Co,B(ve+1)+". "+B(X(re,"typeName")),1),u("div",Ao,[(k(!0),L(fe,null,$e(re.dishes,(ye,_e)=>(k(),ge(w(de),{key:_e,onClick:De=>ee(re,_e,h.value==0?re.maxQuantity:re.maxQuantity*h.value),class:Ce([{"p-button-primary":Q(ye),"p-button-outlined":!Q(ye)},"m-1"])},{default:se(()=>[u("p",{class:Ce({"text-gray-700":!Q(ye)})},B(X(ye,"name")),3)]),_:2},1032,["onClick","class"]))),128))])],512),[[rr,re.enable]])]))),128)),r.currentCustomDish.initialPrice!==0?(k(),L("div",Eo,[u("label",No,B(N.$t("common.price"))+":",1),u("label",Ro,B(C.value+"â‚¬"),1)])):te("",!0),u("div",Bo,[G(w(de),{icon:"pi pi-shopping-cart",onClick:P[4]||(P[4]=re=>W()),label:N.$t("common.addToCart"),class:"m-3",severity:"primary",raised:""},null,8,["label"])])])}}},Po=ot(Lo,[["__scopeId","data-v-e37fc872"]]);var Oo=bt`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
    }

    .p-tabs-scrollable > .p-tablist {
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`,Mo={root:function(i){var d=i.props;return["p-tabs p-component",{"p-tabs-scrollable":d.scrollable}]}},zo=Ke.extend({name:"tabs",style:Oo,classes:Mo}),qo={name:"BaseTabs",extends:at,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:zo,provide:function(){return{$pcTabs:this,$parentInstance:this}}},pn={name:"Tabs",extends:qo,inheritAttrs:!1,emits:["update:value"],data:function(){return{d_value:this.value}},watch:{value:function(i){this.d_value=i}},methods:{updateValue:function(i){this.d_value!==i&&(this.d_value=i,this.$emit("update:value",i))},isVertical:function(){return this.orientation==="vertical"}}};function Fo(r,i,d,D,I,g){return k(),L("div",me({class:r.cx("root")},r.ptmi("root")),[Me(r.$slots,"default")],16)}pn.render=Fo;var Uo={root:"p-tablist",content:function(i){var d=i.instance;return["p-tablist-content",{"p-tablist-viewport":d.$pcTabs.scrollable}]},tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},Vo=Ke.extend({name:"tablist",classes:Uo}),jo={name:"BaseTabList",extends:at,props:{},style:Vo,provide:function(){return{$pcTabList:this,$parentInstance:this}}},hn={name:"TabList",extends:jo,inheritAttrs:!1,inject:["$pcTabs"],data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0}},resizeObserver:void 0,watch:{showNavigators:function(i){i?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var i=this;setTimeout(function(){i.updateInkBar()},150),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver())},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver()},methods:{onScroll:function(i){this.showNavigators&&this.updateButtonState(),i.preventDefault()},onPrevButtonClick:function(){var i=this.$refs.content,d=this.getVisibleButtonWidths(),D=At(i)-d,I=Math.abs(i.scrollLeft),g=D*.8,_=I-g,U=Math.max(_,0);i.scrollLeft=Qt(i)?-1*U:U},onNextButtonClick:function(){var i=this.$refs.content,d=this.getVisibleButtonWidths(),D=At(i)-d,I=Math.abs(i.scrollLeft),g=D*.8,_=I+g,U=i.scrollWidth-D,h=Math.min(_,U);i.scrollLeft=Qt(i)?-1*h:h},bindResizeObserver:function(){var i=this;this.resizeObserver=new ResizeObserver(function(){return i.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var i;(i=this.resizeObserver)===null||i===void 0||i.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var i=this.$refs,d=i.content,D=i.inkbar,I=i.tabs;if(D){var g=Bt(d,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(D.style.height=or(g)+"px",D.style.top=ut(g).top-ut(I).top+"px"):(D.style.width=ir(g)+"px",D.style.left=ut(g).left-ut(I).left+"px")}},updateButtonState:function(){var i=this.$refs,d=i.list,D=i.content,I=D.scrollTop,g=D.scrollWidth,_=D.scrollHeight,U=D.offsetWidth,h=D.offsetHeight,C=Math.abs(D.scrollLeft),q=[At(D),ar(D)],c=q[0],f=q[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=I!==0,this.isNextButtonEnabled=d.offsetHeight>=h&&parseInt(I)!==_-f):(this.isPrevButtonEnabled=C!==0,this.isNextButtonEnabled=d.offsetWidth>=U&&parseInt(C)!==g-c)},getVisibleButtonWidths:function(){var i=this.$refs,d=i.prevButton,D=i.nextButton,I=0;return this.showNavigators&&(I=((d==null?void 0:d.offsetWidth)||0)+((D==null?void 0:D.offsetWidth)||0)),I}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.scrollable&&this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},dataP:function(){return gt({scrollable:this.$pcTabs.scrollable})}},components:{ChevronLeftIcon:mr,ChevronRightIcon:br},directives:{ripple:sn}},Wo=["data-p"],Ko=["aria-label","tabindex"],Ho=["data-p"],Yo=["aria-orientation"],Qo=["aria-label","tabindex"];function Go(r,i,d,D,I,g){var _=ln("ripple");return k(),L("div",me({ref:"list",class:r.cx("root"),"data-p":g.dataP},r.ptmi("root")),[g.showNavigators&&I.isPrevButtonEnabled?mt((k(),L("button",me({key:0,ref:"prevButton",type:"button",class:r.cx("prevButton"),"aria-label":g.prevButtonAriaLabel,tabindex:g.$pcTabs.tabindex,onClick:i[0]||(i[0]=function(){return g.onPrevButtonClick&&g.onPrevButtonClick.apply(g,arguments)})},r.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(k(),ge(et(g.templates.previcon||"ChevronLeftIcon"),me({"aria-hidden":"true"},r.ptm("prevIcon")),null,16))],16,Ko)),[[_]]):te("",!0),u("div",me({ref:"content",class:r.cx("content"),onScroll:i[1]||(i[1]=function(){return g.onScroll&&g.onScroll.apply(g,arguments)}),"data-p":g.dataP},r.ptm("content")),[u("div",me({ref:"tabs",class:r.cx("tabList"),role:"tablist","aria-orientation":g.$pcTabs.orientation||"horizontal"},r.ptm("tabList")),[Me(r.$slots,"default"),u("span",me({ref:"inkbar",class:r.cx("activeBar"),role:"presentation","aria-hidden":"true"},r.ptm("activeBar")),null,16)],16,Yo)],16,Ho),g.showNavigators&&I.isNextButtonEnabled?mt((k(),L("button",me({key:1,ref:"nextButton",type:"button",class:r.cx("nextButton"),"aria-label":g.nextButtonAriaLabel,tabindex:g.$pcTabs.tabindex,onClick:i[2]||(i[2]=function(){return g.onNextButtonClick&&g.onNextButtonClick.apply(g,arguments)})},r.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(k(),ge(et(g.templates.nexticon||"ChevronRightIcon"),me({"aria-hidden":"true"},r.ptm("nextIcon")),null,16))],16,Qo)),[[_]]):te("",!0)],16,Wo)}hn.render=Go;var Jo={root:function(i){var d=i.instance,D=i.props;return["p-tab",{"p-tab-active":d.active,"p-disabled":D.disabled}]}},Xo=Ke.extend({name:"tab",classes:Jo}),Zo={name:"BaseTab",extends:at,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:Xo,provide:function(){return{$pcTab:this,$parentInstance:this}}},mn={name:"Tab",extends:Zo,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(i){switch(i.code){case"ArrowRight":this.onArrowRightKey(i);break;case"ArrowLeft":this.onArrowLeftKey(i);break;case"Home":this.onHomeKey(i);break;case"End":this.onEndKey(i);break;case"PageDown":this.onPageDownKey(i);break;case"PageUp":this.onPageUpKey(i);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(i);break}},onArrowRightKey:function(i){var d=this.findNextTab(i.currentTarget);d?this.changeFocusedTab(i,d):this.onHomeKey(i),i.preventDefault()},onArrowLeftKey:function(i){var d=this.findPrevTab(i.currentTarget);d?this.changeFocusedTab(i,d):this.onEndKey(i),i.preventDefault()},onHomeKey:function(i){var d=this.findFirstTab();this.changeFocusedTab(i,d),i.preventDefault()},onEndKey:function(i){var d=this.findLastTab();this.changeFocusedTab(i,d),i.preventDefault()},onPageDownKey:function(i){this.scrollInView(this.findLastTab()),i.preventDefault()},onPageUpKey:function(i){this.scrollInView(this.findFirstTab()),i.preventDefault()},onEnterKey:function(i){this.changeActiveValue(),i.preventDefault()},findNextTab:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=d?i:i.nextElementSibling;return D?ct(D,"data-p-disabled")||ct(D,"data-pc-section")==="activebar"?this.findNextTab(D):Bt(D,'[data-pc-name="tab"]'):null},findPrevTab:function(i){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=d?i:i.previousElementSibling;return D?ct(D,"data-p-disabled")||ct(D,"data-pc-section")==="activebar"?this.findPrevTab(D):Bt(D,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.tabs.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.tabs.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(i,d){lr(d),this.scrollInView(d)},scrollInView:function(i){var d;i==null||(d=i.scrollIntoView)===null||d===void 0||d.call(i,{block:"nearest"})}},computed:{active:function(){var i;return sr((i=this.$pcTabs)===null||i===void 0?void 0:i.d_value,this.value)},id:function(){var i;return"".concat((i=this.$pcTabs)===null||i===void 0?void 0:i.$id,"_tab_").concat(this.value)},ariaControls:function(){var i;return"".concat((i=this.$pcTabs)===null||i===void 0?void 0:i.$id,"_tabpanel_").concat(this.value)},attrs:function(){return me(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}},dataP:function(){return gt({active:this.active})}},directives:{ripple:sn}};function ei(r,i,d,D,I,g){var _=ln("ripple");return r.asChild?Me(r.$slots,"default",{key:1,dataP:g.dataP,class:Ce(r.cx("root")),active:g.active,a11yAttrs:g.a11yAttrs,onClick:g.onClick}):mt((k(),ge(et(r.as),me({key:0,class:r.cx("root"),"data-p":g.dataP,onClick:g.onClick},g.attrs),{default:se(function(){return[Me(r.$slots,"default")]}),_:3},16,["class","data-p","onClick"])),[[_]])}mn.render=ei;const ti={class:"fixed top-0 left-0 w-full bg-primary-reverse",style:{"z-index":"10"}},ni={class:"grid mt-1 ml-1"},ri={class:"h-3rem w-3rem flex align-items-center"},ai=["src"],oi={class:"flex align-items-center"},ii={key:0,class:"text-color font-bold p-1"},si={key:1,class:"text-color font-bold p-1"},li={class:"card flex mr-3 flex align-items-center",style:{"margin-left":"auto"}},ui={style:{display:"flex","align-items":"center"}},ci={style:{"flex-grow":"1",width:"0",overflow:"hidden"}},di={class:"mt-2"},fi={class:"flex justify-content-end mt-2"},vi={class:"flex inline-flex items-center justify-center gap-2"},pi={class:"flex align-items-center"},hi={class:"flex flex-column"},mi={class:"text-sm p-2"},bi={class:"text-sm p-2"},gi={class:"flex items-center gap-4 mb-4 p-2"},yi={class:"flex flex-column gap-3"},_i={__name:"HeaderTabs",props:{types:Array,typeIndex:Number,tableId:String,tabItems:Array},emits:["clickType","switchToWelcome"],setup(r,{emit:i}){const{t:d}=Le(),D=ae(!1),I=ae("");function g(){return J.getTable()}tt(async()=>{I.value=await ur()});const _=ae(),U=Oe(()=>[{label:d("common.options"),items:[{label:d("common.pay"),icon:"pi pi-wallet",command:()=>{X()}},{label:d("common.call"),icon:"pi pi-user-plus",command:()=>{J.send_cmd(g(),{cmd:"call"},W=>{W.success?Te.show_info(d("notification.call_msg")):Te.show_warn(W.data)})}}]}]),h=W=>{_.value.toggle(W)},C=W=>{q.value.toggle(W)},q=ae(),c=ae(!1),f=ae(),F=ae();function X(){c.value=!0}function ne(){W(f.value)?J.send_cmd(g(),{cmd:"pay",nif:f.value,note:F.value},H=>{H.success?(Te.show_info(d("notification.pay_msg")),c.value=!1):Te.show_error(d("common.failed"))}):Te.show_warn(d("notification.cancel_msg"));function W(H){return!H||H.toString().length===9||H.toString().length===0}}function ee(){F.value&&(F.value=void 0)}function Q(){D.value=!0}return(W,H)=>(k(),L(fe,null,[u("div",ti,[u("div",ni,[u("div",ri,[u("img",{src:I.value,class:"h-full w-full",onClick:H[0]||(H[0]=()=>W.$emit("switchToWelcome"))},null,8,ai)]),u("div",oi,[r.tableId?(k(),L("p",ii,B(W.$t("common.table"))+": "+B(r.tableId),1)):te("",!0),r.tableId?te("",!0):(k(),L("p",si,B(W.$t("common.takeAway")),1))]),u("div",li,[r.tableId?(k(),ge(w(de),{key:0,icon:"pi pi-bell",rounded:"","aria-label":"Filter",onClick:h,"aria-haspopup":"true","aria-controls":"overlay_menu"})):(k(),ge(w(de),{key:1,icon:"pi pi-question",rounded:"",onClick:Q})),G(w(Zt),{ref_key:"menu",ref:_,id:"overlay_menu",model:U.value,popup:!0},null,8,["model"])])]),u("div",ui,[u("div",null,[G(w(de),{icon:"pi pi-bars",variant:"text",rounded:"","aria-label":"Filter",onClick:C,"aria-haspopup":"true","aria-controls":"tab_menu"}),G(w(Zt),{ref_key:"tabMenu",ref:q,id:"tab_menu",model:r.tabItems,popup:!0},null,8,["model"])]),u("div",ci,[G(w(pn),{value:r.typeIndex,scrollable:"",showNavigators:!1},{default:se(()=>[G(w(hn),null,{default:se(()=>[(k(!0),L(fe,null,$e(r.types,(Y,b)=>(k(),ge(w(mn),{value:b,onClick:()=>W.$emit("clickType",b),class:"text-sm md:text-lg lg:text-xl"},{default:se(()=>[je(B(Y),1)]),_:2},1032,["value","onClick"]))),256))]),_:1})]),_:1},8,["value"])])])]),G(w(We),{visible:c.value,"onUpdate:visible":H[4]||(H[4]=Y=>c.value=Y),header:"ç»“è´¦",class:"flex flex-column",modal:!0,dismissableMask:!0,onHide:ee},{default:se(()=>[u("div",null,[H[6]||(H[6]=u("label",null,"NIF:",-1)),G(w(gr),{modelValue:f.value,"onUpdate:modelValue":H[1]||(H[1]=Y=>f.value=Y),inputId:"withoutgrouping",useGrouping:!1,fluid:"",class:"w-full m-1"},null,8,["modelValue"])]),u("div",di,[u("label",null,B(W.$t("common.note"))+":",1),G(w(un),{type:"text",modelValue:F.value,"onUpdate:modelValue":H[2]||(H[2]=Y=>F.value=Y),class:"w-full m-1"},null,8,["modelValue"])]),u("div",fi,[G(w(de),{label:w(d)("common.send"),onClick:H[3]||(H[3]=Y=>ne())},null,8,["label"])])]),_:1},8,["visible"]),G(w(We),{visible:D.value,"onUpdate:visible":H[5]||(H[5]=Y=>D.value=Y),modal:"",dismissableMask:"",class:"h-full",style:{width:"90vw",maxWidth:"40rem",minWidth:"20rem"},draggable:!1},{header:se(()=>[u("div",vi,[G(w(fn),{icon:"pi pi-question",shape:"circle"}),u("span",pi,B(w(d)("takeawayHelper.dialogTitle")),1)])]),default:se(()=>[u("div",hi,[u("span",mi,B(w(d)("takeawayHelper.introduction")),1),u("span",bi,B(w(d)("takeawayHelper.note_t"))+" "+B(w(d)("takeawayHelper.note_1")),1),u("div",gi,[G(w(Mt),{class:"w-full max-w-xl mx-auto"},{default:se(()=>[G(w(Lt),{value:"0"},{default:se(()=>[G(w(Pt),{class:"text-sm"},{default:se(()=>[je(B(w(d)("takeawayHelper.question_1")),1)]),_:1}),G(w(Ot),{class:"p-1"},{default:se(()=>[u("div",yi,[u("span",null,B(w(d)("takeawayHelper.q_1_request_1")),1),u("span",null,B(w(d)("takeawayHelper.q_1_request_2")),1),u("span",null,B(w(d)("takeawayHelper.q_1_request_3")),1),u("span",null,B(w(d)("takeawayHelper.q_1_request_4")),1),u("span",null,B(w(d)("takeawayHelper.q_1_request_5")),1)])]),_:1})]),_:1})]),_:1})])])]),_:1},8,["visible"])],64))}},wi={__name:"SwipeHint",props:{size:{type:String,default:"8rem"},duration:{type:Number,default:6e3},position:{type:String,default:"bottom"}},setup(r){const i=r,d=ae(!0);tt(()=>{i.duration>0&&setTimeout(()=>{d.value=!1},i.duration);const I=()=>{d.value=!1,window.removeEventListener("touchstart",I)};window.addEventListener("touchstart",I)});const D=Oe(()=>{let I={left:"50%",transform:"translateX(-50%)",zIndex:99999,opacity:.5,pointerEvents:"none",textAlign:"center",position:"fixed"};return i.position==="top"?I.top="15%":i.position==="center"?(I.top="50%",I.transform="translate(-50%, -50%)"):I.bottom="15%",I});return(I,g)=>d.value?(k(),L("div",{key:0,class:"swipe-hint",style:ht(D.value)},[u("div",{class:"hand",style:ht({width:r.size,height:r.size,backgroundImages:"url(/images/hand_finger.png)"})},null,4)],4)):te("",!0)}},xi=ot(wi,[["__scopeId","data-v-30a48de8"]]);function ft(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var nn;function ki(){return nn||(nn=1,function(r,i){(function(d){r.exports=d()})(function(){return function d(D,I,g){function _(C,q){if(!I[C]){if(!D[C]){var c=typeof ft=="function"&&ft;if(!q&&c)return c(C,!0);if(U)return U(C,!0);var f=new Error("Cannot find module '"+C+"'");throw f.code="MODULE_NOT_FOUND",f}var F=I[C]={exports:{}};D[C][0].call(F.exports,function(X){var ne=D[C][1][X];return _(ne||X)},F,F.exports,d,D,I,g)}return I[C].exports}for(var U=typeof ft=="function"&&ft,h=0;h<g.length;h++)_(g[h]);return _}({1:[function(d,D,I){(function(g){var _=g.MutationObserver||g.WebKitMutationObserver,U;if(_){var h=0,C=new _(X),q=g.document.createTextNode("");C.observe(q,{characterData:!0}),U=function(){q.data=h=++h%2}}else if(!g.setImmediate&&typeof g.MessageChannel<"u"){var c=new g.MessageChannel;c.port1.onmessage=X,U=function(){c.port2.postMessage(0)}}else"document"in g&&"onreadystatechange"in g.document.createElement("script")?U=function(){var ee=g.document.createElement("script");ee.onreadystatechange=function(){X(),ee.onreadystatechange=null,ee.parentNode.removeChild(ee),ee=null},g.document.documentElement.appendChild(ee)}:U=function(){setTimeout(X,0)};var f,F=[];function X(){f=!0;for(var ee,Q,W=F.length;W;){for(Q=F,F=[],ee=-1;++ee<W;)Q[ee]();W=F.length}f=!1}D.exports=ne;function ne(ee){F.push(ee)===1&&!f&&U()}}).call(this,typeof dt<"u"?dt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(d,D,I){var g=d(1);function _(){}var U={},h=["REJECTED"],C=["FULFILLED"],q=["PENDING"];D.exports=c;function c(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=q,this.queue=[],this.outcome=void 0,b!==_&&ne(this,b)}c.prototype.catch=function(b){return this.then(null,b)},c.prototype.then=function(b,v){if(typeof b!="function"&&this.state===C||typeof v!="function"&&this.state===h)return this;var l=new this.constructor(_);if(this.state!==q){var m=this.state===C?b:v;F(l,m,this.outcome)}else this.queue.push(new f(l,b,v));return l};function f(b,v,l){this.promise=b,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof l=="function"&&(this.onRejected=l,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(b){U.resolve(this.promise,b)},f.prototype.otherCallFulfilled=function(b){F(this.promise,this.onFulfilled,b)},f.prototype.callRejected=function(b){U.reject(this.promise,b)},f.prototype.otherCallRejected=function(b){F(this.promise,this.onRejected,b)};function F(b,v,l){g(function(){var m;try{m=v(l)}catch(A){return U.reject(b,A)}m===b?U.reject(b,new TypeError("Cannot resolve promise with itself")):U.resolve(b,m)})}U.resolve=function(b,v){var l=ee(X,v);if(l.status==="error")return U.reject(b,l.value);var m=l.value;if(m)ne(b,m);else{b.state=C,b.outcome=v;for(var A=-1,N=b.queue.length;++A<N;)b.queue[A].callFulfilled(v)}return b},U.reject=function(b,v){b.state=h,b.outcome=v;for(var l=-1,m=b.queue.length;++l<m;)b.queue[l].callRejected(v);return b};function X(b){var v=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof v=="function")return function(){v.apply(b,arguments)}}function ne(b,v){var l=!1;function m(E){l||(l=!0,U.reject(b,E))}function A(E){l||(l=!0,U.resolve(b,E))}function N(){v(A,m)}var P=ee(N);P.status==="error"&&m(P.value)}function ee(b,v){var l={};try{l.value=b(v),l.status="success"}catch(m){l.status="error",l.value=m}return l}c.resolve=Q;function Q(b){return b instanceof this?b:U.resolve(new this(_),b)}c.reject=W;function W(b){var v=new this(_);return U.reject(v,b)}c.all=H;function H(b){var v=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var l=b.length,m=!1;if(!l)return this.resolve([]);for(var A=new Array(l),N=0,P=-1,E=new this(_);++P<l;)Z(b[P],P);return E;function Z(V,z){v.resolve(V).then(j,function(ce){m||(m=!0,U.reject(E,ce))});function j(ce){A[z]=ce,++N===l&&!m&&(m=!0,U.resolve(E,A))}}}c.race=Y;function Y(b){var v=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var l=b.length,m=!1;if(!l)return this.resolve([]);for(var A=-1,N=new this(_);++A<l;)P(b[A]);return N;function P(E){v.resolve(E).then(function(Z){m||(m=!0,U.resolve(N,Z))},function(Z){m||(m=!0,U.reject(N,Z))})}}},{1:1}],3:[function(d,D,I){(function(g){typeof g.Promise!="function"&&(g.Promise=d(2))}).call(this,typeof dt<"u"?dt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(d,D,I){var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function U(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var h=U();function C(){try{if(!h||!h.open)return!1;var e=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||n)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function q(e,n){e=e||[],n=n||{};try{return new Blob(e,n)}catch(a){if(a.name!=="TypeError")throw a;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,o=new t,s=0;s<e.length;s+=1)o.append(e[s]);return o.getBlob(n.type)}}typeof Promise>"u"&&d(3);var c=Promise;function f(e,n){n&&e.then(function(t){n(null,t)},function(t){n(t)})}function F(e,n,t){typeof n=="function"&&e.then(n),typeof t=="function"&&e.catch(t)}function X(e){return typeof e!="string"&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ee="local-forage-detect-blob-support",Q=void 0,W={},H=Object.prototype.toString,Y="readonly",b="readwrite";function v(e){for(var n=e.length,t=new ArrayBuffer(n),o=new Uint8Array(t),s=0;s<n;s++)o[s]=e.charCodeAt(s);return t}function l(e){return new c(function(n){var t=e.transaction(ee,b),o=q([""]);t.objectStore(ee).put(o,"key"),t.onabort=function(s){s.preventDefault(),s.stopPropagation(),n(!1)},t.oncomplete=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),a=navigator.userAgent.match(/Edge\//);n(a||!s||parseInt(s[1],10)>=43)}}).catch(function(){return!1})}function m(e){return typeof Q=="boolean"?c.resolve(Q):l(e).then(function(n){return Q=n,Q})}function A(e){var n=W[e.name],t={};t.promise=new c(function(o,s){t.resolve=o,t.reject=s}),n.deferredOperations.push(t),n.dbReady?n.dbReady=n.dbReady.then(function(){return t.promise}):n.dbReady=t.promise}function N(e){var n=W[e.name],t=n.deferredOperations.pop();if(t)return t.resolve(),t.promise}function P(e,n){var t=W[e.name],o=t.deferredOperations.pop();if(o)return o.reject(n),o.promise}function E(e,n){return new c(function(t,o){if(W[e.name]=W[e.name]||De(),e.db)if(n)A(e),e.db.close();else return t(e.db);var s=[e.name];n&&s.push(e.version);var a=h.open.apply(h,s);n&&(a.onupgradeneeded=function(p){var x=a.result;try{x.createObjectStore(e.storeName),p.oldVersion<=1&&x.createObjectStore(ee)}catch($){if($.name==="ConstraintError")console.warn('The database "'+e.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw $}}),a.onerror=function(p){p.preventDefault(),o(a.error)},a.onsuccess=function(){var p=a.result;p.onversionchange=function(x){x.target.close()},t(p),N(e)}})}function Z(e){return E(e,!1)}function V(e){return E(e,!0)}function z(e,n){if(!e.db)return!0;var t=!e.db.objectStoreNames.contains(e.storeName),o=e.version<e.db.version,s=e.version>e.db.version;if(o&&(e.version!==n&&console.warn('The database "'+e.name+`" can't be downgraded from version `+e.db.version+" to version "+e.version+"."),e.version=e.db.version),s||t){if(t){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function j(e){return new c(function(n,t){var o=new FileReader;o.onerror=t,o.onloadend=function(s){var a=btoa(s.target.result||"");n({__local_forage_encoded_blob:!0,data:a,type:e.type})},o.readAsBinaryString(e)})}function ce(e){var n=v(atob(e.data));return q([n],{type:e.type})}function re(e){return e&&e.__local_forage_encoded_blob}function ve(e){var n=this,t=n._initReady().then(function(){var o=W[n._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return F(t,e,e),t}function ye(e){A(e);for(var n=W[e.name],t=n.forages,o=0;o<t.length;o++){var s=t[o];s._dbInfo.db&&(s._dbInfo.db.close(),s._dbInfo.db=null)}return e.db=null,Z(e).then(function(a){return e.db=a,z(e)?V(e):a}).then(function(a){e.db=n.db=a;for(var p=0;p<t.length;p++)t[p]._dbInfo.db=a}).catch(function(a){throw P(e,a),a})}function _e(e,n,t,o){o===void 0&&(o=1);try{var s=e.db.transaction(e.storeName,n);t(null,s)}catch(a){if(o>0&&(!e.db||a.name==="InvalidStateError"||a.name==="NotFoundError"))return c.resolve().then(function(){if(!e.db||a.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),V(e)}).then(function(){return ye(e).then(function(){_e(e,n,t,o-1)})}).catch(t);t(a)}}function De(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function He(e){var n=this,t={db:null};if(e)for(var o in e)t[o]=e[o];var s=W[t.name];s||(s=De(),W[t.name]=s),s.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=ve);var a=[];function p(){return c.resolve()}for(var x=0;x<s.forages.length;x++){var $=s.forages[x];$!==n&&a.push($._initReady().catch(p))}var S=s.forages.slice(0);return c.all(a).then(function(){return t.db=s.db,Z(t)}).then(function(R){return t.db=R,z(t,n._defaultConfig.version)?V(t):R}).then(function(R){t.db=s.db=R,n._dbInfo=t;for(var K=0;K<S.length;K++){var oe=S[K];oe!==n&&(oe._dbInfo.db=t.db,oe._dbInfo.version=t.version)}})}function it(e,n){var t=this;e=X(e);var o=new c(function(s,a){t.ready().then(function(){_e(t._dbInfo,Y,function(p,x){if(p)return a(p);try{var $=x.objectStore(t._dbInfo.storeName),S=$.get(e);S.onsuccess=function(){var R=S.result;R===void 0&&(R=null),re(R)&&(R=ce(R)),s(R)},S.onerror=function(){a(S.error)}}catch(R){a(R)}})}).catch(a)});return f(o,n),o}function yt(e,n){var t=this,o=new c(function(s,a){t.ready().then(function(){_e(t._dbInfo,Y,function(p,x){if(p)return a(p);try{var $=x.objectStore(t._dbInfo.storeName),S=$.openCursor(),R=1;S.onsuccess=function(){var K=S.result;if(K){var oe=K.value;re(oe)&&(oe=ce(oe));var le=e(oe,K.key,R++);le!==void 0?s(le):K.continue()}else s()},S.onerror=function(){a(S.error)}}catch(K){a(K)}})}).catch(a)});return f(o,n),o}function Ye(e,n,t){var o=this;e=X(e);var s=new c(function(a,p){var x;o.ready().then(function(){return x=o._dbInfo,H.call(n)==="[object Blob]"?m(x.db).then(function($){return $?n:j(n)}):n}).then(function($){_e(o._dbInfo,b,function(S,R){if(S)return p(S);try{var K=R.objectStore(o._dbInfo.storeName);$===null&&($=void 0);var oe=K.put($,e);R.oncomplete=function(){$===void 0&&($=null),a($)},R.onabort=R.onerror=function(){var le=oe.error?oe.error:oe.transaction.error;p(le)}}catch(le){p(le)}})}).catch(p)});return f(s,t),s}function _t(e,n){var t=this;e=X(e);var o=new c(function(s,a){t.ready().then(function(){_e(t._dbInfo,b,function(p,x){if(p)return a(p);try{var $=x.objectStore(t._dbInfo.storeName),S=$.delete(e);x.oncomplete=function(){s()},x.onerror=function(){a(S.error)},x.onabort=function(){var R=S.error?S.error:S.transaction.error;a(R)}}catch(R){a(R)}})}).catch(a)});return f(o,n),o}function wt(e){var n=this,t=new c(function(o,s){n.ready().then(function(){_e(n._dbInfo,b,function(a,p){if(a)return s(a);try{var x=p.objectStore(n._dbInfo.storeName),$=x.clear();p.oncomplete=function(){o()},p.onabort=p.onerror=function(){var S=$.error?$.error:$.transaction.error;s(S)}}catch(S){s(S)}})}).catch(s)});return f(t,e),t}function xt(e){var n=this,t=new c(function(o,s){n.ready().then(function(){_e(n._dbInfo,Y,function(a,p){if(a)return s(a);try{var x=p.objectStore(n._dbInfo.storeName),$=x.count();$.onsuccess=function(){o($.result)},$.onerror=function(){s($.error)}}catch(S){s(S)}})}).catch(s)});return f(t,e),t}function st(e,n){var t=this,o=new c(function(s,a){if(e<0){s(null);return}t.ready().then(function(){_e(t._dbInfo,Y,function(p,x){if(p)return a(p);try{var $=x.objectStore(t._dbInfo.storeName),S=!1,R=$.openKeyCursor();R.onsuccess=function(){var K=R.result;if(!K){s(null);return}e===0||S?s(K.key):(S=!0,K.advance(e))},R.onerror=function(){a(R.error)}}catch(K){a(K)}})}).catch(a)});return f(o,n),o}function kt(e){var n=this,t=new c(function(o,s){n.ready().then(function(){_e(n._dbInfo,Y,function(a,p){if(a)return s(a);try{var x=p.objectStore(n._dbInfo.storeName),$=x.openKeyCursor(),S=[];$.onsuccess=function(){var R=$.result;if(!R){o(S);return}S.push(R.key),R.continue()},$.onerror=function(){s($.error)}}catch(R){s(R)}})}).catch(s)});return f(t,e),t}function ze(e,n){n=ne.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,s;if(!e.name)s=c.reject("Invalid arguments");else{var a=e.name===t.name&&o._dbInfo.db,p=a?c.resolve(o._dbInfo.db):Z(e).then(function(x){var $=W[e.name],S=$.forages;$.db=x;for(var R=0;R<S.length;R++)S[R]._dbInfo.db=x;return x});e.storeName?s=p.then(function(x){if(x.objectStoreNames.contains(e.storeName)){var $=x.version+1;A(e);var S=W[e.name],R=S.forages;x.close();for(var K=0;K<R.length;K++){var oe=R[K];oe._dbInfo.db=null,oe._dbInfo.version=$}var le=new c(function(ue,be){var he=h.open(e.name,$);he.onerror=function(Se){var Xe=he.result;Xe.close(),be(Se)},he.onupgradeneeded=function(){var Se=he.result;Se.deleteObjectStore(e.storeName)},he.onsuccess=function(){var Se=he.result;Se.close(),ue(Se)}});return le.then(function(ue){S.db=ue;for(var be=0;be<R.length;be++){var he=R[be];he._dbInfo.db=ue,N(he._dbInfo)}}).catch(function(ue){throw(P(e,ue)||c.resolve()).catch(function(){}),ue})}}):s=p.then(function(x){A(e);var $=W[e.name],S=$.forages;x.close();for(var R=0;R<S.length;R++){var K=S[R];K._dbInfo.db=null}var oe=new c(function(le,ue){var be=h.deleteDatabase(e.name);be.onerror=function(){var he=be.result;he&&he.close(),ue(be.error)},be.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},be.onsuccess=function(){var he=be.result;he&&he.close(),le(he)}});return oe.then(function(le){$.db=le;for(var ue=0;ue<S.length;ue++){var be=S[ue];N(be._dbInfo)}}).catch(function(le){throw(P(e,le)||c.resolve()).catch(function(){}),le})})}return f(s,n),s}var Qe={_driver:"asyncStorage",_initStorage:He,_support:C(),iterate:yt,getItem:it,setItem:Ye,removeItem:_t,clear:wt,length:xt,key:st,keys:kt,dropInstance:ze};function qe(){return typeof openDatabase=="function"}var Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="~~local_forage_type~",T=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:",M=O.length,ie="arbf",pe="blob",Ee="si08",we="ui08",ke="uic8",Ne="si16",Fe="si32",Ue="ur16",Ge="ui32",Pe="fl32",zt="fl64",qt=M+ie.length,Ft=Object.prototype.toString;function Ut(e){var n=e.length*.75,t=e.length,o,s=0,a,p,x,$;e[e.length-1]==="="&&(n--,e[e.length-2]==="="&&n--);var S=new ArrayBuffer(n),R=new Uint8Array(S);for(o=0;o<t;o+=4)a=Ae.indexOf(e[o]),p=Ae.indexOf(e[o+1]),x=Ae.indexOf(e[o+2]),$=Ae.indexOf(e[o+3]),R[s++]=a<<2|p>>4,R[s++]=(p&15)<<4|x>>2,R[s++]=(x&3)<<6|$&63;return S}function $t(e){var n=new Uint8Array(e),t="",o;for(o=0;o<n.length;o+=3)t+=Ae[n[o]>>2],t+=Ae[(n[o]&3)<<4|n[o+1]>>4],t+=Ae[(n[o+1]&15)<<2|n[o+2]>>6],t+=Ae[n[o+2]&63];return n.length%3===2?t=t.substring(0,t.length-1)+"=":n.length%3===1&&(t=t.substring(0,t.length-2)+"=="),t}function bn(e,n){var t="";if(e&&(t=Ft.call(e)),e&&(t==="[object ArrayBuffer]"||e.buffer&&Ft.call(e.buffer)==="[object ArrayBuffer]")){var o,s=O;e instanceof ArrayBuffer?(o=e,s+=ie):(o=e.buffer,t==="[object Int8Array]"?s+=Ee:t==="[object Uint8Array]"?s+=we:t==="[object Uint8ClampedArray]"?s+=ke:t==="[object Int16Array]"?s+=Ne:t==="[object Uint16Array]"?s+=Ue:t==="[object Int32Array]"?s+=Fe:t==="[object Uint32Array]"?s+=Ge:t==="[object Float32Array]"?s+=Pe:t==="[object Float64Array]"?s+=zt:n(new Error("Failed to get type for BinaryArray"))),n(s+$t(o))}else if(t==="[object Blob]"){var a=new FileReader;a.onload=function(){var p=y+e.type+"~"+$t(this.result);n(O+pe+p)},a.readAsArrayBuffer(e)}else try{n(JSON.stringify(e))}catch(p){console.error("Couldn't convert value into a JSON string: ",e),n(null,p)}}function gn(e){if(e.substring(0,M)!==O)return JSON.parse(e);var n=e.substring(qt),t=e.substring(M,qt),o;if(t===pe&&T.test(n)){var s=n.match(T);o=s[1],n=n.substring(s[0].length)}var a=Ut(n);switch(t){case ie:return a;case pe:return q([a],{type:o});case Ee:return new Int8Array(a);case we:return new Uint8Array(a);case ke:return new Uint8ClampedArray(a);case Ne:return new Int16Array(a);case Ue:return new Uint16Array(a);case Fe:return new Int32Array(a);case Ge:return new Uint32Array(a);case Pe:return new Float32Array(a);case zt:return new Float64Array(a);default:throw new Error("Unkown type: "+t)}}var Tt={serialize:bn,deserialize:gn,stringToBuffer:Ut,bufferToString:$t};function Vt(e,n,t,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],t,o)}function yn(e){var n=this,t={db:null};if(e)for(var o in e)t[o]=typeof e[o]!="string"?e[o].toString():e[o];var s=new c(function(a,p){try{t.db=openDatabase(t.name,String(t.version),t.description,t.size)}catch(x){return p(x)}t.db.transaction(function(x){Vt(x,t,function(){n._dbInfo=t,a()},function($,S){p(S)})},p)});return t.serializer=Tt,s}function Re(e,n,t,o,s,a){e.executeSql(t,o,s,function(p,x){x.code===x.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],function($,S){S.rows.length?a($,x):Vt($,n,function(){$.executeSql(t,o,s,a)},a)},a):a(p,x)},a)}function _n(e,n){var t=this;e=X(e);var o=new c(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(x){Re(x,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[e],function($,S){var R=S.rows.length?S.rows.item(0).value:null;R&&(R=p.serializer.deserialize(R)),s(R)},function($,S){a(S)})})}).catch(a)});return f(o,n),o}function wn(e,n){var t=this,o=new c(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(x){Re(x,p,"SELECT * FROM "+p.storeName,[],function($,S){for(var R=S.rows,K=R.length,oe=0;oe<K;oe++){var le=R.item(oe),ue=le.value;if(ue&&(ue=p.serializer.deserialize(ue)),ue=e(ue,le.key,oe+1),ue!==void 0){s(ue);return}}s()},function($,S){a(S)})})}).catch(a)});return f(o,n),o}function jt(e,n,t,o){var s=this;e=X(e);var a=new c(function(p,x){s.ready().then(function(){n===void 0&&(n=null);var $=n,S=s._dbInfo;S.serializer.serialize(n,function(R,K){K?x(K):S.db.transaction(function(oe){Re(oe,S,"INSERT OR REPLACE INTO "+S.storeName+" (key, value) VALUES (?, ?)",[e,R],function(){p($)},function(le,ue){x(ue)})},function(oe){if(oe.code===oe.QUOTA_ERR){if(o>0){p(jt.apply(s,[e,$,t,o-1]));return}x(oe)}})})}).catch(x)});return f(a,t),a}function xn(e,n,t){return jt.apply(this,[e,n,t,1])}function kn(e,n){var t=this;e=X(e);var o=new c(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(x){Re(x,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[e],function(){s()},function($,S){a(S)})})}).catch(a)});return f(o,n),o}function $n(e){var n=this,t=new c(function(o,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Re(p,a,"DELETE FROM "+a.storeName,[],function(){o()},function(x,$){s($)})})}).catch(s)});return f(t,e),t}function Tn(e){var n=this,t=new c(function(o,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Re(p,a,"SELECT COUNT(key) as c FROM "+a.storeName,[],function(x,$){var S=$.rows.item(0).c;o(S)},function(x,$){s($)})})}).catch(s)});return f(t,e),t}function Sn(e,n){var t=this,o=new c(function(s,a){t.ready().then(function(){var p=t._dbInfo;p.db.transaction(function(x){Re(x,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[e+1],function($,S){var R=S.rows.length?S.rows.item(0).key:null;s(R)},function($,S){a(S)})})}).catch(a)});return f(o,n),o}function In(e){var n=this,t=new c(function(o,s){n.ready().then(function(){var a=n._dbInfo;a.db.transaction(function(p){Re(p,a,"SELECT key FROM "+a.storeName,[],function(x,$){for(var S=[],R=0;R<$.rows.length;R++)S.push($.rows.item(R).key);o(S)},function(x,$){s($)})})}).catch(s)});return f(t,e),t}function Dn(e){return new c(function(n,t){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(s,a){for(var p=[],x=0;x<a.rows.length;x++)p.push(a.rows.item(x).name);n({db:e,storeNames:p})},function(s,a){t(a)})},function(o){t(o)})})}function Cn(e,n){n=ne.apply(this,arguments);var t=this.config();e=typeof e!="function"&&e||{},e.name||(e.name=e.name||t.name,e.storeName=e.storeName||t.storeName);var o=this,s;return e.name?s=new c(function(a){var p;e.name===t.name?p=o._dbInfo.db:p=openDatabase(e.name,"","",0),e.storeName?a({db:p,storeNames:[e.storeName]}):a(Dn(p))}).then(function(a){return new c(function(p,x){a.db.transaction(function($){function S(le){return new c(function(ue,be){$.executeSql("DROP TABLE IF EXISTS "+le,[],function(){ue()},function(he,Se){be(Se)})})}for(var R=[],K=0,oe=a.storeNames.length;K<oe;K++)R.push(S(a.storeNames[K]));c.all(R).then(function(){p()}).catch(function(le){x(le)})},function($){x($)})})}):s=c.reject("Invalid arguments"),f(s,n),s}var An={_driver:"webSQLStorage",_initStorage:yn,_support:qe(),iterate:wn,getItem:_n,setItem:xn,removeItem:kn,clear:$n,length:Tn,key:Sn,keys:In,dropInstance:Cn};function En(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Wt(e,n){var t=e.name+"/";return e.storeName!==n.storeName&&(t+=e.storeName+"/"),t}function Nn(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch{return!0}}function Rn(){return!Nn()||localStorage.length>0}function Bn(e){var n=this,t={};if(e)for(var o in e)t[o]=e[o];return t.keyPrefix=Wt(e,n._defaultConfig),Rn()?(n._dbInfo=t,t.serializer=Tt,c.resolve()):c.reject()}function Ln(e){var n=this,t=n.ready().then(function(){for(var o=n._dbInfo.keyPrefix,s=localStorage.length-1;s>=0;s--){var a=localStorage.key(s);a.indexOf(o)===0&&localStorage.removeItem(a)}});return f(t,e),t}function Pn(e,n){var t=this;e=X(e);var o=t.ready().then(function(){var s=t._dbInfo,a=localStorage.getItem(s.keyPrefix+e);return a&&(a=s.serializer.deserialize(a)),a});return f(o,n),o}function On(e,n){var t=this,o=t.ready().then(function(){for(var s=t._dbInfo,a=s.keyPrefix,p=a.length,x=localStorage.length,$=1,S=0;S<x;S++){var R=localStorage.key(S);if(R.indexOf(a)===0){var K=localStorage.getItem(R);if(K&&(K=s.serializer.deserialize(K)),K=e(K,R.substring(p),$++),K!==void 0)return K}}});return f(o,n),o}function Mn(e,n){var t=this,o=t.ready().then(function(){var s=t._dbInfo,a;try{a=localStorage.key(e)}catch{a=null}return a&&(a=a.substring(s.keyPrefix.length)),a});return f(o,n),o}function zn(e){var n=this,t=n.ready().then(function(){for(var o=n._dbInfo,s=localStorage.length,a=[],p=0;p<s;p++){var x=localStorage.key(p);x.indexOf(o.keyPrefix)===0&&a.push(x.substring(o.keyPrefix.length))}return a});return f(t,e),t}function qn(e){var n=this,t=n.keys().then(function(o){return o.length});return f(t,e),t}function Fn(e,n){var t=this;e=X(e);var o=t.ready().then(function(){var s=t._dbInfo;localStorage.removeItem(s.keyPrefix+e)});return f(o,n),o}function Un(e,n,t){var o=this;e=X(e);var s=o.ready().then(function(){n===void 0&&(n=null);var a=n;return new c(function(p,x){var $=o._dbInfo;$.serializer.serialize(n,function(S,R){if(R)x(R);else try{localStorage.setItem($.keyPrefix+e,S),p(a)}catch(K){(K.name==="QuotaExceededError"||K.name==="NS_ERROR_DOM_QUOTA_REACHED")&&x(K),x(K)}})})});return f(s,t),s}function Vn(e,n){if(n=ne.apply(this,arguments),e=typeof e!="function"&&e||{},!e.name){var t=this.config();e.name=e.name||t.name,e.storeName=e.storeName||t.storeName}var o=this,s;return e.name?s=new c(function(a){e.storeName?a(Wt(e,o._defaultConfig)):a(e.name+"/")}).then(function(a){for(var p=localStorage.length-1;p>=0;p--){var x=localStorage.key(p);x.indexOf(a)===0&&localStorage.removeItem(x)}}):s=c.reject("Invalid arguments"),f(s,n),s}var jn={_driver:"localStorageWrapper",_initStorage:Bn,_support:En(),iterate:On,getItem:Pn,setItem:Un,removeItem:Fn,clear:Ln,length:qn,key:Mn,keys:zn,dropInstance:Vn},Wn=function(n,t){return n===t||typeof n=="number"&&typeof t=="number"&&isNaN(n)&&isNaN(t)},Kn=function(n,t){for(var o=n.length,s=0;s<o;){if(Wn(n[s],t))return!0;s++}return!1},Kt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},Je={},Ht={},Ve={INDEXEDDB:Qe,WEBSQL:An,LOCALSTORAGE:jn},Hn=[Ve.INDEXEDDB._driver,Ve.WEBSQL._driver,Ve.LOCALSTORAGE._driver],lt=["dropInstance"],St=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(lt),Yn={description:"",driver:Hn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Qn(e,n){e[n]=function(){var t=arguments;return e.ready().then(function(){return e[n].apply(e,t)})}}function It(){for(var e=1;e<arguments.length;e++){var n=arguments[e];if(n)for(var t in n)n.hasOwnProperty(t)&&(Kt(n[t])?arguments[0][t]=n[t].slice():arguments[0][t]=n[t])}return arguments[0]}var Gn=function(){function e(n){_(this,e);for(var t in Ve)if(Ve.hasOwnProperty(t)){var o=Ve[t],s=o._driver;this[t]=s,Je[s]||this.defineDriver(o)}this._defaultConfig=It({},Yn),this._config=It({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(t){if((typeof t>"u"?"undefined":g(t))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var o in t){if(o==="storeName"&&(t[o]=t[o].replace(/\W/g,"_")),o==="version"&&typeof t[o]!="number")return new Error("Database version must be a number.");this._config[o]=t[o]}return"driver"in t&&t.driver?this.setDriver(this._config.driver):!0}else return typeof t=="string"?this._config[t]:this._config},e.prototype.defineDriver=function(t,o,s){var a=new c(function(p,x){try{var $=t._driver,S=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver){x(S);return}for(var R=St.concat("_initStorage"),K=0,oe=R.length;K<oe;K++){var le=R[K],ue=!Kn(lt,le);if((ue||t[le])&&typeof t[le]!="function"){x(S);return}}var be=function(){for(var Xe=function(Zn){return function(){var er=new Error("Method "+Zn+" is not implemented by the current driver"),Yt=c.reject(er);return f(Yt,arguments[arguments.length-1]),Yt}},Dt=0,Xn=lt.length;Dt<Xn;Dt++){var Ct=lt[Dt];t[Ct]||(t[Ct]=Xe(Ct))}};be();var he=function(Xe){Je[$]&&console.info("Redefining LocalForage driver: "+$),Je[$]=t,Ht[$]=Xe,p()};"_support"in t?t._support&&typeof t._support=="function"?t._support().then(he,x):he(!!t._support):he(!0)}catch(Se){x(Se)}});return F(a,o,s),a},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,o,s){var a=Je[t]?c.resolve(Je[t]):c.reject(new Error("Driver not found."));return F(a,o,s),a},e.prototype.getSerializer=function(t){var o=c.resolve(Tt);return F(o,t),o},e.prototype.ready=function(t){var o=this,s=o._driverSet.then(function(){return o._ready===null&&(o._ready=o._initDriver()),o._ready});return F(s,t,t),s},e.prototype.setDriver=function(t,o,s){var a=this;Kt(t)||(t=[t]);var p=this._getSupportedDrivers(t);function x(){a._config.driver=a.driver()}function $(K){return a._extend(K),x(),a._ready=a._initStorage(a._config),a._ready}function S(K){return function(){var oe=0;function le(){for(;oe<K.length;){var ue=K[oe];return oe++,a._dbInfo=null,a._ready=null,a.getDriver(ue).then($).catch(le)}x();var be=new Error("No available storage method found.");return a._driverSet=c.reject(be),a._driverSet}return le()}}var R=this._driverSet!==null?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=R.then(function(){var K=p[0];return a._dbInfo=null,a._ready=null,a.getDriver(K).then(function(oe){a._driver=oe._driver,x(),a._wrapLibraryMethodsWithReady(),a._initDriver=S(p)})}).catch(function(){x();var K=new Error("No available storage method found.");return a._driverSet=c.reject(K),a._driverSet}),F(this._driverSet,o,s),this._driverSet},e.prototype.supports=function(t){return!!Ht[t]},e.prototype._extend=function(t){It(this,t)},e.prototype._getSupportedDrivers=function(t){for(var o=[],s=0,a=t.length;s<a;s++){var p=t[s];this.supports(p)&&o.push(p)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,o=St.length;t<o;t++)Qn(this,St[t])},e.prototype.createInstance=function(t){return new e(t)},e}(),Jn=new Gn;D.exports=Jn},{3:3}]},{},[4])(4)})}(Rt)),Rt.exports}var $i=ki();const rn=dn($i),Ti={class:"w-full h-full flex flex-column p-1"},Si={class:"swiper-container-wrapper"},Ii={class:"fixed bottom-0 left-0 w-full h-3rem bg-primary-reverse p-3 z-[9999]"},Di={class:"h-full flex align-items-center justify-content-between w-full"},Ci={class:"m-2"},Ai={class:"m-2"},Ei={class:"m-2"},Ni={style:{"max-height":"60vh","overflow-y":"auto","padding-bottom":"60px"}},Ri={class:"flex flex-column border-bottom-1"},Bi={key:0,class:"flex justify-content-between"},Li={class:"flex flex-column"},Pi={class:"font-bold"},Oi={class:"text-right"},Mi={key:1,class:"flex justify-content-between"},zi={class:"flex flex-column"},qi={class:"font-bold"},Fi={class:"text-right"},Ui={key:0},Vi={key:1,class:"flex flex-column"},ji={class:"flex flex-column"},Wi={class:"font-bold"},Ki={class:"text-right"},Hi={class:"total-footer bg-primary-reverse"},an=5,vt="order_time_key",Yi={__name:"HomePage",setup(r){const i=on(),d=dr(),{t:D}=Le(),{locale:I}=Le(),g=ae(0),_=ae(!1),U=ae([""]),h=ae(0),C=Ie.cartItemCount,q=ae(!1),c=ae([]),f=ae(0),F=ae({}),X=ae(!1),ne=xe.dishDatas,ee=ae(J.getOrderMenuTab()),Q=ae(null),W=ae(null),H=ae([]),Y=ae([]),b=ae([]),v=ae(!1);let l=null;const m=y=>{h.value=y.activeIndex,He()},A=y=>{l=y};pt(h,y=>{l&&l.activeIndex!==y&&l.slideTo(y);let T=J.getOrderMenuTab()[y];J.customDishAPI.customDishes.value.map(M=>M.name).includes(T)?(X.value=!0,F.value=J.customDishAPI.customDishes.value.find(M=>M.name==T)):X.value=!1});const N=(y,T,O,M)=>{J.rateDish(y,T,O),M&&Te.show_success(D("notification.rating_submitted"))},P=(y,T,O)=>{if(F.value.name=="XIAOXIONGÂ® RAMEN"&&y.id===1){const M=y.dishes[T];let ie;M.dishid==47?O?ie=E(3,!0,1):ie=E(3,!1,1):ie=E(3,!0,1),ie!==void 0&&Z(ie)}if(F.value.name=="Menu AlmoÃ§o"&&y.id===3){const M=y.dishes[T];let ie;[1427,41].includes(M.dishid)?O?ie=E(4,!0,0):ie=E(4,!1,0):ie=E(4,!0,0),ie!==void 0&&Z(ie)}};function E(y,T,O){if(F.value={...F.value,types:F.value.types.map(M=>M.id===y?{...M,enable:T,minQuantity:T?O:0}:M)},T===!1)return y}function Z(y){!F.value||!Array.isArray(F.value.types)||(F.value={...F.value,types:F.value.types.map(T=>T.id===y?{...T,dishes:T.dishes.map(O=>({...O,selected:!1}))}:T)})}function V(y){let T=J.getOrderMenuTab()[y];if(J.customDishAPI.customDishes.value.map(pe=>pe.name).includes(T)?(X.value=!0,F.value=J.customDishAPI.customDishes.value.find(pe=>pe.name==T)):X.value=!1,J.getMenu().length==0){console.log("exit");return}let ie=ne.value[y].mainDishes;xe.showDishList(ie)}const z=()=>{J.refreshTableFromServer(),J.getTableTotalAmount(f),q.value=!0},j=y=>{let T=y.id;y.org_id&&(T=y.org_id);for(let O=0;O<ne.value.length;O++)if(ne.value[O].id==T)for(const M in y){let ie=M;M.startsWith("note")&&(ie=ie.replace("note","description")),ne.value[O][ie]=y[M]}};function ce(){return new Promise(y=>{let T=()=>{const O=J.formatedMenu.value;O.length>0?y(O):setTimeout(T,200)};T()})}function re(){return new Promise(y=>{let T=()=>{const O=J.getOrderMenuTab();O.length>0?y(O):setTimeout(T,200)};T()})}const ve=Oe(()=>y=>{const T=J.dictinaryAPI.dictinary.value.find(O=>O.refName===y);return T?T[`text_${I.value.toLowerCase()}`]:y});pt([()=>J.formatedMenu.value,()=>I.value],([y,T])=>{if(!y||y.length===0){b.value=[];return}const O={};J.orderMenuTab.value;const M=y.map(Ee=>({...Ee,mainDishes:Ee.dishes.map(we=>{const ke=we.dish;if(O[ke.id])return O[ke.id];const Ne={...ke,defaultName:ke.name,defaultSubname:ke.subname,name:ye(ke,"name",T),note:ye(ke,"note",T),subname:ye(ke,"subname",T),quantity:0},Fe=we.subItems.map(Ge=>{const Pe=Ge;return{...Ge,defaultName:ke.name,defaultSubname:Pe.subname,name:ye(Pe,"name",T),note:ye(Pe,"note",T),subname:ye(Pe,"subname",T),quantity:0}}),Ue={...we,dish:Ne,subItems:Fe};return O[Ue.id]=Ue,Ue})}));ne.value.length;const ie=xe.getAllIncrementedDish();xe.getIdsAndQuantity(ie);const pe=Ie.cartDishs.value;Nt.compressToEncodedURIComponent(JSON.stringify(pe)),b.value=M,ne.value=b.value,U.value=J.orderMenuTab.value,(ie.length>0||pe.length>0)&&(xe.cleanDishDataQty(),xe.updateDishDataQty(ie)),J.filterMenuTabs(v.value),console.log("languagedMenu updated via watch:",b.value),Gt(()=>{g.value++,l&&typeof l.updateDictionaryWord=="function"&&(l.updateDictionaryWord(),l.slideTo(h.value))})},{immediate:!0,deep:!0}),pt(()=>J.orderMenuTab.value,y=>{ee.value=y.map(T=>{const O=J.dictinaryAPI.dictinary.value.find(M=>M.refName===T);return O?O[`text_${I.value.toLowerCase()}`]:T}),c.value=De(y),h.value=0}),tt(()=>{const y=J.orderMenuTab.value;ee.value=y.map(T=>{const O=J.dictinaryAPI.dictinary.value.find(M=>M.refName===T);return O?O[`text_${I.value.toLowerCase()}`]:T}),c.value=De(y),h.value=0});function ye(y,T,O){return y?O==="en"?y[`${T}_en`]||y[T]:O==="zh"&&y[`${T}_cn`]||y[T]:""}async function _e(){await ce();const y=await re();J.onMenuItemChanged=j,Ae(),c.value=De(y)}function De(y){const T=[];for(let O=0;O<y.length;O++){const M=O;T.push({label:ve.value(y[O]),command:()=>{it(M),He()}})}return T}const He=()=>{Gt(()=>{const y=document.querySelector(".p-tablist-viewport"),T=document.querySelector(".p-tab.p-tab-active");if(y&&T){const O=T.offsetLeft-y.offsetWidth/2+T.offsetWidth/2;y.scrollTo({left:O,behavior:"smooth"})}window.scrollTo({top:0,behavior:"smooth"})})},it=y=>{V(y),h.value=y,He()},yt=()=>{var y=xe.getAllIncrementedDish();W.value.showDishList(y)};function Ye(){return J.getTable()}J.params.port,Q.value=J.table.value.order;function _t(y){var T=D("notification.too_fast",{remainTime:y});Te.show_warn(T)}const wt=(y,T)=>{const O=[];for(let we=0;we<Ie.cartDishs.value.length;we++){var M=Ie.cartDishs.value[we];const ke=J.formateCustomDishNotes(M),Ne=M.dis_count?M.dis_price:M.price;O.push({dishid:M.dishid,name:M.name,quantity:M.count,notes:ke,limit:M.limit,price:Ne,dishNote:M.dishNote,category:M.category})}const ie=xe.getAllIncrementedDish();for(let we=0;we<ie.length;we++){var M=ie[we];if(M.quantity>0){const Ne=M.dis_count?M.dis_price:M.price,Fe=J.getDishNameDefaultName(M);O.push({dishid:M.id,name:Fe,quantity:M.quantity,limit:M.limit,price:Ne,dishNote:M.dishNote})}}if(O.length===0)return Te.show_warn(D("notification.select_at_least_one")),!1;console.log("cart item:",O);const pe=JSON.parse(Be.getCookie(vt)||"{}"),Ee=Date.now();if(!pe.startTime||Ee-pe.startTime>an*1e3)pe.startTime=Ee,pe.uniCode||(pe.uniCode=Date.now().toString(36)+Math.random().toString(36).substring(2,5));else{const we=an-parseInt((Ee-pe.startTime)/1e3);_t(we);return}return Be.setCookie(vt,JSON.stringify(pe)),_.value=!0,J.submit_order({uniCode:pe.uniCode,name:y.name,note:y.note,table:Ye(),items:O},we=>{const ke=JSON.parse(Be.getCookie(vt)||"{}");ke.uniCode=void 0,Be.setCookie(vt,JSON.stringify(ke)),T(we)}),!0};function xt(){const y=Be.getCookie("language");y&&(I.value=y)}function st(){for(let y=0;y<ne.value.length;y++){const T=ne.value[y];T.quantity=0}_.value=!1,Ie.cleanAll()}tt(async()=>{xt(),await _e(),V(h.value),J.clear_order_data=()=>{st()},J.setOnOrderConfirmed(y=>{st();const T=y;Te.show_success(D("notification.order_submitted",{id:T}))}),J.setOnShowError(y=>{_.value=!1,Te.show_error(y)})});function kt(){Be.deleteCookie("login_time");const y=d.query.table;y?i.push({path:"/",query:{table:y}}):i.push({path:"/takeReserve"})}async function ze(y,T=!0){const O=T?Ie.cartDishs.value:xe.getIdsAndQuantity(xe.getAllIncrementedDish()),M=Nt.compressToEncodedURIComponent(JSON.stringify(O));try{await rn.setItem(y,M)}catch(ie){console.error("ä¿å­˜åˆ° localForage å¤±è´¥:",ie)}}function Qe(){J.isTakeaway()?(ze("take_cartDish_normal",!1),ze("take_cartDish_custom",!0)):(ze("cartDish_normal",!1),ze("cartDish_custom",!0))}async function qe(y,T=!0){try{const O=await rn.getItem(y);if(!O)return;const M=JSON.parse(Nt.decompressFromEncodedURIComponent(O));M&&M!=="undefined"&&(T?Ie.cartDishs.value=M:xe.updateDishDataQty(M))}catch(O){console.error("ä»Ž localForage è¯»å–å¤±è´¥æˆ–è§£æžå¤±è´¥:",O)}}function Ae(){J.isTakeaway()?(qe("take_cartDish_normal",!1),qe("take_cartDish_custom")):(qe("cartDish_normal",!1),qe("cartDish_custom"))}return cr(()=>{Qe()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Qe()}),window.addEventListener("beforeunload",y=>{Qe(),J.cleanup()}),(y,T)=>(k(),L(fe,null,[u("div",Ti,[(k(),ge(_i,{key:g.value,types:ee.value,typeIndex:h.value,tabItems:c.value,tableId:Ye(),onClickType:it,onSwitchToWelcome:kt},null,8,["types","typeIndex","tabItems","tableId"])),T[4]||(T[4]=u("div",{class:"pb-8"},null,-1)),T[5]||(T[5]=u("div",{class:"pb-4 sm:pb-5 md:pb-5 lg:pb-5"},null,-1)),G(xi,{duration:3e3,position:"center",size:"3rem"}),u("div",Si,[(k(),ge(w(pr),{key:`swiper-${ee.value.length}-${g.value}`,"space-between":20,"centered-slides":"","grab-cursor":!0,class:"w-full",autoHeight:!0,onSlideChange:m,onSwiper:A,"initial-slide":h.value},{default:se(()=>[(k(!0),L(fe,null,$e(ee.value,(O,M)=>(k(),ge(w(hr),{key:M},{default:se(()=>[Math.abs(h.value-M)<=1&&(!X.value||h.value!==M)?(k(),ge(Ia,{key:0,rateDish:N,likedItemsRef:H.value,dislikedItemsRef:Y.value,tabIndex:M,onlyVeg:v.value},null,8,["likedItemsRef","dislikedItemsRef","tabIndex","onlyVeg"])):Math.abs(h.value-M)<=1&&X.value&&h.value===M?(k(),ge(Po,{key:1,currentCustomDish:F.value,onTypeClick:P,tabindex:M},null,8,["currentCustomDish","tabindex"])):te("",!0)]),_:2},1024))),128))]),_:1},8,["initial-slide"]))]),T[6]||(T[6]=u("div",{style:{height:"60px"}},null,-1)),u("div",Ii,[u("div",Di,[u("div",Ci,[w(J).isTakeaway()?te("",!0):(k(),ge(w(de),{key:0,label:y.$t("common.orders"),icon:"pi pi-list",class:"p-button-secondary",onClick:z},null,8,["label"]))]),u("div",Ai,[G(w(fr),{class:"text-sm",modelValue:v.value,"onUpdate:modelValue":T[0]||(T[0]=O=>v.value=O),onLabel:w(D)("common.showAll"),offLabel:w(D)("common.showOnlyVegetables"),onClick:T[1]||(T[1]=O=>w(J).filterMenuTabs(v.value))},null,8,["modelValue","onLabel","offLabel"])]),u("div",Ei,[G(w(vn),{value:w(C),severity:"danger",onClick:yt},{default:se(()=>T[3]||(T[3]=[u("i",{class:"pi pi-shopping-cart",style:{"font-size":"2rem"}},null,-1)])),_:1,__:[3]},8,["value"])])])])]),G(ro,{ref_key:"cartRef",ref:W,checkout:wt,isTakeaway:!Ye()},null,8,["isTakeaway"]),G(w(We),{visible:q.value,"onUpdate:visible":T[2]||(T[2]=O=>q.value=O),header:y.$t("common.completedOrders"),modal:"",style:{width:"80vw","max-width":"700px"}},{default:se(()=>{var O,M;return[u("div",Ni,[u("div",Ri,[(O=f.value.adultPrice)!=null&&O.quantity&&f.value.adultPrice.quantity!=0?(k(),L("div",Bi,[u("div",Li,[u("span",Pi,B(y.$t("common.adult")),1),u("small",null,B(y.$t("common.quantity"))+": "+B(f.value.adultPrice.quantity),1)]),u("div",Oi,[u("span",null,"â‚¬"+B((Number(f.value.adultPrice.price)*f.value.adultPrice.quantity).toFixed(2)),1)])])):te("",!0),(M=f.value.childrenPrice)!=null&&M.quantity&&f.value.childrenPrice.quantity!=0?(k(),L("div",Mi,[u("div",zi,[u("span",qi,B(y.$t("common.children")),1),u("small",null,B(y.$t("common.quantity"))+": "+B(f.value.childrenPrice.quantity),1)]),u("div",Fi,[u("span",null,"â‚¬"+B((Number(f.value.childrenPrice.price)*f.value.childrenPrice.quantity).toFixed(2)),1)])])):te("",!0)]),w(J).table.value.order.length===0?(k(),L("div",Ui,B(y.$t("common.noOrders")),1)):(k(),L("div",Vi,[(k(!0),L(fe,null,$e(w(J).table.value.order,(ie,pe)=>(k(),L("div",{key:pe,class:"flex justify-content-between border-bottom-1 pb-2"},[u("div",ji,[u("span",Wi,B(w(J).getDishName(ie)),1),u("small",null,B(y.$t("common.quantity"))+": "+B(ie.quantity),1)]),u("div",Ki,[u("span",null,"â‚¬"+B((ie.price*ie.quantity).toFixed(2)),1)])]))),128))]))]),u("div",Hi,B(y.$t("common.total"))+": â‚¬"+B(f.value.total),1)]}),_:1},8,["visible","header"])],64))}},ls=ot(Yi,[["__scopeId","data-v-018d3c89"]]);export{ls as default};
