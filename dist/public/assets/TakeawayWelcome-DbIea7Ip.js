import{_ as le,P as ae}from"./pagination-BO-ad-kk.js";import{c as a,g as oe,a as I,m as N}from"./index-ZqyYksQE.js";import{s as ne,x as ie,a as _,y as re,c as ue,k as ce,l as de,m as me}from"./primevue-_QN95vq9.js";import{S as pe,a as fe}from"./pagination-BQSAUmfl.js";import{O as M,r as v,y as g,w as V,o as ve,P as ge,R as he,c as r,z as p,s as k,e as l,q as d,S as o,F as w,E as x,Q as we,d as n,t as m,h as j,p as z,v as q}from"./vue-CYwjs0iE.js";import{b as _e}from"./vendor-DYQJwaLu.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";_e();const be=["src"],ye=["onClick"],ke=["src"],Ce={class:"flex flex-column w-full"},$e={class:"w-full"},Pe={class:"flex flex-row justify-content-center align-items-center"},Ie={class:"flex flex-row justify-content-center align-items-center"},Ne={key:0,class:"pr-1 w-2rem h-auto"},Be=["src"],Le={key:0,class:"w-full"},Se={class:"w-full bg-black-alpha-90 h-3rem flex flex-row justify-content-between"},Ae={class:"flex align-content-center"},Te={style:{position:"relative",width:"100%",height:"350px",overflow:"hidden","border-radius":"10px","margin-left":"1rem","margin-right":"1rem","margin-top":"1rem"}},je=["src","alt"],ze={class:"w-full h-full text-center p-3 flex flex-column justify-content-end",style:{position:"absolute",inset:"0","z-index":"1"}},Fe={class:"text-white font-bold m-0"},Oe={key:0,class:"text-white mt-2"},De={class:"text-white mt-2"},Ee={class:"p-4"},Re={class:"flex justify-content-center flex-row pb-5 gap-2"},Me={class:"flex w-full"},Ve={key:0,class:"w-full text-sm break-words px-2",style:{"white-space":"pre-wrap"}},qe={key:1,class:"flex flex-column w-full"},Ge={class:"w-full text-sm break-words px-2",style:{"white-space":"pre-wrap"}},Ue=["src"],We={class:"border-400 border-round border-1 p-3"},Xe={class:"text-center font-bold"},Je={key:0,class:"w-full overflow-hidden"},Qe=["src"],He={class:"w-full overflow-hidden",style:{"aspect-ratio":"2 / 1.5"}},Ke=["src"],Ye={class:"font-bold"},Ze={class:"flex flex-column"},et={class:"flex flex-row justify-content-between w-full"},tt={class:"m-1 max-w-screen flex flex-column flex align-items-center"},st={key:1,class:"fixed right-0 bottom-0 p-4",style:{"z-index":"2"}},lt={__name:"TakeawayWelcome",props:["switchTo"],setup(at){const b=[{label:"pt",imagePath:"flags/pt.png"},{label:"en",imagePath:"flags/en.png"},{label:"zh",imagePath:"flags/zh.png"}],F=he();we();const{locale:y}=M(),{t:f}=M(),C=v(null),O=v(void 0),B=v(!0),L=v(!1);v([]),v();const G=g(()=>a.getPickupDate("restaurantName")),i=v({}),U=v(""),S=v("");function W(){const e=I.getCookie("language");e&&(y.value=e)}function X(){L.value=!0}let $=null;V(()=>[a.currentTakeAwayPage.value,a.addr.value],([e,t])=>{var s,u,c;i.value=e,(u=(s=i.value)==null?void 0:s.data)!=null&&u.logoPath&&((c=i.value)!=null&&c.imagesPath)&&(U.value=a.pathFormated(i.value.data.logoPath,i.value.imagesPath))},{immediate:!0}),ve(async()=>{var e;a.initMenu(!0),W(),S.value=await oe(),$=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting?B.value=!0:B.value=!1})},{threshold:.1}),(e=C.value)!=null&&e.$el&&$.observe(C.value.$el)}),ge(()=>{var e;$&&((e=C.value)!=null&&e.$el)&&$.unobserve(C.value.$el)}),V(()=>a.currentTakeAwayPage.value,e=>{e&&(i.value=e)},{immediate:!0});const J=g(()=>{const e="/";switch(y.value.toLowerCase()){case"pt":return e+b[0].imagePath;case"en":return e+b[1].imagePath;case"zh":return e+b[2].imagePath;default:return e+b[1].imagePath}});function h(e){const t=`text_${y.value.toLowerCase()}`;return e[t]}const Q=Date.now(),D=I.getCookie("login_time");let A;D&&(A=JSON.parse(D));const H=g(()=>b.filter(e=>e.label!==y.value.toLowerCase()).map(e=>({...e,command:()=>{y.value=e.label,K(e.label)}})));function K(e){I.setCookie("language",e)}A&&(Q-A>60*5*1e3?I.clearAllCookies():T());function T(){if(!a.settings.value.delivery||!a.permissionsControl.value.delivery){N.show_warn(f("notification.deliveryClosed"));return}F.push("/table")}function Y(){if(!a.settings.value.reserver||!a.permissionsControl.value.reserver){N.show_warn(f("notification.reserverClosed"));return}F.push("/reservePage")}function E(e){window.open(e,"_blank")}g(()=>[{label:f("common.options"),items:[{label:f("common.pay"),icon:"pi pi-wallet",command:()=>{a.send_cmd(a.getTable(),"pay"),N.show_info(f("notification.pay_msg"))}},{label:f("common.call"),icon:"pi pi-user-plus",command:()=>{a.send_cmd(a.getTable(),"call"),N.show_info(f("notification.call_msg"))}}]}]);const Z=g(()=>[{name:f("home.mapNavigationButton"),image:"/images/xiaoxiongmarketLogo.png",onclick:()=>{window.open("https://xiaoxiongmarket.com/","_blank")}}]);function R(e){return i.value.data.options[e]?"font-bold":""}g(()=>{const e=a.getShopInfo("location");let t="";e&&(t+=(e.street?f("common.location")+": "+e.street:"")+(e.postcode?e.postcode:"")+(e.city?", "+e.city:""));const s=a.getShopInfo("phoneNumber");return s&&(t+=`
`+f("common.contact")+": "+s),t});const ee=g(()=>{var t,s,u;return(((u=(s=(t=i.value)==null?void 0:t.data)==null?void 0:s.backgrounds)==null?void 0:u.filter(c=>c.src!==""))||[]).length===0}),te=g(()=>{var t,s,u;const e=((u=(s=(t=i.value)==null?void 0:t.data)==null?void 0:s.backgrounds)==null?void 0:u.filter(c=>c.src!==""))||[];return e.length>0?e.map(c=>c.src):S.value?[S.value]:[]});function se(){const e=a.shopInfo.value,t=e.location,s=`${t.street}, ${t.postcode}, ${t.city}, ${t.region}, ${t.country}`,u=e.phoneNumber;return`${s} 
${u}`}return(e,t)=>(n(),r(w,null,[p(o(ne),{model:H.value,direction:"down",transitionDelay:80,class:"absolute bottom-1 right-0"},{button:d(({toggleCallback:s})=>[p(o(_),{outlined:"",onClick:s,class:"custom-clean-button",style:{"padding-top":"11px","padding-right":"14px"}},{default:d(()=>[l("img",{src:J.value,style:{width:"1.7rem",height:"1.7rem"}},null,8,be)]),_:2},1032,["onClick"])]),item:d(({item:s,toggleCallback:u})=>[l("div",{class:"flex flex-col items-center justify-between",onClick:u},[l("img",{src:s.imagePath,alt:"lang",style:{width:"1.7rem",height:"1.7rem"}},null,8,ke)],8,ye)]),_:1},8,["model"]),p(o(ie),{visible:L.value,"onUpdate:visible":t[0]||(t[0]=s=>L.value=s),position:"left",class:"max-w-12rem",pt:{content:{class:"p-0"},header:{class:"p-2"}}},{default:d(()=>[l("div",Ce,[(n(!0),r(w,null,x(Z.value,(s,u)=>(n(),r("div",$e,[l("div",Pe,[p(o(_),{label:s.name,onClick:s.onclick,text:"",class:"w-full text-sm text-center"},{default:d(()=>[l("div",Ie,[s.image?(n(),r("div",Ne,[l("img",{src:s.image,class:"w-full h-full"},null,8,Be)])):k("",!0),l("span",null,m(s.name),1)])]),_:2},1032,["label","onClick"])])]))),256))])]),_:1},8,["visible"]),i.value&&i.value.data?(n(),r("div",Le,[l("div",Se,[l("div",Ae,[p(o(_),{icon:"pi pi-bars text-xl",class:"",onClick:X})])]),p(o(re),{value:te.value,showThumbnails:!1,showIndicators:!0,autoPlay:!0,circular:!0,transitionInterval:4e3,class:"w-full h-full",containerStyle:"position:relative;",pt:{root:{style:{border:"none",boxShadow:"none"}},indicatorButton:{style:{width:"10px",height:"10px"}},indicatorList:{style:{padding:"5px"}}}},{item:d(s=>[l("div",Te,[l("img",{src:ee.value?s.item:o(a).pathFormated(s.item,i.value.imagesPath),alt:s.item.alt,style:{width:"100%",height:"100%","object-fit":"cover","object-position":"center",display:"block"}},null,8,je),t[8]||(t[8]=l("div",{style:{position:"absolute",inset:"0",background:"linear-gradient(to top, rgba(0,0,0,0.8), rgba(0,0,0,0.2) 50%, transparent)","pointer-events":"none","z-index":"1"}},null,-1)),l("div",ze,[l("h3",Fe,m(i.value.data.title||G.value),1),o(a).testEnvironment.value?(n(),r("div",Oe,[t[7]||(t[7]=l("h2",{class:"m-0"},"DEMO",-1)),l("span",null,m(o(f)("home.demoDescription")),1)])):k("",!0),l("div",null,[l("span",De,m(h(i.value.data.subtitle)),1)])])])]),_:1},8,["value"]),l("div",Ee,[l("div",Re,[p(o(_),{onClick:t[1]||(t[1]=s=>T()),class:"w-full font-bold",style:{"border-radius":"20px",width:"120px"}},{default:d(()=>[j(m(e.$t("home.takeAway")),1)]),_:1}),p(o(_),{onClick:t[2]||(t[2]=s=>Y()),class:"w-full font-bold",style:{"border-radius":"20px",width:"120px"}},{default:d(()=>[j(m(e.$t("home.reserve")),1)]),_:1})]),l("div",Me,[p(o(ue),{value:O.value,"onUpdate:value":t[3]||(t[3]=s=>O.value=s),class:"w-full max-w-xl mx-auto"},{default:d(()=>[(n(!0),r(w,null,x(i.value.data.titles,(s,u)=>(n(),z(o(ce),{value:u},{default:d(()=>[p(o(de),null,{default:d(()=>[j(m(h(s.title)),1)]),_:2},1024),p(o(me),{class:"p-1"},{default:d(()=>[s.title.text_zh.includes("餐厅信息")?(n(),r("div",Ve,m(se()),1)):(n(),r("div",qe,[l("div",Ge,m(h(s.description)),1),l("img",{src:o(a).pathFormated(s.image.src,i.value.imagesPath),class:"max-w-5rem h-auto block mr-auto p-1 invert-image"},null,8,Ue)]))]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),t[10]||(t[10]=l("div",{class:"p-4"},null,-1)),i.value.data?(n(!0),r(w,{key:0},x(i.value.data.frames,(s,u)=>(n(),r("div",null,[l("div",We,[(n(!0),r(w,null,x(s,(c,ot)=>(n(),r("div",null,[l("h1",Xe,m(h(c.title)),1),c.images.length<=1?(n(),r("div",Je,[l("img",{src:o(a).pathFormated(c.images[0].src,i.value.imagesPath),class:"w-full"},null,8,Qe)])):(n(),z(o(fe),{key:1,"slides-per-view":1,loop:!0,class:"w-full",modules:[o(ae)],pagination:{clickable:!0}},{default:d(()=>[(n(!0),r(w,null,x(c.images,(P,nt)=>(n(),z(o(pe),null,{default:d(()=>[l("div",He,[l("img",{src:o(a).pathFormated(P.src,i.value.imagesPath),class:"w-full h-full",style:{"object-fit":"cover"}},null,8,Ke)])]),_:2},1024))),256))]),_:2},1032,["modules"])),l("h4",Ye,m(h(c.subtitle)),1),(n(!0),r(w,null,x(c.descriptions,P=>(n(),r("div",null,[l("div",Ze,[l("div",et,[l("span",{class:q([R(0),"break-words text-left"]),style:{"white-space":"pre-wrap"}},m(h(P.left)),3),l("span",{class:q([R(1),"break-words text-right"]),style:{"white-space":"pre-wrap"}},m(h(P.right)),3)])])]))),256))]))),256))]),t[9]||(t[9]=l("div",{class:"p-4"},null,-1))]))),256)):k("",!0)])])):k("",!0),l("div",tt,[l("div",{class:"absoluto top-0 text-center text-xs p-2 underline cursor-pointer",onClick:t[4]||(t[4]=s=>E("https://5am3eq-wc.myshopify.com/"))}," ©2025 XIAOXIONG® v1.1.114 "),l("div",{class:"absoluto top-0 text-center text-xs p-2",onClick:t[5]||(t[5]=s=>E("https://5am3eq-wc.myshopify.com/"))},t[11]||(t[11]=[l("img",{src:le,style:{width:"7rem"}},null,-1)]))]),B.value?k("",!0):(n(),r("div",st,[p(o(_),{rounded:"","aria-label":"Star",onClick:t[6]||(t[6]=s=>T()),class:"w-full font-bold p-button-lg shadow-6"},{default:d(()=>t[12]||(t[12]=[l("span",{class:"material-icons text-5xl"},"restaurant",-1)])),_:1,__:[12]})]))],64))}},ft=xe(lt,[["__scopeId","data-v-d3202f4b"]]);export{ft as default};
