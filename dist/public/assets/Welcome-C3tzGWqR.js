import{s as Q,_ as Y,S as Z,P as ee,a as te}from"./pagination-Dgg-x0cS.js";import{u as q,r as w,c as $,a as r,o as le,b as se,w as ae,d as oe,e as ne,m as A,f as n,g as u,h as t,i as N,j as i,k as a,n as F,t as d,F as f,l as x,p as o,q as B,s as L}from"./index-CwtetuA0.js";import{s as re}from"./index-BJxvC5RP.js";import{s as g}from"./index-Dig9Jr-E.js";import{_ as ie,s as ue,a as ce,b as de,c as me}from"./_plugin-vue_export-helper-Ck1XjgNh.js";import"./index-Chk2KpXf.js";import"./index-C2ztQuki.js";import"./index-CagIISZ8.js";const pe=["src"],fe=["onClick"],ge=["src"],ve={class:"absolute top-0 border-0 right-0 p-2 flex flex-column flex align-items-center"},_e={class:"m-3 max-w-screen"},he={key:0,class:F(["w-full","p-4"])},be=["src"],we={key:0,class:"text-center p-1"},xe={key:1,class:"text-center p-1"},ye={class:"flex w-full"},ke={class:"flex flex-column"},Ce={class:"w-full text-sm break-words whitespace-pre-wrap px-2"},$e=["src"],Pe={class:"pt-5 pb-5"},Se={class:"border-400 border-round border-1 p-3"},Ie={class:"text-center font-bold"},Ne={key:0,class:"w-full overflow-hidden"},Be=["src"],Le={class:"w-full overflow-hidden",style:{"aspect-ratio":"2 / 1.5"}},Fe=["src"],Te={class:"font-bold"},Re={class:"flex flex-column"},je={class:"flex flex-row justify-content-between w-full"},ze={key:1,class:"flex flex-row w-full justify-content-center"},Oe={key:0,class:"fixed right-0 bottom-0 p-4",style:{"z-index":"2"}},qe={__name:"Welcome",props:["switchTo"],setup(Ae){const v=[{label:"pt",imagePath:"flags/pt.png"},{label:"en",imagePath:"flags/en.png"},{label:"zh",imagePath:"flags/zh.png"}],T=ne(),D=oe(),{locale:_}=q(),{t:h}=q(),b=w(null),P=w(!0);w([]);const R=w(),E=$(()=>r.getPickupDate("restaurantName")),c=w({});function V(){const e=localStorage.getItem("language");e&&(_.value=e)}let y=null;function G(){return new Promise(e=>{let l=()=>{const s=r.currentPage.value;s&&Object.keys(s).length>0?e(s):setTimeout(l,200)};l()})}le(async()=>{var e;V(),await G(),c.value=r.currentPage.value,console.log("page :",c.value),y=new IntersectionObserver(l=>{l.forEach(s=>{s.isIntersecting?P.value=!0:P.value=!1})},{threshold:.1}),(e=b.value)!=null&&e.$el&&y.observe(b.value.$el)}),se(()=>{var e;y&&((e=b.value)!=null&&e.$el)&&y.unobserve(b.value.$el)}),ae(()=>r.currentPage.value,e=>{e&&(c.value=e)},{immediate:!0});const U=$(()=>{const e="/";switch(_.value.toLowerCase()){case"pt":return e+v[0].imagePath;case"en":return e+v[1].imagePath;case"zh":return e+v[2].imagePath;default:return e+v[1].imagePath}});function m(e){return e[`text_${_.value.toLowerCase()}`]}const W=Date.now(),j=localStorage.getItem("login_time");let S;j&&(S=JSON.parse(j));const X=$(()=>v.filter(e=>e.label!==_.value.toLowerCase()).map(e=>({...e,command:()=>{_.value=e.label,J(e.label)}})));function J(e){localStorage.setItem("language",e)}function z(e){window.open(e,"_blank")}function M(){T.push("/takeReserve")}const H=e=>{R.value.toggle(e)};S&&(W-S>60*5*1e3?localStorage.clear():I());function I(){const e=D.query.table;T.push({path:"/table",query:{table:e}})}const K=$(()=>[{label:h("common.options"),items:[{label:h("common.pay"),icon:"pi pi-wallet",command:()=>{r.send_cmd(r.getTable(),"pay"),A.show_info(h("notification.pay_msg"))}},{label:h("common.call"),icon:"pi pi-user-plus",command:()=>{r.send_cmd(r.getTable(),"call"),A.show_info(h("notification.call_msg"))}}]}]);function O(e){return c.value.data.options[e]?"font-bold":""}return(e,l)=>(o(),n(f,null,[u(a(Q),{model:X.value,direction:"down",transitionDelay:80,class:"absolute top-0 left-0 border-0"},{button:i(({toggleCallback:s})=>[u(a(g),{outlined:"",onClick:s,class:"custom-clean-button"},{default:i(()=>[t("img",{src:U.value,style:{width:"38px",height:"38px"}},null,8,pe)]),_:2},1032,["onClick"])]),item:i(({item:s,toggleCallback:k})=>[t("div",{class:"flex flex-col items-center justify-between",onClick:k},[t("img",{src:s.imagePath,alt:"lang",style:{width:"38px",height:"38px"}},null,8,ge)],8,fe)]),_:1},8,["model"]),t("div",ve,[t("div",null,[u(a(g),{icon:"pi pi-bell",rounded:"","aria-label":"Filter",onClick:H,"aria-haspopup":"true","aria-controls":"overlay_menu",size:"small",style:{width:"42px",height:"42px"}}),u(a(re),{ref_key:"menu",ref:R,id:"overlay_menu",model:K.value,popup:!0},null,8,["model"])]),t("div",null,[u(a(g),{icon:"pi pi-instagram",class:"custom-clean-button",onClick:l[0]||(l[0]=()=>{})})])]),t("div",_e,[c.value?(o(),n("div",he,[t("img",{src:a(r).pathFormated(c.value.data.logoPath),alt:"Logo",class:"max-w-10rem h-auto w-full mx-auto block"},null,8,be),c.value.data.restaurantName?(o(),n("h1",we,d(c.value.data.restaurantName),1)):(o(),n("h1",xe,d(E.value),1))])):N("",!0),t("div",ye,[u(a(ue),{class:"w-full max-w-xl mx-auto"},{default:i(()=>[(o(!0),n(f,null,x(c.value.data.titles,(s,k)=>(o(),B(a(ce),{value:k},{default:i(()=>[u(a(de),null,{default:i(()=>[L(d(m(s.title)),1)]),_:2},1024),u(a(me),{class:"p-1"},{default:i(()=>[t("div",ke,[t("div",Ce,d(m(s.description)),1),t("img",{src:a(r).pathFormated(s.image.src),class:"max-w-5rem h-auto block mr-auto p-1 invert-image"},null,8,$e)])]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1})]),t("div",Pe,[u(a(g),{ref_key:"orderButtonRef",ref:b,onClick:l[1]||(l[1]=s=>I()),class:"w-full font-bold",style:{"border-radius":"20px"}},{default:i(()=>[L(d(e.$t("home.orderNow")),1)]),_:1},512)]),(o(!0),n(f,null,x(c.value.data.frames,(s,k)=>(o(),n("div",null,[t("div",Se,[(o(!0),n(f,null,x(s,(p,De)=>(o(),n("div",null,[t("h1",Ie,d(m(p.title)),1),p.images.length<=1?(o(),n("div",Ne,[t("img",{src:a(r).pathFormated(p.images[0].src),class:"w-full"},null,8,Be)])):(o(),B(a(te),{key:1,"slides-per-view":1,loop:!0,class:"w-full",modules:[a(ee)],pagination:{clickable:!0}},{default:i(()=>[(o(!0),n(f,null,x(p.images,(C,Ee)=>(o(),B(a(Z),null,{default:i(()=>[t("div",Le,[t("img",{src:a(r).pathFormated(C.src),class:"w-full h-full",style:{"object-fit":"cover"}},null,8,Fe)])]),_:2},1024))),256))]),_:2},1032,["modules"])),t("h4",Te,d(m(p.subtitle)),1),(o(!0),n(f,null,x(p.descriptions,C=>(o(),n("div",null,[t("div",Re,[t("div",je,[t("span",{class:F(O(0))},d(m(C.left)),3),t("span",{class:F(O(1))},d(m(C.right)),3)])])]))),256))]))),256))]),l[6]||(l[6]=t("div",{class:"p-4"},null,-1))]))),256)),a(r).testEnvironment.value?(o(),n("div",ze,[u(a(g),{class:"m-3 custom-bottom-button",onClick:l[2]||(l[2]=s=>M())},{default:i(()=>[L(d(e.$t("home.reserve")),1)]),_:1})])):N("",!0),t("div",{class:"absoluto top-0 text-center text-xs p-2 underline cursor-pointer",onClick:l[3]||(l[3]=s=>z("https://5am3eq-wc.myshopify.com/"))}," ©2025 XIAOXIONG® v2.0.7 "),t("div",{class:"absoluto top-0 text-center text-xs p-2",onClick:l[4]||(l[4]=s=>z("https://5am3eq-wc.myshopify.com/"))},l[7]||(l[7]=[t("img",{src:Y,style:{width:"7rem"}},null,-1)]))]),P.value?N("",!0):(o(),n("div",Oe,[u(a(g),{rounded:"","aria-label":"Star",onClick:l[5]||(l[5]=s=>I()),class:"w-full font-bold p-button-lg shadow-6"},{default:i(()=>l[8]||(l[8]=[t("span",{class:"material-icons text-5xl"},"restaurant",-1)])),_:1,__:[8]})]))],64))}},Ke=ie(qe,[["__scopeId","data-v-5d2be5ea"]]);export{Ke as default};
