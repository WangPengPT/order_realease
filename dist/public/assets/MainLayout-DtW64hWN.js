import{b as A,c as N,R as G}from"./index-DCoqaWx3.js";import{s as V,a as E}from"./index-DPqN2U2K.js";import{s as F}from"./index-CCnMC1M_.js";import{s as X}from"./index-Dd2cBSVd.js";import{s as U}from"./index-BwiRtjDv.js";import{u as H,q as x,s as m,x as J,h as K,j as Q,p as a,n as u,c as f,o as h,d as n,a as s,w as d,y as W,m as Y,f as Z,e as ee,z as te,t as ae,F as oe,l as se,R as ne}from"./index-B4uRmJZN.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-3bmNGLkZ.js";import"./index-kQnd38CN.js";import"./index-DkW852nD.js";import"./index-CuQC7mGY.js";import"./index-BYmHiqzf.js";import"./index-CFW-pw6o.js";import"./index-iq6hCW7q.js";import"./index-Drlghz5U.js";const le="/XIAOXIONG_LOGO.png",re={class:"w-full shadow-2 bg-primary"},ce={class:"flex flex-row justify-content-start"},pe={class:"flex align-items-center justify-content-center"},me=["src"],ue=["onClick"],de=["src"],he={class:"text-white"},ge={__name:"TopBar",setup(w){const g=H(),{t:e}=x(),{locale:l}=x();let c=0,b=null;const r=[{label:"pt",imagePath:"flags/pt.png"},{label:"en",imagePath:"flags/en.png"},{label:"zh",imagePath:"flags/zh.png"}],B=m(()=>{switch(l.value.toLowerCase()){case"pt":return"/"+r[0].imagePath;case"en":return"/"+r[1].imagePath;case"zh":return"/"+r[2].imagePath;default:return"/"+r[1].imagePath}}),P=m(()=>r.filter(o=>o.label!==l.value.toLowerCase()).map(o=>({...o,command:()=>{l.value=o.label,k(o.label)}})));function k(o){localStorage.setItem("language",o)}const t=Q(),C=J(),v=K(),S=m(()=>[{label:e("topBar.options"),items:[{label:e("topBar.homePage"),icon:"pi pi-home",command:()=>{window.open(window.env.ADDR+"/takeReserve","_blank")}},{label:e("topBar.uploadMenu"),icon:"pi pi-file-import",command:()=>{t.push(a.mainPath.updateMenu.path)}},{label:e("topBar.menuSorting"),icon:"pi pi-tag",command:()=>{t.push(a.mainPath.menuTags.path)}},{label:e("topBar.dishRating"),icon:"pi pi-star",command:()=>{}},{label:e("topBar.dishSales"),icon:"pi pi-hashtag",command:()=>{}},{label:e("topBar.pageEditing"),icon:"pi pi-file-edit",command:()=>{t.push(a.mainPath.editablePages.path)}},{label:e("topBar.printer"),icon:"pi pi-print",command:()=>{t.push(a.mainPath.printers.path)}},{label:e("topBar.qrCode"),icon:"pi pi-qrcode",command:()=>{t.push(a.mainPath.qcode.path)}},{label:e("topBar.settings"),icon:"pi pi-cog",command:()=>{t.push(a.mainPath.settings.path)}},{label:e("topBar.help"),icon:"pi pi-question",command:()=>{t.push(a.helpAndManual.path)}},{label:e("topBar.signOut"),icon:"pi pi-sign-out",command:()=>{D()}}]}]),M=o=>{v.value.toggle(o)};function $(){c++,clearTimeout(b),c===20&&(c=0,u.developerMode.value=!u.developerMode.value,u.developerMode.value?g.add({severity:"success",summary:e("common.success"),detail:"开发者模式开启",life:1e3}):g.add({severity:"success",summary:e("common.success"),detail:"开发者模式关闭",life:1e3})),b=setTimeout(()=>{c=0},1e3)}const j=m(()=>[{label:e("topBar.home"),icon:"pi pi-home",command:()=>{t.push(a.mainPath.path),$()}},{label:e("topBar.orders"),icon:"pi pi-receipt",command:()=>{t.push(a.mainPath.order.path)},badge:u.newOrderCount.value},{label:e("topBar.menu"),icon:"pi pi-book",command:()=>{t.push(a.mainPath.menu.path)}},{label:e("topBar.tables"),icon:"pi pi-table",command:()=>{t.push(a.mainPath.tables.path)}},{label:e("topBar.takeout"),icon:"pi pi-shopping-bag",command:()=>{t.push(a.mainPath.takeways.path)}}]);function D(){C.require({message:"确认登出您的账号?",header:"登出账号",icon:"pi pi-exclamation-triangle",rejectProps:{label:"取消登出",severity:"secondary",outlined:!0},acceptProps:{label:"确认登出",severity:"danger"},accept:()=>{localStorage.removeItem("loggedIn"),localStorage.removeItem("loginDate"),t.replace("/login")},reject:()=>{}})}return(o,p)=>{const I=U,y=A,L=X,R=V,T=N,O=F,q=E,z=G;return h(),f(oe,null,[n(I),s("div",re,[s("div",ce,[s("div",pe,[n(y,{type:"button",icon:"pi pi-bars",onClick:M,"aria-haspopup":"true","aria-controls":"overlay_menu",class:"custom-clean-button"}),p[0]||(p[0]=s("img",{src:le,class:"max-w-9rem p-1"},null,-1)),p[1]||(p[1]=s("span",{class:"text-lg font-bold",style:{color:"aliceblue"}},"SaaS System",-1)),n(L,{ref_key:"menu",ref:v,id:"overlay_menu",model:S.value,popup:!0},null,8,["model"])]),n(R,{model:P.value,direction:"left",transitionDelay:80,class:"ml-auto mr-3 border-0"},{button:d(({toggleCallback:i})=>[n(y,{outlined:"",onClick:i,class:"custom-clean-button"},{default:d(()=>[s("img",{src:B.value,style:{width:"32px",height:"32px"}},null,8,me)]),_:2},1032,["onClick"])]),item:d(({item:i,toggleCallback:_})=>[s("div",{class:"flex flex-col items-center justify-between",onClick:_},[s("img",{src:i.imagePath,alt:"lang",style:{width:"32px",height:"32px"}},null,8,de)],8,ue)]),_:1},8,["model"])]),n(O,{model:j.value,class:"justify-content-center bg-primary border-none",breakpoint:"369px"},{item:d(({item:i,props:_})=>[W((h(),f("a",Y({class:"flex flex-column justify-content-center align-items-center"},_.action),[s("span",{class:te([i.icon,"text-white"])},null,2),s("span",he,ae(i.label),1),i.badge?(h(),Z(T,{key:0,value:i.badge,severity:"danger",class:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/3",style:{"font-size":"0.7rem",height:"16px","min-width":"16px"}},null,8,["value"])):ee("",!0)],16)),[[z]])]),_:1},8,["model"])]),n(q)],64)}}},_e=ie(ge,[["__scopeId","data-v-bc680ec6"]]),fe={class:"fixed top-0 right-0 left-0 h-full w-full"},be={class:"w-full",style:{height:"calc(100dvh - 150px)"}},Re={__name:"MainLayout",setup(w){return(g,e)=>{const l=_e;return h(),f("div",fe,[n(l),s("div",be,[n(se(ne))])])}}};export{Re as default};
