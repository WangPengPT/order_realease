import{s as Ce}from"./index-1qMze69s.js";import{s as De}from"./index-Bsi-Sd13.js";import{s as Ie}from"./index-CV_ye--d.js";import{s as $e,a as Ue}from"./index-BpY7Scom.js";import{c as Se,a as Ae}from"./index-Dj_IRUm9.js";import{B as Te,c as A,o as T,d as je,m as Fe,q as Me,x as Ne,h as y,u as Le,s as K,n as x,i as Ee,a,b as t,w as r,l as m,F as Re,t as c,e as qe,G as Oe}from"./index-DzHUwVyT.js";import{s as Be}from"./index-hN7hn0f8.js";import{s as He,a as Ke,b as We}from"./index-vqYuOxMK.js";import{s as ze}from"./index-SutbmuNn.js";import{s as Ge,a as Ye}from"./index-ebALBZ2U.js";import{s as Je}from"./index-BS1jMPr4.js";import{_ as Qe}from"./default_image-wmO2RpFB.js";import{_ as Xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BiJebUMY.js";import"./index-DidCtkvN.js";import"./index-C0v_P10r.js";import"./index-Czp4exBW.js";import"./index-Cy_lTcNw.js";import"./index-CJInCNO_.js";import"./index-BuEHQXhk.js";var Ze=`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`,el={root:"p-inputgroup"},ll=Te.extend({name:"inputgroup",style:Ze,classes:el}),tl={name:"BaseInputGroup",extends:Se,style:ll,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},ne={name:"InputGroup",extends:tl,inheritAttrs:!1};function nl(F,s,E,M,R,$){return T(),A("div",Fe({class:F.cx("root")},F.ptmi("root")),[je(F.$slots,"default")],16)}ne.render=nl;const al={class:"card flex flex-column h-full"},ol={class:"m-0 font-bold text-2xl text-left flex-grow-1"},sl={class:"flex justify-content-end gap-2"},il={class:"flex gap-3"},ul={key:0},dl={class:"flex gap-3"},rl={key:1},pl={class:"flex flex-row align-items-center gap-4"},ml={class:"border-1"},cl=["src"],fl={key:1,class:"upload-placeholder"},vl={class:"flex flex-column gap-3 w-full"},gl={class:"flex flex-wrap gap-2"},bl={class:"flex align-items-center gap-1"},_l={class:"flex align-items-center gap-1"},yl={class:"flex align-items-center gap-1"},hl={for:"on_label"},wl={class:"flex flex-column gap-2 mt-3"},xl={for:"on_label"},Vl={for:"on_label"},Pl={for:"on_label"},kl={for:"on_label"},Cl={for:"on_label"},Dl={for:"on_label"},Il={class:"flex flex-column w-full gap-2"},$l={class:"flex flex-row justify-content-between w-full gap-2"},Ul={class:"w-6"},Sl={class:"w-6 gap-2"},Al={for:"on_label"},Tl={class:"flex flex-row justify-content-between w-full gap-2"},jl={class:"w-6"},Fl={for:"on_label"},Ml={class:"w-6"},Nl={for:"on_label"},Ll={class:"flex flex-row justify-content-between w-full gap-2"},El={class:"w-6"},Rl={for:"on_label"},ql={class:"w-6"},Ol={for:"on_label"},Bl={class:"flex flex-row justify-content-between w-full gap-2"},Hl={class:"w-6"},Kl={for:"on_label"},Wl={class:"w-6"},zl={for:"on_label"},Gl={class:"flex flex-row justify-content-between w-full gap-2"},Yl={class:"w-6"},Jl={class:"w-6"},Ql={for:"on_label"},Xl={class:"flex flex-row justify-content-end align-items-center gap-2"},Zl={class:"flex flex-row align-items-center mb-4 gap-2"},et={class:"flex items-center align-items-center gap-1"},lt={class:"flex items-center align-items-center gap-1"},tt={class:"flex items-center align-items-center gap-1"},nt={class:"flex flex-column gap-2"},at={for:"on_label"},ot={for:"on_label"},st={for:"on_label"},it={class:"flex flex-column w-full gap-2"},ut={class:"flex flex-row justify-content-between w-full gap-2"},dt={class:"w-6"},rt={class:"w-6 gap-2"},pt={for:"on_label"},mt={class:"flex flex-row justify-content-between w-full gap-2"},ct={class:"w-6"},ft={class:"w-6"},vt={for:"on_label"},gt={class:"flex flex-row justify-content-between w-full gap-2"},bt={class:"w-6"},_t={for:"on_label"},yt={class:"w-6"},ht={for:"on_label"},wt={class:"flex flex-row justify-content-between w-full gap-2"},xt={class:"w-6"},Vt={for:"on_label"},Pt={class:"flex flex-row justify-content-end gap-2"},kt={class:"flex flex-col items-center w-full gap-4 border-b border-surface-200 dark:border-surface-700"},Ct={style:{"white-space":"pre-line"},class:"flex justify-content-center"},Dt={__name:"MenuPage",setup(F){const{t:s}=Me(),E=Ne();let M=!1;const R=y(!1),$=y(""),W=y(),ae=y([{label:s("common.CSVSave"),icon:"pi pi-pencil",command:()=>{E.require({group:"templating",message:s("common.ConfirmCSV"),header:s("common.ConfirmTitle"),icon:"pi pi-exclamation-triangle",acceptLabel:s("common.Confirm"),rejectLabel:s("common.Cancel"),accept:()=>{ue(),P.add({severity:"success",summary:s("common.Success"),detail:s("common.CSVSavedSuccess"),life:4e3})},reject:()=>{P.add({severity:"warn",summary:s("common.Cancelled"),detail:s("common.CSVSaveCancelled"),life:3e3})}})}}]),oe=n=>{W.value.toggle(n)},se=y([{value:null,label:"-"},{value:"new",label:s("menuPage.etiquette.new")},{value:"recommended",label:s("menuPage.etiquette.recommended")}]);function z(){if(R.value=!1,$.value="",M){M=!0;return}let n={},e=!1;for(let i=0;i<w.length;i++)for(let d=0;d<j.length;d++){const u=w[i]+j[d];h.value[u]!=l.value[u]&&(n[u]=l.value[u],e=!0)}for(let i=0;i<C.length;i++){let d=C[i];h.value[d]!=l.value[d]&&(e=!0,n[d]=l.value[d])}h.value.disable?l.value.disable||(e=!0,n.disable=!1):l.value.disable&&(e=!0,n.disable=!0),e&&E.require({message:s("menuPage.saveMsg"),header:s("menuPage.saveHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:s("common.saveExit"),rejectLabel:s("common.cancel"),rejectClass:"p-button-secondary",accept:()=>{k.value=!1,B(n)},reject:()=>{k.value=!0}})}const P=Le(),ie=K(()=>{const n={},e=[];for(const i of x.menuApi.menuData.value){const d=i.handle;n[d]||(n[d]={main:null,subitems:[]}),i.category!==""?(n[d].main={...i},n[d].subitems.includes(n[d].main)||n[d].subitems.unshift(n[d].main)):n[d].subitems.push(i)}for(const i in n){const d=n[i];e.push({...d.main,subitems:d.subitems})}return e});function ue(){const n=x.menuApi.downloadCsv();console.log(n)}const O=y({global:{value:null,matchMode:Oe.CONTAINS}}),G=y({}),de=(n,e)=>{const i=n.map(u=>{var p;return{...u,subitems:(p=u.subitems)==null?void 0:p.filter(g=>g.subname!=="Default Title")}});if(!e)return i;const d=e.toLowerCase();return i.filter(u=>{var v;const p=Object.entries(u).filter(([b])=>b!=="subitems").some(([b,_])=>String(_).toLowerCase().includes(d)),g=(v=u.subitems)==null?void 0:v.some(b=>Object.values(b).some(_=>String(_).toLowerCase().includes(d)));return p||g}).map(u=>{var g;const p=Object.entries(u).filter(([v])=>v!=="subitems").some(([v,b])=>String(b).toLowerCase().includes(d));return{...u,subitems:p?u.subitems:(g=u.subitems)==null?void 0:g.filter(v=>Object.values(v).some(b=>String(b).toLowerCase().includes(d)))}})},re=K(()=>{const n=de(ie.value,O.value.global.value);return console.log("result: ",n),n}),pe=y([]),h=y(null),l=y({}),Y=y([]),me=K(()=>Array.from({length:17},(n,e)=>({id:e+1,name:s(`allergy[${e+1}]`)}))),J=y([{value:"DINEIN&TAKEAWAY",label:s("menuPage.dineIn")+" & "+s("menuPage.takeAway")},{value:"DINEIN",label:s("menuPage.dineIn")},{value:"TAKEAWAY",label:s("menuPage.takeAway")}]);let w=["name","note","subname"];const j=["","_en","_cn"];let C=["id","orderType","price","deliveryPrice","category","tags","image","soldout","discount","deliveryDiscount","dis_price","limit","x","etiquette","vegetable"];const k=y(!1),U=y(!1);function ce(){M=!0,k.value=!k.value}function fe(){U.value=!U.value}function ve(n){$.value=n.id,n.orderType||(n.orderType="DINEIN&TAKEAWAY"),D=void 0,k.value=!0,q(n)}function Q(n,e){console.log("data:",n);const i=!!n.subitems&&n.subitems.length>0&&!e,d=!!n.subitems&&n.subitems.length>0&&e,g=[{condition:i,messageKey:"menuPage.deleteMainDishMsg",localFun:()=>{}},{condition:d,messageKey:"menuPage.deleteFirstSubDishMsg",localFun:()=>{}},{condition:!i&&!d,messageKey:"menuPage.deleteMsg",localFun:()=>{}}].find(v=>v.condition);g&&E.require({message:s(g.messageKey),header:s("menuPage.deleteHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:s("common.delete"),rejectLabel:s("common.cancel"),acceptClass:"p-button-danger",rejectClass:"p-button-secondary",accept:()=>{x.menuApi.deleteItem(n.id,v=>{v.success?(P.add({severity:"success",summary:s("common.success"),detail:s("menuPage.deleteSucMsg"),life:3e3}),g.localFun()):P.add({severity:"error",summary:s("common.error"),detail:s("menuPage.deleteFailMsg"),life:3e3})})}})}function ge(n){$.value=n.id,l.orderType||(l.orderType="DINEIN&TAKEAWAY"),D=void 0,U.value=!0,q(n)}function q(n,e){X=e,h.value=n;for(let i=0;i<w.length;i++)l.value[w[i]]=n[w[i]],l.value[w[i]+"_en"]=n[w[i]+"_en"],l.value[w[i]+"_cn"]=n[w[i]+"_cn"];l.value.disable=n.disable||!1;for(let i=0;i<C.length;i++)l.value[C[i]]=n[C[i]]}let X=!1;function B(n){let e=n,i=!1;if(l.value.discount?(l.value.discount=Math.round(l.value.discount),l.value.discount>99&&(l.value.discount=99),l.value.discount<=0?(l.value.dis_price=void 0,l.value.discount=void 0):l.value.dis_price=N(l.value.discount,l.value.price)):l.value.dis_price=void 0,e)i=!0;else{e={};for(let d=0;d<w.length;d++)for(let u=0;u<j.length;u++){const p=w[d]+j[u];h.value[p]!=l.value[p]&&(e[p]=l.value[p],i=!0)}for(let d=0;d<C.length;d++){let u=C[d];h.value[u]!=l.value[u]&&(i=!0,e[u]=l.value[u])}h.value.disable?l.value.disable||(i=!0,e.disable=!1):l.value.disable&&(i=!0,e.disable=!0)}if(!i){P.add({severity:"error",summary:s("common.error"),detail:s("menuPage.notChanged"),life:3e3});return}if(i){let d=!1;if(l.value.id=l.value.id.trim(),l.value.id!==$.value&&x.menuApi.menuData.value.some(g=>g.id===l.value.id)){P.add({severity:"error",summary:s("common.error"),detail:`${s("menuPage.dishAllReadyExists")}: ${l.value.id}`,life:3e3});return}if(l.value.id!="")if(l.value.id==h.value.id)d=!0;else{d=!0;for(let p=0;p<x.menuApi.menuData.value.length;p++)if(l.value.id==x.menuApi.menuData.value[p].id){d=!1;break}}if(!d){P.add({severity:"error",summary:s("common.error"),detail:`${s("menuPage.invalidId")}: ${l.value.id}`,life:3e3});return}if(X)M=!0,e={...l.value},D?(D.subitems||(D.subitems=[D]),e.category="",D.subitems.push(e),e.handle=h.value.handle):(e.handle="handle_"+e.id,pe.value.push(e));else{e.org_id=h.value.id,e.handle=h.value.handle;for(let p=0;p<w.length;p++)for(let g=0;g<j.length;g++){const v=w[p]+j[g];h.value[v]=l.value[v]}h.value.disable=l.value.disable;for(let p=0;p<C.length;p++){let g=C[p];h.value[g]=l.value[g]}}console.log("update_data: ",e),e.category==""&&k.value&&(e.category="Undefined");const u=$.value!==""?$.value:e.id;U.value=!1,k.value=!1,x.menuApi.updateMenuItem(e,u),P.add({severity:"success",summary:s("common.success"),detail:s("menuPage.saveSuccess"),life:3e3})}}function N(n,e){if(!n||n==0)return e;let i=e*(100-n);return i=Math.round(i)/100,i}let D;function be(n){R.value=!0,D=n;let e={id:"",handle:n.handle,category:n.category,subname:"",price:"0"};U.value=!0,q(e,!0)}function _e(){R.value=!0,D=void 0;let n={id:"",handle:"",category:"",subname:"",price:"0"};k.value=!0,q(n,!0)}function Z(){ye()}Ee(()=>{Z()});function ye(){const n={},e=x.customDishApi.getSimplyCustomDishes().map(d=>d.name),i=x.customDishApi.getSimplyCustomDishes().map(d=>({name:d.name,value:d.name}));for(let d=0;d<x.menuApi.menuData.value.length;d++){const u=x.menuApi.menuData.value[d];u.category&&u.category!=""&&(n[u.category]||(n[u.category]=!0,i.push({name:u.category,value:u.category}),e.push(u.category))),u.tags&&u.tags!=""&&(n[u.tags]||(n[u.tags]=!0,i.push({name:u.tags,value:u.tags}),e.push(u.tags)))}Y.value=e}const ee=y(null);function le(){ee.value.click()}function he(n){const e=n.target.files[0];e&&we(e)}async function we(n){let e;e="/upload_image";const d=new FormData,u=await xe(n);d.append("image",u);let p=n.size/1e3;p=p.toFixed(2);let g=u.size/1e3;g=g.toFixed(2),console.log("file size: "+p+"k"),console.log("compressed size: "+g+"k");try{const v=await fetch(e,{method:"POST",body:d});if(!v.ok)throw new Error(s("common.uploadFailed"));const b=await v.json();l.value.image=b.imageUrl,P.add({severity:"success",summary:s("common.success"),detail:s("menuPage.uploadSucMsg"),life:3e3})}catch(v){console.error("上传错误",v),P.add({severity:"error",summary:s("common.error"),detail:s("menuPage.uploadFailMsg"),life:3e3})}}async function xe(n){return new Promise((e,i)=>{const d=new FileReader;d.onload=u=>{const p=new Image;p.onload=()=>{let b=p.width,_=p.height;b>_?b>512&&(_*=512/b,b=512):_>512&&(b*=512/_,_=512);const V=document.createElement("canvas"),f=V.getContext("2d");V.width=b,V.height=_,n.type==="image/png"&&(f.fillStyle="#ffffff",f.fillRect(0,0,V.width,V.height)),f.drawImage(p,0,0,b,_);const S=n.type==="image/png"?"image/png":"image/jpeg",I=S==="image/png"?.9:.7;V.toBlob(H=>{e(new File([H],n.name,{type:S,lastModified:Date.now()}))},S,I)},p.onerror=i,p.src=u.target.result},d.onerror=i,d.readAsDataURL(n)})}async function Ve(){try{await x.menuApi.refreshMenu(),Z()}catch(n){console.error("刷新失败:",n)}}return(n,e)=>{const i=Ae,d=Ye,u=Je,p=Ge,g=ze,v=Ke,b=He,_=$e,V=We,f=Be,S=ne,I=Ue,H=Ie,te=De,Pe=Ce;return T(),A(Re,null,[a("div",al,[t(b,{value:re.value,paginator:"",dataKey:"id",stripedRows:"",selectionMode:"single",rows:10,scrollable:"",class:"h-full flex flex-column",rowsPerPageOptions:[5,10,15,20,30,40],globalFilterFields:["id","name"],expandedRows:G.value,"onUpdate:expandedRows":e[1]||(e[1]=o=>G.value=o),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{header:r(()=>[a("h4",ol,c(n.$t("menuPage.menu")),1),a("div",sl,[t(i,{label:n.$t("menuPage.addDish"),onClick:_e,class:"unchange_white_text_button"},null,8,["label"]),t(p,null,{default:r(()=>[t(d,null,{default:r(()=>e[39]||(e[39]=[a("i",{class:"pi pi-search"},null,-1)])),_:1,__:[39]}),t(u,{modelValue:O.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=o=>O.value.global.value=o),placeholder:n.$t("menuPage.find")},null,8,["modelValue","placeholder"])]),_:1}),t(i,{type:"button",icon:"pi pi-ellipsis-v",onClick:oe,text:"","aria-haspopup":"true","aria-controls":"overlay_menu"}),t(g,{ref_key:"menuTool",ref:W,id:"overlay_menu",model:ae.value,popup:!0},null,8,["model"])])]),expansion:r(o=>[t(i,{label:n.$t("menuPage.addSub"),onClick:L=>be(o.data)},null,8,["label","onClick"]),o.data.subitems?(T(),A("div",ul,[t(b,{value:o.data.subitems},{default:r(()=>[t(v,{field:"id",header:n.$t("menuPage.subId")},null,8,["header"]),t(v,{field:"subname",header:n.$t("menuPage.subName")},null,8,["header"]),t(v,{class:"w-24 !text-end"},{body:r(({data:L})=>[a("div",dl,[t(i,{icon:"pi pi-pen-to-square",onClick:ke=>ge(L),severity:"secondary",rounded:""},null,8,["onClick"]),t(i,{icon:"pi pi-trash",onClick:ke=>Q(L,!0),severity:"secondary",class:"hover:bg-red-500 hover:text-white",rounded:""},null,8,["onClick"])])]),_:1})]),_:2},1032,["value"])])):(T(),A("div",rl,c(n.$t("menuPage.nothing")),1))]),paginatorstart:r(()=>[t(i,{type:"button",icon:"pi pi-refresh",onClick:Ve,text:""})]),default:r(()=>[t(v,{expander:"",style:{width:"5rem"}}),t(v,{field:"id",sortable:"",header:"ID"}),t(v,{field:"name",sortable:"",header:n.$t("menuPage.name")},null,8,["header"]),t(v,{class:"w-24 !text-end"},{body:r(({data:o})=>[a("div",il,[t(i,{icon:"pi pi-pen-to-square",onClick:L=>ve(o),severity:"secondary",rounded:""},null,8,["onClick"]),t(i,{icon:"pi pi-trash",onClick:L=>Q(o,!1),severity:"secondary",class:"hover:bg-red-500 hover:text-white",rounded:""},null,8,["onClick"])])]),_:1})]),_:1},8,["value","expandedRows"])]),t(te,{visible:k.value,"onUpdate:visible":e[23]||(e[23]=o=>k.value=o),class:"h-full",style:{width:"90%","max-width":"900px"},header:m(s)("menuPage.edit"),onHide:z,modal:""},{default:r(()=>[a("div",pl,[a("div",ml,[l.value.image?(T(),A("img",{key:0,src:l.value.image,style:{height:"100px",width:"100px"},onClick:le},null,8,cl)):(T(),A("div",fl,[l.value.image?qe("",!0):(T(),A("img",{key:0,src:Qe,style:{height:"100px",width:"100px"},onClick:le}))])),a("input",{type:"file",ref_key:"fileInput",ref:ee,accept:"image/*",style:{display:"none"},onChange:he},null,544)]),a("div",vl,[a("div",gl,[a("div",bl,[t(_,{modelValue:l.value.disable,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.disable=o),binary:""},null,8,["modelValue"]),a("label",null,c(m(s)("menuPage.disable")),1)]),a("div",_l,[t(_,{modelValue:l.value.soldout,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.soldout=o),binary:""},null,8,["modelValue"]),a("label",null,c(m(s)("menuPage.soldout")),1)]),a("div",yl,[t(_,{modelValue:l.value.vegetable,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.vegetable=o),binary:""},null,8,["modelValue"]),a("label",null,c(m(s)("menuPage.vegetable")),1)])]),a("div",null,[t(f,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.etiquette,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.etiquette=o),options:se.value,optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue","options"]),a("label",hl,c(m(s)("menuPage.etiquette.title")),1)]),_:1})])])]),a("div",wl,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.name,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.name=o),class:"w-full"},null,8,["modelValue"]),a("label",xl,c(m(s)("menuPage.namePT")),1)]),_:1}),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.name_en,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.name_en=o),class:"w-full"},null,8,["modelValue"]),a("label",Vl,c(m(s)("menuPage.nameEN")),1)]),_:1}),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.name_cn,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.name_cn=o),class:"w-full"},null,8,["modelValue"]),a("label",Pl,c(m(s)("menuPage.nameCN")),1)]),_:1}),e[41]||(e[41]=a("div",{class:"p-2"},null,-1)),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.note,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.note=o),class:"w-full"},null,8,["modelValue"]),a("label",kl,c(m(s)("menuPage.descriptPT")),1)]),_:1}),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.note_en,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.note_en=o),class:"w-full"},null,8,["modelValue"]),a("label",Cl,c(m(s)("menuPage.descriptEN")),1)]),_:1}),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.note_cn,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.note_cn=o),class:"w-full"},null,8,["modelValue"]),a("label",Dl,c(m(s)("menuPage.descriptCN")),1)]),_:1}),e[42]||(e[42]=a("div",{class:"p-2"},null,-1)),a("div",Il,[a("div",$l,[a("div",Ul,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.id=o),class:"w-full"},null,8,["modelValue"]),e[40]||(e[40]=a("label",{for:"on_label"},"ID",-1))]),_:1,__:[40]})]),a("div",Sl,[t(S,null,{default:r(()=>[t(f,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.orderType,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.orderType=o),options:J.value,optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue","options"]),a("label",Al,c(m(s)("menuPage.orderType")),1)]),_:1})]),_:1})])]),a("div",Tl,[a("div",jl,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[14]||(e[14]=o=>l.value.price=o),class:"w-full"},null,8,["modelValue"]),a("label",Fl,c(m(s)("menuPage.price")),1)]),_:1})]),a("div",Ml,[t(f,{variant:"on"},{default:r(()=>[t(I,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[15]||(e[15]=o=>l.value.discount=o),suffix:" % = "+N(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),a("label",Nl,c(m(s)("menuPage.dineInDisc")),1)]),_:1})])]),a("div",Ll,[a("div",El,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[16]||(e[16]=o=>l.value.deliveryPrice=o),class:"w-full"},null,8,["modelValue"]),a("label",Rl,c(m(s)("menuPage.deliveryPrice")),1)]),_:1})]),a("div",ql,[t(f,{variant:"on"},{default:r(()=>[t(I,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[17]||(e[17]=o=>l.value.deliveryDiscount=o),class:"w-full",suffix:" % = "+N(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),a("label",Ol,c(m(s)("menuPage.takeAwayDisc")),1)]),_:1})])]),a("div",Bl,[a("div",Hl,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.category,"onUpdate:modelValue":e[18]||(e[18]=o=>l.value.category=o),class:"w-full"},null,8,["modelValue"]),a("label",Kl,c(m(s)("menuPage.category")),1)]),_:1})]),a("div",Wl,[t(S,null,{default:r(()=>[t(f,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.tags,"onUpdate:modelValue":e[19]||(e[19]=o=>l.value.tags=o),options:Y.value,class:"w-full"},null,8,["modelValue","options"]),a("label",zl,c(m(s)("menuPage.tag")),1)]),_:1})]),_:1})])]),a("div",Gl,[a("div",Yl,[t(H,{modelValue:l.value.x,"onUpdate:modelValue":e[20]||(e[20]=o=>l.value.x=o),options:me.value,optionValue:"id",optionLabel:"name",filter:"",placeholder:"Select allergy",class:"w-full md:w-80"},null,8,["modelValue","options"])]),a("div",Jl,[t(f,{variant:"on"},{default:r(()=>[t(I,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[21]||(e[21]=o=>l.value.limit=o),class:"w-full",min:0,max:99},null,8,["modelValue"]),a("label",Ql,c(m(s)("menuPage.limit")),1)]),_:1})])])]),a("div",Xl,[t(i,{label:m(s)("menuPage.cancel"),onClick:ce},null,8,["label"]),t(i,{label:m(s)("menuPage.save"),onClick:e[22]||(e[22]=o=>B())},null,8,["label"])])])]),_:1},8,["visible","header"]),t(te,{visible:U.value,"onUpdate:visible":e[38]||(e[38]=o=>U.value=o),class:"h-full",style:{width:"90%","max-width":"700px"},header:m(s)("menuPage.editSub"),onHide:z,modal:""},{default:r(()=>[a("div",Zl,[a("div",et,[t(_,{modelValue:l.value.disable,"onUpdate:modelValue":e[24]||(e[24]=o=>l.value.disable=o),binary:""},null,8,["modelValue"]),a("label",null,c(m(s)("menuPage.disable")),1)]),a("div",lt,[t(_,{modelValue:l.value.soldout,"onUpdate:modelValue":e[25]||(e[25]=o=>l.value.soldout=o),binary:""},null,8,["modelValue"]),a("label",null,c(m(s)("menuPage.soldout")),1)]),a("div",tt,[t(_,{modelValue:l.value.vegetable,"onUpdate:modelValue":e[26]||(e[26]=o=>l.value.vegetable=o),binary:""},null,8,["modelValue"]),a("label",null,c(m(s)("menuPage.vegetable")),1)])]),a("div",nt,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.subname,"onUpdate:modelValue":e[27]||(e[27]=o=>l.value.subname=o),class:"w-full"},null,8,["modelValue"]),a("label",at,c(m(s)("menuPage.subnamePT")),1)]),_:1}),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.subname_en,"onUpdate:modelValue":e[28]||(e[28]=o=>l.value.subname_en=o),class:"w-full"},null,8,["modelValue"]),a("label",ot,c(m(s)("menuPage.subnameEN")),1)]),_:1}),t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.subname_cn,"onUpdate:modelValue":e[29]||(e[29]=o=>l.value.subname_cn=o),class:"w-full"},null,8,["modelValue"]),a("label",st,c(m(s)("menuPage.subnameCN")),1)]),_:1}),e[45]||(e[45]=a("div",{class:"p-2"},null,-1)),a("div",it,[a("div",ut,[a("div",dt,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[30]||(e[30]=o=>l.value.id=o),class:"w-full"},null,8,["modelValue"]),e[43]||(e[43]=a("label",{for:"on_label"},"ID",-1))]),_:1,__:[43]})]),a("div",rt,[t(S,null,{default:r(()=>[t(f,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.orderType,"onUpdate:modelValue":e[31]||(e[31]=o=>l.value.orderType=o),options:J.value,optionLabel:"label",optionValue:"value",class:"w-full"},null,8,["modelValue","options"]),a("label",pt,c(m(s)("menuPage.orderType")),1)]),_:1})]),_:1})])]),a("div",mt,[a("div",ct,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[32]||(e[32]=o=>l.value.price=o),class:"w-full"},null,8,["modelValue"]),e[44]||(e[44]=a("label",{for:"on_label"},"price",-1))]),_:1,__:[44]})]),a("div",ft,[t(f,{variant:"on"},{default:r(()=>[t(I,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[33]||(e[33]=o=>l.value.discount=o),suffix:" % = "+N(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),a("label",vt,c(m(s)("menuPage.dineInDisc")),1)]),_:1})])]),a("div",gt,[a("div",bt,[t(f,{variant:"on"},{default:r(()=>[t(u,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[34]||(e[34]=o=>l.value.deliveryPrice=o),class:"w-full"},null,8,["modelValue"]),a("label",_t,c(m(s)("menuPage.deliveryPrice")),1)]),_:1})]),a("div",yt,[t(f,{variant:"on"},{default:r(()=>[t(I,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[35]||(e[35]=o=>l.value.deliveryDiscount=o),class:"w-full",suffix:" % = "+N(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),a("label",ht,c(m(s)("menuPage.takeAwayDisc")),1)]),_:1})])]),a("div",wt,[a("div",xt,[t(f,{variant:"on"},{default:r(()=>[t(I,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[36]||(e[36]=o=>l.value.limit=o),class:"w-full",min:0,max:99},null,8,["modelValue"]),a("label",Vt,c(m(s)("menuPage.limit")),1)]),_:1})])])]),a("div",Pt,[t(i,{label:n.$t("menuPage.cancel"),onClick:fe},null,8,["label"]),t(i,{label:n.$t("menuPage.save"),onClick:e[37]||(e[37]=o=>B())},null,8,["label"])])])]),_:1},8,["visible","header"]),t(Pe,{group:"templating"},{message:r(o=>[a("div",kt,[a("p",Ct,c(o.message.message),1)])]),_:1})],64)}}},Gt=Xe(Dt,[["__scopeId","data-v-f5bb81cb"]]);export{Gt as default};
