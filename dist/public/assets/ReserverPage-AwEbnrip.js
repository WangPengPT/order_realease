import{a as $}from"./index-Ctot7uAr.js";import{s as B,a as F}from"./index-Ckj_WlNU.js";import{s as z,a as O}from"./index-B1jRRqNj.js";import{s as q}from"./index-ChSiZxGE.js";import{q as E,x as G,n as k,h,s as U,c,a as e,b as i,w as u,l as a,F as A,o as d,z as C,t as s,C as H,e as v,G as K}from"./index-DFkrUtCp.js";import{s as L}from"./index-BplOkIoe.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-czDiDa6v.js";import"./index-BNEkbZ-Q.js";import"./index-bP82aEM9.js";import"./index-2NU5GbuA.js";import"./index-Xj-Y3hLM.js";import"./index-CzJvYaxh.js";import"./index-DkGzqxl-.js";const Q={class:"card h-full",style:{display:"flex","flex-direction":"column"}},W={class:"flex flex-wrap gap-2 justify-content-between align-items-center"},X={class:"flex flex-column"},Y={class:"m-0 font-bold text-2xl text-left flex-grow-1"},Z={class:"flex flex-row gap-2 align-items-center"},ee={class:"font-bold"},te={class:"font-bold text-green-800"},se={class:"font-bold text-blue-800"},le={class:"font-bold text-red-800"},ae={key:0},re={key:1},oe={class:"text-center py-5"},ne={class:"mt-3 text-gray-500"},ie={class:"flex flex-row gap-2 align-items-center"},ce={class:"flex flex-column"},de={class:"text-lg font-bold"},ue={class:"text-sm text-gray-600"},ge={class:"flex flex-column gap-2 overflow-auto"},ve={class:"border-gray-300 border-1 border-round-lg p-3 flex flex-column gap-2"},pe={class:"flex flex-row justify-content-between align-items-center"},me={class:"text-sm text-gray-500"},fe={class:"flex flex-row align-items-center gap-2"},_e={key:0,class:"text-gray-500"},xe={class:"font-bold"},be={class:"flex flex-row align-items-center gap-2"},he={key:0,class:"text-gray-500"},ye={class:"font-bold"},Pe={class:"flex flex-row align-items-center gap-2"},we={key:0,class:"text-gray-500"},ke={class:"font-bold"},Ce={key:0,class:"flex flex-row align-items-center gap-2"},Ne={key:0,class:"text-gray-500"},De={class:""},je={class:"flex flex-row align-items-center gap-2"},Re={key:0,class:"text-gray-500"},Ie={class:""},Me={class:"flex flex-row align-items-center gap-2"},Se={key:0,class:"text-gray-500"},Te={class:""},Ve={key:1,class:"flex flex-row align-items-center gap-2"},$e={key:0,class:"text-gray-500"},Be={class:"text-purple-300 font-bold"},Fe={class:"flex flex-row justify-content-end"},ze={class:"text-xs text-gray-400"},Oe={__name:"ReserverPage",setup(qe){const{t}=E(),N=G(),f=k.tableReserves,r=h(),_=h(!1),g=h(!1);function D(o){r.value=o.data,_.value=!0,console.log(r.value)}const y=h({global:{value:null,matchMode:K.CONTAINS}}),P=U(()=>{const o=r.value.status;return o=="processing"?{label:t("reserverPage.processing")+"...",outlined:!0}:o=="voided"?{label:t("orderPage.voided"),outlined:!0}:{label:t("reserverPage.cancelReserve"),outlined:!1}});function j(){r.value.status=="processing"||r.value.status=="voided"||N.require({message:t("reserverPage.reserveCancellationMSG"),header:t("reserverPage.cancelReserve")+":"+r.value.name,rejectProps:{label:t("common.cancel"),severity:"secondary",outlined:!0},acceptProps:{label:t("common.confirm"),severity:"danger"},accept:()=>{k.cancelReserve({...r.value,status:"processing"},o=>{o.success?(r.value.status=o.data.status,_.value=!1):console.log("Cancellation Error:",o.data)})},reject:()=>{}})}function x(o){const l=f.value.filter(m=>m.financial_status==="voided"||m.status==="voided").length,b=f.value.filter(m=>m.status==="new"||m.status==="confirmed").length;switch(o){case"completed":return f.value.length-l-b;case"voided":return l;case"unCompleted":return b;default:return f.value.length}}const R=o=>({completed:"status-completed",confirmed:"status-confirmed",processing:"status-processing",new:"status-new",voided:"status-voided"})[o]||"",I=o=>({completed:t("orderPage.completed"),confirmed:t("orderPage.confirmed"),processing:t("reserverPage.processing"),new:t("orderPage.new"),voided:t("orderPage.voided")})[o]||o,M=o=>new Date(o).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return(o,l)=>{var w;const b=O,m=q,S=z,p=F,T=B,V=$;return d(),c(A,null,[e("div",Q,[i(T,{value:a(f),tableStyle:"min-width: 50rem",dataKey:"id",paginator:"",rows:10,rowsPerPageOptions:[10,20,50],stripedRows:"",scrollable:"",scrollHeight:"flex",filters:y.value,selectionMode:"single",onRowClick:D},{header:u(()=>[e("div",W,[e("div",X,[e("h4",Y,s(a(t)("reserverPage.header")),1),e("div",Z,[e("small",ee,s(a(t)("reserverPage.reserveNumber.total"))+":"+s(x("all")),1),e("small",te,s(a(t)("reserverPage.reserveNumber.success"))+":"+s(x("completed")),1),e("small",se,s(a(t)("reserverPage.reserveNumber.unfinished"))+":"+s(x("unCompleted")),1),e("small",le,s(a(t)("reserverPage.reserveNumber.canceled"))+":"+s(x("voided")),1)])]),i(S,null,{default:u(()=>[i(b,null,{default:u(()=>l[3]||(l[3]=[e("i",{class:"pi pi-search"},null,-1)])),_:1,__:[3]}),i(m,{modelValue:y.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=n=>y.value.global.value=n),placeholder:a(t)("orderPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:u(()=>[e("div",oe,[l[4]||(l[4]=e("i",{class:"pi pi-search",style:{"font-size":"3rem",color:"#ccc"}},null,-1)),e("p",ne,s(a(t)("orderPage.notFound")),1)])]),default:u(()=>[i(p,{header:a(t)("orderPage.status")},{body:u(({data:n})=>[e("span",{class:C(["status-badge",R(n.status||"new")])},s(I(n.status||"new")),3)]),_:1},8,["header"]),i(p,{field:"name",header:"ID",sortable:""}),i(p,{field:"date",header:a(t)("reserverPage.dateTime"),sortable:""},{body:u(({data:n})=>[H(s(n.date+" "+n.time),1)]),_:1},8,["header"]),i(p,{field:"discount",header:a(t)("reserverPage.discount")},{body:u(({data:n})=>[n.discount?(d(),c("label",ae,s(n.discount)+"%",1)):(d(),c("label",re))]),_:1},8,["header"]),i(p,{field:"customerName",header:a(t)("reserverPage.customerName")},null,8,["header"]),i(p,{field:"numberPeople",header:a(t)("reserverPage.numberPeople")},null,8,["header"]),i(p,{field:"phone",header:a(t)("reserverPage.phone")},null,8,["header"]),i(p,{field:"note",header:a(t)("reserverPage.note")},null,8,["header"])]),_:1},8,["value","filters"])]),i(a(L),{visible:_.value,"onUpdate:visible":l[2]||(l[2]=n=>_.value=n),header:a(t)("reserverPage.reserveDetails")+" (ID: "+((w=r.value)==null?void 0:w.name)+")",modal:"",style:{width:"450px"}},{header:u(()=>{var n;return[e("div",ie,[l[5]||(l[5]=e("div",{class:"border-round-3xl bg-gray-200 flex justify-content-center align-items-center p-2"},[e("i",{class:"pi pi-calendar text-xl font-bold"})],-1)),e("div",ce,[e("label",de,s(a(t)("reserverPage.reserveDetails")),1),e("label",ue,s(a(t)("reserverPage.reserveID"))+":"+s((n=r.value)==null?void 0:n.name),1)])])]}),footer:u(()=>[i(V,{label:P.value.label,outlined:P.value.outlined,class:"w-full p-2 border-round-xl",onClick:j},null,8,["label","outlined"])]),default:u(()=>{var n;return[e("div",ge,[e("div",ve,[e("div",pe,[e("label",me,s(a(t)("reserverPage.customerDetails")),1),e("i",{class:C([g.value?"pi pi-eye-slash":"pi pi-eye","text-gray-600"]),onClick:l[1]||(l[1]=Ee=>g.value=!g.value)},null,2)]),e("div",fe,[l[6]||(l[6]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-user text-gray-500"})],-1)),g.value?(d(),c("label",_e,s(a(t)("reserverPage.customerName"))+" :",1)):v("",!0),e("label",xe,s(r.value.customerName),1)]),e("div",be,[l[7]||(l[7]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-calendar text-gray-500"})],-1)),g.value?(d(),c("label",he,s(a(t)("reserverPage.dateTime"))+" :",1)):v("",!0),e("label",ye,s(r.value.date+" "+r.value.time),1)]),e("div",Pe,[l[8]||(l[8]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-users text-gray-500"})],-1)),g.value?(d(),c("label",we,s(a(t)("reserverPage.numberPeople"))+" :",1)):v("",!0),e("label",ke,s(r.value.numberPeople),1)]),r.value.discount?(d(),c("div",Ce,[l[9]||(l[9]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-percentage text-gray-500"})],-1)),g.value?(d(),c("label",Ne,s(a(t)("reserverPage.discount"))+" :",1)):v("",!0),e("label",De,s(r.value.discount?r.value.discount+"%":""),1)])):v("",!0),e("div",je,[l[10]||(l[10]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-phone text-gray-500"})],-1)),g.value?(d(),c("label",Re,s(a(t)("reserverPage.phone"))+" :",1)):v("",!0),e("label",Ie,s(r.value.phone),1)]),e("div",Me,[l[11]||(l[11]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-envelope text-gray-500"})],-1)),g.value?(d(),c("label",Se,s(a(t)("reserverPage.email"))+" :",1)):v("",!0),e("label",Te,s(r.value.email),1)]),(n=r.value)!=null&&n.note&&r.value.note!==""?(d(),c("div",Ve,[l[12]||(l[12]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-comment text-gray-500"})],-1)),g.value?(d(),c("label",$e,s(a(t)("reserverPage.notes"))+" :",1)):v("",!0),e("label",Be,s(r.value.note),1)])):v("",!0)])]),e("div",Fe,[e("label",ze,s(a(t)("reserverPage.creationDate")+": "+(r.value.creationDate?M(r.value.creationDate):"")),1)])]}),_:1},8,["visible","header"])],64)}}},st=J(Oe,[["__scopeId","data-v-4c94b492"]]);export{st as default};
