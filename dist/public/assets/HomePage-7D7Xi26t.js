import{g as Tt}from"./_commonjsHelpers-CqkleIqs.js";import{x as Oe,B as ye,y as Te,z as Ee,f as m,q as u,s as X,i as O,A as he,D as Z,E as ke,h as a,t as v,l as ue,u as pe,r as R,o as Le,a as A,g as B,F as G,p as ne,k as l,j as H,G as qe,v as be,m as le,e as ct,H as Dt,I as Ct,w as Pe,c as ve,J as ze,K as It,R as dt,L as He,M as St,N as We,O as Nt,P as Ne,Q as At,S as at,T as ft,U as Bt,V as Pt,W as Ae,n as st,b as Lt,d as qt}from"./index-ByhXQqin.js";import{s as ge,a as pt}from"./index-B4kmMQF4.js";import{s as J,a as vt}from"./index-BwRKEW_e.js";import{D as te,c as re,s as nt,a as zt}from"./index-DL233FvX.js";import{_ as De,a as Qe,b as Je,c as Ge,s as Ze,d as Ot,S as Et}from"./_plugin-vue_export-helper-D1qs8IXV.js";import{s as Mt}from"./index-CVHo_yJH.js";import{s as ot,a as Rt}from"./index-CXvvGulj.js";import{c as ce}from"./cookie-CTJN0GZu.js";import{s as jt}from"./index-Buf9bcrq.js";import{s as it}from"./index-BDOubgYR.js";import{s as Vt}from"./index-BsbxT-2Q.js";var Ke={exports:{}},lt;function Ft(){return lt||(lt=1,function(e){var t=function(){var o=String.fromCharCode,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function d(r,_){if(!p[r]){p[r]={};for(var S=0;S<r.length;S++)p[r][r.charAt(S)]=S}return p[r][_]}var j={compressToBase64:function(r){if(r==null)return"";var _=j._compress(r,6,function(S){return g.charAt(S)});switch(_.length%4){default:case 0:return _;case 1:return _+"===";case 2:return _+"==";case 3:return _+"="}},decompressFromBase64:function(r){return r==null?"":r==""?null:j._decompress(r.length,32,function(_){return d(g,r.charAt(_))})},compressToUTF16:function(r){return r==null?"":j._compress(r,15,function(_){return o(_+32)})+" "},decompressFromUTF16:function(r){return r==null?"":r==""?null:j._decompress(r.length,16384,function(_){return r.charCodeAt(_)-32})},compressToUint8Array:function(r){for(var _=j.compress(r),S=new Uint8Array(_.length*2),y=0,b=_.length;y<b;y++){var z=_.charCodeAt(y);S[y*2]=z>>>8,S[y*2+1]=z%256}return S},decompressFromUint8Array:function(r){if(r==null)return j.decompress(r);for(var _=new Array(r.length/2),S=0,y=_.length;S<y;S++)_[S]=r[S*2]*256+r[S*2+1];var b=[];return _.forEach(function(z){b.push(o(z))}),j.decompress(b.join(""))},compressToEncodedURIComponent:function(r){return r==null?"":j._compress(r,6,function(_){return h.charAt(_)})},decompressFromEncodedURIComponent:function(r){return r==null?"":r==""?null:(r=r.replace(/ /g,"+"),j._decompress(r.length,32,function(_){return d(h,r.charAt(_))}))},compress:function(r){return j._compress(r,16,function(_){return o(_)})},_compress:function(r,_,S){if(r==null)return"";var y,b,z={},W={},U="",Q="",V="",N=2,P=3,L=2,M=[],f=0,x=0,n;for(n=0;n<r.length;n+=1)if(U=r.charAt(n),Object.prototype.hasOwnProperty.call(z,U)||(z[U]=P++,W[U]=!0),Q=V+U,Object.prototype.hasOwnProperty.call(z,Q))V=Q;else{if(Object.prototype.hasOwnProperty.call(W,V)){if(V.charCodeAt(0)<256){for(y=0;y<L;y++)f=f<<1,x==_-1?(x=0,M.push(S(f)),f=0):x++;for(b=V.charCodeAt(0),y=0;y<8;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1}else{for(b=1,y=0;y<L;y++)f=f<<1|b,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=0;for(b=V.charCodeAt(0),y=0;y<16;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1}N--,N==0&&(N=Math.pow(2,L),L++),delete W[V]}else for(b=z[V],y=0;y<L;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1;N--,N==0&&(N=Math.pow(2,L),L++),z[Q]=P++,V=String(U)}if(V!==""){if(Object.prototype.hasOwnProperty.call(W,V)){if(V.charCodeAt(0)<256){for(y=0;y<L;y++)f=f<<1,x==_-1?(x=0,M.push(S(f)),f=0):x++;for(b=V.charCodeAt(0),y=0;y<8;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1}else{for(b=1,y=0;y<L;y++)f=f<<1|b,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=0;for(b=V.charCodeAt(0),y=0;y<16;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1}N--,N==0&&(N=Math.pow(2,L),L++),delete W[V]}else for(b=z[V],y=0;y<L;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1;N--,N==0&&(N=Math.pow(2,L),L++)}for(b=2,y=0;y<L;y++)f=f<<1|b&1,x==_-1?(x=0,M.push(S(f)),f=0):x++,b=b>>1;for(;;)if(f=f<<1,x==_-1){M.push(S(f));break}else x++;return M.join("")},decompress:function(r){return r==null?"":r==""?null:j._decompress(r.length,32768,function(_){return r.charCodeAt(_)})},_decompress:function(r,_,S){var y=[],b=4,z=4,W=3,U="",Q=[],V,N,P,L,M,f,x,n={val:S(0),position:_,index:1};for(V=0;V<3;V+=1)y[V]=V;for(P=0,M=Math.pow(2,2),f=1;f!=M;)L=n.val&n.position,n.position>>=1,n.position==0&&(n.position=_,n.val=S(n.index++)),P|=(L>0?1:0)*f,f<<=1;switch(P){case 0:for(P=0,M=Math.pow(2,8),f=1;f!=M;)L=n.val&n.position,n.position>>=1,n.position==0&&(n.position=_,n.val=S(n.index++)),P|=(L>0?1:0)*f,f<<=1;x=o(P);break;case 1:for(P=0,M=Math.pow(2,16),f=1;f!=M;)L=n.val&n.position,n.position>>=1,n.position==0&&(n.position=_,n.val=S(n.index++)),P|=(L>0?1:0)*f,f<<=1;x=o(P);break;case 2:return""}for(y[3]=x,N=x,Q.push(x);;){if(n.index>r)return"";for(P=0,M=Math.pow(2,W),f=1;f!=M;)L=n.val&n.position,n.position>>=1,n.position==0&&(n.position=_,n.val=S(n.index++)),P|=(L>0?1:0)*f,f<<=1;switch(x=P){case 0:for(P=0,M=Math.pow(2,8),f=1;f!=M;)L=n.val&n.position,n.position>>=1,n.position==0&&(n.position=_,n.val=S(n.index++)),P|=(L>0?1:0)*f,f<<=1;y[z++]=o(P),x=z-1,b--;break;case 1:for(P=0,M=Math.pow(2,16),f=1;f!=M;)L=n.val&n.position,n.position>>=1,n.position==0&&(n.position=_,n.val=S(n.index++)),P|=(L>0?1:0)*f,f<<=1;y[z++]=o(P),x=z-1,b--;break;case 2:return Q.join("")}if(b==0&&(b=Math.pow(2,W),W++),y[x])U=y[x];else if(x===z)U=N+N.charAt(0);else return null;Q.push(U),y[z++]=N+U.charAt(0),b--,N=U,b==0&&(b=Math.pow(2,W),W++)}}};return j}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})}(Ke)),Ke.exports}var Ht=Ft();const Ue=Tt(Ht);var Kt=Oe`
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: dt('tag.primary.background');
        color: dt('tag.primary.color');
        font-size: dt('tag.font.size');
        font-weight: dt('tag.font.weight');
        padding: dt('tag.padding');
        border-radius: dt('tag.border.radius');
        gap: dt('tag.gap');
    }

    .p-tag-icon {
        font-size: dt('tag.icon.size');
        width: dt('tag.icon.size');
        height: dt('tag.icon.size');
    }

    .p-tag-rounded {
        border-radius: dt('tag.rounded.border.radius');
    }

    .p-tag-success {
        background: dt('tag.success.background');
        color: dt('tag.success.color');
    }

    .p-tag-info {
        background: dt('tag.info.background');
        color: dt('tag.info.color');
    }

    .p-tag-warn {
        background: dt('tag.warn.background');
        color: dt('tag.warn.color');
    }

    .p-tag-danger {
        background: dt('tag.danger.background');
        color: dt('tag.danger.color');
    }

    .p-tag-secondary {
        background: dt('tag.secondary.background');
        color: dt('tag.secondary.color');
    }

    .p-tag-contrast {
        background: dt('tag.contrast.background');
        color: dt('tag.contrast.color');
    }
`,Ut={root:function(t){var o=t.props;return["p-tag p-component",{"p-tag-info":o.severity==="info","p-tag-success":o.severity==="success","p-tag-warn":o.severity==="warn","p-tag-danger":o.severity==="danger","p-tag-secondary":o.severity==="secondary","p-tag-contrast":o.severity==="contrast","p-tag-rounded":o.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},Wt=ye.extend({name:"tag",style:Kt,classes:Ut}),Qt={name:"BaseTag",extends:Te,props:{value:null,severity:null,rounded:Boolean,icon:String},style:Wt,provide:function(){return{$pcTag:this,$parentInstance:this}}};function xe(e){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(e)}function Jt(e,t,o){return(t=Gt(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Gt(e){var t=Zt(e,"string");return xe(t)=="symbol"?t:t+""}function Zt(e,t){if(xe(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var g=o.call(e,t);if(xe(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var we={name:"Tag",extends:Qt,inheritAttrs:!1,computed:{dataP:function(){return Ee(Jt({rounded:this.rounded},this.severity,this.severity))}}},Xt=["data-p"];function Yt(e,t,o,g,h,p){return u(),m("span",Z({class:e.cx("root"),"data-p":p.dataP},e.ptmi("root")),[e.$slots.icon?(u(),X(ke(e.$slots.icon),Z({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(u(),m("span",Z({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):O("",!0),e.value!=null||e.$slots.default?he(e.$slots,"default",{key:2},function(){return[a("span",Z({class:e.cx("label")},e.ptm("label")),v(e.value),17)]}):O("",!0)],16,Xt)}we.render=Yt;var ea=Oe`
    .p-avatar {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: dt('avatar.width');
        height: dt('avatar.height');
        font-size: dt('avatar.font.size');
        background: dt('avatar.background');
        color: dt('avatar.color');
        border-radius: dt('avatar.border.radius');
    }

    .p-avatar-image {
        background: transparent;
    }

    .p-avatar-circle {
        border-radius: 50%;
    }

    .p-avatar-circle img {
        border-radius: 50%;
    }

    .p-avatar-icon {
        font-size: dt('avatar.icon.size');
        width: dt('avatar.icon.size');
        height: dt('avatar.icon.size');
    }

    .p-avatar img {
        width: 100%;
        height: 100%;
    }

    .p-avatar-lg {
        width: dt('avatar.lg.width');
        height: dt('avatar.lg.width');
        font-size: dt('avatar.lg.font.size');
    }

    .p-avatar-lg .p-avatar-icon {
        font-size: dt('avatar.lg.icon.size');
        width: dt('avatar.lg.icon.size');
        height: dt('avatar.lg.icon.size');
    }

    .p-avatar-xl {
        width: dt('avatar.xl.width');
        height: dt('avatar.xl.width');
        font-size: dt('avatar.xl.font.size');
    }

    .p-avatar-xl .p-avatar-icon {
        font-size: dt('avatar.xl.icon.size');
        width: dt('avatar.xl.icon.size');
        height: dt('avatar.xl.icon.size');
    }

    .p-avatar-group {
        display: flex;
        align-items: center;
    }

    .p-avatar-group .p-avatar + .p-avatar {
        margin-inline-start: dt('avatar.group.offset');
    }

    .p-avatar-group .p-avatar {
        border: 2px solid dt('avatar.group.border.color');
    }

    .p-avatar-group .p-avatar-lg + .p-avatar-lg {
        margin-inline-start: dt('avatar.lg.group.offset');
    }

    .p-avatar-group .p-avatar-xl + .p-avatar-xl {
        margin-inline-start: dt('avatar.xl.group.offset');
    }
`,ta={root:function(t){var o=t.props;return["p-avatar p-component",{"p-avatar-image":o.image!=null,"p-avatar-circle":o.shape==="circle","p-avatar-lg":o.size==="large","p-avatar-xl":o.size==="xlarge"}]},label:"p-avatar-label",icon:"p-avatar-icon"},aa=ye.extend({name:"avatar",style:ea,classes:ta}),sa={name:"BaseAvatar",extends:Te,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:aa,provide:function(){return{$pcAvatar:this,$parentInstance:this}}};function $e(e){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(e)}function rt(e,t,o){return(t=na(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function na(e){var t=oa(e,"string");return $e(t)=="symbol"?t:t+""}function oa(e,t){if($e(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var g=o.call(e,t);if($e(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xe={name:"Avatar",extends:sa,inheritAttrs:!1,emits:["error"],methods:{onError:function(t){this.$emit("error",t)}},computed:{dataP:function(){return Ee(rt(rt({},this.shape,this.shape),this.size,this.size))}}},ia=["aria-labelledby","aria-label","data-p"],la=["data-p"],ra=["data-p"],ua=["src","alt","data-p"];function ca(e,t,o,g,h,p){return u(),m("div",Z({class:e.cx("root"),"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptmi("root"),{"data-p":p.dataP}),[he(e.$slots,"default",{},function(){return[e.label?(u(),m("span",Z({key:0,class:e.cx("label")},e.ptm("label"),{"data-p":p.dataP}),v(e.label),17,la)):e.$slots.icon?(u(),X(ke(e.$slots.icon),{key:1,class:ue(e.cx("icon"))},null,8,["class"])):e.icon?(u(),m("span",Z({key:2,class:[e.cx("icon"),e.icon]},e.ptm("icon"),{"data-p":p.dataP}),null,16,ra)):e.image?(u(),m("img",Z({key:3,src:e.image,alt:e.ariaLabel,onError:t[0]||(t[0]=function(){return p.onError&&p.onError.apply(p,arguments)})},e.ptm("image"),{"data-p":p.dataP}),null,16,ua)):O("",!0)]})],16,ia)}Xe.render=ca;const da={class:"grid"},fa={key:0,class:"col-12 sm:col-12 md:col-6 lg:col-4 border-round surface-section shadow-1 p-2"},pa={class:"flex flex-column"},va=["onClick"],ha={class:"p-1 flex-shrink-0 w-7rem h-7rem flex align-items-center justify-content-center overflow-hidden"},ma=["src","alt"],ba={class:"flex flex-column justify-content-center"},ga={class:"font-bold"},ya={class:"flex flex-wrap gap-2"},_a={class:"flex gap-1 align-items-center"},wa={class:"text-color-secondary line2"},ka={key:0,class:"text-xl font-bold text-primary"},xa={key:1,class:"flex align-items-center gap-1"},$a={class:"text-l font-bold text-color-secondary"},Ta={class:"text-sm line-through text-500"},Da={key:2,class:"flex gap-2 mr-2",id:"card-quantity"},Ca={class:"w-2rem text-xl text-center"},Ia={key:3,class:"flex gap-2 mr-2"},Sa={key:0,class:"m-2 mt-0"},Na={class:"flex flex-row justify-content-between align-content-center"},Aa={class:"flex flex-column"},Ba={class:"text-l font-bold"},Pa={key:0,class:"text-l font-bold text-color-secondary"},La={key:1,class:"flex align-items-center gap-1"},qa={class:"text-l font-bold text-color-secondary"},za={class:"text-sm line-through text-500"},Oa={key:0,class:"flex ml-2 mr-2"},Ea={class:"w-2rem text-xl text-center"},Ma={key:1,class:"flex gap-2 mr-3 pt-2 pb-2"},Ra={class:"max-w-5rem flex align-items-center"},ja={class:"font-bold whitespace-nowrap"},Va={class:"mb-2 flex justify-content-center"},Fa={class:"font-bold text-center"},Ha={class:"mb-2"},Ka={class:"text-color-secondary m-0 line-height-3 line2 text-center"},Ua={class:"mb-2"},Wa={class:"flex justify-content-center"},Qa=["src","alt"],Ja={class:"flex align-items-center gap-2"},Ga=["src","alt"],Za={class:"flex align-items-center gap-3 ml-auto"},Xa={__name:"DishList",props:{rateDish:{type:Function,required:!0},likedItemsRef:Array,dislikedItemsRef:Array,tabIndex:Number,onlyVeg:Boolean},setup(e){const{t}=pe(),o=te.dishDatas,g=R(null),h=e,p=(n,F=!0)=>{if(!h.onlyVeg)return!0;if(F)return n.vegetable;if(n.subItems.length>0){for(const s of n.subItems)if(s.vegetable)return!0}else return n.dish.vegetable;return!1};Le(()=>{let n=A.getOrderMenuTab()[h.tabIndex];if(A.customDishAPI.customDishes.value.map(C=>C.name),A.getMenu().length==0){console.log("exit");return}g.value=o.value[s(o.value,n)].mainDishes,te.showDishList(g.value);function s(C,q){for(const k in C)if(C[k].name==q)return k;console.error("Can not find tab index in menu")}});let d={rated:!1,id:null,like:0,rate:0};function j(){var s;const n=A.currentPage.value,F=(s=n==null?void 0:n.data)==null?void 0:s.logoPath;return F?A.pathFormated(F,n.imagesPath):"/images/logo_logo.png"}const r=n=>te.dishDatas.value[n]?te.dishDatas.value[n].quantity:0,_=n=>{if(!y())return!1;const F=n.quantity;let s=3;if(n.price>0&&(s=9),n.limit){const C=n.id,q=y(),k=(q.peopleType.adults+q.peopleType.children)*n.limit,I=q.order.find($=>$.dishid==C);let w=0;if(n.subitem)for(const $ of n.subitem){w+=r($);const ee=q.order.find(E=>E.dishid==S($));ee&&(w+=ee.quantity)}else w+=n.quantity,I&&(w+=I.quantity);return F>=s||k&&w>=k}return F>=s},S=n=>te.dishDatas.value[n]?te.dishDatas.value[n].id:0,y=()=>A.getTableValue(),b=n=>{let F="absolute origin-top-left mt-1 ml-1 border-round-lg pl-1 pr-1 text-xs text-white font-bold ";switch(n){case"new":F+="bg-red-600";break;case"recommended":case"special":F+="bg-orange-600";break;default:F+="bg-blue-600"}return F};function z(n){h.rateDish(d.id,d.like,d.rate,d.rated),U(n,d.rate,d.like),d.id=null,d.like=0,d.rate=0,d.rated=!1}const W=n=>{const F=h.likedItemsRef.indexOf(n);if(d.id=n.id,F!==-1)h.likedItemsRef.splice(F,1),d.like+=-1,d.rate+=-1,d.rated=!1;else{d.rated=!0,h.likedItemsRef.push(n);const s=h.dislikedItemsRef.indexOf(n);s!==-1?(h.dislikedItemsRef.splice(s,1),d.like+=1):(d.like+=1,d.rate+=1)}z(n)};function U(n,F=0,s=0){n.rates=(n.rates||0)+F,n.likes=(n.likes||0)+s}const Q=n=>{const F=h.dislikedItemsRef.indexOf(n);if(d.id=n.id,F!==-1)h.dislikedItemsRef.splice(F,1),d.rate+=-1,d.rated=!1;else{d.rated=!0,h.dislikedItemsRef.push(n);const s=h.likedItemsRef.indexOf(n);s!==-1?(h.likedItemsRef.splice(s,1),d.like+=-1):d.rate+=1}z(n)},V=R(!1),N=R({}),P=n=>{V.value=!0,N.value=n},L=n=>{n.target.src="/images/default.png"};function M(n){x(n.target,300)}function f(n){x(n.target,110)}function x(n,F){const s=n.naturalWidth,C=n.naturalHeight,q=Math.min(s,F),k=q/s,I=C*k;n.style.width=`${q}px`,n.style.height=`${I}px`}return(n,F)=>(u(),m(G,null,[a("div",da,[(u(!0),m(G,null,ne(g.value,(s,C)=>{var q;return u(),m(G,{key:C},[p(s,!1)?(u(),m("div",fa,[a("div",pa,[a("div",{class:ue(["flex flex-row",s.subItems.length!==0?"flex-grow-1":""]),onClick:k=>P(s.dish)},[((q=s.dish.etiquette)==null?void 0:q.length)>0?(u(),m("div",{key:0,class:ue(b(s.dish.etiquette))},v(l(t)("common.etiquette."+s.dish.etiquette)),3)):O("",!0),a("div",ha,[a("img",{src:s.dish.image||"/images/default.png",alt:s.dish.name,class:"w-full h-full",style:{"object-fit":"cover"},onError:L,onLoad:f},null,40,ma)]),a("div",ba,[a("div",ga,v(s.dish.name),1),a("div",null,[a("div",ya,[a("div",_a,[(u(),m(G,null,ne(5,k=>a("i",{key:k,class:ue(["pi invert-star",k<=Math.floor(s.dish.likes/s.dish.rates*5)?"pi-star-fill":k-.5<=s.dish.likes/s.dish.rates*5?"pi-star-half-fill":"pi-star"]),style:{color:"black"}},null,2)),64)),a("p",null,"("+v(s.dish.rates?s.dish.rates:0)+")",1)])])]),a("div",null,[a("p",wa,v(s.dish.note),1)])])],10,va),s.subItems.length==0?(u(),m("div",{key:0,class:ue(["flex ml-2 mr-2 mb-2",Number(s.dish.price)>0?"justify-content-between":"justify-content-end"])},[!s.dish.discount&&Number(s.dish.price)>0?(u(),m("span",ka,"â‚¬"+v(s.dish.price),1)):O("",!0),s.dish.discount?(u(),m("div",xa,[a("span",$a,"â‚¬"+v(s.dish.dis_price),1),a("span",Ta,"â‚¬"+v(s.dish.price),1),B(l(we),{severity:"danger",value:"-"+s.dish.discount+"%"},null,8,["value"])])):O("",!0),s.dish.soldout?O("",!0):(u(),m("div",Da,[B(l(J),{icon:"pi pi-minus",rounded:"",disabled:s.dish.quantity<=0,onClick:k=>s.dish.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",Ca,v(s.dish.quantity),1),B(l(J),{icon:"pi pi-plus",rounded:"",disabled:_(s.dish),onClick:k=>s.dish.quantity++,class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])),s.dish.soldout?(u(),m("div",Ia,[B(l(we),{severity:"danger",value:n.$t("common.soldout")},null,8,["value"])])):O("",!0)],2)):O("",!0),s.subItems.length!==0?(u(!0),m(G,{key:1},ne(s.subItems,(k,I)=>(u(),m(G,{key:"index"},[!k.disable&&p(k)?(u(),m("div",Sa,[a("div",Na,[a("div",Aa,[a("span",Ba,v(k.subname),1),!k.discount&&k.price!=="0.00"&&k.price!=="0"?(u(),m("span",Pa,"â‚¬"+v(k.price),1)):O("",!0),k.discount?(u(),m("div",La,[a("span",qa,"â‚¬"+v(k.dis_price),1),a("span",za,"â‚¬"+v(k.price),1),B(l(we),{severity:"danger",value:"-"+k.discount+"%"},null,8,["value"])])):O("",!0)]),k.soldout?O("",!0):(u(),m("div",Oa,[B(l(J),{icon:"pi pi-minus",rounded:"",disabled:k.quantity<=0,onClick:w=>k.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",Ea,v(k.quantity),1),B(l(J),{icon:"pi pi-plus",rounded:"",onClick:w=>k.quantity++,class:"w-2rem h-2rem",disabled:_(k)},null,8,["onClick","disabled"])])),k.soldout?(u(),m("div",Ma,[B(l(we),{severity:"danger",value:n.$t("common.soldout")},null,8,["value"])])):O("",!0)])])):O("",!0)],64))),128)):O("",!0)])])):O("",!0)],64)}),128))]),B(l(ge),{visible:V.value,"onUpdate:visible":F[2]||(F[2]=s=>V.value=s),modal:"",header:"dish",style:qe([{width:"23rem"},{width:"80vw","max-width":"700px"}])},{header:H(()=>[a("div",Ra,[B(l(Xe),{image:j(),class:"w-full"},null,8,["image"])]),a("span",ja,v(n.$t("common.details")),1)]),default:H(()=>[a("div",Va,[a("span",Fa,v(N.value.name),1)]),a("div",Ha,[a("span",Ka,v(N.value.note),1)]),a("div",Ua,[a("div",Wa,[a("img",{class:"w-full h-auto object-contain",src:N.value.image,alt:N.value.name,onError:L,onLoad:M},null,40,Qa)])]),a("div",Ja,[(u(!0),m(G,null,ne(N.value.allergies,(s,C)=>(u(),m("img",{src:"images/"+s+".png",alt:s,class:"w-2rem h-2rem border-round flex-shrink-0",style:{"object-fit":"cover","min-width":"2rem"}},null,8,Ga))),256)),a("div",Za,[a("button",{onClick:F[0]||(F[0]=s=>W(N.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[a("i",{class:ue(["pi pi-thumbs-up text-xl",h.likedItemsRef.includes(N.value)?"text-green-500":"text-gray-400"])},null,2)]),a("button",{onClick:F[1]||(F[1]=s=>Q(N.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[a("i",{class:ue(["pi pi-thumbs-down text-xl",h.dislikedItemsRef.includes(N.value)?"text-red-500":"text-gray-400"])},null,2)])])])]),_:1},8,["visible"])],64))}},Ya=De(Xa,[["__scopeId","data-v-00befd56"]]),es={key:0,class:"text-3xl font-bold"},ts={class:"flex flex-column gap-3 p-1"},as={key:0,class:"flex flex-column gap-1"},ss={key:0,class:"m-0"},ns={key:0,class:"m-0"},os={class:"flex justify-content-between gap-4 mt-1"},is={class:"flex align-items-center gap-2"},ls=["src","alt"],rs={class:"flex-grow-1 min-width-0 max-w-18rem"},us={class:"flex flex-column gap-1"},cs={class:"flex align-items-center gap-2"},ds={class:"text-xl font-bold line1 whitespace-nowrap overflow-hidden text-overflow-ellipsis",style:{"max-width":"20rem"}},fs={class:"flex align-items-end gap-1"},ps={key:0,class:"text-xl font-bold text-primary"},vs={key:1,class:"text-xl font-bold text-primary"},hs={key:2,class:"text-sm text-color-secondary"},ms={key:0,class:"text-xs text-primary"},bs={class:"flex-shrink-0 flex flex-wrap justify-content-between align-items-center gap-1"},gs={class:"flex flex-wrap justify-content-between align-content-center"},ys={class:"flex align-items-center gap-1"},_s={class:"w-2rem text-center"},ws={key:1,class:"flex flex-column gap-2 mt-2"},ks={for:"in_label"},xs={for:"in_label"},$s={class:"bottom-0 left-0 mt-2"},Ts={class:"text-2xl font-bold"},Ds={class:"text-2xl font-bold text-primary pl-2"},Cs={class:"flex justify-content-between"},Is={__name:"Cart",props:{checkout:{type:Function,required:!0},isTakeaway:Boolean},setup(e,{expose:t}){const{locale:o}=pe(),g=ct(),{t:h}=pe(),p=re.cartDishs,d=R([]),j=R(),r=R(),_=R(!1),S=R(!1),y=R(!0),b=R(""),z=R("");function W(I,w,$){let ee="";const E=o.value,Y=A.customDishAPI.getCustomDishByName(I);for(const se of $){const de=Y.types[w].dishes.find(fe=>fe.dishid===se.id)[`name_${E}`];ee=ee+de+"/"}return ee}function U(I,w){const $=o.value;return A.customDishAPI.getCustomDishByName(I).types[w][`typeName_${$}`]}const Q=(I,w)=>{const $=d.value[I].quantity+w;$>=0&&(d.value[I].quantity=$)};function V(I){I&&j.value&&(j.value.dishNote=r.value?r.value:void 0),S.value=!1}function N(){r.value&&(r.value=void 0),j.value&&(j.value=void 0)}function P(I){j.value=I,r.value=j.value.dishNote?j.value.dishNote:void 0,S.value=!0}const L=e;t({showDishList:I=>{_.value=!0,d.value.length=0;for(let w=0;w<I.length;w++)d.value.push(I[w]);y.value=d.value.length==0&&p.length==0}});function f(I){re.removeItem(I)}function x(){L.isTakeaway?n():F()}function n(){const I=[];p.value.forEach(w=>{I.push(w)}),d.value.forEach(w=>{w.quantity>0&&I.push(w)}),I.length<=0?le.show_warn(h("notification.select_at_least_one")):(_.value=!1,g.push({path:"/paymentPage"}))}function F(){L.checkout({name:b.value,note:z.value},I=>{I.success&&(p.value.forEach(w=>{w.dishNote=void 0}),d.value.forEach(w=>{w.dishNote=void 0}),z.value="",te.cleanDishDataQty(),ce.deleteCookie("cartDish_normal"),re.cleanAll(),ce.deleteCookie("cartDish_custom"))})&&(_.value=!1)}function s(I){return I.subname!=""&&I.subname!="Default Title"?I.name+" "+I.subname:I.name}function C(){let I=0;return p.value.forEach(w=>{I+=w.discount?(w.dis_price?w.dis_price:0)*w.count:(w.price?w.price:0)*w.count}),d.value.forEach(w=>{I+=w.discount?(w.dis_price?w.dis_price:0)*w.quantity:(w.price?w.price:0)*w.quantity}),"â‚¬"+I.toFixed(2)}const q=I=>{I.target.src="/images/default.png"},k=I=>{const w=I.quantity;let $=3;return I.price>0&&($=9),w>=$};return(I,w)=>(u(),m(G,null,[B(l(ge),{class:"bg-primary-reverse text-sm md:text-lg lg:text-xl",visible:_.value,"onUpdate:visible":w[2]||(w[2]=$=>_.value=$),modal:"",header:I.$t("common.cart"),style:qe([{backgroundColor:"rgba(250, 250, 250, 1)",height:"100%",minWidth:"24rem"},{width:"80vw","max-width":"700px"}]),dismissableMask:!0},{footer:H(()=>[a("div",$s,[a("span",Ts,v(I.$t("common.total"))+": ",1),a("span",Ds,v(C()),1),B(l(J),{icon:e.isTakeaway?"pi pi-wallet":"pi pi-plus",class:"p-button-success p-button-rounded ml-3",onClick:x,label:e.isTakeaway?l(h)("common.pay"):l(h)("common.send")},null,8,["icon","label"])])]),default:H(()=>[y.value?(u(),m("h2",es,"Cart is empty.")):O("",!0),a("div",ts,[(u(!0),m(G,null,ne(l(p),($,ee)=>(u(),X(l(Mt),{style:{overflow:"hidden"},key:ee},{title:H(()=>[be(v(I.$t(`common.${$.name}`)),1)]),subtitle:H(()=>[be(v(I.$t("common.price"))+" : "+v($.price)+"â‚¬",1)]),content:H(()=>[l(A).customDishAPI.customDishes.value.find(E=>E.name==$.name)?(u(),m("div",as,[(u(!0),m(G,null,ne($.notesAndId,(E,Y)=>(u(),m("div",null,[$.notesAndId[Y].length!==0?(u(),m("span",ss,v(U($.name,Y))+": "+v(W($.name,Y,E)),1)):O("",!0)]))),256)),a("div",null,[$.dishNote?(u(),m("span",ns,v(I.$t("common.note"))+": "+v($.dishNote),1)):O("",!0)])])):O("",!0)]),footer:H(()=>[a("div",os,[e.isTakeaway?O("",!0):(u(),X(l(J),{key:0,label:l(h)("common.edit")+" "+l(h)("common.note"),severity:"contrast",onClick:E=>P($)},null,8,["label","onClick"])),B(l(J),{label:l(h)("common.remove"),severity:"danger",onClick:E=>f($)},null,8,["label","onClick"])])]),_:2},1024))),128)),(u(!0),m(G,null,ne(d.value,($,ee)=>(u(),m("div",{key:ee,class:"p-2 border-round shadow-1 transition-all transition-duration-200 hover:shadow-3 flex flex-column gap-1"},[a("div",is,[a("img",{src:$.image,alt:$.name,class:"w-4rem h-4rem border-round flex-shrink-0",onError:q,style:{"object-fit":"cover","min-width":"4rem"}},null,40,ls),a("div",rs,[a("div",us,[a("div",cs,[a("span",ds,v(s($)),1)])]),a("div",fs,[$.discount?(u(),m("span",ps,"â‚¬"+v(Number($.dis_price?$.dis_price:0).toFixed(2)),1)):O("",!0),$.discount?O("",!0):(u(),m("span",vs,"â‚¬"+v(Number($.price?$.price:0).toFixed(2)),1)),$.price>0?(u(),m("span",hs,"/uni.")):O("",!0)])])]),a("div",null,[$.dishNote?(u(),m("span",ms,v(l(h)("common.note")+": "+$.dishNote),1)):O("",!0)]),a("div",bs,[a("div",gs,[e.isTakeaway?O("",!0):(u(),X(l(J),{key:0,label:l(h)("common.edit")+" "+l(h)("common.note"),severity:"contrast",class:"w-3.5rem h-2rem",onClick:E=>P($)},null,8,["label","onClick"]))]),a("div",ys,[B(l(J),{icon:"pi pi-minus",rounded:"",disabled:$.quantity<=0,onClick:E=>Q(ee,-1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",_s,v($.quantity),1),B(l(J),{icon:"pi pi-plus",rounded:"",disabled:k($),onClick:E=>Q(ee,1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])])]))),128))]),e.isTakeaway?O("",!0):(u(),m("div",ws,[B(l(ot),{variant:"in"},{default:H(()=>[B(l(pt),{id:"in_label",modelValue:b.value,"onUpdate:modelValue":w[0]||(w[0]=$=>b.value=$),variant:"filled",maxlength:"20"},null,8,["modelValue"]),a("label",ks,v(l(h)("common.name")),1)]),_:1}),B(l(ot),{variant:"in"},{default:H(()=>[B(l(nt),{id:"in_label",class:"min-w-full",rows:"5",modelValue:z.value,"onUpdate:modelValue":w[1]||(w[1]=$=>z.value=$),variant:"filled",maxlength:"200"},null,8,["modelValue"]),a("label",xs,v(l(h)("common.observation")),1)]),_:1})]))]),_:1},8,["visible","header"]),B(l(ge),{visible:S.value,"onUpdate:visible":w[6]||(w[6]=$=>S.value=$),header:l(h)("common.note"),onHide:w[7]||(w[7]=$=>N()),modal:"",dismissableMask:!0},{default:H(()=>[B(l(nt),{modelValue:r.value,"onUpdate:modelValue":w[3]||(w[3]=$=>r.value=$),rows:"5",cols:"30",placeholder:l(h)("common.edit")+" "+l(h)("common.note")+"...",maxlength:"100"},null,8,["modelValue","placeholder"]),a("div",Cs,[B(l(J),{label:l(h)("common.cancel"),severity:"danger",onClick:w[4]||(w[4]=$=>V(!1))},null,8,["label"]),B(l(J),{label:l(h)("common.save"),severity:"primary",size:"sm",onClick:w[5]||(w[5]=$=>V(!0))},null,8,["label"])])]),_:1},8,["visible","header"])],64))}},Ss=De(Is,[["__scopeId","data-v-0e3055df"]]);var Ns=Oe`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,As={root:"p-overlaybadge"},Bs=ye.extend({name:"overlaybadge",style:Ns,classes:As}),Ps={name:"OverlayBadge",extends:vt,style:Bs,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},ht={name:"OverlayBadge",extends:Ps,inheritAttrs:!1,components:{Badge:vt}};function Ls(e,t,o,g,h,p){var d=Dt("Badge");return u(),m("div",Z({class:e.cx("root")},e.ptmi("root")),[he(e.$slots,"default"),B(d,Z(e.$props,{pt:e.ptm("pcBadge")}),null,16,["pt"])],16)}ht.render=Ls;R([]);R("iniImages()");const qs={class:"m-3"},zs={class:"flex flex-column gap-2"},Os={class:"w-full flex justify-content-center"},Es={key:0,class:"max-w-19rem"},Ms=["src"],Rs={style:{width:"300px",height:"300px",background:"url(/boxImage/box.png)"}},js={key:0,class:"flex align-items-center justify-content-center text-4xl font-bold text-white w-full h-full"},Vs={key:1,class:"grid m-0 p-2"},Fs=["onClick"],Hs={class:"flex align-items-center justify-content-center font-bold m-0 p-0",style:{width:"94px",height:"94px"}},Ks=["src"],Us={class:"flex flex-wrap justify-content-between align-items-center m-1"},Ws={class:"flex gap-1 align-items-center"},Qs={key:0},Js={class:"font-bold mb-2"},Gs={key:1,class:"flex justify-content-between gap-2 mt-3"},Zs={class:"font-bold mb-2"},Xs={class:"flex mr-2"},Ys={class:"w-3rem text-xl text-center"},en={class:"font-bold block mb-2"},tn={class:"flex flex-wrap"},an={key:2,class:"flex flex-wrap gap-2 mt-3"},sn={class:"font-bold block mb-2"},nn={class:"font-bold block mb-2 text-center"},on={class:"flex flex-wrap gap-2 mt-3"},ln={__name:"CustomDish",props:{currentCustomDish:Object,tabindex:Number},emits:["typeClick"],setup(e,{emit:t}){const{locale:o}=pe(),g=e,h=Ct(),{t:p}=pe(),d=R(null);Pe(()=>g.currentCustomDish,s=>{s&&(d.value=s)},{immediate:!0,deep:!0});const j=ve(()=>d.boxImages),r=R(0),_=ve(()=>{var C;if(d.value==null)return 0;let s=(C=d.value)==null?void 0:C.initialPrice;for(const q of d.value.types??[])for(const k of q.dishes??[])k.selected&&(s+=k.price);return Number(s).toFixed(2)}),S=t,y=R(null),b=ve(()=>{const s=o.value,C=`title_${s}`,q=`description_${s}`;return d.value==null?{}:d.value.descriptions.map(k=>({title:k[C],descriptions:k.descriptions.map(I=>I[q]),image:k==null?void 0:k.image}))}),z=ve(()=>{var q,k;const s=Number(((q=d.value)==null?void 0:q.like)??0),C=Number(((k=d.value)==null?void 0:k.rate)??0);return C?s/C*5:0});function W(s,C){const q=o.value;return s[`${C}_${q}`]}function U(s,C,q){const k=s[C];if(k.selected){k.selected=!1;return}else{const w=s.filter($=>$.selected).length;if(q===1){x(s),k.selected=!0;return}w<q&&(k.selected=!0)}}function Q(s,C,q){const k=s.dishes;S("typeClick",s,C,k[C].selected),U(k,C,q)}function V(s){return s.selected}function N(){if(!n(d.value.types))return;const s=L(d.value.types),C=M(d.value.types);re.addItem({dishid:-1,name:d.value.name,category:g.currentCustomDish.category,count:r.value!==0?r.value:1,price:_.value,notes:s,notesAndId:C}),console.log("CART: ",re.cartDishs),f(d.value.types),le.show({severity:"info",summary:"info",detail:p("customDishBibimbapVue.addToCartSuccessBibimbap")})}function P(s){return!s||!s.dishes?"":s.dishes.filter(q=>q.selected).map(q=>q.name).join(",")}function L(s){return s?s.map(C=>P(C)):[]}function M(s){return s?s.map(C=>C.dishes?C.dishes.filter(q=>q.selected).map(q=>({id:q.dishid,name:q.name})):[]):[]}function f(s){s&&s.forEach(C=>{C.dishes&&C.dishes.forEach(q=>{q.selected=!1})})}function x(s){s.forEach(C=>C.selected=!1)}function n(s){if(d.value.options.quantity&&r.value<=0)return le.show({severity:"warn",detail:p("notification.quantity_must_be_positive")}),!1;for(const C of s)if(C.dishes.filter(k=>k.selected).length<C.minQuantity){const k=C.typeName;return le.show({severity:"warn",detail:p("notification.select_type_of",{name:k})}),!1}return!0}function F(s){s?A.customDishAPI.like(d.value.id)&&(y.value="like",h.add({severity:"success",summary:p("common.success"),detail:p("common.rate")+" "+p("common.success"),life:750})):A.customDishAPI.unLike(d.value.id)&&(y.value="unlike",h.add({severity:"success",summary:p("common.success"),detail:p("common.rate")+" "+p("common.success"),life:750}))}return(s,C)=>{var q,k,I,w,$,ee;return u(),m("div",qs,[a("div",zs,[B(l(Ze),{class:"w-full max-w-xl mx-auto"},{default:H(()=>[(u(!0),m(G,null,ne(b.value,(E,Y)=>(u(),X(l(Qe),{key:Y,value:Y},{default:H(()=>[B(l(Je),null,{default:H(()=>[be(v(E.title),1)]),_:2},1024),B(l(Ge),null,{default:H(()=>{var se;return[(u(!0),m(G,null,ne(E.descriptions,(de,fe)=>(u(),m("p",{key:fe},v(de),1))),128)),a("div",Os,[(se=E.image)!=null&&se.src?(u(),m("div",Es,[a("img",{src:E.image.src,class:"w-full"},null,8,Ms)])):O("",!0)])]}),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),((k=(q=d.value)==null?void 0:q.value)==null?void 0:k.name)==="MY BOX"?(u(),X(l(Ze),{key:0,class:"w-full max-w-xl mx-auto"},{default:H(()=>[B(l(Qe),{value:"0"},{default:H(()=>[B(l(Je),null,{default:H(()=>[be(" ðŸ¥© "+v(s.$t("common.showMybox")),1)]),_:1}),B(l(Ge),null,{default:H(()=>[a("div",Rs,[s.isEmptyArray(j.value)?(u(),m("div",js,v(s.$t("common.myboxAlarm")),1)):O("",!0),s.isEmptyArray(j.value)?O("",!0):(u(),m("div",Vs,[(u(!0),m(G,null,ne(j.value,E=>(u(),m("div",{class:"col-4 p-0",onClick:Y=>s.imageSelectAction(E)},[a("div",Hs,[E?(u(),m("img",{key:0,class:"m-0 p-0",src:s.imagePath(E),style:{width:"82px",height:"82px"}},null,8,Ks)):O("",!0)])],8,Fs))),256))]))])]),_:1})]),_:1})]),_:1})):O("",!0)]),a("div",Us,[a("div",Ws,[(u(),m(G,null,ne(5,E=>a("i",{key:E,class:ue(["pi invert-star",E<=Math.floor(z.value)?"pi-star-fill":E-.5<=z.value?"pi-star-half":"pi-star"]),style:{color:"black"}},null,2)),64)),a("p",null,"("+v((I=d.value)!=null&&I.rate?d.value.rate:0)+")",1)]),a("div",null,[B(l(J),{text:"",icon:"pi pi-thumbs-up",severity:y.value==="like"?"success":"",onClick:C[0]||(C[0]=E=>F(!0))},null,8,["severity"]),B(l(J),{text:"",icon:"pi pi-thumbs-down",severity:y.value==="unlike"?"danger":"",onClick:C[1]||(C[1]=E=>F(!1))},null,8,["severity"])])]),(w=d.value)!=null&&w.options.extraInfo?(u(),m("div",Qs,[a("label",Js,v(d.value.options.extraInfo),1)])):O("",!0),($=d.value)!=null&&$.options.quantity?(u(),m("div",Gs,[a("div",null,[a("label",Zs,v(s.$t("common.quantity"))+" / "+v(s.$t("common.pieces")),1)]),a("div",Xs,[B(l(J),{icon:"pi pi-minus",disabled:r.value<=0,onClick:C[2]||(C[2]=E=>{var Y;return r.value-=(Y=d.value)==null?void 0:Y.options.quantitySetp}),class:"w-2rem h-2rem"},null,8,["disabled"]),a("span",Ys,v(r.value),1),B(l(J),{icon:"pi pi-plus",disabled:r.value>=d.value.options.maxQuantity,onClick:C[3]||(C[3]=E=>{var Y;return r.value+=(Y=d.value)==null?void 0:Y.options.quantitySetp}),class:"w-2rem h-2rem"},null,8,["disabled"])])])):O("",!0),(u(!0),m(G,null,ne((ee=d.value)==null?void 0:ee.types,(E,Y)=>(u(),m("div",{key:E.id},[ze(a("div",null,[a("label",en,v(Y+1)+". "+v(W(E,"typeName")),1),a("div",tn,[(u(!0),m(G,null,ne(E.dishes,(se,de)=>(u(),X(l(J),{key:de,onClick:fe=>Q(E,de,r.value==0?E.maxQuantity:E.maxQuantity*r.value),class:ue([{"p-button-primary":V(se),"p-button-outlined":!V(se)},"m-1"])},{default:H(()=>[a("p",{class:ue({"text-gray-700":!V(se)})},v(W(se,"name")),3)]),_:2},1032,["onClick","class"]))),128))])],512),[[It,E.enable]])]))),128)),e.currentCustomDish.initialPrice!==0?(u(),m("div",an,[a("label",sn,v(s.$t("common.price"))+":",1),a("label",nn,v(_.value+"â‚¬"),1)])):O("",!0),a("div",on,[B(l(J),{icon:"pi pi-shopping-cart",onClick:C[4]||(C[4]=E=>N()),label:s.$t("common.addToCart"),class:"m-3",severity:"primary",raised:""},null,8,["label"])])])}}},rn=De(ln,[["__scopeId","data-v-e37fc872"]]);var un=Oe`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
    }

    .p-tabs-scrollable > .p-tablist {
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`,cn={root:function(t){var o=t.props;return["p-tabs p-component",{"p-tabs-scrollable":o.scrollable}]}},dn=ye.extend({name:"tabs",style:un,classes:cn}),fn={name:"BaseTabs",extends:Te,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:dn,provide:function(){return{$pcTabs:this,$parentInstance:this}}},mt={name:"Tabs",extends:fn,inheritAttrs:!1,emits:["update:value"],data:function(){return{d_value:this.value}},watch:{value:function(t){this.d_value=t}},methods:{updateValue:function(t){this.d_value!==t&&(this.d_value=t,this.$emit("update:value",t))},isVertical:function(){return this.orientation==="vertical"}}};function pn(e,t,o,g,h,p){return u(),m("div",Z({class:e.cx("root")},e.ptmi("root")),[he(e.$slots,"default")],16)}mt.render=pn;var vn={root:"p-tablist",content:function(t){var o=t.instance;return["p-tablist-content",{"p-tablist-viewport":o.$pcTabs.scrollable}]},tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},hn=ye.extend({name:"tablist",classes:vn}),mn={name:"BaseTabList",extends:Te,props:{},style:hn,provide:function(){return{$pcTabList:this,$parentInstance:this}}},bt={name:"TabList",extends:mn,inheritAttrs:!1,inject:["$pcTabs"],data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0}},resizeObserver:void 0,watch:{showNavigators:function(t){t?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var t=this;setTimeout(function(){t.updateInkBar()},150),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver())},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver()},methods:{onScroll:function(t){this.showNavigators&&this.updateButtonState(),t.preventDefault()},onPrevButtonClick:function(){var t=this.$refs.content,o=this.getVisibleButtonWidths(),g=He(t)-o,h=Math.abs(t.scrollLeft),p=g*.8,d=h-p,j=Math.max(d,0);t.scrollLeft=at(t)?-1*j:j},onNextButtonClick:function(){var t=this.$refs.content,o=this.getVisibleButtonWidths(),g=He(t)-o,h=Math.abs(t.scrollLeft),p=g*.8,d=h+p,j=t.scrollWidth-g,r=Math.min(d,j);t.scrollLeft=at(t)?-1*r:r},bindResizeObserver:function(){var t=this;this.resizeObserver=new ResizeObserver(function(){return t.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var t;(t=this.resizeObserver)===null||t===void 0||t.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var t=this.$refs,o=t.content,g=t.inkbar,h=t.tabs;if(g){var p=We(o,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(g.style.height=Nt(p)+"px",g.style.top=Ne(p).top-Ne(h).top+"px"):(g.style.width=At(p)+"px",g.style.left=Ne(p).left-Ne(h).left+"px")}},updateButtonState:function(){var t=this.$refs,o=t.list,g=t.content,h=g.scrollTop,p=g.scrollWidth,d=g.scrollHeight,j=g.offsetWidth,r=g.offsetHeight,_=Math.abs(g.scrollLeft),S=[He(g),St(g)],y=S[0],b=S[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=h!==0,this.isNextButtonEnabled=o.offsetHeight>=r&&parseInt(h)!==d-b):(this.isPrevButtonEnabled=_!==0,this.isNextButtonEnabled=o.offsetWidth>=j&&parseInt(_)!==p-y)},getVisibleButtonWidths:function(){var t=this.$refs,o=t.prevButton,g=t.nextButton,h=0;return this.showNavigators&&(h=((o==null?void 0:o.offsetWidth)||0)+((g==null?void 0:g.offsetWidth)||0)),h}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.scrollable&&this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},dataP:function(){return Ee({scrollable:this.$pcTabs.scrollable})}},components:{ChevronLeftIcon:Rt,ChevronRightIcon:jt},directives:{ripple:dt}},bn=["data-p"],gn=["aria-label","tabindex"],yn=["data-p"],_n=["aria-orientation"],wn=["aria-label","tabindex"];function kn(e,t,o,g,h,p){var d=ft("ripple");return u(),m("div",Z({ref:"list",class:e.cx("root"),"data-p":p.dataP},e.ptmi("root")),[p.showNavigators&&h.isPrevButtonEnabled?ze((u(),m("button",Z({key:0,ref:"prevButton",type:"button",class:e.cx("prevButton"),"aria-label":p.prevButtonAriaLabel,tabindex:p.$pcTabs.tabindex,onClick:t[0]||(t[0]=function(){return p.onPrevButtonClick&&p.onPrevButtonClick.apply(p,arguments)})},e.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(u(),X(ke(p.templates.previcon||"ChevronLeftIcon"),Z({"aria-hidden":"true"},e.ptm("prevIcon")),null,16))],16,gn)),[[d]]):O("",!0),a("div",Z({ref:"content",class:e.cx("content"),onScroll:t[1]||(t[1]=function(){return p.onScroll&&p.onScroll.apply(p,arguments)}),"data-p":p.dataP},e.ptm("content")),[a("div",Z({ref:"tabs",class:e.cx("tabList"),role:"tablist","aria-orientation":p.$pcTabs.orientation||"horizontal"},e.ptm("tabList")),[he(e.$slots,"default"),a("span",Z({ref:"inkbar",class:e.cx("activeBar"),role:"presentation","aria-hidden":"true"},e.ptm("activeBar")),null,16)],16,_n)],16,yn),p.showNavigators&&h.isNextButtonEnabled?ze((u(),m("button",Z({key:1,ref:"nextButton",type:"button",class:e.cx("nextButton"),"aria-label":p.nextButtonAriaLabel,tabindex:p.$pcTabs.tabindex,onClick:t[2]||(t[2]=function(){return p.onNextButtonClick&&p.onNextButtonClick.apply(p,arguments)})},e.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(u(),X(ke(p.templates.nexticon||"ChevronRightIcon"),Z({"aria-hidden":"true"},e.ptm("nextIcon")),null,16))],16,wn)),[[d]]):O("",!0)],16,bn)}bt.render=kn;var xn={root:function(t){var o=t.instance,g=t.props;return["p-tab",{"p-tab-active":o.active,"p-disabled":g.disabled}]}},$n=ye.extend({name:"tab",classes:xn}),Tn={name:"BaseTab",extends:Te,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:$n,provide:function(){return{$pcTab:this,$parentInstance:this}}},gt={name:"Tab",extends:Tn,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(t){switch(t.code){case"ArrowRight":this.onArrowRightKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowRightKey:function(t){var o=this.findNextTab(t.currentTarget);o?this.changeFocusedTab(t,o):this.onHomeKey(t),t.preventDefault()},onArrowLeftKey:function(t){var o=this.findPrevTab(t.currentTarget);o?this.changeFocusedTab(t,o):this.onEndKey(t),t.preventDefault()},onHomeKey:function(t){var o=this.findFirstTab();this.changeFocusedTab(t,o),t.preventDefault()},onEndKey:function(t){var o=this.findLastTab();this.changeFocusedTab(t,o),t.preventDefault()},onPageDownKey:function(t){this.scrollInView(this.findLastTab()),t.preventDefault()},onPageUpKey:function(t){this.scrollInView(this.findFirstTab()),t.preventDefault()},onEnterKey:function(t){this.changeActiveValue(),t.preventDefault()},findNextTab:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=o?t:t.nextElementSibling;return g?Ae(g,"data-p-disabled")||Ae(g,"data-pc-section")==="activebar"?this.findNextTab(g):We(g,'[data-pc-name="tab"]'):null},findPrevTab:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=o?t:t.previousElementSibling;return g?Ae(g,"data-p-disabled")||Ae(g,"data-pc-section")==="activebar"?this.findPrevTab(g):We(g,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.tabs.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.tabs.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(t,o){Pt(o),this.scrollInView(o)},scrollInView:function(t){var o;t==null||(o=t.scrollIntoView)===null||o===void 0||o.call(t,{block:"nearest"})}},computed:{active:function(){var t;return Bt((t=this.$pcTabs)===null||t===void 0?void 0:t.d_value,this.value)},id:function(){var t;return"".concat((t=this.$pcTabs)===null||t===void 0?void 0:t.$id,"_tab_").concat(this.value)},ariaControls:function(){var t;return"".concat((t=this.$pcTabs)===null||t===void 0?void 0:t.$id,"_tabpanel_").concat(this.value)},attrs:function(){return Z(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}},dataP:function(){return Ee({active:this.active})}},directives:{ripple:dt}};function Dn(e,t,o,g,h,p){var d=ft("ripple");return e.asChild?he(e.$slots,"default",{key:1,dataP:p.dataP,class:ue(e.cx("root")),active:p.active,a11yAttrs:p.a11yAttrs,onClick:p.onClick}):ze((u(),X(ke(e.as),Z({key:0,class:e.cx("root"),"data-p":p.dataP,onClick:p.onClick},p.attrs),{default:H(function(){return[he(e.$slots,"default")]}),_:3},16,["class","data-p","onClick"])),[[d]])}gt.render=Dn;const Cn={class:"fixed top-0 left-0 w-full bg-primary-reverse",style:{"z-index":"10"}},In={class:"grid mt-1 ml-1"},Sn={class:"max-w-3rem flex align-items-center"},Nn=["src"],An={class:"flex align-items-center"},Bn={key:0,class:"text-color font-bold p-1"},Pn={key:1,class:"text-color font-bold p-1"},Ln={class:"card flex mr-3 flex align-items-center",style:{"margin-left":"auto"}},qn={style:{display:"flex","align-items":"center"}},zn={style:{"flex-grow":"1",width:"0",overflow:"hidden"}},On={class:"mt-2"},En={class:"flex justify-content-end mt-2"},Mn={class:"flex inline-flex items-center justify-center gap-2"},Rn={class:"flex align-items-center"},jn={class:"flex flex-column"},Vn={class:"text-sm p-2"},Fn={class:"text-sm p-2"},Hn={class:"flex items-center gap-4 mb-4 p-2"},Kn={class:"flex flex-column gap-3"},Un={__name:"HeaderTabs",props:{types:Array,typeIndex:Number,tableId:String,tabItems:Array},emits:["clickType","switchToWelcome"],setup(e,{emit:t}){const{t:o}=pe(),g=R(!1);function h(){var L;const N=A.currentPage.value,P=(L=N==null?void 0:N.data)==null?void 0:L.logoPath;return P?A.pathFormated(P,N.imagesPath):"/images/logo_logo.png"}function p(){return A.getTable()}const d=R(),j=ve(()=>[{label:o("common.options"),items:[{label:o("common.pay"),icon:"pi pi-wallet",command:()=>{W()}},{label:o("common.call"),icon:"pi pi-user-plus",command:()=>{A.send_cmd(p(),{cmd:"call"},N=>{N.success?le.show_info(o("notification.call_msg")):le.show_warn(N.data)})}}]}]),r=N=>{d.value.toggle(N)},_=N=>{S.value.toggle(N)},S=R(),y=R(!1),b=R(),z=R();function W(){y.value=!0}function U(){N(b.value)?A.send_cmd(p(),{cmd:"pay",nif:b.value,note:z.value},P=>{P.success?(le.show_info(o("notification.pay_msg")),y.value=!1):le.show_error(o("common.failed"))}):le.show_warn(o("notification.cancel_msg"));function N(P){return!P||P.toString().length===9||P.toString().length===0}}function Q(){z.value&&(z.value=void 0)}function V(){g.value=!0}return(N,P)=>(u(),m(G,null,[a("div",Cn,[a("div",In,[a("div",Sn,[a("img",{src:h(),class:"w-full",clickble:"",onClick:P[0]||(P[0]=()=>N.$emit("switchToWelcome"))},null,8,Nn)]),a("div",An,[e.tableId?(u(),m("p",Bn,v(N.$t("common.table"))+": "+v(e.tableId),1)):O("",!0),e.tableId?O("",!0):(u(),m("p",Pn,v(N.$t("common.takeAway")),1))]),a("div",Ln,[e.tableId?(u(),X(l(J),{key:0,icon:"pi pi-bell",rounded:"","aria-label":"Filter",onClick:r,"aria-haspopup":"true","aria-controls":"overlay_menu"})):(u(),X(l(J),{key:1,icon:"pi pi-question",rounded:"",onClick:V})),B(l(it),{ref_key:"menu",ref:d,id:"overlay_menu",model:j.value,popup:!0},null,8,["model"])])]),a("div",qn,[a("div",null,[B(l(J),{icon:"pi pi-bars",variant:"text",rounded:"","aria-label":"Filter",onClick:_,"aria-haspopup":"true","aria-controls":"tab_menu"}),B(l(it),{ref_key:"tabMenu",ref:S,id:"tab_menu",model:e.tabItems,popup:!0},null,8,["model"])]),a("div",zn,[B(l(mt),{value:e.typeIndex,scrollable:"",showNavigators:!1},{default:H(()=>[B(l(bt),null,{default:H(()=>[(u(!0),m(G,null,ne(e.types,(L,M)=>(u(),X(l(gt),{value:M,onClick:()=>N.$emit("clickType",M),class:"text-sm md:text-lg lg:text-xl"},{default:H(()=>[be(v(L),1)]),_:2},1032,["value","onClick"]))),256))]),_:1})]),_:1},8,["value"])])])]),B(l(ge),{visible:y.value,"onUpdate:visible":P[4]||(P[4]=L=>y.value=L),header:"ç»“è´¦",class:"flex flex-column",modal:!0,dismissableMask:!0,onHide:Q},{default:H(()=>[a("div",null,[P[6]||(P[6]=a("label",null,"NIF:",-1)),B(l(Vt),{modelValue:b.value,"onUpdate:modelValue":P[1]||(P[1]=L=>b.value=L),inputId:"withoutgrouping",useGrouping:!1,fluid:"",class:"w-full m-1"},null,8,["modelValue"])]),a("div",On,[a("label",null,v(N.$t("common.note"))+":",1),B(l(pt),{type:"text",modelValue:z.value,"onUpdate:modelValue":P[2]||(P[2]=L=>z.value=L),class:"w-full m-1"},null,8,["modelValue"])]),a("div",En,[B(l(J),{label:l(o)("common.send"),onClick:P[3]||(P[3]=L=>U())},null,8,["label"])])]),_:1},8,["visible"]),B(l(ge),{visible:g.value,"onUpdate:visible":P[5]||(P[5]=L=>g.value=L),modal:"",dismissableMask:"",class:"h-full",style:{width:"90vw",maxWidth:"40rem",minWidth:"20rem"},draggable:!1},{header:H(()=>[a("div",Mn,[B(l(Xe),{icon:"pi pi-question",shape:"circle"}),a("span",Rn,v(l(o)("takeawayHelper.dialogTitle")),1)])]),default:H(()=>[a("div",jn,[a("span",Vn,v(l(o)("takeawayHelper.introduction")),1),a("span",Fn,v(l(o)("takeawayHelper.note_t"))+" "+v(l(o)("takeawayHelper.note_1")),1),a("div",Hn,[B(l(Ze),{class:"w-full max-w-xl mx-auto"},{default:H(()=>[B(l(Qe),{value:"0"},{default:H(()=>[B(l(Je),{class:"text-sm"},{default:H(()=>[be(v(l(o)("takeawayHelper.question_1")),1)]),_:1}),B(l(Ge),{class:"p-1"},{default:H(()=>[a("div",Kn,[a("span",null,v(l(o)("takeawayHelper.q_1_request_1")),1),a("span",null,v(l(o)("takeawayHelper.q_1_request_2")),1),a("span",null,v(l(o)("takeawayHelper.q_1_request_3")),1),a("span",null,v(l(o)("takeawayHelper.q_1_request_4")),1),a("span",null,v(l(o)("takeawayHelper.q_1_request_5")),1)])]),_:1})]),_:1})]),_:1})])])]),_:1},8,["visible"])],64))}},Wn={__name:"SwipeHint",props:{size:{type:String,default:"8rem"},duration:{type:Number,default:6e3},position:{type:String,default:"bottom"}},setup(e){const t=e,o=R(!0);Le(()=>{t.duration>0&&setTimeout(()=>{o.value=!1},t.duration);const h=()=>{o.value=!1,window.removeEventListener("touchstart",h)};window.addEventListener("touchstart",h)});const g=ve(()=>{let h={left:"50%",transform:"translateX(-50%)",zIndex:99999,opacity:.5,pointerEvents:"none",textAlign:"center",position:"fixed"};return t.position==="top"?h.top="15%":t.position==="center"?(h.top="50%",h.transform="translate(-50%, -50%)"):h.bottom="15%",h});return(h,p)=>o.value?(u(),m("div",{key:0,class:"swipe-hint",style:qe(g.value)},[a("div",{class:"hand",style:qe({width:e.size,height:e.size,backgroundImage:"url(/images/hand_finger.png)"})},null,4)],4)):O("",!0)}},Qn=De(Wn,[["__scopeId","data-v-e5f3ff45"]]),Jn={class:"w-full h-full flex flex-column p-1"},Gn={class:"swiper-container-wrapper"},Zn={class:"fixed bottom-0 left-0 w-full h-3rem bg-primary-reverse p-3 z-[9999]"},Xn={class:"h-full flex align-items-center justify-content-between w-full"},Yn={class:"m-2"},eo={class:"m-2"},to={class:"m-2"},ao={style:{"max-height":"60vh","overflow-y":"auto","padding-bottom":"60px"}},so={class:"flex flex-column border-bottom-1"},no={key:0,class:"flex justify-content-between"},oo={class:"flex flex-column"},io={class:"font-bold"},lo={class:"text-right"},ro={key:1,class:"flex justify-content-between"},uo={class:"flex flex-column"},co={class:"font-bold"},fo={class:"text-right"},po={key:0},vo={key:1,class:"flex flex-column"},ho={class:"flex flex-column"},mo={class:"font-bold"},bo={class:"text-right"},go={class:"total-footer bg-primary-reverse"},ut=5,Be="order_time_key",yo={__name:"HomePage",setup(e){const t=ct(),o=qt(),{t:g}=pe(),{locale:h}=pe(),p=R(0),d=R(!1),j=R([""]),r=R(0),_=re.cartItemCount,S=R(!1),y=R([]),b=R(0),z=R({}),W=R(!1),U=te.dishDatas,Q=R(A.getOrderMenuTab()),V=R(null),N=R(null),P=R([]),L=R([]),M=R([]),f=R(!1);let x=null;const n=i=>{r.value=i.activeIndex,Me()},F=i=>{x=i};Pe(r,i=>{x&&x.activeIndex!==i&&x.slideTo(i);let c=A.getOrderMenuTab()[i];A.customDishAPI.customDishes.value.map(D=>D.name).includes(c)?(W.value=!0,z.value=A.customDishAPI.customDishes.value.find(D=>D.name==c)):W.value=!1});const s=(i,c,T,D)=>{A.rateDish(i,c,T),D&&le.show_success(g("notification.rating_submitted"))},C=(i,c,T)=>{if(z.value.name=="XIAOXIONGÂ® RAMEN"&&i.id===1){const D=i.dishes[c];let K;D.dishid==47?T?K=q(3,!0,1):K=q(3,!1,1):K=q(3,!0,1),K!==void 0&&k(K)}if(z.value.name=="Menu AlmoÃ§o"&&i.id===3){const D=i.dishes[c];let K;[1427,41].includes(D.dishid)?T?K=q(4,!0,0):K=q(4,!1,0):K=q(4,!0,0),K!==void 0&&k(K)}};function q(i,c,T){if(z.value={...z.value,types:z.value.types.map(D=>D.id===i?{...D,enable:c,minQuantity:c?T:0}:D)},c===!1)return i}function k(i){!z.value||!Array.isArray(z.value.types)||(z.value={...z.value,types:z.value.types.map(c=>c.id===i?{...c,dishes:c.dishes.map(T=>({...T,selected:!1}))}:c)})}function I(i){let c=A.getOrderMenuTab()[i];if(A.customDishAPI.customDishes.value.map(ae=>ae.name).includes(c)?(W.value=!0,z.value=A.customDishAPI.customDishes.value.find(ae=>ae.name==c)):W.value=!1,A.getMenu().length==0){console.log("exit");return}let K=U.value[i].mainDishes;te.showDishList(K)}const w=()=>{A.refreshTableFromServer(),A.getTableTotalAmount(b),S.value=!0},$=i=>{let c=i.id;i.org_id&&(c=i.org_id);for(let T=0;T<U.value.length;T++)if(U.value[T].id==c)for(const D in i){let K=D;D.startsWith("note")&&(K=K.replace("note","description")),U.value[T][K]=i[D]}};function ee(){return new Promise(i=>{let c=()=>{const T=A.formatedMenu.value;T.length>0?i(T):setTimeout(c,200)};c()})}function E(){return new Promise(i=>{let c=()=>{const T=A.getOrderMenuTab();T.length>0?i(T):setTimeout(c,200)};c()})}const Y=ve(()=>i=>{const c=A.dictinaryAPI.dictinary.value[i];return c?c[`text_${h.value.toLowerCase()}`]:i});Pe([()=>A.formatedMenu.value,()=>h.value],([i,c])=>{if(!i||i.length===0){M.value=[];return}const T={};A.orderMenuTab.value;const D=i.map(me=>({...me,mainDishes:me.dishes.map(oe=>{const ie=oe.dish;if(T[ie.id])return T[ie.id];const _e={...ie,defaultName:ie.name,defaultSubname:ie.subname,name:se(ie,"name",c),note:se(ie,"note",c),subname:se(ie,"subname",c),quantity:0},Ve=oe.subItems.map(tt=>{const Se=tt;return{...tt,defaultName:ie.name,defaultSubname:Se.subname,name:se(Se,"name",c),note:se(Se,"note",c),subname:se(Se,"subname",c),quantity:0}}),Fe={...oe,dish:_e,subItems:Ve};return T[Fe.id]=Fe,Fe})}));U.value.length;const K=te.getAllIncrementedDish();te.getIdsAndQuantity(K);const ae=re.cartDishs.value;Ue.compressToEncodedURIComponent(JSON.stringify(ae)),M.value=D,U.value=M.value,j.value=A.orderMenuTab.value,(K.length>0||ae.length>0)&&(te.cleanDishDataQty(),te.updateDishDataQty(K)),A.filterMenuTabs(f.value),console.log("languagedMenu updated via watch:",M.value),st(()=>{p.value++,x&&typeof x.update=="function"&&(x.update(),x.slideTo(r.value))})},{immediate:!0,deep:!0}),Pe(()=>A.orderMenuTab.value,i=>{Q.value=i.map(c=>{const T=A.dictinaryAPI.dictinary.value[c];return T?T[`text_${h.value.toLowerCase()}`]:c}),y.value=fe(i),r.value=0}),Le(()=>{const i=A.orderMenuTab.value;Q.value=i.map(c=>{const T=A.dictinaryAPI.dictinary.value[c];return T?T[`text_${h.value.toLowerCase()}`]:c}),y.value=fe(i),r.value=0});function se(i,c,T){return i?T==="en"?i[`${c}_en`]||i[c]:T==="zh"&&i[`${c}_cn`]||i[c]:""}async function de(){await ee();const i=await E();A.onMenuItemChanged=$,$t(),y.value=fe(i)}function fe(i){const c=[];for(let T=0;T<i.length;T++){const D=T;c.push({label:Y.value(i[T]),command:()=>{Ye(D),Me()}})}return c}const Me=()=>{st(()=>{const i=document.querySelector(".p-tablist-viewport"),c=document.querySelector(".p-tab.p-tab-active");if(i&&c){const T=c.offsetLeft-i.offsetWidth/2+c.offsetWidth/2;i.scrollTo({left:T,behavior:"smooth"})}window.scrollTo({top:0,behavior:"smooth"})})},Ye=i=>{I(i),r.value=i,Me()},yt=()=>{var i=te.getAllIncrementedDish();N.value.showDishList(i)};function Re(){return A.getTable()}A.params.port,V.value=A.table.value.order;function _t(i){var c=g("notification.too_fast",{remainTime:i});le.show_warn(c)}const wt=(i,c)=>{const T=[];for(let oe=0;oe<re.cartDishs.value.length;oe++){var D=re.cartDishs.value[oe];const ie=A.formateCustomDishNotes(D),_e=D.dis_count?D.dis_price:D.price;T.push({dishid:D.dishid,name:D.name,quantity:D.count,notes:ie,limit:D.limit,price:_e,dishNote:D.dishNote,category:D.category})}const K=te.getAllIncrementedDish();for(let oe=0;oe<K.length;oe++){var D=K[oe];if(D.quantity>0){const _e=D.dis_count?D.dis_price:D.price,Ve=A.getDishNameDefaultName(D);T.push({dishid:D.id,name:Ve,quantity:D.quantity,limit:D.limit,price:_e,dishNote:D.dishNote})}}if(T.length===0)return le.show_warn(g("notification.select_at_least_one")),!1;console.log("cart item:",T);const ae=JSON.parse(ce.getCookie(Be)||"{}"),me=Date.now();if(!ae.startTime||me-ae.startTime>ut*1e3)ae.startTime=me,ae.uniCode||(ae.uniCode=Date.now().toString(36)+Math.random().toString(36).substring(2,5));else{const oe=ut-parseInt((me-ae.startTime)/1e3);_t(oe);return}return ce.setCookie(Be,JSON.stringify(ae)),d.value=!0,A.submit_order({uniCode:ae.uniCode,name:i.name,note:i.note,table:Re(),items:T},oe=>{const ie=JSON.parse(ce.getCookie(Be)||"{}");ie.uniCode=void 0,ce.setCookie(Be,JSON.stringify(ie)),c(oe)}),!0};function kt(){const i=ce.getCookie("language");i&&(h.value=i)}function et(){for(let i=0;i<U.value.length;i++){const c=U.value[i];c.quantity=0}d.value=!1,re.cleanAll()}Le(async()=>{kt(),await de(),I(r.value),A.clear_order_data=()=>{et()},A.setOnOrderConfirmed(i=>{et();const c=i;le.show_success(g("notification.order_submitted",{id:c}))}),A.setOnShowError(i=>{d.value=!1,le.show_error(i)})});function xt(){ce.deleteCookie("login_time");const i=o.query.table;i?t.push({path:"/",query:{table:i}}):t.push({path:"/takeReserve"})}function Ce(i,c=!0){const T=c?re.cartDishs.value:te.getIdsAndQuantity(te.getAllIncrementedDish()),D=Ue.compressToEncodedURIComponent(JSON.stringify(T));ce.setCookie(i,D)}function je(){A.isTakeaway()?(Ce("take_cartDish_normal",!1),Ce("take_cartDish_custom",!0)):(Ce("cartDish_normal",!1),Ce("cartDish_custom",!0))}function Ie(i,c=!0){const T=ce.getCookie(i);if(!T)return;const D=JSON.parse(Ue.decompressFromEncodedURIComponent(T));if(D&&D!=="undefined")try{c?re.cartDishs.value=D:te.updateDishDataQty(D)}catch(K){console.error("è§£æžèœå¤±è´¥:",K)}}function $t(){A.isTakeaway()?(Ie("take_cartDish_normal",!1),Ie("take_cartDish_custom")):(Ie("cartDish_normal",!1),Ie("cartDish_custom"))}return Lt(()=>{je()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&je()}),window.addEventListener("beforeunload",i=>{je(),A.cleanup()}),(i,c)=>(u(),m(G,null,[a("div",Jn,[(u(),X(Un,{key:p.value,types:Q.value,typeIndex:r.value,tabItems:y.value,tableId:Re(),onClickType:Ye,onSwitchToWelcome:xt},null,8,["types","typeIndex","tabItems","tableId"])),c[4]||(c[4]=a("div",{class:"pb-8"},null,-1)),c[5]||(c[5]=a("div",{class:"pb-4 sm:pb-5 md:pb-5 lg:pb-5"},null,-1)),B(Qn,{duration:3e3,position:"center",size:"3rem"}),a("div",Gn,[(u(),X(l(Ot),{key:`swiper-${Q.value.length}-${p.value}`,"space-between":20,"centered-slides":"","grab-cursor":!0,class:"w-full",autoHeight:!0,onSlideChange:n,onSwiper:F,"initial-slide":r.value},{default:H(()=>[(u(!0),m(G,null,ne(Q.value,(T,D)=>(u(),X(l(Et),{key:D},{default:H(()=>[Math.abs(r.value-D)<=1&&(!W.value||r.value!==D)?(u(),X(Ya,{key:0,rateDish:s,likedItemsRef:P.value,dislikedItemsRef:L.value,tabIndex:D,onlyVeg:f.value},null,8,["likedItemsRef","dislikedItemsRef","tabIndex","onlyVeg"])):Math.abs(r.value-D)<=1&&W.value&&r.value===D?(u(),X(rn,{key:1,currentCustomDish:z.value,onTypeClick:C,tabindex:D},null,8,["currentCustomDish","tabindex"])):O("",!0)]),_:2},1024))),128))]),_:1},8,["initial-slide"]))]),c[6]||(c[6]=a("div",{style:{height:"60px"}},null,-1)),a("div",Zn,[a("div",Xn,[a("div",Yn,[l(A).isTakeaway()?O("",!0):(u(),X(l(J),{key:0,label:i.$t("common.orders"),icon:"pi pi-list",class:"p-button-secondary",onClick:w},null,8,["label"]))]),a("div",eo,[B(l(zt),{class:"text-sm",modelValue:f.value,"onUpdate:modelValue":c[0]||(c[0]=T=>f.value=T),onLabel:l(g)("common.showAll"),offLabel:l(g)("common.showOnlyVegetables"),onClick:c[1]||(c[1]=T=>l(A).filterMenuTabs(f.value))},null,8,["modelValue","onLabel","offLabel"])]),a("div",to,[B(l(ht),{value:l(_),severity:"danger",onClick:yt},{default:H(()=>c[3]||(c[3]=[a("i",{class:"pi pi-shopping-cart",style:{"font-size":"2rem"}},null,-1)])),_:1,__:[3]},8,["value"])])])])]),B(Ss,{ref_key:"cartRef",ref:N,checkout:wt,isTakeaway:!Re()},null,8,["isTakeaway"]),B(l(ge),{visible:S.value,"onUpdate:visible":c[2]||(c[2]=T=>S.value=T),header:i.$t("common.completedOrders"),modal:"",style:{width:"80vw","max-width":"700px"}},{default:H(()=>{var T,D;return[a("div",ao,[a("div",so,[(T=b.value.adultPrice)!=null&&T.quantity&&b.value.adultPrice.quantity!=0?(u(),m("div",no,[a("div",oo,[a("span",io,v(i.$t("common.adult")),1),a("small",null,v(i.$t("common.quantity"))+": "+v(b.value.adultPrice.quantity),1)]),a("div",lo,[a("span",null,"â‚¬"+v((Number(b.value.adultPrice.price)*b.value.adultPrice.quantity).toFixed(2)),1)])])):O("",!0),(D=b.value.childrenPrice)!=null&&D.quantity&&b.value.childrenPrice.quantity!=0?(u(),m("div",ro,[a("div",uo,[a("span",co,v(i.$t("common.children")),1),a("small",null,v(i.$t("common.quantity"))+": "+v(b.value.childrenPrice.quantity),1)]),a("div",fo,[a("span",null,"â‚¬"+v((Number(b.value.childrenPrice.price)*b.value.childrenPrice.quantity).toFixed(2)),1)])])):O("",!0)]),l(A).table.value.order.length===0?(u(),m("div",po,v(i.$t("common.noOrders")),1)):(u(),m("div",vo,[(u(!0),m(G,null,ne(l(A).table.value.order,(K,ae)=>(u(),m("div",{key:ae,class:"flex justify-content-between border-bottom-1 pb-2"},[a("div",ho,[a("span",mo,v(l(A).getDishName(K)),1),a("small",null,v(i.$t("common.quantity"))+": "+v(K.quantity),1)]),a("div",bo,[a("span",null,"â‚¬"+v((K.price*K.quantity).toFixed(2)),1)])]))),128))]))]),a("div",go,v(i.$t("common.total"))+": â‚¬"+v(b.value.total),1)]}),_:1},8,["visible","header"])],64))}},Bo=De(yo,[["__scopeId","data-v-d6599c91"]]);export{Bo as default};
