import{s as D,a as Q}from"./index-BRKDf7a0.js";import{h as v,n as M,c as d,d as a,w as c,l as o,o as u,a as e,e as F,K as B,t as s,F as N,A as T,C as r}from"./index-C6PSjnPN.js";import{s as K,a as p}from"./index-CSF5DMG3.js";import{s as O}from"./index-N4RJtCTP.js";import{s as j}from"./index-BQoOYY0e.js";import"./index-UWjVb1or.js";import"./index-BYBm0dCp.js";import"./index-kao1m_HO.js";import"./index-DUDhmHNJ.js";import"./index-BF-X1nVO.js";import"./index-nHcMNJSJ.js";const H={class:"p-4"},W={class:"flex justify-end"},q={key:0,class:"pi pi-star text-green-500 ml-2"},z={class:"mb-3"},G={class:"text-lg font-bold"},J={class:"mb-3"},P={key:0,class:"mb-3"},X={style:{"white-space":"normal","word-break":"break-word",color:"#5F0F0F"}},Y={class:"font-semibold"},Z={class:"flex justify-between text-gray-600 text-sm"},ce={__name:"TakewaysPage",setup(ee){const _=v({global:{value:null,matchMode:r.CONTAINS},id:{value:null,matchMode:r.STARTS_WITH},date:{value:null,matchMode:r.STARTS_WITH},time:{value:null,matchMode:r.IN},customer:{value:null,matchMode:r.EQUALS},total_price:{value:null,matchMode:r.EQUALS},pay_state:{value:null,matchMode:r.EQUALS},pay_ttpe:{value:null,matchMode:r.EQUALS}}),A=M.shopify_orders,C=M.newShopifyOrderCount,f=v(!1),l=v(null);v("");function I(n){l.value=n.data,f.value=!0,l.value.isNew&&(l.value.isNew=void 0,C.value--)}function U(n){return n==="paid"?"paid 已支付":n==="pending"?"pending 待支付":n==="voided"?"voided 已取消":n}return(n,i)=>{const V=Q,E=D;return u(),d("div",H,[a(o(K),{value:o(A),paginator:!0,rows:10,dataKey:"id",filters:_.value,filterDisplay:"row",selectionMode:"single",onRowClick:I},{header:c(()=>[e("div",W,[a(E,null,{default:c(()=>[a(V,null,{default:c(()=>i[2]||(i[2]=[e("i",{class:"pi pi-search"},null,-1)])),_:1,__:[2]}),a(o(O),{modelValue:_.value.global.value,"onUpdate:modelValue":i[0]||(i[0]=t=>_.value.global.value=t),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),default:c(()=>[a(o(p),{field:"name",header:"id",sortable:""},{body:c(t=>[e("span",{style:B({"text-decoration":t.data.pay_state=="voided"?"line-through":"none"})},s(t.data.name),5),t.data.isNew?(u(),d("i",q)):F("",!0)]),_:1}),a(o(p),{field:"pickupDate",header:"date 取餐日期",sortable:""}),a(o(p),{field:"pickupTime",header:"time 取餐时间",sortable:""}),a(o(p),{field:"customer.name",header:"customer 客户",sortable:""}),a(o(p),{field:"total_price",header:"total_price 总价",sortable:"",body:t=>"€"+t.data.total_price},null,8,["body"]),a(o(p),{field:"pay_state",header:"pay state 付款状态",sortable:"",body:t=>U(t.data.pay_state)},null,8,["body"]),a(o(p),{field:"pay_type",header:"pay type 付款方式",sortable:""})]),_:1},8,["value","filters"]),a(o(j),{visible:f.value,"onUpdate:visible":i[1]||(i[1]=t=>f.value=t),header:"订单详情",modal:"",style:{width:"450px"}},{default:c(()=>{var t,y,h,b,w,g,S,k,x;return[e("div",z,[e("h3",G,s((t=l.value)==null?void 0:t.name),1)]),e("div",J,[e("div",null,"name: "+s((h=(y=l.value)==null?void 0:y.customer)==null?void 0:h.name),1),e("div",null,"phone: "+s((w=(b=l.value)==null?void 0:b.customer)==null?void 0:w.phone),1),e("div",null,"email: "+s((S=(g=l.value)==null?void 0:g.customer)==null?void 0:S.email),1)]),(k=l.value)!=null&&k.note&&l.value.note!==""?(u(),d("div",P,[i[3]||(i[3]=e("div",{style:{color:"#5F0F0F"}},"note:",-1)),e("div",X,s(l.value.note),1)])):F("",!0),(u(!0),d(N,null,T((x=l.value)==null?void 0:x.line_items,(m,L)=>(u(),d("div",{key:L,class:"border-b py-2"},[e("div",Y,s(m.name),1),e("div",Z,[e("span",null,s(m.sku),1),e("span",null,s(m.price)+" x "+s(m.quantity),1)]),(u(!0),d(N,null,T(m.properties,(R,$)=>(u(),d("div",{key:$,class:"text-sm text-gray-500"},s(R),1))),128))]))),128))]}),_:1},8,["visible"])])}}};export{ce as default};
