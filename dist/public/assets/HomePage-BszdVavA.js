import{g as Tt}from"./_commonjsHelpers-CqkleIqs.js";import{v as Le,B as _e,x as Te,y as qe,f as m,q as r,l as X,i as z,z as me,A as G,D as ke,h as a,t as p,n as ce,u as ve,r as M,o as ze,a as C,g as S,F as Z,p as se,k as l,j as F,E as Be,s as ge,m as ie,e as rt,G as Dt,H as Ct,c as he,I as Pe,J as It,R as ut,K as je,L as St,M as He,N as At,O as Se,P as Nt,Q as Ye,S as ct,T as Bt,U as Pt,V as Ae,w as et,b as Lt,d as qt,W as tt}from"./index-BO2xGYUA.js";import{s as ye,a as dt}from"./index-DLvyvMcf.js";import{s as Q,a as ft}from"./index-ChnOToHo.js";import{D as te,c as ue,s as at,a as zt}from"./index-CNVTOQ41.js";import{_ as De,a as Ke,b as Ue,c as We,s as Qe,d as Ot,S as Et}from"./_plugin-vue_export-helper-BR-XqOP6.js";import{s as Mt}from"./index-DaHFRzrl.js";import{s as st,a as Rt}from"./index-BHJV60l-.js";import{c as de}from"./cookie-CTJN0GZu.js";import{s as jt}from"./index-DMn_jXlS.js";import{s as nt}from"./index-_IitQRY0.js";import{s as Vt}from"./index-BTQgmbPx.js";var Ve={exports:{}},ot;function Ft(){return ot||(ot=1,function(e){var t=function(){var n=String.fromCharCode,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function $(u,_){if(!i[u]){i[u]={};for(var D=0;D<u.length;D++)i[u][u.charAt(D)]=D}return i[u][_]}var j={compressToBase64:function(u){if(u==null)return"";var _=j._compress(u,6,function(D){return g.charAt(D)});switch(_.length%4){default:case 0:return _;case 1:return _+"===";case 2:return _+"==";case 3:return _+"="}},decompressFromBase64:function(u){return u==null?"":u==""?null:j._decompress(u.length,32,function(_){return $(g,u.charAt(_))})},compressToUTF16:function(u){return u==null?"":j._compress(u,15,function(_){return n(_+32)})+" "},decompressFromUTF16:function(u){return u==null?"":u==""?null:j._decompress(u.length,16384,function(_){return u.charCodeAt(_)-32})},compressToUint8Array:function(u){for(var _=j.compress(u),D=new Uint8Array(_.length*2),y=0,h=_.length;y<h;y++){var P=_.charCodeAt(y);D[y*2]=P>>>8,D[y*2+1]=P%256}return D},decompressFromUint8Array:function(u){if(u==null)return j.decompress(u);for(var _=new Array(u.length/2),D=0,y=_.length;D<y;D++)_[D]=u[D*2]*256+u[D*2+1];var h=[];return _.forEach(function(P){h.push(n(P))}),j.decompress(h.join(""))},compressToEncodedURIComponent:function(u){return u==null?"":j._compress(u,6,function(_){return v.charAt(_)})},decompressFromEncodedURIComponent:function(u){return u==null?"":u==""?null:(u=u.replace(/ /g,"+"),j._decompress(u.length,32,function(_){return $(v,u.charAt(_))}))},compress:function(u){return j._compress(u,16,function(_){return n(_)})},_compress:function(u,_,D){if(u==null)return"";var y,h,P={},W={},H="",K="",V="",L=2,A=3,N=2,O=[],s=0,d=0,o;for(o=0;o<u.length;o+=1)if(H=u.charAt(o),Object.prototype.hasOwnProperty.call(P,H)||(P[H]=A++,W[H]=!0),K=V+H,Object.prototype.hasOwnProperty.call(P,K))V=K;else{if(Object.prototype.hasOwnProperty.call(W,V)){if(V.charCodeAt(0)<256){for(y=0;y<N;y++)s=s<<1,d==_-1?(d=0,O.push(D(s)),s=0):d++;for(h=V.charCodeAt(0),y=0;y<8;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1}else{for(h=1,y=0;y<N;y++)s=s<<1|h,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=0;for(h=V.charCodeAt(0),y=0;y<16;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1}L--,L==0&&(L=Math.pow(2,N),N++),delete W[V]}else for(h=P[V],y=0;y<N;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1;L--,L==0&&(L=Math.pow(2,N),N++),P[K]=A++,V=String(H)}if(V!==""){if(Object.prototype.hasOwnProperty.call(W,V)){if(V.charCodeAt(0)<256){for(y=0;y<N;y++)s=s<<1,d==_-1?(d=0,O.push(D(s)),s=0):d++;for(h=V.charCodeAt(0),y=0;y<8;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1}else{for(h=1,y=0;y<N;y++)s=s<<1|h,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=0;for(h=V.charCodeAt(0),y=0;y<16;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1}L--,L==0&&(L=Math.pow(2,N),N++),delete W[V]}else for(h=P[V],y=0;y<N;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1;L--,L==0&&(L=Math.pow(2,N),N++)}for(h=2,y=0;y<N;y++)s=s<<1|h&1,d==_-1?(d=0,O.push(D(s)),s=0):d++,h=h>>1;for(;;)if(s=s<<1,d==_-1){O.push(D(s));break}else d++;return O.join("")},decompress:function(u){return u==null?"":u==""?null:j._decompress(u.length,32768,function(_){return u.charCodeAt(_)})},_decompress:function(u,_,D){var y=[],h=4,P=4,W=3,H="",K=[],V,L,A,N,O,s,d,o={val:D(0),position:_,index:1};for(V=0;V<3;V+=1)y[V]=V;for(A=0,O=Math.pow(2,2),s=1;s!=O;)N=o.val&o.position,o.position>>=1,o.position==0&&(o.position=_,o.val=D(o.index++)),A|=(N>0?1:0)*s,s<<=1;switch(A){case 0:for(A=0,O=Math.pow(2,8),s=1;s!=O;)N=o.val&o.position,o.position>>=1,o.position==0&&(o.position=_,o.val=D(o.index++)),A|=(N>0?1:0)*s,s<<=1;d=n(A);break;case 1:for(A=0,O=Math.pow(2,16),s=1;s!=O;)N=o.val&o.position,o.position>>=1,o.position==0&&(o.position=_,o.val=D(o.index++)),A|=(N>0?1:0)*s,s<<=1;d=n(A);break;case 2:return""}for(y[3]=d,L=d,K.push(d);;){if(o.index>u)return"";for(A=0,O=Math.pow(2,W),s=1;s!=O;)N=o.val&o.position,o.position>>=1,o.position==0&&(o.position=_,o.val=D(o.index++)),A|=(N>0?1:0)*s,s<<=1;switch(d=A){case 0:for(A=0,O=Math.pow(2,8),s=1;s!=O;)N=o.val&o.position,o.position>>=1,o.position==0&&(o.position=_,o.val=D(o.index++)),A|=(N>0?1:0)*s,s<<=1;y[P++]=n(A),d=P-1,h--;break;case 1:for(A=0,O=Math.pow(2,16),s=1;s!=O;)N=o.val&o.position,o.position>>=1,o.position==0&&(o.position=_,o.val=D(o.index++)),A|=(N>0?1:0)*s,s<<=1;y[P++]=n(A),d=P-1,h--;break;case 2:return K.join("")}if(h==0&&(h=Math.pow(2,W),W++),y[d])H=y[d];else if(d===P)H=L+L.charAt(0);else return null;K.push(H),y[P++]=L+H.charAt(0),h--,L=H,h==0&&(h=Math.pow(2,W),W++)}}};return j}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})}(Ve)),Ve.exports}var Ht=Ft();const Fe=Tt(Ht);var Kt=Le`
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: dt('tag.primary.background');
        color: dt('tag.primary.color');
        font-size: dt('tag.font.size');
        font-weight: dt('tag.font.weight');
        padding: dt('tag.padding');
        border-radius: dt('tag.border.radius');
        gap: dt('tag.gap');
    }

    .p-tag-icon {
        font-size: dt('tag.icon.size');
        width: dt('tag.icon.size');
        height: dt('tag.icon.size');
    }

    .p-tag-rounded {
        border-radius: dt('tag.rounded.border.radius');
    }

    .p-tag-success {
        background: dt('tag.success.background');
        color: dt('tag.success.color');
    }

    .p-tag-info {
        background: dt('tag.info.background');
        color: dt('tag.info.color');
    }

    .p-tag-warn {
        background: dt('tag.warn.background');
        color: dt('tag.warn.color');
    }

    .p-tag-danger {
        background: dt('tag.danger.background');
        color: dt('tag.danger.color');
    }

    .p-tag-secondary {
        background: dt('tag.secondary.background');
        color: dt('tag.secondary.color');
    }

    .p-tag-contrast {
        background: dt('tag.contrast.background');
        color: dt('tag.contrast.color');
    }
`,Ut={root:function(t){var n=t.props;return["p-tag p-component",{"p-tag-info":n.severity==="info","p-tag-success":n.severity==="success","p-tag-warn":n.severity==="warn","p-tag-danger":n.severity==="danger","p-tag-secondary":n.severity==="secondary","p-tag-contrast":n.severity==="contrast","p-tag-rounded":n.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},Wt=_e.extend({name:"tag",style:Kt,classes:Ut}),Qt={name:"BaseTag",extends:Te,props:{value:null,severity:null,rounded:Boolean,icon:String},style:Wt,provide:function(){return{$pcTag:this,$parentInstance:this}}};function xe(e){"@babel/helpers - typeof";return xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(e)}function Jt(e,t,n){return(t=Gt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){var t=Zt(e,"string");return xe(t)=="symbol"?t:t+""}function Zt(e,t){if(xe(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var g=n.call(e,t);if(xe(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var we={name:"Tag",extends:Qt,inheritAttrs:!1,computed:{dataP:function(){return qe(Jt({rounded:this.rounded},this.severity,this.severity))}}},Xt=["data-p"];function Yt(e,t,n,g,v,i){return r(),m("span",G({class:e.cx("root"),"data-p":i.dataP},e.ptmi("root")),[e.$slots.icon?(r(),X(ke(e.$slots.icon),G({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(r(),m("span",G({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):z("",!0),e.value!=null||e.$slots.default?me(e.$slots,"default",{key:2},function(){return[a("span",G({class:e.cx("label")},e.ptm("label")),p(e.value),17)]}):z("",!0)],16,Xt)}we.render=Yt;var ea=Le`
    .p-avatar {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: dt('avatar.width');
        height: dt('avatar.height');
        font-size: dt('avatar.font.size');
        background: dt('avatar.background');
        color: dt('avatar.color');
        border-radius: dt('avatar.border.radius');
    }

    .p-avatar-image {
        background: transparent;
    }

    .p-avatar-circle {
        border-radius: 50%;
    }

    .p-avatar-circle img {
        border-radius: 50%;
    }

    .p-avatar-icon {
        font-size: dt('avatar.icon.size');
        width: dt('avatar.icon.size');
        height: dt('avatar.icon.size');
    }

    .p-avatar img {
        width: 100%;
        height: 100%;
    }

    .p-avatar-lg {
        width: dt('avatar.lg.width');
        height: dt('avatar.lg.width');
        font-size: dt('avatar.lg.font.size');
    }

    .p-avatar-lg .p-avatar-icon {
        font-size: dt('avatar.lg.icon.size');
        width: dt('avatar.lg.icon.size');
        height: dt('avatar.lg.icon.size');
    }

    .p-avatar-xl {
        width: dt('avatar.xl.width');
        height: dt('avatar.xl.width');
        font-size: dt('avatar.xl.font.size');
    }

    .p-avatar-xl .p-avatar-icon {
        font-size: dt('avatar.xl.icon.size');
        width: dt('avatar.xl.icon.size');
        height: dt('avatar.xl.icon.size');
    }

    .p-avatar-group {
        display: flex;
        align-items: center;
    }

    .p-avatar-group .p-avatar + .p-avatar {
        margin-inline-start: dt('avatar.group.offset');
    }

    .p-avatar-group .p-avatar {
        border: 2px solid dt('avatar.group.border.color');
    }

    .p-avatar-group .p-avatar-lg + .p-avatar-lg {
        margin-inline-start: dt('avatar.lg.group.offset');
    }

    .p-avatar-group .p-avatar-xl + .p-avatar-xl {
        margin-inline-start: dt('avatar.xl.group.offset');
    }
`,ta={root:function(t){var n=t.props;return["p-avatar p-component",{"p-avatar-image":n.image!=null,"p-avatar-circle":n.shape==="circle","p-avatar-lg":n.size==="large","p-avatar-xl":n.size==="xlarge"}]},label:"p-avatar-label",icon:"p-avatar-icon"},aa=_e.extend({name:"avatar",style:ea,classes:ta}),sa={name:"BaseAvatar",extends:Te,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:aa,provide:function(){return{$pcAvatar:this,$parentInstance:this}}};function $e(e){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(e)}function it(e,t,n){return(t=na(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e){var t=oa(e,"string");return $e(t)=="symbol"?t:t+""}function oa(e,t){if($e(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var g=n.call(e,t);if($e(g)!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Je={name:"Avatar",extends:sa,inheritAttrs:!1,emits:["error"],methods:{onError:function(t){this.$emit("error",t)}},computed:{dataP:function(){return qe(it(it({},this.shape,this.shape),this.size,this.size))}}},ia=["aria-labelledby","aria-label","data-p"],la=["data-p"],ra=["data-p"],ua=["src","alt","data-p"];function ca(e,t,n,g,v,i){return r(),m("div",G({class:e.cx("root"),"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptmi("root"),{"data-p":i.dataP}),[me(e.$slots,"default",{},function(){return[e.label?(r(),m("span",G({key:0,class:e.cx("label")},e.ptm("label"),{"data-p":i.dataP}),p(e.label),17,la)):e.$slots.icon?(r(),X(ke(e.$slots.icon),{key:1,class:ce(e.cx("icon"))},null,8,["class"])):e.icon?(r(),m("span",G({key:2,class:[e.cx("icon"),e.icon]},e.ptm("icon"),{"data-p":i.dataP}),null,16,ra)):e.image?(r(),m("img",G({key:3,src:e.image,alt:e.ariaLabel,onError:t[0]||(t[0]=function(){return i.onError&&i.onError.apply(i,arguments)})},e.ptm("image"),{"data-p":i.dataP}),null,16,ua)):z("",!0)]})],16,ia)}Je.render=ca;const da={class:"grid"},fa={class:"flex flex-column"},pa=["onClick"],va={class:"p-1 flex-shrink-0 w-7rem h-7rem flex align-items-center justify-content-center overflow-hidden"},ha=["src","alt"],ma={class:"flex flex-column justify-content-center"},ba={class:"font-bold"},ga={class:"flex flex-wrap gap-2"},ya={class:"flex gap-1 align-items-center"},_a={class:"text-color-secondary line2"},wa={key:0,class:"text-xl font-bold text-primary"},ka={key:1,class:"flex align-items-center gap-1"},xa={class:"text-l font-bold text-color-secondary"},$a={class:"text-sm line-through text-500"},Ta={key:2,class:"flex gap-2 mr-2",id:"card-quantity"},Da={class:"w-2rem text-xl text-center"},Ca={key:3,class:"flex gap-2 mr-2"},Ia={key:0,class:"m-2 mt-0"},Sa={class:"flex flex-row justify-content-between align-content-center"},Aa={class:"flex flex-column"},Na={class:"text-l font-bold"},Ba={key:0,class:"text-l font-bold text-color-secondary"},Pa={key:1,class:"flex align-items-center gap-1"},La={class:"text-l font-bold text-color-secondary"},qa={class:"text-sm line-through text-500"},za={key:0,class:"flex ml-2 mr-2"},Oa={class:"w-2rem text-xl text-center"},Ea={key:1,class:"flex gap-2 mr-3 pt-2 pb-2"},Ma={class:"max-w-5rem flex align-items-center"},Ra={class:"font-bold whitespace-nowrap"},ja={class:"mb-2 flex justify-content-center"},Va={class:"font-bold text-center"},Fa={class:"mb-2"},Ha={class:"text-color-secondary m-0 line-height-3 line2 text-center"},Ka={class:"mb-2"},Ua={class:"flex justify-content-center"},Wa=["src","alt"],Qa={class:"flex align-items-center gap-2"},Ja=["src","alt"],Ga={class:"flex align-items-center gap-3 ml-auto"},Za={__name:"DishList",props:{rateDish:{type:Function,required:!0},likedItemsRef:Array,dislikedItemsRef:Array,tabIndex:Number},setup(e){const{t}=ve(),n=te.dishDatas,g=M(null),v=e;ze(()=>{if(C.getOrderMenuTab()[v.tabIndex],C.customDishAPI.customDishes.value.map(d=>d.name),C.getMenu().length==0){console.log("exit");return}g.value=n.value[v.tabIndex].mainDishes,te.showDishList(g.value)});let i={rated:!1,id:null,like:0,rate:0};function $(){var o;const s=C.currentPage.value,d=(o=s==null?void 0:s.data)==null?void 0:o.logoPath;return d?C.pathFormated(d,s.imagesPath):"/images/logo_logo.png"}const j=s=>te.dishDatas.value[s]?te.dishDatas.value[s].quantity:0,u=s=>{if(!D())return!1;const d=s.quantity;let o=3;if(s.price>0&&(o=9),s.limit){const le=s.id,w=D(),f=(w.peopleType.adults+w.peopleType.children)*s.limit,q=w.order.find(I=>I.dishid==le);let E=0;if(s.subitem)for(const I of s.subitem){E+=j(I);const k=w.order.find(T=>T.dishid==_(I));k&&(E+=k.quantity)}else E+=s.quantity,q&&(E+=q.quantity);return d>=o||f&&E>=f}return d>=o},_=s=>te.dishDatas.value[s]?te.dishDatas.value[s].id:0,D=()=>C.getTableValue(),y=s=>{let d="absolute origin-top-left mt-1 ml-1 border-round-lg pl-1 pr-1 text-xs text-white font-bold ";switch(s){case"new":d+="bg-red-600";break;case"recommended":case"special":d+="bg-orange-600";break;default:d+="bg-blue-600"}return d};function h(){v.rateDish(i.id,i.like,i.rate,i.rated),i.id=null,i.like=0,i.rate=0,i.rated=!1}const P=s=>{const d=v.likedItemsRef.indexOf(s);if(i.id=s.id,d!==-1)v.likedItemsRef.splice(d,1),i.like+=-1,i.rate+=-1,i.rated=!1;else{i.rated=!0,v.likedItemsRef.push(s);const o=v.dislikedItemsRef.indexOf(s);o!==-1?(v.dislikedItemsRef.splice(o,1),i.like+=1):(i.like+=1,i.rate+=1)}h()},W=s=>{const d=v.dislikedItemsRef.indexOf(s);if(i.id=s.id,d!==-1)v.dislikedItemsRef.splice(d,1),i.rate+=-1,i.rated=!1;else{i.rated=!0,v.dislikedItemsRef.push(s);const o=v.likedItemsRef.indexOf(s);o!==-1?(v.likedItemsRef.splice(o,1),i.like+=-1):i.rate+=1}h()},H=M(!1),K=M({}),V=s=>{H.value=!0,K.value=s},L=s=>{s.target.src="/images/default.png"};function A(s){O(s.target,300)}function N(s){O(s.target,110)}function O(s,d){const o=s.naturalWidth,le=s.naturalHeight,w=Math.min(o,d),f=w/o,q=le*f;s.style.width=`${w}px`,s.style.height=`${q}px`}return(s,d)=>(r(),m(Z,null,[a("div",da,[(r(!0),m(Z,null,se(g.value,(o,le)=>{var w;return r(),m("div",{key:le,class:"col-12 sm:col-12 md:col-6 lg:col-4 border-round surface-section shadow-1 p-2"},[a("div",fa,[a("div",{class:ce(["flex flex-row",o.subItems.length!==0?"flex-grow-1":""]),onClick:f=>V(o.dish)},[((w=o.dish.etiquette)==null?void 0:w.length)>0?(r(),m("div",{key:0,class:ce(y(o.dish.etiquette))},p(l(t)("common.etiquette."+o.dish.etiquette)),3)):z("",!0),a("div",va,[a("img",{src:o.dish.image||"/images/default.png",alt:o.dish.name,class:"w-full h-full",style:{"object-fit":"cover"},onError:L,onLoad:N},null,40,ha)]),a("div",ma,[a("div",ba,p(o.dish.name),1),a("div",null,[a("div",ga,[a("div",ya,[(r(),m(Z,null,se(5,f=>a("i",{key:f,class:ce(["pi invert-star",f<=Math.floor(o.dish.likes/o.dish.rates*5)?"pi-star-fill":f-.5<=o.dish.likes/o.dish.rates*5?"pi-star-half-fill":"pi-star"]),style:{color:"black"}},null,2)),64)),a("p",null,"("+p(o.dish.rates?o.dish.rates:0)+")",1)])])]),a("div",null,[a("p",_a,p(o.dish.note),1)])])],10,pa),o.subItems.length==0?(r(),m("div",{key:0,class:ce(["flex ml-2 mr-2 mb-2",Number(o.dish.price)>0?"justify-content-between":"justify-content-end"])},[!o.dish.discount&&Number(o.dish.price)>0?(r(),m("span",wa,"€"+p(o.dish.price),1)):z("",!0),o.dish.discount?(r(),m("div",ka,[a("span",xa,"€"+p(o.dish.dis_price),1),a("span",$a,"€"+p(o.dish.price),1),S(l(we),{severity:"danger",value:"-"+o.dish.discount+"%"},null,8,["value"])])):z("",!0),o.dish.soldout?z("",!0):(r(),m("div",Ta,[S(l(Q),{icon:"pi pi-minus",rounded:"",disabled:o.dish.quantity<=0,onClick:f=>o.dish.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",Da,p(o.dish.quantity),1),S(l(Q),{icon:"pi pi-plus",rounded:"",disabled:u(o.dish),onClick:f=>o.dish.quantity++,class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])),o.dish.soldout?(r(),m("div",Ca,[S(l(we),{severity:"danger",value:s.$t("common.soldout")},null,8,["value"])])):z("",!0)],2)):z("",!0),o.subItems.length!==0?(r(!0),m(Z,{key:1},se(o.subItems,(f,q)=>(r(),m(Z,{key:"index"},[f.disable?z("",!0):(r(),m("div",Ia,[a("div",Sa,[a("div",Aa,[a("span",Na,p(f.subname),1),!f.discount&&f.price!=="0.00"&&f.price!=="0"?(r(),m("span",Ba,"€"+p(f.price),1)):z("",!0),f.discount?(r(),m("div",Pa,[a("span",La,"€"+p(f.dis_price),1),a("span",qa,"€"+p(f.price),1),S(l(we),{severity:"danger",value:"-"+f.discount+"%"},null,8,["value"])])):z("",!0)]),f.soldout?z("",!0):(r(),m("div",za,[S(l(Q),{icon:"pi pi-minus",rounded:"",disabled:f.quantity<=0,onClick:E=>f.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",Oa,p(f.quantity),1),S(l(Q),{icon:"pi pi-plus",rounded:"",onClick:E=>f.quantity++,class:"w-2rem h-2rem",disabled:u(f)},null,8,["onClick","disabled"])])),f.soldout?(r(),m("div",Ea,[S(l(we),{severity:"danger",value:s.$t("common.soldout")},null,8,["value"])])):z("",!0)])]))],64))),128)):z("",!0)])])}),128))]),S(l(ye),{visible:H.value,"onUpdate:visible":d[2]||(d[2]=o=>H.value=o),modal:"",header:"dish",style:Be([{width:"23rem"},{width:"80vw","max-width":"700px"}])},{header:F(()=>[a("div",Ma,[S(l(Je),{image:$(),class:"w-full"},null,8,["image"])]),a("span",Ra,p(s.$t("common.details")),1)]),default:F(()=>[a("div",ja,[a("span",Va,p(K.value.name),1)]),a("div",Fa,[a("span",Ha,p(K.value.note),1)]),a("div",Ka,[a("div",Ua,[a("img",{class:"w-full h-auto object-contain",src:K.value.image,alt:K.value.name,onError:L,onLoad:A},null,40,Wa)])]),a("div",Qa,[(r(!0),m(Z,null,se(K.value.allergies,(o,le)=>(r(),m("img",{src:"images/"+o+".png",alt:o,class:"w-2rem h-2rem border-round flex-shrink-0",style:{"object-fit":"cover","min-width":"2rem"}},null,8,Ja))),256)),a("div",Ga,[a("button",{onClick:d[0]||(d[0]=o=>P(K.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[a("i",{class:ce(["pi pi-thumbs-up text-xl",v.likedItemsRef.includes(K.value)?"text-green-500":"text-gray-400"])},null,2)]),a("button",{onClick:d[1]||(d[1]=o=>W(K.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[a("i",{class:ce(["pi pi-thumbs-down text-xl",v.dislikedItemsRef.includes(K.value)?"text-red-500":"text-gray-400"])},null,2)])])])]),_:1},8,["visible"])],64))}},Xa=De(Za,[["__scopeId","data-v-c1881def"]]),Ya={key:0,class:"text-3xl font-bold"},es={class:"flex flex-column gap-3 p-1"},ts={key:0,class:"flex flex-column gap-1"},as={key:0,class:"m-0"},ss={key:0,class:"m-0"},ns={class:"flex justify-content-between gap-4 mt-1"},os={class:"flex align-items-center gap-2"},is=["src","alt"],ls={class:"flex-grow-1 min-width-0 max-w-18rem"},rs={class:"flex flex-column gap-1"},us={class:"flex align-items-center gap-2"},cs={class:"text-xl font-bold line1 whitespace-nowrap overflow-hidden text-overflow-ellipsis",style:{"max-width":"20rem"}},ds={class:"flex align-items-end gap-1"},fs={key:0,class:"text-xl font-bold text-primary"},ps={key:1,class:"text-xl font-bold text-primary"},vs={key:2,class:"text-sm text-color-secondary"},hs={key:0,class:"text-xs text-primary"},ms={class:"flex-shrink-0 flex flex-wrap justify-content-between align-items-center gap-1"},bs={class:"flex flex-wrap justify-content-between align-content-center"},gs={class:"flex align-items-center gap-1"},ys={class:"w-2rem text-center"},_s={key:1,class:"flex flex-column gap-2 mt-2"},ws={for:"in_label"},ks={for:"in_label"},xs={class:"bottom-0 left-0 mt-2"},$s={class:"text-2xl font-bold"},Ts={class:"text-2xl font-bold text-primary pl-2"},Ds={class:"flex justify-content-between"},Cs={__name:"Cart",props:{checkout:{type:Function,required:!0},isTakeaway:Boolean},setup(e,{expose:t}){const{locale:n}=ve(),g=rt(),{t:v}=ve(),i=ue.cartDishs;C.freeCounts;const $=M([]),j=M(),u=M(),_=M(!1),D=M(!1),y=M(!0),h=M(""),P=M("");function W(I,k,T){let ne="";const R=n.value,Y=C.customDishAPI.getCustomDishByName(I);for(const ae of T){const fe=Y.types[k].dishes.find(pe=>pe.dishid===ae.id)[`name_${R}`];ne=ne+fe+"/"}return ne}function H(I,k){const T=n.value;return C.customDishAPI.getCustomDishByName(I).types[k][`typeName_${T}`]}const K=(I,k)=>{const T=$.value[I].quantity+k;T>=0&&($.value[I].quantity=T)};function V(I){I&&j.value&&(j.value.dishNote=u.value?u.value:void 0),D.value=!1}function L(){u.value&&(u.value=void 0),j.value&&(j.value=void 0)}function A(I){j.value=I,u.value=j.value.dishNote?j.value.dishNote:void 0,D.value=!0}const N=e;t({showDishList:I=>{_.value=!0,$.value.length=0;for(let k=0;k<I.length;k++)$.value.push(I[k]);y.value=$.value.length==0&&i.length==0}});function s(I){ue.removeItem(I)}function d(){N.isTakeaway?o():le()}function o(){const I=[];i.value.forEach(k=>{I.push(k)}),$.value.forEach(k=>{k.quantity>0&&I.push(k)}),I.length<=0?ie.show_warn(v("notification.select_at_least_one")):(_.value=!1,g.push({path:"/paymentPage"}))}function le(){N.checkout({name:h.value,note:P.value},I=>{I.success&&(i.value.forEach(k=>{k.dishNote=void 0}),$.value.forEach(k=>{k.dishNote=void 0}),P.value="",te.cleanDishDataQty(),de.deleteCookie("cartDish_normal"),ue.cleanAll(),de.deleteCookie("cartDish_custom"))})&&(_.value=!1)}function w(I){return I.subname!=""&&I.subname!="Default Title"?I.name+" "+I.subname:I.name}function f(){let I=0;return i.value.forEach(k=>{I+=k.discount?(k.dis_price?k.dis_price:0)*k.count:(k.price?k.price:0)*k.count}),$.value.forEach(k=>{I+=k.discount?(k.dis_price?k.dis_price:0)*k.quantity:(k.price?k.price:0)*k.quantity}),"€"+I.toFixed(2)}const q=I=>{I.target.src="/images/default.png"},E=I=>{const k=I.quantity;let T=3;return I.price>0&&(T=9),k>=T};return(I,k)=>(r(),m(Z,null,[S(l(ye),{class:"bg-primary-reverse text-sm md:text-lg lg:text-xl",visible:_.value,"onUpdate:visible":k[2]||(k[2]=T=>_.value=T),modal:"",header:I.$t("common.cart"),style:Be([{backgroundColor:"rgba(250, 250, 250, 1)",height:"100%",minWidth:"24rem"},{width:"80vw","max-width":"700px"}]),dismissableMask:!0},{footer:F(()=>[a("div",xs,[a("span",$s,p(I.$t("common.total"))+": ",1),a("span",Ts,p(f()),1),S(l(Q),{icon:e.isTakeaway?"pi pi-wallet":"pi pi-plus",class:"p-button-success p-button-rounded ml-3",onClick:d,label:e.isTakeaway?l(v)("common.pay"):l(v)("common.send")},null,8,["icon","label"])])]),default:F(()=>[y.value?(r(),m("h2",Ya,"Cart is empty.")):z("",!0),a("div",es,[(r(!0),m(Z,null,se(l(i),(T,ne)=>(r(),X(l(Mt),{style:{overflow:"hidden"},key:ne},{title:F(()=>[ge(p(I.$t(`common.${T.name.replace(/[^a-zA-Z0-9\s]/g,"").toLowerCase().replace(/\s+/g,"")}`)),1)]),subtitle:F(()=>[ge(p(I.$t("common.price"))+" : "+p(T.price)+"€",1)]),content:F(()=>[l(C).customDishAPI.customDishes.value.find(R=>R.name==T.name)?(r(),m("div",ts,[(r(!0),m(Z,null,se(T.notesAndId,(R,Y)=>(r(),m("div",null,[T.notesAndId[Y].length!==0?(r(),m("span",as,p(H(T.name,Y))+": "+p(W(T.name,Y,R)),1)):z("",!0)]))),256)),a("div",null,[T.dishNote?(r(),m("span",ss,p(I.$t("common.note"))+": "+p(T.dishNote),1)):z("",!0)])])):z("",!0)]),footer:F(()=>[a("div",ns,[e.isTakeaway?z("",!0):(r(),X(l(Q),{key:0,label:l(v)("common.edit")+" "+l(v)("common.note"),severity:"contrast",onClick:R=>A(T)},null,8,["label","onClick"])),S(l(Q),{label:l(v)("common.remove"),severity:"danger",onClick:R=>s(T)},null,8,["label","onClick"])])]),_:2},1024))),128)),(r(!0),m(Z,null,se($.value,(T,ne)=>(r(),m("div",{key:ne,class:"p-2 border-round shadow-1 transition-all transition-duration-200 hover:shadow-3 flex flex-column gap-1"},[a("div",os,[a("img",{src:T.image,alt:T.name,class:"w-4rem h-4rem border-round flex-shrink-0",onError:q,style:{"object-fit":"cover","min-width":"4rem"}},null,40,is),a("div",ls,[a("div",rs,[a("div",us,[a("span",cs,p(w(T)),1)])]),a("div",ds,[T.discount?(r(),m("span",fs,"€"+p(Number(T.dis_price?T.dis_price:0).toFixed(2)),1)):z("",!0),T.discount?z("",!0):(r(),m("span",ps,"€"+p(Number(T.price?T.price:0).toFixed(2)),1)),T.price>0?(r(),m("span",vs,"/uni.")):z("",!0)])])]),a("div",null,[T.dishNote?(r(),m("span",hs,p(l(v)("common.note")+": "+T.dishNote),1)):z("",!0)]),a("div",ms,[a("div",bs,[e.isTakeaway?z("",!0):(r(),X(l(Q),{key:0,label:l(v)("common.edit")+" "+l(v)("common.note"),severity:"contrast",class:"w-3.5rem h-2rem",onClick:R=>A(T)},null,8,["label","onClick"]))]),a("div",gs,[S(l(Q),{icon:"pi pi-minus",rounded:"",disabled:T.quantity<=0,onClick:R=>K(ne,-1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",ys,p(T.quantity),1),S(l(Q),{icon:"pi pi-plus",rounded:"",disabled:E(T),onClick:R=>K(ne,1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])])]))),128))]),e.isTakeaway?z("",!0):(r(),m("div",_s,[S(l(st),{variant:"in"},{default:F(()=>[S(l(dt),{id:"in_label",modelValue:h.value,"onUpdate:modelValue":k[0]||(k[0]=T=>h.value=T),variant:"filled",maxlength:"20"},null,8,["modelValue"]),a("label",ws,p(l(v)("common.name")),1)]),_:1}),S(l(st),{variant:"in"},{default:F(()=>[S(l(at),{id:"in_label",class:"min-w-full",rows:"5",modelValue:P.value,"onUpdate:modelValue":k[1]||(k[1]=T=>P.value=T),variant:"filled",maxlength:"200"},null,8,["modelValue"]),a("label",ks,p(l(v)("common.observation")),1)]),_:1})]))]),_:1},8,["visible","header"]),S(l(ye),{visible:D.value,"onUpdate:visible":k[6]||(k[6]=T=>D.value=T),header:l(v)("common.note"),onHide:k[7]||(k[7]=T=>L()),modal:"",dismissableMask:!0},{default:F(()=>[S(l(at),{modelValue:u.value,"onUpdate:modelValue":k[3]||(k[3]=T=>u.value=T),rows:"5",cols:"30",placeholder:l(v)("common.edit")+" "+l(v)("common.note")+"...",maxlength:"100"},null,8,["modelValue","placeholder"]),a("div",Ds,[S(l(Q),{label:l(v)("common.cancel"),severity:"danger",onClick:k[4]||(k[4]=T=>V(!1))},null,8,["label"]),S(l(Q),{label:l(v)("common.save"),severity:"primary",size:"sm",onClick:k[5]||(k[5]=T=>V(!0))},null,8,["label"])])]),_:1},8,["visible","header"])],64))}},Is=De(Cs,[["__scopeId","data-v-d535b634"]]);var Ss=Le`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,As={root:"p-overlaybadge"},Ns=_e.extend({name:"overlaybadge",style:Ss,classes:As}),Bs={name:"OverlayBadge",extends:ft,style:Ns,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},pt={name:"OverlayBadge",extends:Bs,inheritAttrs:!1,components:{Badge:ft}};function Ps(e,t,n,g,v,i){var $=Dt("Badge");return r(),m("div",G({class:e.cx("root")},e.ptmi("root")),[me(e.$slots,"default"),S($,G(e.$props,{pt:e.ptm("pcBadge")}),null,16,["pt"])],16)}pt.render=Ps;M([]);M("iniImages()");const Ls={class:"m-3"},qs={class:"flex flex-column gap-2"},zs={class:"w-full flex justify-content-center"},Os={key:0,class:"max-w-19rem"},Es=["src"],Ms={style:{width:"300px",height:"300px",background:"url(/boxImage/box.png)"}},Rs={key:0,class:"flex align-items-center justify-content-center text-4xl font-bold text-white w-full h-full"},js={key:1,class:"grid m-0 p-2"},Vs=["onClick"],Fs={class:"flex align-items-center justify-content-center font-bold m-0 p-0",style:{width:"94px",height:"94px"}},Hs=["src"],Ks={class:"flex flex-wrap justify-content-between align-items-center m-1"},Us={class:"flex gap-1 align-items-center"},Ws={key:0},Qs={class:"font-bold mb-2"},Js={key:1,class:"flex justify-content-between gap-2 mt-3"},Gs={class:"font-bold mb-2"},Zs={class:"flex mr-2"},Xs={class:"w-3rem text-xl text-center"},Ys={class:"font-bold block mb-2"},en={class:"flex flex-wrap"},tn={key:2,class:"flex flex-wrap gap-2 mt-3"},an={class:"font-bold block mb-2"},sn={class:"font-bold block mb-2 text-center"},nn={class:"flex flex-wrap gap-2 mt-3"},on={__name:"CustomDish",props:{currentCustomDish:Object,tabindex:Number},emits:["typeClick"],setup(e,{emit:t}){const{locale:n}=ve(),g=e,v=Ct(),{t:i}=ve();ze(()=>{const w=C.getOrderMenuTab()[g.tabindex];C.customDishAPI.customDishes.value.map(q=>q.name).includes(w)&&($.value=C.customDishAPI.customDishes.value.find(q=>q.name==w))});const $=M(null),j=he(()=>$.boxImages),u=M(0),_=he(()=>{var f;if($.value==null)return 0;let w=(f=$.value)==null?void 0:f.initialPrice;for(const q of $.value.types??[])for(const E of q.dishes??[])E.selected&&(w+=E.price);return Number(w).toFixed(2)}),D=t,y=M(null),h=he(()=>{const w=n.value,f=`title_${w}`,q=`description_${w}`;return $.value==null?{}:$.value.descriptions.map(E=>({title:E[f],descriptions:E.descriptions.map(I=>I[q]),image:E==null?void 0:E.image}))}),P=he(()=>{var q,E;const w=Number(((q=$.value)==null?void 0:q.like)??0),f=Number(((E=$.value)==null?void 0:E.rate)??0);return f?w/f*5:0});function W(w,f){const q=n.value;return w[`${f}_${q}`]}function H(w,f,q){const E=w[f];if(E.selected){E.selected=!1;return}else{const k=w.filter(T=>T.selected).length;if(q===1){d(w),E.selected=!0;return}k<q&&(E.selected=!0)}}function K(w,f,q){const E=w.dishes;D("typeClick",w,f,E[f].selected),H(E,f,q)}function V(w){return w.selected}function L(){if(!o($.value.types))return;const w=N($.value.types),f=O($.value.types);ue.addItem({dishid:-1,name:$.value.name,category:g.currentCustomDish.category,count:u.value!==0?u.value:1,price:_.value,notes:w,notesAndId:f}),console.log("CART: ",ue.cartDishs),s($.value.types),ie.show({severity:"info",summary:"info",detail:i("customDishBibimbapVue.addToCartSuccessBibimbap")})}function A(w){return!w||!w.dishes?"":w.dishes.filter(q=>q.selected).map(q=>q.name).join(",")}function N(w){return w?w.map(f=>A(f)):[]}function O(w){return w?w.map(f=>f.dishes?f.dishes.filter(q=>q.selected).map(q=>({id:q.dishid,name:q.name})):[]):[]}function s(w){w&&w.forEach(f=>{f.dishes&&f.dishes.forEach(q=>{q.selected=!1})})}function d(w){w.forEach(f=>f.selected=!1)}function o(w){if($.value.options.quantity&&u.value<=0)return ie.show({severity:"warn",detail:i("notification.quantity_must_be_positive")}),!1;for(const f of w)if(f.dishes.filter(E=>E.selected).length<f.minQuantity){const E=f.typeName;return ie.show({severity:"warn",detail:i("notification.select_type_of",{name:E})}),!1}return!0}function le(w){w?C.customDishAPI.like($.value.id)&&(y.value="like",v.add({severity:"success",summary:i("common.success"),detail:i("common.rate")+" "+i("common.success"),life:750})):C.customDishAPI.unLike($.value.id)&&(y.value="unlike",v.add({severity:"success",summary:i("common.success"),detail:i("common.rate")+" "+i("common.success"),life:750}))}return(w,f)=>{var q,E,I,k,T,ne;return r(),m("div",Ls,[a("div",qs,[S(l(Qe),{class:"w-full max-w-xl mx-auto"},{default:F(()=>[(r(!0),m(Z,null,se(h.value,(R,Y)=>(r(),X(l(Ke),{key:Y,value:Y},{default:F(()=>[S(l(Ue),null,{default:F(()=>[ge(p(R.title),1)]),_:2},1024),S(l(We),null,{default:F(()=>{var ae;return[(r(!0),m(Z,null,se(R.descriptions,(fe,pe)=>(r(),m("p",{key:pe},p(fe),1))),128)),a("div",zs,[(ae=R.image)!=null&&ae.src?(r(),m("div",Os,[a("img",{src:R.image.src,class:"w-full"},null,8,Es)])):z("",!0)])]}),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),((E=(q=$.value)==null?void 0:q.value)==null?void 0:E.name)==="MY BOX"?(r(),X(l(Qe),{key:0,class:"w-full max-w-xl mx-auto"},{default:F(()=>[S(l(Ke),{value:"0"},{default:F(()=>[S(l(Ue),null,{default:F(()=>[ge(" 🥩 "+p(w.$t("common.showMybox")),1)]),_:1}),S(l(We),null,{default:F(()=>[a("div",Ms,[w.isEmptyArray(j.value)?(r(),m("div",Rs,p(w.$t("common.myboxAlarm")),1)):z("",!0),w.isEmptyArray(j.value)?z("",!0):(r(),m("div",js,[(r(!0),m(Z,null,se(j.value,R=>(r(),m("div",{class:"col-4 p-0",onClick:Y=>w.imageSelectAction(R)},[a("div",Fs,[R?(r(),m("img",{key:0,class:"m-0 p-0",src:w.imagePath(R),style:{width:"82px",height:"82px"}},null,8,Hs)):z("",!0)])],8,Vs))),256))]))])]),_:1})]),_:1})]),_:1})):z("",!0)]),a("div",Ks,[a("div",Us,[(r(),m(Z,null,se(5,R=>a("i",{key:R,class:ce(["pi invert-star",R<=Math.floor(P.value)?"pi-star-fill":R-.5<=P.value?"pi-star-half":"pi-star"]),style:{color:"black"}},null,2)),64)),a("p",null,"("+p((I=$.value)!=null&&I.rate?$.value.rate:0)+")",1)]),a("div",null,[S(l(Q),{text:"",icon:"pi pi-thumbs-up",severity:y.value==="like"?"success":"",onClick:f[0]||(f[0]=R=>le(!0))},null,8,["severity"]),S(l(Q),{text:"",icon:"pi pi-thumbs-down",severity:y.value==="unlike"?"danger":"",onClick:f[1]||(f[1]=R=>le(!1))},null,8,["severity"])])]),(k=$.value)!=null&&k.options.extraInfo?(r(),m("div",Ws,[a("label",Qs,p($.value.options.extraInfo),1)])):z("",!0),(T=$.value)!=null&&T.options.quantity?(r(),m("div",Js,[a("div",null,[a("label",Gs,p(w.$t("common.quantity"))+" / "+p(w.$t("common.pieces")),1)]),a("div",Zs,[S(l(Q),{icon:"pi pi-minus",disabled:u.value<=0,onClick:f[2]||(f[2]=R=>{var Y;return u.value-=(Y=$.value)==null?void 0:Y.options.quantitySetp}),class:"w-2rem h-2rem"},null,8,["disabled"]),a("span",Xs,p(u.value),1),S(l(Q),{icon:"pi pi-plus",disabled:u.value>=$.value.options.maxQuantity,onClick:f[3]||(f[3]=R=>{var Y;return u.value+=(Y=$.value)==null?void 0:Y.options.quantitySetp}),class:"w-2rem h-2rem"},null,8,["disabled"])])])):z("",!0),(r(!0),m(Z,null,se((ne=$.value)==null?void 0:ne.types,(R,Y)=>(r(),m("div",{key:R.id},[Pe(a("div",null,[a("label",Ys,p(Y+1)+". "+p(W(R,"typeName")),1),a("div",en,[(r(!0),m(Z,null,se(R.dishes,(ae,fe)=>(r(),X(l(Q),{key:fe,onClick:pe=>K(R,fe,u.value==0?R.maxQuantity:R.maxQuantity*u.value),class:ce([{"p-button-primary":V(ae),"p-button-outlined":!V(ae)},"m-1"])},{default:F(()=>[a("p",{class:ce({"text-gray-700":!V(ae)})},p(W(ae,"name")),3)]),_:2},1032,["onClick","class"]))),128))])],512),[[It,R.enable]])]))),128)),e.currentCustomDish.initialPrice!==0?(r(),m("div",tn,[a("label",an,p(w.$t("common.price"))+":",1),a("label",sn,p(_.value+"€"),1)])):z("",!0),a("div",nn,[S(l(Q),{icon:"pi pi-shopping-cart",onClick:f[4]||(f[4]=R=>L()),label:w.$t("common.addToCart"),class:"m-3",severity:"primary",raised:""},null,8,["label"])])])}}},ln=De(on,[["__scopeId","data-v-2b9e3b54"]]);var rn=Le`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
    }

    .p-tabs-scrollable > .p-tablist {
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`,un={root:function(t){var n=t.props;return["p-tabs p-component",{"p-tabs-scrollable":n.scrollable}]}},cn=_e.extend({name:"tabs",style:rn,classes:un}),dn={name:"BaseTabs",extends:Te,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:cn,provide:function(){return{$pcTabs:this,$parentInstance:this}}},vt={name:"Tabs",extends:dn,inheritAttrs:!1,emits:["update:value"],data:function(){return{d_value:this.value}},watch:{value:function(t){this.d_value=t}},methods:{updateValue:function(t){this.d_value!==t&&(this.d_value=t,this.$emit("update:value",t))},isVertical:function(){return this.orientation==="vertical"}}};function fn(e,t,n,g,v,i){return r(),m("div",G({class:e.cx("root")},e.ptmi("root")),[me(e.$slots,"default")],16)}vt.render=fn;var pn={root:"p-tablist",content:function(t){var n=t.instance;return["p-tablist-content",{"p-tablist-viewport":n.$pcTabs.scrollable}]},tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},vn=_e.extend({name:"tablist",classes:pn}),hn={name:"BaseTabList",extends:Te,props:{},style:vn,provide:function(){return{$pcTabList:this,$parentInstance:this}}},ht={name:"TabList",extends:hn,inheritAttrs:!1,inject:["$pcTabs"],data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0}},resizeObserver:void 0,watch:{showNavigators:function(t){t?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var t=this;setTimeout(function(){t.updateInkBar()},150),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver())},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver()},methods:{onScroll:function(t){this.showNavigators&&this.updateButtonState(),t.preventDefault()},onPrevButtonClick:function(){var t=this.$refs.content,n=this.getVisibleButtonWidths(),g=je(t)-n,v=Math.abs(t.scrollLeft),i=g*.8,$=v-i,j=Math.max($,0);t.scrollLeft=Ye(t)?-1*j:j},onNextButtonClick:function(){var t=this.$refs.content,n=this.getVisibleButtonWidths(),g=je(t)-n,v=Math.abs(t.scrollLeft),i=g*.8,$=v+i,j=t.scrollWidth-g,u=Math.min($,j);t.scrollLeft=Ye(t)?-1*u:u},bindResizeObserver:function(){var t=this;this.resizeObserver=new ResizeObserver(function(){return t.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var t;(t=this.resizeObserver)===null||t===void 0||t.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var t=this.$refs,n=t.content,g=t.inkbar,v=t.tabs;if(g){var i=He(n,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(g.style.height=At(i)+"px",g.style.top=Se(i).top-Se(v).top+"px"):(g.style.width=Nt(i)+"px",g.style.left=Se(i).left-Se(v).left+"px")}},updateButtonState:function(){var t=this.$refs,n=t.list,g=t.content,v=g.scrollTop,i=g.scrollWidth,$=g.scrollHeight,j=g.offsetWidth,u=g.offsetHeight,_=Math.abs(g.scrollLeft),D=[je(g),St(g)],y=D[0],h=D[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=v!==0,this.isNextButtonEnabled=n.offsetHeight>=u&&parseInt(v)!==$-h):(this.isPrevButtonEnabled=_!==0,this.isNextButtonEnabled=n.offsetWidth>=j&&parseInt(_)!==i-y)},getVisibleButtonWidths:function(){var t=this.$refs,n=t.prevButton,g=t.nextButton,v=0;return this.showNavigators&&(v=((n==null?void 0:n.offsetWidth)||0)+((g==null?void 0:g.offsetWidth)||0)),v}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.scrollable&&this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},dataP:function(){return qe({scrollable:this.$pcTabs.scrollable})}},components:{ChevronLeftIcon:Rt,ChevronRightIcon:jt},directives:{ripple:ut}},mn=["data-p"],bn=["aria-label","tabindex"],gn=["data-p"],yn=["aria-orientation"],_n=["aria-label","tabindex"];function wn(e,t,n,g,v,i){var $=ct("ripple");return r(),m("div",G({ref:"list",class:e.cx("root"),"data-p":i.dataP},e.ptmi("root")),[i.showNavigators&&v.isPrevButtonEnabled?Pe((r(),m("button",G({key:0,ref:"prevButton",type:"button",class:e.cx("prevButton"),"aria-label":i.prevButtonAriaLabel,tabindex:i.$pcTabs.tabindex,onClick:t[0]||(t[0]=function(){return i.onPrevButtonClick&&i.onPrevButtonClick.apply(i,arguments)})},e.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(r(),X(ke(i.templates.previcon||"ChevronLeftIcon"),G({"aria-hidden":"true"},e.ptm("prevIcon")),null,16))],16,bn)),[[$]]):z("",!0),a("div",G({ref:"content",class:e.cx("content"),onScroll:t[1]||(t[1]=function(){return i.onScroll&&i.onScroll.apply(i,arguments)}),"data-p":i.dataP},e.ptm("content")),[a("div",G({ref:"tabs",class:e.cx("tabList"),role:"tablist","aria-orientation":i.$pcTabs.orientation||"horizontal"},e.ptm("tabList")),[me(e.$slots,"default"),a("span",G({ref:"inkbar",class:e.cx("activeBar"),role:"presentation","aria-hidden":"true"},e.ptm("activeBar")),null,16)],16,yn)],16,gn),i.showNavigators&&v.isNextButtonEnabled?Pe((r(),m("button",G({key:1,ref:"nextButton",type:"button",class:e.cx("nextButton"),"aria-label":i.nextButtonAriaLabel,tabindex:i.$pcTabs.tabindex,onClick:t[2]||(t[2]=function(){return i.onNextButtonClick&&i.onNextButtonClick.apply(i,arguments)})},e.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(r(),X(ke(i.templates.nexticon||"ChevronRightIcon"),G({"aria-hidden":"true"},e.ptm("nextIcon")),null,16))],16,_n)),[[$]]):z("",!0)],16,mn)}ht.render=wn;var kn={root:function(t){var n=t.instance,g=t.props;return["p-tab",{"p-tab-active":n.active,"p-disabled":g.disabled}]}},xn=_e.extend({name:"tab",classes:kn}),$n={name:"BaseTab",extends:Te,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:xn,provide:function(){return{$pcTab:this,$parentInstance:this}}},mt={name:"Tab",extends:$n,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(t){switch(t.code){case"ArrowRight":this.onArrowRightKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowRightKey:function(t){var n=this.findNextTab(t.currentTarget);n?this.changeFocusedTab(t,n):this.onHomeKey(t),t.preventDefault()},onArrowLeftKey:function(t){var n=this.findPrevTab(t.currentTarget);n?this.changeFocusedTab(t,n):this.onEndKey(t),t.preventDefault()},onHomeKey:function(t){var n=this.findFirstTab();this.changeFocusedTab(t,n),t.preventDefault()},onEndKey:function(t){var n=this.findLastTab();this.changeFocusedTab(t,n),t.preventDefault()},onPageDownKey:function(t){this.scrollInView(this.findLastTab()),t.preventDefault()},onPageUpKey:function(t){this.scrollInView(this.findFirstTab()),t.preventDefault()},onEnterKey:function(t){this.changeActiveValue(),t.preventDefault()},findNextTab:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=n?t:t.nextElementSibling;return g?Ae(g,"data-p-disabled")||Ae(g,"data-pc-section")==="activebar"?this.findNextTab(g):He(g,'[data-pc-name="tab"]'):null},findPrevTab:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=n?t:t.previousElementSibling;return g?Ae(g,"data-p-disabled")||Ae(g,"data-pc-section")==="activebar"?this.findPrevTab(g):He(g,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.tabs.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.tabs.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(t,n){Pt(n),this.scrollInView(n)},scrollInView:function(t){var n;t==null||(n=t.scrollIntoView)===null||n===void 0||n.call(t,{block:"nearest"})}},computed:{active:function(){var t;return Bt((t=this.$pcTabs)===null||t===void 0?void 0:t.d_value,this.value)},id:function(){var t;return"".concat((t=this.$pcTabs)===null||t===void 0?void 0:t.$id,"_tab_").concat(this.value)},ariaControls:function(){var t;return"".concat((t=this.$pcTabs)===null||t===void 0?void 0:t.$id,"_tabpanel_").concat(this.value)},attrs:function(){return G(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}},dataP:function(){return qe({active:this.active})}},directives:{ripple:ut}};function Tn(e,t,n,g,v,i){var $=ct("ripple");return e.asChild?me(e.$slots,"default",{key:1,dataP:i.dataP,class:ce(e.cx("root")),active:i.active,a11yAttrs:i.a11yAttrs,onClick:i.onClick}):Pe((r(),X(ke(e.as),G({key:0,class:e.cx("root"),"data-p":i.dataP,onClick:i.onClick},i.attrs),{default:F(function(){return[me(e.$slots,"default")]}),_:3},16,["class","data-p","onClick"])),[[$]])}mt.render=Tn;const Dn={class:"fixed top-0 left-0 w-full bg-primary-reverse",style:{"z-index":"10"}},Cn={class:"grid mt-1 ml-1"},In={class:"max-w-3rem flex align-items-center"},Sn=["src"],An={class:"flex align-items-center"},Nn={key:0,class:"text-color font-bold p-1"},Bn={key:1,class:"text-color font-bold p-1"},Pn={class:"card flex mr-3 flex align-items-center",style:{"margin-left":"auto"}},Ln={style:{display:"flex","align-items":"center"}},qn={style:{"flex-grow":"1",width:"0",overflow:"hidden"}},zn={class:"mt-2"},On={class:"flex justify-content-end mt-2"},En={class:"flex inline-flex items-center justify-center gap-2"},Mn={class:"flex align-items-center"},Rn={class:"flex flex-column"},jn={class:"text-sm p-2"},Vn={class:"text-sm p-2"},Fn={class:"flex items-center gap-4 mb-4 p-2"},Hn={class:"flex flex-column gap-3"},Kn={__name:"HeaderTabs",props:{types:Array,typeIndex:Number,tableId:String,tabItems:Array},emits:["clickType","switchToWelcome"],setup(e,{emit:t}){const{t:n}=ve(),g=M(!1);function v(){var N;const L=C.currentPage.value,A=(N=L==null?void 0:L.data)==null?void 0:N.logoPath;return A?C.pathFormated(A,L.imagesPath):"/images/logo_logo.png"}function i(){return C.getTable()}const $=M(),j=he(()=>[{label:n("common.options"),items:[{label:n("common.pay"),icon:"pi pi-wallet",command:()=>{W()}},{label:n("common.call"),icon:"pi pi-user-plus",command:()=>{C.send_cmd(i(),{cmd:"call"},L=>{L.success?ie.show_info(n("notification.call_msg")):ie.show_warn(L.data)})}}]}]),u=L=>{$.value.toggle(L)},_=L=>{D.value.toggle(L)},D=M(),y=M(!1),h=M(),P=M();function W(){y.value=!0}function H(){L(h.value)?C.send_cmd(i(),{cmd:"pay",nif:h.value,note:P.value},A=>{A.success?(ie.show_info(n("notification.pay_msg")),y.value=!1):ie.show_error(n("common.failed"))}):ie.show_warn(n("notification.cancel_msg"));function L(A){return!A||A.toString().length===9||A.toString().length===0}}function K(){P.value&&(P.value=void 0)}function V(){g.value=!0}return(L,A)=>(r(),m(Z,null,[a("div",Dn,[a("div",Cn,[a("div",In,[a("img",{src:v(),class:"w-full",clickble:"",onClick:A[0]||(A[0]=()=>L.$emit("switchToWelcome"))},null,8,Sn)]),a("div",An,[e.tableId?(r(),m("p",Nn,p(L.$t("common.table"))+": "+p(e.tableId),1)):z("",!0),e.tableId?z("",!0):(r(),m("p",Bn,p(L.$t("common.takeAway")),1))]),a("div",Pn,[e.tableId?(r(),X(l(Q),{key:0,icon:"pi pi-bell",rounded:"","aria-label":"Filter",onClick:u,"aria-haspopup":"true","aria-controls":"overlay_menu"})):(r(),X(l(Q),{key:1,icon:"pi pi-question",rounded:"",onClick:V})),S(l(nt),{ref_key:"menu",ref:$,id:"overlay_menu",model:j.value,popup:!0},null,8,["model"])])]),a("div",Ln,[a("div",null,[S(l(Q),{icon:"pi pi-bars",variant:"text",rounded:"","aria-label":"Filter",onClick:_,"aria-haspopup":"true","aria-controls":"tab_menu"}),S(l(nt),{ref_key:"tabMenu",ref:D,id:"tab_menu",model:e.tabItems,popup:!0},null,8,["model"])]),a("div",qn,[S(l(vt),{value:e.typeIndex,scrollable:"",showNavigators:!1},{default:F(()=>[S(l(ht),null,{default:F(()=>[(r(!0),m(Z,null,se(e.types,(N,O)=>(r(),X(l(mt),{value:O,onClick:()=>L.$emit("clickType",O),class:"text-sm md:text-lg lg:text-xl"},{default:F(()=>[ge(p(N),1)]),_:2},1032,["value","onClick"]))),256))]),_:1})]),_:1},8,["value"])])])]),S(l(ye),{visible:y.value,"onUpdate:visible":A[4]||(A[4]=N=>y.value=N),header:"结账",class:"flex flex-column",modal:!0,dismissableMask:!0,onHide:K},{default:F(()=>[a("div",null,[A[6]||(A[6]=a("label",null,"NIF:",-1)),S(l(Vt),{modelValue:h.value,"onUpdate:modelValue":A[1]||(A[1]=N=>h.value=N),inputId:"withoutgrouping",useGrouping:!1,fluid:"",class:"w-full m-1"},null,8,["modelValue"])]),a("div",zn,[a("label",null,p(L.$t("common.note"))+":",1),S(l(dt),{type:"text",modelValue:P.value,"onUpdate:modelValue":A[2]||(A[2]=N=>P.value=N),class:"w-full m-1"},null,8,["modelValue"])]),a("div",On,[S(l(Q),{label:l(n)("common.send"),onClick:A[3]||(A[3]=N=>H())},null,8,["label"])])]),_:1},8,["visible"]),S(l(ye),{visible:g.value,"onUpdate:visible":A[5]||(A[5]=N=>g.value=N),modal:"",dismissableMask:"",class:"h-full",style:{width:"90vw",maxWidth:"40rem",minWidth:"20rem"},draggable:!1},{header:F(()=>[a("div",En,[S(l(Je),{icon:"pi pi-question",shape:"circle"}),a("span",Mn,p(l(n)("takeawayHelper.dialogTitle")),1)])]),default:F(()=>[a("div",Rn,[a("span",jn,p(l(n)("takeawayHelper.introduction")),1),a("span",Vn,p(l(n)("takeawayHelper.note_t"))+" "+p(l(n)("takeawayHelper.note_1")),1),a("div",Fn,[S(l(Qe),{class:"w-full max-w-xl mx-auto"},{default:F(()=>[S(l(Ke),{value:"0"},{default:F(()=>[S(l(Ue),{class:"text-sm"},{default:F(()=>[ge(p(l(n)("takeawayHelper.question_1")),1)]),_:1}),S(l(We),{class:"p-1"},{default:F(()=>[a("div",Hn,[a("span",null,p(l(n)("takeawayHelper.q_1_request_1")),1),a("span",null,p(l(n)("takeawayHelper.q_1_request_2")),1),a("span",null,p(l(n)("takeawayHelper.q_1_request_3")),1),a("span",null,p(l(n)("takeawayHelper.q_1_request_4")),1),a("span",null,p(l(n)("takeawayHelper.q_1_request_5")),1)])]),_:1})]),_:1})]),_:1})])])]),_:1},8,["visible"])],64))}},Un={__name:"SwipeHint",props:{size:{type:String,default:"8rem"},duration:{type:Number,default:6e3},position:{type:String,default:"bottom"}},setup(e){const t=e,n=M(!0);ze(()=>{t.duration>0&&setTimeout(()=>{n.value=!1},t.duration);const v=()=>{n.value=!1,window.removeEventListener("touchstart",v)};window.addEventListener("touchstart",v)});const g=he(()=>{let v={left:"50%",transform:"translateX(-50%)",zIndex:99999,opacity:.5,pointerEvents:"none",textAlign:"center",position:"fixed"};return t.position==="top"?v.top="15%":t.position==="center"?(v.top="50%",v.transform="translate(-50%, -50%)"):v.bottom="15%",v});return(v,i)=>n.value?(r(),m("div",{key:0,class:"swipe-hint",style:Be(g.value)},[a("div",{class:"hand",style:Be({width:e.size,height:e.size,backgroundImage:"url(/images/hand_finger.png)"})},null,4)],4)):z("",!0)}},Wn=De(Un,[["__scopeId","data-v-e5f3ff45"]]),Qn={class:"w-full h-full flex flex-column p-1"},Jn={class:"swiper-container-wrapper"},Gn={class:"fixed bottom-0 left-0 w-full h-3rem bg-primary-reverse p-3 z-[9999]"},Zn={class:"h-full flex align-items-center justify-content-between w-full"},Xn={class:"m-2"},Yn={key:0,class:"m-2"},eo={class:"m-2"},to={style:{"max-height":"60vh","overflow-y":"auto","padding-bottom":"60px"}},ao={class:"flex flex-column border-bottom-1"},so={key:0,class:"flex justify-content-between"},no={class:"flex flex-column"},oo={class:"font-bold"},io={class:"text-right"},lo={key:1,class:"flex justify-content-between"},ro={class:"flex flex-column"},uo={class:"font-bold"},co={class:"text-right"},fo={key:0},po={key:1,class:"flex flex-column"},vo={class:"flex flex-column"},ho={class:"font-bold"},mo={class:"text-right"},bo={class:"total-footer bg-primary-reverse"},lt=5,Ne="order_time_key",go={__name:"HomePage",setup(e){const t=rt(),n=qt(),{t:g}=ve(),{locale:v}=ve(),i=M(0),$=M(!1),j=M([""]),u=M(0),_=ue.cartItemCount,D=M(!1),y=M([]),h=M(0),P=M({}),W=M(!1),H=te.dishDatas,K=M(C.orderMenuTab),V=M(null),L=M(null),A=M([]),N=M([]),O=M([]),s=M(!1);let d=null;const o=c=>{u.value=c.activeIndex,pe()},le=c=>{d=c};et(u,c=>{d&&d.activeIndex!==c&&d.slideTo(c);let b=C.getOrderMenuTab()[c];C.customDishAPI.customDishes.value.map(x=>x.name).includes(b)?(W.value=!0,P.value=C.customDishAPI.customDishes.value.find(x=>x.name==b)):W.value=!1});const w=(c,b,B,x)=>{C.rateDish(c,b,B),x&&ie.show_success(g("notification.rating_submitted"))},f=(c,b,B)=>{if(P.value.name=="XIAOXIONG® RAMEN"&&c.id===1){const x=c.dishes[b];let U;x.dishid==47?B?U=q(3,!0,1):U=q(3,!1,1):U=q(3,!0,1),U!==void 0&&E(U)}if(P.value.name=="Menu Almoço"&&c.id===3){const x=c.dishes[b];let U;[1427,41].includes(x.dishid)?B?U=q(4,!0,0):U=q(4,!1,0):U=q(4,!0,0),U!==void 0&&E(U)}};function q(c,b,B){if(P.value={...P.value,types:P.value.types.map(x=>x.id===c?{...x,enable:b,minQuantity:b?B:0}:x)},b===!1)return c}function E(c){!P.value||!Array.isArray(P.value.types)||(P.value={...P.value,types:P.value.types.map(b=>b.id===c?{...b,dishes:b.dishes.map(B=>({...B,selected:!1}))}:b)})}function I(c){let b=C.getOrderMenuTab()[c];if(C.customDishAPI.customDishes.value.map(ee=>ee.name).includes(b)?(W.value=!0,P.value=C.customDishAPI.customDishes.value.find(ee=>ee.name==b)):W.value=!1,C.getMenu().length==0){console.log("exit");return}let U=H.value[c].mainDishes;te.showDishList(U)}const k=()=>{C.refreshTableFromServer(),C.getTableTotalAmount(h),D.value=!0},T=(c,b,B)=>{},ne=c=>{let b=c.id;c.org_id&&(b=c.org_id);for(let B=0;B<H.value.length;B++)if(H.value[B].id==b)for(const x in c){let U=x;x.startsWith("note")&&(U=U.replace("note","description")),H.value[B][U]=c[x]}};function R(){return new Promise(c=>{let b=()=>{const B=C.formatedMenu.value;B.length>0?c(B):setTimeout(b,200)};b()})}const Y=he(()=>c=>{const b=C.dictinaryAPI.dictinary.value[c];return b?b[`text_${v.value.toLowerCase()}`]:c});et([()=>C.formatedMenu.value,()=>v.value,()=>C.orderMenuTab],([c,b])=>{if(!c||c.length===0){O.value=[];return}const B={},x=C.orderMenuTab,U=c.map(J=>({...J,mainDishes:J.dishes.map(re=>{const oe=re.dish;if(B[oe.id])return B[oe.id];const xt={...oe,defaultName:oe.name,defaultSubname:oe.subname,name:ae(oe,"name",b),note:ae(oe,"note",b),subname:ae(oe,"subname",b),quantity:0},$t=re.subItems.map(Xe=>{const Re=Xe;return{...Xe,defaultName:oe.name,defaultSubname:oe.subname,name:ae(Re,"name",b),note:ae(Re,"note",b),subname:ae(Re,"subname",b),quantity:0}}),Me={...re,dish:xt,subItems:$t};return B[Me.id]=Me,Me})}));H.value.length;const ee=te.getAllIncrementedDish();te.getIdsAndQuantity(ee);const be=ue.cartDishs.value;Fe.compressToEncodedURIComponent(JSON.stringify(be)),O.value=U,H.value=O.value,j.value=C.orderMenuTab,(ee.length>0||be.length>0)&&(te.cleanDishDataQty(),te.updateDishDataQty(ee)),K.value=x.map(J=>{const re=C.dictinaryAPI.dictinary.value[J];return re?re[`text_${v.value.toLowerCase()}`]:J}),y.value=[];for(let J=0;J<x.length;J++){const re=J;y.value.push({label:Y.value(x[J]),command:()=>{Ge(re),pe()}})}i.value++,console.log("languagedMenu updated via watch:",O.value),tt(()=>{i.value++,d&&typeof d.update=="function"&&(d.update(),d.slideTo(u.value))})},{immediate:!0,deep:!0});function ae(c,b,B){return c?B==="en"?c[`${b}_en`]||c[b]:B==="zh"&&c[`${b}_cn`]||c[b]:""}async function fe(){await R(),C.onMenuItemChanged=ne,C.onRatingChanged=T,kt()}const pe=()=>{tt(()=>{const c=document.querySelector(".p-tablist-viewport"),b=document.querySelector(".p-tab.p-tab-active");if(c&&b){const B=b.offsetLeft-c.offsetWidth/2+b.offsetWidth/2;c.scrollTo({left:B,behavior:"smooth"})}window.scrollTo({top:0,behavior:"smooth"})})},Ge=c=>{I(c),u.value=c,pe()},bt=()=>{var c=te.getAllIncrementedDish();L.value.showDishList(c)};function Oe(){return C.getTable()}C.params.port,V.value=C.table.value.order;function gt(c){var b=g("notification.too_fast",{remainTime:c});ie.show_warn(b)}const yt=(c,b)=>{const B=[];for(let J=0;J<ue.cartDishs.value.length;J++){var x=ue.cartDishs.value[J];const re=C.formateCustomDishNotes(x),oe=x.dis_count?x.dis_price:x.price;B.push({dishid:x.dishid,name:x.name,quantity:x.count,notes:re,limit:x.limit,price:oe,dishNote:x.dishNote,category:x.category})}const U=te.getAllIncrementedDish();for(let J=0;J<U.length;J++){var x=U[J];if(x.quantity>0){const oe=x.dis_count?x.dis_price:x.price;B.push({dishid:x.id,name:x.defaultName,quantity:x.quantity,limit:x.limit,price:oe,dishNote:x.dishNote})}}if(B.length===0)return ie.show_warn(g("notification.select_at_least_one")),!1;console.log("cart item:",B);const ee=JSON.parse(de.getCookie(Ne)||"{}"),be=Date.now();if(!ee.startTime||be-ee.startTime>lt*1e3)ee.startTime=be,ee.uniCode||(ee.uniCode=Date.now().toString(36)+Math.random().toString(36).substring(2,5));else{const J=lt-parseInt((be-ee.startTime)/1e3);gt(J);return}return de.setCookie(Ne,JSON.stringify(ee)),$.value=!0,C.submit_order({uniCode:ee.uniCode,name:c.name,note:c.note,table:Oe(),items:B},J=>{const re=JSON.parse(de.getCookie(Ne)||"{}");re.uniCode=void 0,de.setCookie(Ne,JSON.stringify(re)),b(J)}),!0};function _t(){const c=de.getCookie("language");c&&(v.value=c)}function Ze(){for(let c=0;c<H.value.length;c++){const b=H.value[c];b.quantity=0}$.value=!1,ue.cleanAll()}ze(async()=>{_t(),await fe(),I(u.value),C.clear_order_data=()=>{Ze()},C.setOnOrderConfirmed(c=>{Ze();const b=c;ie.show_success(g("notification.order_submitted",{id:b}))}),C.setOnShowError(c=>{$.value=!1,ie.show_error(c)})});function wt(){de.deleteCookie("login_time");const c=n.query.table;c?t.push({path:"/",query:{table:c}}):t.push({path:"/takeReserve"})}function Ce(c,b=!0){const B=b?ue.cartDishs.value:te.getIdsAndQuantity(te.getAllIncrementedDish()),x=Fe.compressToEncodedURIComponent(JSON.stringify(B));de.setCookie(c,x)}function Ee(){C.isTakeaway()?(Ce("take_cartDish_normal",!1),Ce("take_cartDish_custom",!0)):(Ce("cartDish_normal",!1),Ce("cartDish_custom",!0))}function Ie(c,b=!0){const B=de.getCookie(c);if(!B)return;const x=JSON.parse(Fe.decompressFromEncodedURIComponent(B));if(x&&x!=="undefined")try{b?ue.cartDishs.value=x:te.updateDishDataQty(x)}catch(U){console.error("解析菜失败:",U)}}function kt(){C.isTakeaway()?(Ie("take_cartDish_normal",!1),Ie("take_cartDish_custom")):(Ie("cartDish_normal",!1),Ie("cartDish_custom"))}return Lt(()=>{Ee()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Ee()}),window.addEventListener("beforeunload",c=>{Ee(),C.cleanup()}),(c,b)=>(r(),m(Z,null,[a("div",Qn,[(r(),X(Kn,{key:i.value,types:K.value,typeIndex:u.value,tabItems:y.value,tableId:Oe(),onClickType:Ge,onSwitchToWelcome:wt},null,8,["types","typeIndex","tabItems","tableId"])),b[4]||(b[4]=a("div",{class:"pb-8"},null,-1)),b[5]||(b[5]=a("div",{class:"pb-4 sm:pb-5 md:pb-5 lg:pb-5"},null,-1)),S(Wn,{duration:3e3,position:"center",size:"3rem"}),a("div",Jn,[(r(),X(l(Ot),{key:`swiper-${K.value.length}-${i.value}`,"space-between":20,"centered-slides":"","grab-cursor":!0,class:"w-full",autoHeight:!0,onSlideChange:o,onSwiper:le,"initial-slide":u.value},{default:F(()=>[(r(!0),m(Z,null,se(K.value,(B,x)=>(r(),X(l(Et),{key:x},{default:F(()=>[Math.abs(u.value-x)<=1&&(!W.value||u.value!==x)?(r(),X(Xa,{key:0,rateDish:w,likedItemsRef:A.value,dislikedItemsRef:N.value,tabIndex:x},null,8,["likedItemsRef","dislikedItemsRef","tabIndex"])):Math.abs(u.value-x)<=1&&W.value&&u.value===x?(r(),X(ln,{key:1,currentCustomDish:P.value,onTypeClick:f,tabindex:x},null,8,["currentCustomDish","tabindex"])):z("",!0)]),_:2},1024))),128))]),_:1},8,["initial-slide"]))]),b[6]||(b[6]=a("div",{style:{height:"60px"}},null,-1)),a("div",Gn,[a("div",Zn,[a("div",Xn,[l(C).isTakeaway()?z("",!0):(r(),X(l(Q),{key:0,label:c.$t("common.orders"),icon:"pi pi-list",class:"p-button-secondary",onClick:k},null,8,["label"]))]),l(C).developmentEnvironment?(r(),m("div",Yn,[S(l(zt),{class:"text-sm",modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=B=>s.value=B),onLabel:l(g)("common.showAll"),offLabel:l(g)("common.showOnlyVegetables"),onClick:b[1]||(b[1]=B=>l(C).toggleMenuToVegetable(s.value))},null,8,["modelValue","onLabel","offLabel"])])):z("",!0),a("div",eo,[S(l(pt),{value:l(_),severity:"danger",onClick:bt},{default:F(()=>b[3]||(b[3]=[a("i",{class:"pi pi-shopping-cart",style:{"font-size":"2rem"}},null,-1)])),_:1,__:[3]},8,["value"])])])])]),S(Is,{ref_key:"cartRef",ref:L,checkout:yt,isTakeaway:!Oe()},null,8,["isTakeaway"]),S(l(ye),{visible:D.value,"onUpdate:visible":b[2]||(b[2]=B=>D.value=B),header:c.$t("common.completedOrders"),modal:"",style:{width:"80vw","max-width":"700px"}},{default:F(()=>{var B,x;return[a("div",to,[a("div",ao,[(B=h.value.adultPrice)!=null&&B.quantity&&h.value.adultPrice.quantity!=0?(r(),m("div",so,[a("div",no,[a("span",oo,p(c.$t("common.adult")),1),a("small",null,p(c.$t("common.quantity"))+": "+p(h.value.adultPrice.quantity),1)]),a("div",io,[a("span",null,"€"+p((Number(h.value.adultPrice.price)*h.value.adultPrice.quantity).toFixed(2)),1)])])):z("",!0),(x=h.value.childrenPrice)!=null&&x.quantity&&h.value.childrenPrice.quantity!=0?(r(),m("div",lo,[a("div",ro,[a("span",uo,p(c.$t("common.children")),1),a("small",null,p(c.$t("common.quantity"))+": "+p(h.value.childrenPrice.quantity),1)]),a("div",co,[a("span",null,"€"+p((Number(h.value.childrenPrice.price)*h.value.childrenPrice.quantity).toFixed(2)),1)])])):z("",!0)]),l(C).table.value.order.length===0?(r(),m("div",fo,p(c.$t("common.noOrders")),1)):(r(),m("div",po,[(r(!0),m(Z,null,se(l(C).table.value.order,(U,ee)=>(r(),m("div",{key:ee,class:"flex justify-content-between border-bottom-1 pb-2"},[a("div",vo,[a("span",ho,p(l(C).getDishName(U)),1),a("small",null,p(c.$t("common.quantity"))+": "+p(U.quantity),1)]),a("div",mo,[a("span",null,"€"+p((U.price*U.quantity).toFixed(2)),1)])]))),128))]))]),a("div",bo,p(c.$t("common.total"))+": €"+p(h.value.total),1)]}),_:1},8,["visible","header"])],64))}},No=De(go,[["__scopeId","data-v-7aab74b3"]]);export{No as default};
