import{s as fe}from"./index-DeQhilv7.js";import{s as ve}from"./index-6tqVHg-v.js";import{s as ge,b as be}from"./index-oge4_c7I.js";import{B as _e,c as U,o as j,r as ye,m as we,q as he,x as xe,u as Ve,h as x,s as Pe,i as ke,a,d as t,w as r,F as $e,n as P,t as c,e as Ce,l as f,G as De}from"./index-BULDcCGn.js";import{s as Ie,a as Ue,b as je,c as Me}from"./index-BFnt7Pfi.js";import{s as Fe}from"./index-B9Up2pcY.js";import{s as Se,a as Te}from"./index-CfU8x9jY.js";import{s as Le}from"./index-BIZYGEVw.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-MPeAesa8.js";import"./index-BQhRBBUL.js";import"./index-kA6imsrS.js";import"./index-q9kZl5Ge.js";import"./index-R0uzDHrX.js";import"./index-CW2B1p7O.js";import"./index-CrZnt2vz.js";var Re=`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`,Ae={root:"p-inputgroup"},Be=_e.extend({name:"inputgroup",style:Re,classes:Ae}),Oe={name:"BaseInputGroup",extends:ge,style:Be,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},Q={name:"InputGroup",extends:Oe,inheritAttrs:!1};function Ee(F,i,B,S,O,w){return j(),U("div",we({class:F.cx("root")},F.ptmi("root")),[ye(F.$slots,"default")],16)}Q.render=Ee;const He="/icons/default_image.png",ze={class:"card flex flex-column h-full"},qe={class:"m-0 font-bold text-2xl text-left flex-grow-1"},Ge={class:"flex justify-content-end gap-2"},We={class:"flex gap-3"},Xe={key:0},Ke={class:"flex gap-3"},Ye={key:1},Je={class:"flex flex-row align-items-center gap-2"},Qe={class:"border-1"},Ze=["src"],el={key:1,class:"upload-placeholder"},ll={class:"flex align-items-center gap-1"},tl={class:"flex align-items-center gap-1"},al={class:"flex flex-column gap-2 mt-3"},nl={for:"on_label"},ol={for:"on_label"},sl={for:"on_label"},ul={for:"on_label"},il={for:"on_label"},dl={for:"on_label"},rl={class:"flex flex-column w-full gap-2"},pl={class:"flex flex-row justify-content-between w-full gap-2"},ml={class:"w-6"},cl={class:"w-6 gap-2"},fl={for:"on_label"},vl={class:"flex flex-row justify-content-between w-full gap-2"},gl={class:"w-6"},bl={for:"on_label"},_l={class:"w-6"},yl={for:"on_label"},wl={class:"flex flex-row justify-content-between w-full gap-2"},hl={class:"w-6"},xl={for:"on_label"},Vl={class:"w-6"},Pl={for:"on_label"},kl={class:"flex flex-row justify-content-between w-full gap-2"},$l={class:"w-6"},Cl={for:"on_label"},Dl={class:"w-6"},Il={for:"on_label"},Ul={class:"flex flex-row justify-content-between w-full gap-2"},jl={class:"w-6"},Ml={for:"on_label"},Fl={class:"flex flex-row justify-content-end align-items-center gap-2"},Sl={class:"flex flex-row align-items-center mb-4 gap-2"},Tl={class:"flex items-center align-items-center gap-1"},Ll={class:"flex items-center align-items-center gap-1"},Nl={class:"flex flex-column gap-2"},Rl={for:"on_label"},Al={for:"on_label"},Bl={for:"on_label"},Ol={class:"flex flex-column w-full gap-2"},El={class:"flex flex-row justify-content-between w-full gap-2"},Hl={class:"w-6"},zl={class:"w-6 gap-2"},ql={for:"on_label"},Gl={class:"flex flex-row justify-content-between w-full gap-2"},Wl={class:"w-6"},Xl={class:"w-6"},Kl={for:"on_label"},Yl={class:"flex flex-row justify-content-between w-full gap-2"},Jl={class:"w-6"},Ql={for:"on_label"},Zl={class:"w-6"},et={for:"on_label"},lt={class:"flex flex-row justify-content-between w-full gap-2"},tt={class:"w-6"},at={for:"on_label"},nt={class:"flex flex-row justify-content-between w-full gap-2"},ot={class:"w-6"},st={class:"flex flex-row justify-content-end gap-2"},ut={__name:"MenuPage",setup(F){const{t:i}=he(),B=xe();let S=!1;function O(){if(S){S=!0;return}let s={},e=!1;for(let u=0;u<y.length;u++)for(let d=0;d<M.length;d++){const n=y[u]+M[d];_.value[n]!=l.value[n]&&(s[n]=l.value[n],e=!0)}for(let u=0;u<k.length;u++){let d=k[u];_.value[d]!=l.value[d]&&(e=!0,s[d]=l.value[d])}_.value.disable?l.value.disable||(e=!0,s.disable=!1):l.value.disable&&(e=!0,s.disable=!0),e&&B.require({message:i("menuPage.saveMsg"),header:i("menuPage.saveHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:i("common.saveExit"),rejectLabel:i("common.cancel"),rejectClass:"p-button-secondary",accept:()=>{$.value=!1,H(s)},reject:()=>{$.value=!0}})}const w=Ve(),T=x([]),E=x({global:{value:null,matchMode:De.CONTAINS}}),z=x({}),Z=(s,e)=>{if(!e)return s;const u=e.toLowerCase();return s.filter(d=>{var v;const n=Object.entries(d).filter(([b])=>b!=="subitems").some(([b,g])=>String(g).toLowerCase().includes(u)),p=(v=d.subitems)==null?void 0:v.some(b=>Object.values(b).some(g=>String(g).toLowerCase().includes(u)));return n||p}).map(d=>{var p;const n=Object.entries(d).filter(([v])=>v!=="subitems").some(([v,b])=>String(b).toLowerCase().includes(u));return{...d,subitems:n?d.subitems:(p=d.subitems)==null?void 0:p.filter(v=>Object.values(v).some(b=>String(b).toLowerCase().includes(u)))}})},ee=Pe(()=>Z(T.value,E.value.global.value)),le=x([]),_=x(null),l=x({}),q=x([]),G=x([{value:void 0,label:i("menuPage.dineIn")+" & "+i("menuPage.takeAway")},{value:"DINEIN",label:i("menuPage.dineIn")},{value:"TAKEAWAY",label:i("menuPage.takeAway")}]);let y=["name","note","subname"];const M=["","_en","_cn"];let k=["id","orderType","price","deliveryPrice","category","tags","image","soldout","discount","deliveryDiscount","dis_price","limit"];const $=x(!1),D=x(!1);function te(){S=!0,$.value=!$.value}function ae(){D.value=!D.value}function ne(s){C=void 0,$.value=!0,N(s)}function W(s){B.require({message:i("menuPage.deleteMsg"),header:i("menuPage.deleteHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:i("common.delete"),rejectLabel:i("common.cancel"),acceptClass:"p-button-danger",rejectClass:"p-button-secondary",accept:()=>{P.deleteItem(s.id,e=>{if(e.success){let u=!1;for(let d=0;d<T.value.length;d++){const n=T.value[d];if(n.subitems){for(let p=0;p<n.subitems.length;p++)if(n.subitems[p].id===e.data){n.subitems.splice(p,1),u=!0;break}}if(n.id===e.data){T.value.splice(d,1),u=!0;break}if(u)break}u?w.add({severity:"success",summary:i("common.success"),detail:i("menuPage.deleteSucMsg"),life:3e3}):w.add({severity:"error",summary:i("common.error"),detail:i("menuPage.deleteFailMsg"),life:3e3})}else w.add({severity:"error",summary:i("common.error"),detail:e.data,life:3e3})})},reject:()=>{}})}function oe(s){C=void 0,D.value=!0,N(s)}function N(s,e){X=e,_.value=s;for(let u=0;u<y.length;u++)l.value[y[u]]=s[y[u]],l.value[y[u]+"_en"]=s[y[u]+"_en"],l.value[y[u]+"_cn"]=s[y[u]+"_cn"];l.value.disable=s.disable||!1;for(let u=0;u<k.length;u++)l.value[k[u]]=s[k[u]]}let X=!1;function H(s){console.log("apply dish");let e=s,u=!1;if(l.value.discount?(l.value.discount=Math.round(l.value.discount),l.value.discount>99&&(l.value.discount=99),l.value.discount<=0?(l.value.dis_price=void 0,l.value.discount=void 0):(l.value.dis_price=l.value.price*(100-l.value.discount),l.value.dis_price=Math.round(l.value.dis_price)/100,console.log(l.value.price*(100-l.value.discount)))):l.value.dis_price=void 0,e)u=!0;else{e={};for(let d=0;d<y.length;d++)for(let n=0;n<M.length;n++){const p=y[d]+M[n];_.value[p]!=l.value[p]&&(e[p]=l.value[p],u=!0)}for(let d=0;d<k.length;d++){let n=k[d];_.value[n]!=l.value[n]&&(u=!0,e[n]=l.value[n])}_.value.disable?l.value.disable||(u=!0,e.disable=!1):l.value.disable&&(u=!0,e.disable=!0)}if(!u){w.add({severity:"error",summary:i("common.error"),detail:i("menuPage.notChanged"),life:3e3});return}if(u){let d=!1;if(l.value.id=l.value.id.trim(),l.value.id!="")if(l.value.id==_.value.id)d=!0;else{d=!0;for(let n=0;n<P.menuData.value.length;n++)if(l.value.id==P.menuData.value[n].id){d=!1;break}}if(!d){w.add({severity:"error",summary:i("common.error"),detail:`${i("menuPage.invalidId")}: ${l.value.id}`,life:3e3});return}if(X)S=!0,e={...l.value},P.menuData.value.push(e),C?(C.subitems||(C.subitems=[C]),C.subitems.push(e),e.handle=_.value.handle):(e.handle="handle_"+e.id,le.value.push(e));else{e.org_id=_.value.id,e.handle=_.value.handle;for(let n=0;n<y.length;n++)for(let p=0;p<M.length;p++){const v=y[n]+M[p];_.value[v]=l.value[v]}_.value.disable=l.value.disable;for(let n=0;n<k.length;n++){let p=k[n];_.value[p]=l.value[p]}}D.value=!1,$.value=!1,console.log("update_data: ",e),P.updateMenuItem(e),w.add({severity:"success",summary:i("common.success"),detail:i("menuPage.saveSuccess"),life:3e3})}}function R(s,e){return!s||s==0?e:((1-s/100)*e).toFixed(2)}let C;function se(s){C=s;let e={id:"",handle:s.handle,category:s.category,subname:"",price:"0"};D.value=!0,N(e,!0)}function ue(){C=void 0;let s={id:"",handle:"",category:"",subname:"",price:"0"};$.value=!0,N(s,!0)}function K(){const s=[],e={};for(let u=0;u<P.menuData.value.length;u++){let d=P.menuData.value[u];if(e[d.handle]){let n=e[d.handle];n.subitems||(n.subitems=[n]),n.subitems.find(p=>p.id==d.id)||n.subitems.push(d)}else e[d.handle]=d,s.push(d)}T.value=s,ie()}ke(()=>{K()});function ie(){const s={},e=["---","My BOX","Pato assado"],u=[{name:"",value:""},{name:"My BOX",value:"My BOX"},{name:"Pato assado",value:"Pato assado"}];for(let d=0;d<P.menuData.value.length;d++){const n=P.menuData.value[d];n.category&&n.category!=""&&(s[n.category]||(s[n.category]=!0,u.push({name:n.category,value:n.category}),e.push(n.category))),n.tags&&n.tags!=""&&(s[n.tags]||(s[n.tags]=!0,u.push({name:n.tags,value:n.tags}),e.push(n.tags)))}q.value=e}const Y=x(null);function J(){Y.value.click()}function de(s){const e=s.target.files[0];e&&re(e)}async function re(s){let e;e="/upload_image";const d=new FormData,n=await pe(s);d.append("image",n);let p=s.size/1e3;p=p.toFixed(2);let v=n.size/1e3;v=v.toFixed(2),console.log("file size: "+p+"k"),console.log("compressed size: "+v+"k");try{const b=await fetch(e,{method:"POST",body:d});if(!b.ok)throw new Error(i("common.uploadFailed"));const g=await b.json();l.value.image=g.imageUrl,w.add({severity:"success",summary:i("common.success"),detail:i("menuPage.uploadSucMsg"),life:3e3})}catch(b){console.error("上传错误",b),w.add({severity:"error",summary:i("common.error"),detail:i("menuPage.uploadFailMsg"),life:3e3})}}async function pe(s){return new Promise((e,u)=>{const d=new FileReader;d.onload=n=>{const p=new Image;p.onload=()=>{let g=p.width,m=p.height;g>m?g>512&&(m*=512/g,g=512):m>512&&(g*=512/m,m=512);const V=document.createElement("canvas"),I=V.getContext("2d");V.width=g,V.height=m,s.type==="image/png"&&(I.fillStyle="#ffffff",I.fillRect(0,0,V.width,V.height)),I.drawImage(p,0,0,g,m);const h=s.type==="image/png"?"image/png":"image/jpeg",A=h==="image/png"?.9:.7;V.toBlob(o=>{e(new File([o],s.name,{type:h,lastModified:Date.now()}))},h,A)},p.onerror=u,p.src=n.target.result},d.onerror=u,d.readAsDataURL(s)})}async function me(){try{await P.refreshMenu(),K(),w.add({severity:"success",summary:i("common.success"),detail:i("menuPage.uploadSucMsg"),life:3e3})}catch(s){console.error("刷新失败:",s),w.add({severity:"error",summary:i("common.error"),detail:i("menuPage.refreshFailMsg"),life:3e3})}}return(s,e)=>{const u=be,d=Te,n=Le,p=Se,v=Ue,b=Ie,g=je,m=Fe,V=Me,I=Q,h=ve,A=fe;return j(),U($e,null,[a("div",ze,[t(b,{value:ee.value,paginator:"",dataKey:"id",filterDisplay:"row",rows:10,scrollable:"",scrollHeight:"flex",class:"h-full flex flex-column",rowsPerPageOptions:[5,10,15,20,30,40],globalFilterFields:["id","name"],expandedRows:z.value,"onUpdate:expandedRows":e[1]||(e[1]=o=>z.value=o),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{header:r(()=>[a("h4",qe,c(s.$t("menuPage.menu")),1),a("div",Ge,[t(u,{label:s.$t("menuPage.addDish"),onClick:ue},null,8,["label"]),t(p,null,{default:r(()=>[t(d,null,{default:r(()=>e[36]||(e[36]=[a("i",{class:"pi pi-search"},null,-1)])),_:1,__:[36]}),t(n,{modelValue:E.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=o=>E.value.global.value=o),placeholder:s.$t("menuPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),expansion:r(o=>[t(u,{label:s.$t("menuPage.addSub"),onClick:L=>se(o.data)},null,8,["label","onClick"]),o.data.subitems?(j(),U("div",Xe,[t(b,{value:o.data.subitems},{default:r(()=>[t(v,{field:"id",header:s.$t("menuPage.subId")},null,8,["header"]),t(v,{field:"subname",header:s.$t("menuPage.subName")},null,8,["header"]),t(v,{class:"w-24 !text-end"},{body:r(({data:L})=>[a("div",Ke,[t(u,{icon:"pi pi-pen-to-square",onClick:ce=>oe(L),severity:"secondary",rounded:""},null,8,["onClick"]),t(u,{icon:"pi pi-trash",onClick:ce=>W(L),severity:"secondary",class:"hover:bg-red-500 hover:text-white",rounded:""},null,8,["onClick"])])]),_:1})]),_:2},1032,["value"])])):(j(),U("div",Ye,c(s.$t("menuPage.nothing")),1))]),paginatorstart:r(()=>[t(u,{type:"button",icon:"pi pi-refresh",onClick:me,text:""})]),default:r(()=>[t(v,{expander:"",style:{width:"5rem"}}),t(v,{field:"id",sortable:"",header:"ID"}),t(v,{field:"name",sortable:"",header:s.$t("menuPage.name")},null,8,["header"]),t(v,{class:"w-24 !text-end"},{body:r(({data:o})=>[a("div",We,[t(u,{icon:"pi pi-pen-to-square",onClick:L=>ne(o),severity:"secondary",rounded:""},null,8,["onClick"]),t(u,{icon:"pi pi-trash",onClick:L=>W(o),severity:"secondary",class:"hover:bg-red-500 hover:text-white",rounded:""},null,8,["onClick"])])]),_:1})]),_:1},8,["value","expandedRows"])]),t(A,{visible:$.value,"onUpdate:visible":e[20]||(e[20]=o=>$.value=o),class:"h-full",header:s.$t("menuPage.edit"),onHide:O,modal:""},{default:r(()=>[a("div",Je,[a("div",Qe,[l.value.image?(j(),U("img",{key:0,src:l.value.image,style:{height:"100px",width:"100px"},onClick:J},null,8,Ze)):(j(),U("div",el,[l.value.image?Ce("",!0):(j(),U("img",{key:0,src:He,style:{height:"100px",width:"100px"},onClick:J}))])),a("input",{type:"file",ref_key:"fileInput",ref:Y,accept:"image/*",style:{display:"none"},onChange:de},null,544)]),a("div",ll,[t(g,{modelValue:l.value.disable,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.disable=o),binary:""},null,8,["modelValue"]),a("label",null,c(f(i)("menuPage.disable")),1)]),a("div",tl,[t(g,{modelValue:l.value.soldout,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.soldout=o),binary:""},null,8,["modelValue"]),a("label",null,c(f(i)("menuPage.soldout")),1)])]),a("div",al,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.name,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.name=o),class:"w-full"},null,8,["modelValue"]),a("label",nl,c(f(i)("menuPage.namePT")),1)]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.name_en,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.name_en=o),class:"w-full"},null,8,["modelValue"]),a("label",ol,c(f(i)("menuPage.nameEN")),1)]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.name_cn,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.name_cn=o),class:"w-full"},null,8,["modelValue"]),a("label",sl,c(f(i)("menuPage.nameCN")),1)]),_:1}),e[38]||(e[38]=a("div",{class:"p-2"},null,-1)),t(m,{variant:"on gap-2"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.note,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.note=o),class:"w-full"},null,8,["modelValue"]),a("label",ul,c(f(i)("menuPage.descriptPT")),1)]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.note_en,"onUpdate:modelValue":e[8]||(e[8]=o=>l.value.note_en=o),class:"w-full"},null,8,["modelValue"]),a("label",il,c(f(i)("menuPage.descriptEN")),1)]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.note_cn,"onUpdate:modelValue":e[9]||(e[9]=o=>l.value.note_cn=o),class:"w-full"},null,8,["modelValue"]),a("label",dl,c(f(i)("menuPage.descriptCN")),1)]),_:1}),e[39]||(e[39]=a("div",{class:"p-2"},null,-1)),a("div",rl,[a("div",pl,[a("div",ml,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[10]||(e[10]=o=>l.value.id=o),class:"w-full"},null,8,["modelValue"]),e[37]||(e[37]=a("label",{for:"on_label"},"ID",-1))]),_:1,__:[37]})]),a("div",cl,[t(I,null,{default:r(()=>[t(m,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.orderType,"onUpdate:modelValue":e[11]||(e[11]=o=>l.value.orderType=o),options:G.value,optionLabel:"label",class:"w-full"},null,8,["modelValue","options"]),a("label",fl,c(f(i)("menuPage.orderType")),1)]),_:1})]),_:1})])]),a("div",vl,[a("div",gl,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[12]||(e[12]=o=>l.value.price=o),class:"w-full"},null,8,["modelValue"]),a("label",bl,c(f(i)("menuPage.price")),1)]),_:1})]),a("div",_l,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[13]||(e[13]=o=>l.value.discount=o),suffix:" % = "+R(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),a("label",yl,c(f(i)("menuPage.dineInDisc")),1)]),_:1})])]),a("div",wl,[a("div",hl,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[14]||(e[14]=o=>l.value.deliveryPrice=o),class:"w-full"},null,8,["modelValue"]),a("label",xl,c(f(i)("menuPage.deliveryPrice")),1)]),_:1})]),a("div",Vl,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[15]||(e[15]=o=>l.value.deliveryDiscount=o),class:"w-full",suffix:" % = "+R(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),a("label",Pl,c(f(i)("menuPage.takeAwayDisc")),1)]),_:1})])]),a("div",kl,[a("div",$l,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.category,"onUpdate:modelValue":e[16]||(e[16]=o=>l.value.category=o),class:"w-full"},null,8,["modelValue"]),a("label",Cl,c(f(i)("menuPage.category")),1)]),_:1})]),a("div",Dl,[t(I,null,{default:r(()=>[t(m,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.tags,"onUpdate:modelValue":e[17]||(e[17]=o=>l.value.tags=o),options:q.value,class:"w-full"},null,8,["modelValue","options"]),a("label",Il,c(f(i)("menuPage.tag")),1)]),_:1})]),_:1})])]),a("div",Ul,[a("div",jl,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[18]||(e[18]=o=>l.value.limit=o),class:"w-full",min:0,max:99},null,8,["modelValue"]),a("label",Ml,c(f(i)("menuPage.limit")),1)]),_:1})])])]),a("div",Fl,[t(u,{label:s.$t("menuPage.cancel"),onClick:te},null,8,["label"]),t(u,{label:s.$t("menuPage.save"),onClick:e[19]||(e[19]=o=>H())},null,8,["label"])])])]),_:1},8,["visible","header"]),t(A,{visible:D.value,"onUpdate:visible":e[35]||(e[35]=o=>D.value=o),class:"h-full",header:s.$t("menuPage.editSub"),onHide:O,modal:""},{default:r(()=>[a("div",Sl,[a("div",Tl,[t(g,{modelValue:l.value.disable,"onUpdate:modelValue":e[21]||(e[21]=o=>l.value.disable=o),binary:""},null,8,["modelValue"]),a("label",null,c(f(i)("menuPage.disable")),1)]),a("div",Ll,[t(g,{modelValue:l.value.soldout,"onUpdate:modelValue":e[22]||(e[22]=o=>l.value.soldout=o),binary:""},null,8,["modelValue"]),a("label",null,c(f(i)("menuPage.soldout")),1)])]),a("div",Nl,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.subname,"onUpdate:modelValue":e[23]||(e[23]=o=>l.value.subname=o),class:"w-full"},null,8,["modelValue"]),a("label",Rl,c(f(i)("menuPage.subnamePT")),1)]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.subname_en,"onUpdate:modelValue":e[24]||(e[24]=o=>l.value.subname_en=o),class:"w-full"},null,8,["modelValue"]),a("label",Al,c(f(i)("menuPage.subnameEN")),1)]),_:1}),t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.subname_cn,"onUpdate:modelValue":e[25]||(e[25]=o=>l.value.subname_cn=o),class:"w-full"},null,8,["modelValue"]),a("label",Bl,c(f(i)("menuPage.subnameCN")),1)]),_:1}),e[43]||(e[43]=a("div",{class:"p-2"},null,-1)),a("div",Ol,[a("div",El,[a("div",Hl,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[26]||(e[26]=o=>l.value.id=o),class:"w-full"},null,8,["modelValue"]),e[40]||(e[40]=a("label",{for:"on_label"},"ID",-1))]),_:1,__:[40]})]),a("div",zl,[t(I,null,{default:r(()=>[t(m,{variant:"on"},{default:r(()=>[t(V,{modelValue:l.value.orderType,"onUpdate:modelValue":e[27]||(e[27]=o=>l.value.orderType=o),options:G.value,optionLabel:"label",class:"w-full"},null,8,["modelValue","options"]),a("label",ql,c(f(i)("menuPage.orderType")),1)]),_:1})]),_:1})])]),a("div",Gl,[a("div",Wl,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[28]||(e[28]=o=>l.value.price=o),class:"w-full"},null,8,["modelValue"]),e[41]||(e[41]=a("label",{for:"on_label"},"price",-1))]),_:1,__:[41]})]),a("div",Xl,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[29]||(e[29]=o=>l.value.discount=o),suffix:" % = "+R(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),a("label",Kl,c(f(i)("menuPage.dineInDisc")),1)]),_:1})])]),a("div",Yl,[a("div",Jl,[t(m,{variant:"on"},{default:r(()=>[t(n,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[30]||(e[30]=o=>l.value.deliveryPrice=o),class:"w-full"},null,8,["modelValue"]),a("label",Ql,c(f(i)("menuPage.deliveryPrice")),1)]),_:1})]),a("div",Zl,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[31]||(e[31]=o=>l.value.deliveryDiscount=o),class:"w-full",suffix:" % = "+R(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),a("label",et,c(f(i)("menuPage.takeAwayDisc")),1)]),_:1})])]),a("div",lt,[a("div",tt,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[32]||(e[32]=o=>l.value.limit=o),class:"w-full",min:0,max:99},null,8,["modelValue"]),a("label",at,c(f(i)("menuPage.limit")),1)]),_:1})])]),a("div",nt,[a("div",ot,[t(m,{variant:"on"},{default:r(()=>[t(h,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[33]||(e[33]=o=>l.value.limit=o),class:"w-full",min:0,max:99},null,8,["modelValue"]),e[42]||(e[42]=a("label",{for:"on_label"},"Order Limit",-1))]),_:1,__:[42]})])])]),a("div",st,[t(u,{label:s.$t("menuPage.cancel"),onClick:ae},null,8,["label"]),t(u,{label:s.$t("menuPage.save"),onClick:e[34]||(e[34]=o=>H())},null,8,["label"])])])]),_:1},8,["visible","header"])],64)}}},Pt=Ne(ut,[["__scopeId","data-v-be1d0a6f"]]);export{Pt as default};
