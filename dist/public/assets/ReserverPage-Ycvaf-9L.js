import{b as k}from"./index-o5XcKcZD.js";import{s as F,a as T}from"./index-CPjgJX2a.js";import{s as V,a as B}from"./index-BEBTX2bT.js";import{s as D}from"./index-DxM2-yQc.js";import{q as S,x as $,n as j,h as p,s as z,c as g,a,d as r,w as c,l as t,F as q,o as _,z as G,t as l,C as O,e as U,G as A}from"./index-CisO7W9A.js";import{s as E}from"./index-DR4eZzGM.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CVjbsbo8.js";import"./index-B_if-quX.js";import"./index-C-ltuNxn.js";import"./index-tqBUVZGq.js";import"./index-zuDfvL_h.js";import"./index-umdWXE6w.js";import"./index-DMBs98c2.js";import"./index-dQgGWQtx.js";import"./index-DojorQOI.js";const K={class:"card h-full",style:{display:"flex","flex-direction":"column"}},J={class:"flex flex-wrap gap-2 items-center justify-between"},L={class:"m-0 font-bold text-2xl text-left flex-grow-1"},Q={class:"text-center py-5"},W={class:"mt-3 text-gray-500"},X={class:"flex flex-column gap-2"},Y={key:0,class:"text-red-600"},Z={class:"font-bold text-lg"},ee={class:"font-bold text-lg"},te={class:"font-bold text-lg"},se={class:"flex justify-content-end"},ae={__name:"ReserverPage",setup(re){const{t:e}=S(),b=$(),h=j.tableReserves,s=p(),u=p(!1);function P(o){s.value=o.data,u.value=!0}const m=p({global:{value:null,matchMode:A.CONTAINS}}),v=z(()=>{const o=s.value.status;return o=="processing"?{label:e("reserverPage.processing")+"...",outlined:!0}:o=="voided"?{label:e("orderPage.voided"),outlined:!0}:{label:e("reserverPage.cancelReserve"),outlined:!1}});function x(){s.value.status=="processing"||s.value.status=="voided"||b.require({message:e("reserverPage.reserveCancellationMSG"),header:e("reserverPage.cancelReserve")+":"+s.value.name,rejectProps:{label:e("common.cancel"),severity:"secondary",outlined:!0},acceptProps:{label:e("common.confirm"),severity:"danger"},accept:()=>{s.value.status="processing",u.value=!1},reject:()=>{}})}const w=o=>({completed:"status-completed",confirmed:"status-confirmed",processing:"status-processing",new:"status-new",voided:"status-voided"})[o]||"",y=o=>({completed:e("orderPage.completed"),confirmed:e("orderPage.confirmed"),processing:e("reserverPage.processing"),new:e("orderPage.new"),voided:e("orderPage.voided")})[o]||o;return(o,n)=>{var f;const C=B,R=D,N=V,d=T,I=F,M=k;return _(),g(q,null,[a("div",K,[r(I,{value:t(h),tableStyle:"min-width: 50rem",dataKey:"id",paginator:"",rows:10,rowsPerPageOptions:[10,20,50],stripedRows:"",filters:m.value,scrollable:"",scrollHeight:"flex",onRowClick:P,selectionMode:"single"},{header:c(()=>[a("div",J,[a("h4",L,l(t(e)("reserverPage.header")),1),r(N,null,{default:c(()=>[r(C,null,{default:c(()=>n[2]||(n[2]=[a("i",{class:"pi pi-search"},null,-1)])),_:1,__:[2]}),r(R,{modelValue:m.value.global.value,"onUpdate:modelValue":n[0]||(n[0]=i=>m.value.global.value=i),placeholder:t(e)("orderPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:c(()=>[a("div",Q,[n[3]||(n[3]=a("i",{class:"pi pi-search",style:{"font-size":"3rem",color:"#ccc"}},null,-1)),a("p",W,l(t(e)("orderPage.notFound")),1)])]),default:c(()=>[r(d,{header:t(e)("orderPage.status")},{body:c(({data:i})=>[a("span",{class:G(["status-badge",w(i.status||"new")])},l(y(i.status||"new")),3)]),_:1},8,["header"]),r(d,{field:"name",header:"ID",sortable:""}),r(d,{field:"date",header:t(e)("reserverPage.dateTime"),sortable:""},{body:c(({data:i})=>[O(l(i.date+" "+i.time),1)]),_:1},8,["header"]),r(d,{field:"customerName",header:t(e)("reserverPage.customerName")},null,8,["header"]),r(d,{field:"numberPeople",header:t(e)("reserverPage.numberPeople")},null,8,["header"]),r(d,{field:"phone",header:t(e)("reserverPage.phone")},null,8,["header"]),r(d,{field:"note",header:t(e)("reserverPage.note")},null,8,["header"])]),_:1},8,["value","filters"])]),r(t(E),{visible:u.value,"onUpdate:visible":n[1]||(n[1]=i=>u.value=i),header:t(e)("reserverPage.reserveDetails")+" (ID: "+((f=s.value)==null?void 0:f.name)+")",modal:"",style:{width:"450px"}},{default:c(()=>[a("div",X,[s.value.financial_status||s.value.status==="voided"?(_(),g("label",Y,l(s.value.financial_status?t(e)("reserverPage.cancelForClient"):t(e)("reserverPage.cancelForRestaurant")),1)):U("",!0),a("label",Z,l(t(e)("reserverPage.dateTime")+": "+s.value.date+" "+s.value.time),1),a("label",ee,l(t(e)("reserverPage.customerName")+": "+s.value.customerName),1),a("label",te,l(t(e)("reserverPage.numberPeople")+": "+s.value.numberPeople),1),a("label",null,l(t(e)("reserverPage.phone")+": "+s.value.phone),1),a("label",null,l(t(e)("reserverPage.email")+": "+s.value.email),1),a("label",null,l(t(e)("reserverPage.note")+": "+s.value.note),1),a("div",se,[r(M,{label:v.value.label,outlined:v.value.outlined,onClick:x},null,8,["label","outlined"])])])]),_:1},8,["visible","header"])],64)}}},xe=H(ae,[["__scopeId","data-v-29d164b0"]]);export{xe as default};
