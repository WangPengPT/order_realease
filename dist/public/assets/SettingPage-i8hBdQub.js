import{s as G}from"./index-6tqVHg-v.js";import{s as J}from"./index-DeQhilv7.js";import{s as Q}from"./index-B9Up2pcY.js";import{s as X}from"./index-BIZYGEVw.js";import{b as Y}from"./index-oge4_c7I.js";import{s as Z}from"./index-CbXyr5lH.js";import{s as ee}from"./index-CyZejRsm.js";import{s as le}from"./index-BD_V1jqp.js";import{q as te,u as ne,h as m,n as r,H as _,s as oe,c as P,a as l,d as t,w as d,l as s,F as $,o as f,f as A,e as E,t as u,E as H}from"./index-BULDcCGn.js";import"./index-BQhRBBUL.js";import"./index-MPeAesa8.js";import"./index-CrZnt2vz.js";const ae={class:"w-full h-full flex justify-content-center overflow-auto"},se={class:"text-5xl ml-3"},ie={class:"flex flex-column justify-content-center gap-3 p-3 h-full"},ue={class:"flex flex-wrap justify-content-between align-items-center"},re={class:"font-bold text-lg"},de={class:"flex flex-wrap justify-content-between align-items-center"},ce={class:"font-bold text-lg"},me={class:"flex flex-wrap justify-content-between align-items-center"},pe={class:"font-bold text-lg"},fe={class:"flex flex-wrap justify-content-between align-items-center"},ve={class:"font-bold text-lg"},ge={class:"flex flex-wrap justify-content-between align-items-center"},be={class:"font-bold text-lg"},_e={class:"flex flex-wrap justify-content-between align-items-center"},Pe={class:"font-bold text-lg"},he={class:"flex flex-wrap justify-content-between align-items-center"},we={class:"font-bold text-lg"},Ve={style:{"max-width":"75%"}},xe={class:"flex flex-column"},ye={class:"font-bold"},ke={for:"on_label"},De={for:"on_label"},Ce={class:"flex flex-column"},Be={class:"font-bold"},Ue={for:"on_label"},Se={for:"on_label"},je={key:1,class:"flex justify-content-between align-items-center m-1 gap-2"},Fe={class:"font-bold"},Oe={for:"on_label"},Ge={__name:"SettingPage",setup($e){const{t:n}=te(),T=ne(),h=m(!1),D=m(!1),C=m(),B=m(),x=m(),U=m(r.getSettingsValue("delivery")),S=m(r.getSettingsValue("isFestiveDay")),j=m(r.getSettingsValue("hasBibimbap")),F=m(r.getSettingsValue("hasBox")),O=m(r.getSettingsValue("checkIP")),g=m(r.getSettingsValue("useChildrenDiscount"));_(U,i=>{r.updateSetting("delivery",i,(e,a)=>{c(e,a)})}),_(S,i=>{r.updateSetting("isFestiveDay",i,(e,a)=>{c(e,a)})}),_(j,i=>{r.updateSetting("hasBibimbap",i,(e,a)=>{c(e,a)})}),_(F,i=>{r.updateSetting("hasBox",i,(e,a)=>{c(e,a)})}),_(O,i=>{r.updateSetting("checkIP",i,(e,a)=>{c(e,a)})}),_(g,i=>{r.updateSetting("useChildrenDiscount",i,(e,a)=>{c(e,a)})});const W=oe(()=>{var i;return!!((i=window.env)!=null&&i.ENABLE_ROAST_DUCK)});function L(){h.value=!0,C.value=r.getPriceDataValue("weekPrice")}function K(){I(C)?(r.updatePricesData("weekPrice",(e,a)=>{c(e,a)}),h.value=!1):c(!1,"设置价格","价格不能为负")}function I(i){for(const e in i.value)for(const a in i.value[e])if(i.value[e][a]<0)return!1;return!0}function We(){}function R(){D.value=!0,B.value=r.getPriceDataValue("childrenWeekPrice"),x.value=r.getPriceDataValue("childrenPricePercentage")}function q(){I(B)&&x.value>=0?(g.value?r.updatePricesData("childrenPricePercentage",(e,a)=>{c(e,a)}):r.updatePricesData("childrenWeekPrice",(e,a)=>{c(e,a)}),h.value=!1):c(!1,"设置价格","价格/折扣不能为负")}function c(i,e,a=""){T.add({severity:i?"success":"error",summary:n(i?"common.success":"common.error"),detail:n("common.edit")+n("optionPages."+M(e))+n("common."+(i?"success":"failed")+a),life:1e3})}function M(i){switch(i){case"delivery":return"takeAwayFeature";case"isFestiveDay":return"takeAwayFeature";case"hasBibimbap":return"showBibimbap";case"hasBox":return"showBow";case"checkIP":return"wifiOrder";case"useChildrenDiscount":return"takeAwayFeature"}}return(i,e)=>{const a=le,b=ee,p=Z,y=Y,k=X,w=Q,N=J,z=G;return f(),P($,null,[l("div",ae,[t(p,{class:"flex flex-column h-full mt-1 lg:p-5",style:{"max-width":"1000px"}},{title:d(()=>[l("label",se,u(s(n)("optionPages.settings")),1),t(a)]),content:d(()=>[l("div",ie,[t(p,{class:"shadow-5"},{content:d(()=>[l("div",ue,[l("label",re,u(s(n)("optionPages.takeAwayFeature")),1),t(b,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=o=>U.value=o),disabled:""},null,8,["modelValue"]),t(a),l("label",null,u(s(n)("optionPages.takeAwayFeatureOn")),1)])]),_:1}),t(p,{class:"shadow-5"},{content:d(()=>[l("div",de,[l("label",ce,u(s(n)("optionPages.useHolidayPrice")),1),t(b,{modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=o=>S.value=o)},null,8,["modelValue"]),t(a),l("label",null,u(s(n)("optionPages.useHolidayPriceOn")),1)])]),_:1}),(W.value,f(),A(p,{key:0,class:"shadow-5"},{content:d(()=>[l("div",me,[l("label",pe,u(s(n)("optionPages.showBibimbap")),1),t(b,{modelValue:j.value,"onUpdate:modelValue":e[2]||(e[2]=o=>j.value=o)},null,8,["modelValue"]),t(a),l("label",null,u(s(n)("optionPages.showBibimbapOn")),1)])]),_:1})),(W.value,f(),A(p,{key:1,class:"shadow-5"},{content:d(()=>[l("div",fe,[l("label",ve,u(s(n)("optionPages.showBow")),1),t(b,{modelValue:F.value,"onUpdate:modelValue":e[3]||(e[3]=o=>F.value=o)},null,8,["modelValue"]),t(a),l("label",null,u(s(n)("optionPages.showBoxOn")),1)])]),_:1})),t(p,{class:"shadow-5"},{content:d(()=>[l("div",ge,[l("label",be,u(s(n)("optionPages.wifiOrder")),1),t(b,{modelValue:O.value,"onUpdate:modelValue":e[4]||(e[4]=o=>O.value=o)},null,8,["modelValue"]),t(a),l("label",null,u(s(n)("optionPages.wifiOrderOn")),1)])]),_:1}),t(p,{class:"shadow-5"},{content:d(()=>[l("div",_e,[l("label",Pe,u(s(n)("optionPages.setPrice")),1),t(y,{label:s(n)("common.edit"),onClick:e[5]||(e[5]=o=>L())},null,8,["label"]),t(a),l("label",null,u(s(n)("optionPages.setPriceOn")),1)])]),_:1}),t(p,{class:"shadow-5"},{content:d(()=>[l("div",he,[l("label",we,u(s(n)("optionPages.setChildrenPrice")),1),t(a),l("label",null,u(s(n)("optionPages.setChildrenPriceOn1")),1),t(b,{modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=o=>g.value=o)},null,8,["modelValue"]),t(a),l("label",Ve,u(s(n)("optionPages.setChildrenPriceOn2")),1),t(y,{label:s(n)("common.edit"),onClick:e[7]||(e[7]=o=>R())},null,8,["label"])])]),_:1})])]),_:1})]),t(N,{visible:h.value,"onUpdate:visible":e[9]||(e[9]=o=>h.value=o),header:s(n)("optionPages.editWeekPrice"),onHide:e[10]||(e[10]=o=>void 0)},{default:d(()=>[l("div",xe,[(f(!0),P($,null,H(C.value,(o,V)=>(f(),P("div",{key:V,class:"flex justify-content-between m-1 gap-2"},[l("div",null,[l("label",ye,u(s(n)("optionPages.week."+V))+":",1)]),l("div",null,[t(w,{variant:"on"},{default:d(()=>[t(k,{type:"number",modelValue:o.lunch,"onUpdate:modelValue":v=>o.lunch=v,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",ke,u(s(n)("optionPages.lunch")),1)]),_:2},1024)]),l("div",null,[t(w,{variant:"on"},{default:d(()=>[t(k,{type:"number",modelValue:o.dinner,"onUpdate:modelValue":v=>o.dinner=v,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",De,u(s(n)("optionPages.dinner")),1)]),_:2},1024)])]))),128)),t(y,{label:s(n)("common.save"),onClick:e[8]||(e[8]=o=>K())},null,8,["label"])])]),_:1},8,["visible","header"]),t(N,{visible:D.value,"onUpdate:visible":e[13]||(e[13]=o=>D.value=o),header:s(n)("optionPages.editChildrenWeekPrice")},{default:d(()=>[l("div",Ce,[g.value?E("",!0):(f(!0),P($,{key:0},H(B.value,(o,V)=>(f(),P("div",{key:V,class:"flex justify-content-between align-items-center m-1 gap-2"},[l("div",null,[l("label",Be,u(s(n)("optionPages.week."+V))+":",1)]),l("div",null,[t(w,{variant:"on"},{default:d(()=>[t(k,{type:"number",modelValue:o.lunch,"onUpdate:modelValue":v=>o.lunch=v,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",Ue,u(s(n)("optionPages.lunch")),1)]),_:2},1024)]),l("div",null,[t(w,{variant:"on"},{default:d(()=>[t(k,{type:"number",modelValue:o.dinner,"onUpdate:modelValue":v=>o.dinner=v,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"]),l("label",Se,u(s(n)("optionPages.dinner")),1)]),_:2},1024)])]))),128)),g.value?(f(),P("div",je,[l("div",null,[l("label",Fe,u(s(n)("optionPages.childrenPricePercentage"))+":",1)]),l("div",null,[t(w,{variant:"on"},{default:d(()=>[t(z,{type:"number",modelValue:x.value,"onUpdate:modelValue":e[11]||(e[11]=o=>x.value=o),class:"w-full",suffix:" %"},null,8,["modelValue"]),l("label",Oe,u(s(n)("optionPages.childrenPricePercentage")),1)]),_:1})])])):E("",!0),t(y,{class:"mt-2",label:s(n)("common.save"),onClick:e[12]||(e[12]=o=>q())},null,8,["label"])])]),_:1},8,["visible","header"])],64)}}};export{Ge as default};
