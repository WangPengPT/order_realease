import{s as de}from"./index--M6Muenv.js";import{s as re,a as pe,b as fe,c as me,d as ve}from"./index-BWm3LqM_.js";import{s as ce,b as ge}from"./index-4-RHvzAb.js";import{B as be,c as U,o as C,r as _e,m as ye,q as we,u as xe,h as b,E as Ve,i as he,a as n,d as t,w as d,F as ke,n as h,t as G,e as De,C as Ie}from"./index-mPRVvFee.js";import{s as Ue}from"./index-Dn6Ogn2a.js";import{s as Ce,a as Pe}from"./index-BRks80qX.js";import{s as $e}from"./index-D94n8rmZ.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-C8Im2Yzc.js";import"./index-Cb5unkrY.js";import"./index-DYj3-Ar9.js";import"./index-D3q1NiSK.js";import"./index-DDJ48PSD.js";var Fe=`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`,Se={root:"p-inputgroup"},Te=be.extend({name:"inputgroup",style:Fe,classes:Se}),Me={name:"BaseInputGroup",extends:ce,style:Te,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},K={name:"InputGroup",extends:Me,inheritAttrs:!1};function Le($,R,M,k,L,F){return C(),U("div",ye({class:$.cx("root")},$.ptmi("root")),[_e($.$slots,"default")],16)}K.render=Le;const Ae="/icons/default_image.png",Ne={class:"card flex flex-column",style:{height:"calc(100dvh - 150px)"}},Re={class:"flex justify-content-end gap-2"},Ee={key:0},Be={key:1},Oe={class:"flex flex-row align-items-center gap-2"},He={class:"border-1"},ze=["src"],We={key:1,class:"upload-placeholder"},qe={class:"flex align-items-center gap-1"},Ge={class:"flex align-items-center gap-1"},Ke={class:"flex flex-column gap-2 mt-3"},Ye={class:"flex flex-column w-full gap-2"},Xe={class:"flex flex-row justify-content-between w-full gap-2"},Je={class:"w-6"},Qe={class:"w-6 gap-2"},Ze={class:"flex flex-row justify-content-between w-full gap-2"},el={class:"w-6"},ll={class:"w-6"},tl={class:"flex flex-row justify-content-between w-full gap-2"},nl={class:"w-6"},al={class:"w-6"},ol={class:"flex flex-row justify-content-between w-full gap-2"},il={class:"w-6"},ul={class:"w-6"},sl={class:"flex flex-row justify-content-between w-full"},dl={class:"w-6 m-2"},rl={class:"flex align-items-center w-6 m-2"},pl={class:"font-bold"},fl={class:"flex flex-row justify-content-between w-full"},ml={class:"w-6 m-2"},vl={class:"flex flex-row justify-content-end align-items-center gap-2"},cl={class:"flex flex-row align-items-center mb-4 gap-2"},gl={class:"flex items-center align-items-center gap-1"},bl={class:"flex items-center align-items-center gap-1"},_l={class:"flex flex-column gap-2"},yl={class:"flex flex-column w-full gap-2"},wl={class:"flex flex-row justify-content-between w-full gap-2"},xl={class:"w-6"},Vl={class:"w-6 gap-2"},hl={class:"flex flex-row justify-content-between w-full gap-2"},kl={class:"w-6"},Dl={class:"w-6"},Il={class:"flex flex-row justify-content-between w-full gap-2"},Ul={class:"w-6"},Cl={class:"w-6"},Pl={class:"flex flex-row justify-content-end gap-2"},$l={__name:"MenuPage",setup($){const R=we();function M(){let u={},e=!1;for(let i=0;i<g.length;i++)for(let s=0;s<P.length;s++){const o=g[i]+P[s];c.value[o]!=l.value[o]&&(u[o]=l.value[o],e=!0)}for(let i=0;i<w.length;i++){let s=w[i];c.value[s]!=l.value[s]&&(e=!0,u[s]=l.value[s])}c.value.disable?l.value.disable||(e=!0,u.disable=!1):l.value.disable&&(e=!0,u.disable=!0),e&&R.require({message:"当前有修改尚未保存，确定要关闭吗？",header:"关闭确认",icon:"pi pi-exclamation-triangle",acceptLabel:"保存后退出",rejectLabel:"取消",accept:()=>{x.value=!1,A(u)},reject:()=>{x.value=!0}})}const k=xe(),L=b([]),F=b({global:{value:null,matchMode:Ie.CONTAINS}}),E=b({}),Y=(u,e)=>{if(!e)return u;const i=e.toLowerCase();return u.filter(s=>{var f;const o=Object.entries(s).filter(([v])=>v!=="subitems").some(([v,m])=>String(m).toLowerCase().includes(i)),p=(f=s.subitems)==null?void 0:f.some(v=>Object.values(v).some(m=>String(m).toLowerCase().includes(i)));return o||p}).map(s=>{var p;const o=Object.entries(s).filter(([f])=>f!=="subitems").some(([f,v])=>String(v).toLowerCase().includes(i));return{...s,subitems:o?s.subitems:(p=s.subitems)==null?void 0:p.filter(f=>Object.values(f).some(v=>String(v).toLowerCase().includes(i)))}})},X=Ve(()=>Y(L.value,F.value.global.value)),J=b([]),c=b(null),l=b({}),B=b([]),O=b([{value:void 0,label:"DINEIN & TAKEAWAY"},{value:"DINEIN",label:"DINEIN"},{value:"TAKEAWAY",label:"TAKEAWAY"}]);let g=["name","note","subname"];const P=["","_en","_cn"];let w=["id","orderType","price","deliveryPrice","category","tags","image","soldout","discount","deliveryDiscount","dis_price","limit"];const x=b(!1),D=b(!1);function Q(){x.value=!x.value}function Z(){D.value=!D.value}function ee(u){V=void 0,x.value=!0,S(u)}function le(u){V=void 0,D.value=!0,S(u)}function S(u,e){H=e,c.value=u;for(let i=0;i<g.length;i++)l.value[g[i]]=u[g[i]],l.value[g[i]+"_en"]=u[g[i]+"_en"],l.value[g[i]+"_cn"]=u[g[i]+"_cn"];l.value.disable=u.disable||!1;for(let i=0;i<w.length;i++)l.value[w[i]]=u[w[i]]}let H=!1;function A(u){console.log("apply dish");let e=u,i=!1;if(l.value.discount?(l.value.discount=Math.round(l.value.discount),l.value.discount>99&&(l.value.discount=99),l.value.discount<=0?(l.value.dis_price=void 0,l.value.discount=void 0):(l.value.dis_price=l.value.price*(100-l.value.discount),l.value.dis_price=Math.round(l.value.dis_price)/100,console.log(l.value.price*(100-l.value.discount)))):l.value.dis_price=void 0,e)i=!0;else{e={};for(let s=0;s<g.length;s++)for(let o=0;o<P.length;o++){const p=g[s]+P[o];c.value[p]!=l.value[p]&&(e[p]=l.value[p],i=!0)}for(let s=0;s<w.length;s++){let o=w[s];c.value[o]!=l.value[o]&&(i=!0,e[o]=l.value[o])}c.value.disable?l.value.disable||(i=!0,e.disable=!1):l.value.disable&&(i=!0,e.disable=!0)}if(!i){k.add({severity:"error",summary:"错误",detail:"没有新的改变!",life:3e3});return}if(i){let s=!1;if(l.value.id=l.value.id.trim(),l.value.id!="")if(l.value.id==c.value.id)s=!0;else{s=!0;for(let o=0;o<h.menuData.value.length;o++)if(l.value.id==h.menuData.value[o].id){s=!1;break}}if(!s){k.add({severity:"error",summary:"错误",detail:`错误ID: ${l.value.id}`,life:3e3});return}if(H)e={...l.value},h.menuData.value.push(e),V?(V.subitems||(V.subitems=[V]),V.subitems.push(e),e.handle=c.value.handle):(e.handle="handle_"+e.id,J.value.push(e));else{e.org_id=c.value.id;for(let o=0;o<g.length;o++)for(let p=0;p<P.length;p++){const f=g[o]+P[p];c.value[f]=l.value[f]}c.value.disable=l.value.disable;for(let o=0;o<w.length;o++){let p=w[o];c.value[p]=l.value[p]}}D.value=!1,x.value=!1,console.log("update_data: ",e),h.updateMenuItem(e),k.add({severity:"success",summary:"成功",detail:"保存成功!",life:3e3})}}function j(u,e){return!u||u==0?e:((1-u/100)*e).toFixed(2)}let V;function te(u){V=u;let e={id:"",handle:u.handle,category:u.category,subname:"",price:"0"};D.value=!0,S(e,!0)}function ne(){V=void 0;let u={id:"",handle:"",category:"",subname:"",price:"0"};x.value=!0,S(u,!0)}function z(){const u=[],e={};for(let i=0;i<h.menuData.value.length;i++){let s=h.menuData.value[i];if(e[s.handle]){let o=e[s.handle];o.subitems||(o.subitems=[o]),o.subitems.find(p=>p.id==s.id)||o.subitems.push(s)}else e[s.handle]=s,u.push(s)}L.value=u,ae()}he(()=>{z()});function ae(){const u={},e=["---","My Box","Pato assado"],i=[{name:"",value:""},{name:"My BOX",value:"My BOX"},{name:"Pato assado",value:"Pato assado"}];for(let s=0;s<h.menuData.value.length;s++){const o=h.menuData.value[s];o.category&&o.category!=""&&(u[o.category]||(u[o.category]=!0,i.push({name:o.category,value:o.category}),e.push(o.category))),o.tags&&o.tags!=""&&(u[o.tags]||(u[o.tags]=!0,i.push({name:o.tags,value:o.tags}),e.push(o.tags)))}B.value=e}const W=b(null);function q(){W.value.click()}function oe(u){const e=u.target.files[0];e&&ie(e)}async function ie(u){let e;e="/upload_image";const s=new FormData,o=await ue(u);s.append("image",o);let p=u.size/1e3;p=p.toFixed(2);let f=o.size/1e3;f=f.toFixed(2),console.log("file size: "+p+"k"),console.log("compressed size: "+f+"k");try{const v=await fetch(e,{method:"POST",body:s});if(!v.ok)throw new Error("上传失败");const m=await v.json();l.value.image=m.imageUrl,k.add({severity:"success",summary:"成功",detail:"图片上传成功",life:3e3})}catch(v){console.error("上传错误",v),k.add({severity:"error",summary:"错误",detail:"图片上传失败",life:3e3})}}async function ue(u){return new Promise((e,i)=>{const s=new FileReader;s.onload=o=>{const p=new Image;p.onload=()=>{let m=p.width,r=p.height;m>r?m>512&&(r*=512/m,m=512):r>512&&(m*=512/r,r=512);const _=document.createElement("canvas"),I=_.getContext("2d");_.width=m,_.height=r,u.type==="image/png"&&(I.fillStyle="#ffffff",I.fillRect(0,0,_.width,_.height)),I.drawImage(p,0,0,m,r);const y=u.type==="image/png"?"image/png":"image/jpeg",T=y==="image/png"?.9:.7;_.toBlob(a=>{e(new File([a],u.name,{type:y,lastModified:Date.now()}))},y,T)},p.onerror=i,p.src=o.target.result},s.onerror=i,s.readAsDataURL(u)})}async function se(){try{await h.refreshMenu(),z(),k.add({severity:"success",summary:"成功",detail:"菜单已刷新",life:3e3})}catch(u){console.error("刷新失败:",u),k.add({severity:"error",summary:"错误",detail:"刷新菜单失败",life:3e3})}}return(u,e)=>{const i=ge,s=Pe,o=$e,p=Ce,f=pe,v=re,m=fe,r=Ue,_=me,I=K,y=ve,T=de;return C(),U(ke,null,[n("div",Ne,[t(v,{value:X.value,paginator:"",dataKey:"id",filterDisplay:"row",rows:10,scrollable:"",scrollHeight:"flex",class:"h-full flex flex-column",rowsPerPageOptions:[5,10,15,20,30,40],globalFilterFields:["id","name"],expandedRows:E.value,"onUpdate:expandedRows":e[1]||(e[1]=a=>E.value=a),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{header:d(()=>[e[36]||(e[36]=n("h4",{class:"m-0 font-bold text-2xl text-left flex-grow-1"},"所有菜单",-1)),n("div",Re,[t(i,{label:"添加新菜",onClick:ne}),t(p,null,{default:d(()=>[t(s,null,{default:d(()=>e[35]||(e[35]=[n("i",{class:"pi pi-search"},null,-1)])),_:1,__:[35]}),t(o,{modelValue:F.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=a=>F.value.global.value=a),placeholder:"查找..."},null,8,["modelValue"])]),_:1})])]),expansion:d(a=>[t(i,{label:"添加新子属性菜",onClick:N=>te(a.data)},null,8,["onClick"]),a.data.subitems?(C(),U("div",Ee,[t(v,{value:a.data.subitems},{default:d(()=>[t(f,{field:"id",header:"子ID"}),t(f,{field:"subname",header:"子名称"}),t(f,{class:"w-24 !text-end"},{body:d(({data:N})=>[t(i,{icon:"pi pi-pen-to-square",onClick:jl=>le(N),severity:"secondary",rounded:""},null,8,["onClick"])]),_:1})]),_:2},1032,["value"])])):(C(),U("div",Be,G("Nothing")))]),paginatorstart:d(()=>[t(i,{type:"button",icon:"pi pi-refresh",onClick:se,text:""})]),default:d(()=>[t(f,{expander:"",style:{width:"5rem"}}),t(f,{field:"id",sortable:"",header:"ID"}),t(f,{field:"name",sortable:"",header:"名称"}),t(f,{class:"w-24 !text-end"},{body:d(({data:a})=>[t(i,{icon:"pi pi-pen-to-square",onClick:N=>ee(a),severity:"secondary",rounded:""},null,8,["onClick"])]),_:1})]),_:1},8,["value","expandedRows"])]),t(T,{visible:x.value,"onUpdate:visible":e[21]||(e[21]=a=>x.value=a),class:"h-full",header:"Edit Dish",onHide:M,modal:""},{default:d(()=>[n("div",Oe,[n("div",He,[l.value.image?(C(),U("img",{key:0,src:l.value.image,style:{height:"100px",width:"100px"},onClick:q},null,8,ze)):(C(),U("div",We,[l.value.image?De("",!0):(C(),U("img",{key:0,src:Ae,style:{height:"100px",width:"100px"},onClick:q}))])),n("input",{type:"file",ref_key:"fileInput",ref:W,accept:"image/*",style:{display:"none"},onChange:oe},null,544)]),n("div",qe,[t(m,{modelValue:l.value.disable,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.disable=a),binary:""},null,8,["modelValue"]),e[37]||(e[37]=n("label",null,"Disable",-1))]),n("div",Ge,[t(m,{modelValue:l.value.soldout,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.soldout=a),binary:""},null,8,["modelValue"]),e[38]||(e[38]=n("label",null,"Soldout",-1))])]),n("div",Ke,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.name,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.name=a),class:"w-full"},null,8,["modelValue"]),e[39]||(e[39]=n("label",{for:"on_label"},"name(pt)",-1))]),_:1,__:[39]}),t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.name_en,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.name_en=a),class:"w-full"},null,8,["modelValue"]),e[40]||(e[40]=n("label",{for:"on_label"},"name(english)",-1))]),_:1,__:[40]}),t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.name_cn,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.name_cn=a),class:"w-full"},null,8,["modelValue"]),e[41]||(e[41]=n("label",{for:"on_label"},"name(中文)",-1))]),_:1,__:[41]}),e[56]||(e[56]=n("div",{class:"p-2"},null,-1)),t(r,{variant:"on gap-2"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.note,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.note=a),class:"w-full"},null,8,["modelValue"]),e[42]||(e[42]=n("label",{for:"on_label"},"descript(pt)",-1))]),_:1,__:[42]}),t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.note_en,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.note_en=a),class:"w-full"},null,8,["modelValue"]),e[43]||(e[43]=n("label",{for:"on_label"},"descript(english)",-1))]),_:1,__:[43]}),t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.note_cn,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.note_cn=a),class:"w-full"},null,8,["modelValue"]),e[44]||(e[44]=n("label",{for:"on_label"},"descript(中文)",-1))]),_:1,__:[44]}),e[57]||(e[57]=n("div",{class:"p-2"},null,-1)),n("div",Ye,[n("div",Xe,[n("div",Je,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.id=a),class:"w-full"},null,8,["modelValue"]),e[45]||(e[45]=n("label",{for:"on_label"},"id",-1))]),_:1,__:[45]})]),n("div",Qe,[t(I,null,{default:d(()=>[t(r,{variant:"on"},{default:d(()=>[t(_,{modelValue:l.value.orderType,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.orderType=a),options:O.value,optionLabel:"label",class:"w-full"},null,8,["modelValue","options"]),e[46]||(e[46]=n("label",{for:"on_label"},"order type",-1))]),_:1,__:[46]})]),_:1})])]),n("div",Ze,[n("div",el,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.price=a),class:"w-full"},null,8,["modelValue"]),e[47]||(e[47]=n("label",{for:"on_label"},"price",-1))]),_:1,__:[47]})]),n("div",ll,[t(r,{variant:"on"},{default:d(()=>[t(y,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.discount=a),suffix:" % = "+j(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),e[48]||(e[48]=n("label",{for:"on_label"},"DineIn Discount",-1))]),_:1,__:[48]})])]),n("div",tl,[n("div",nl,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[14]||(e[14]=a=>l.value.deliveryPrice=a),class:"w-full"},null,8,["modelValue"]),e[49]||(e[49]=n("label",{for:"on_label"},"delivery price",-1))]),_:1,__:[49]})]),n("div",al,[t(r,{variant:"on"},{default:d(()=>[t(y,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[15]||(e[15]=a=>l.value.deliveryDiscount=a),class:"w-full",suffix:" % = "+j(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),e[50]||(e[50]=n("label",{for:"on_label"},"TakeAway Discount",-1))]),_:1,__:[50]})])]),n("div",ol,[n("div",il,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.category,"onUpdate:modelValue":e[16]||(e[16]=a=>l.value.category=a),class:"w-full"},null,8,["modelValue"]),e[51]||(e[51]=n("label",{for:"on_label"},"category",-1))]),_:1,__:[51]})]),n("div",ul,[t(I,null,{default:d(()=>[t(r,{variant:"on"},{default:d(()=>[t(_,{modelValue:l.value.tags,"onUpdate:modelValue":e[17]||(e[17]=a=>l.value.tags=a),options:B.value,class:"w-full"},null,8,["modelValue","options"]),e[52]||(e[52]=n("label",{for:"on_label"},"tag",-1))]),_:1,__:[52]})]),_:1})])]),n("div",sl,[n("div",dl,[t(r,{variant:"on"},{default:d(()=>[t(y,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[18]||(e[18]=a=>l.value.discount=a),class:"w-full m-2",min:0,max:99},null,8,["modelValue"]),e[53]||(e[53]=n("label",{for:"on_label"},"Discount",-1))]),_:1,__:[53]})]),n("div",rl,[e[54]||(e[54]=n("label",null,"Discount Price: ",-1)),n("label",pl," €"+G(j(l.value.discount,l.value.price)),1)])]),n("div",fl,[n("div",ml,[t(r,{variant:"on"},{default:d(()=>[t(y,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[19]||(e[19]=a=>l.value.limit=a),class:"w-full",min:0,max:99},null,8,["modelValue"]),e[55]||(e[55]=n("label",{for:"on_label"},"Order Limit",-1))]),_:1,__:[55]})])])]),n("div",vl,[t(i,{label:"Cancel",onClick:Q}),t(i,{label:"Save",onClick:e[20]||(e[20]=a=>A())})])])]),_:1},8,["visible"]),t(T,{visible:D.value,"onUpdate:visible":e[34]||(e[34]=a=>D.value=a),class:"h-full",header:"Edit Item",onHide:M,modal:""},{default:d(()=>[n("div",cl,[n("div",gl,[t(m,{modelValue:l.value.disable,"onUpdate:modelValue":e[22]||(e[22]=a=>l.value.disable=a),binary:""},null,8,["modelValue"]),e[58]||(e[58]=n("label",null,"Disable",-1))]),n("div",bl,[t(m,{modelValue:l.value.soldout,"onUpdate:modelValue":e[23]||(e[23]=a=>l.value.soldout=a),binary:""},null,8,["modelValue"]),e[59]||(e[59]=n("label",null,"Soldout",-1))])]),n("div",_l,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.subname,"onUpdate:modelValue":e[24]||(e[24]=a=>l.value.subname=a),class:"w-full"},null,8,["modelValue"]),e[60]||(e[60]=n("label",{for:"on_label"},"subname(pt)",-1))]),_:1,__:[60]}),t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.subname_en,"onUpdate:modelValue":e[25]||(e[25]=a=>l.value.subname_en=a),class:"w-full"},null,8,["modelValue"]),e[61]||(e[61]=n("label",{for:"on_label"},"subname(english)",-1))]),_:1,__:[61]}),t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.subname_cn,"onUpdate:modelValue":e[26]||(e[26]=a=>l.value.subname_cn=a),class:"w-full"},null,8,["modelValue"]),e[62]||(e[62]=n("label",{for:"on_label"},"subname(中文)",-1))]),_:1,__:[62]}),e[69]||(e[69]=n("div",{class:"p-2"},null,-1)),n("div",yl,[n("div",wl,[n("div",xl,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[27]||(e[27]=a=>l.value.id=a),class:"w-full"},null,8,["modelValue"]),e[63]||(e[63]=n("label",{for:"on_label"},"id",-1))]),_:1,__:[63]})]),n("div",Vl,[t(I,null,{default:d(()=>[t(r,{variant:"on"},{default:d(()=>[t(_,{modelValue:l.value.orderType,"onUpdate:modelValue":e[28]||(e[28]=a=>l.value.orderType=a),options:O.value,optionLabel:"label",class:"w-full"},null,8,["modelValue","options"]),e[64]||(e[64]=n("label",{for:"on_label"},"order type",-1))]),_:1,__:[64]})]),_:1})])]),n("div",hl,[n("div",kl,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[29]||(e[29]=a=>l.value.price=a),class:"w-full"},null,8,["modelValue"]),e[65]||(e[65]=n("label",{for:"on_label"},"price",-1))]),_:1,__:[65]})]),n("div",Dl,[t(r,{variant:"on"},{default:d(()=>[t(y,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[30]||(e[30]=a=>l.value.discount=a),suffix:" % = "+j(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),e[66]||(e[66]=n("label",{for:"on_label"},"DineIn Discount",-1))]),_:1,__:[66]})])]),n("div",Il,[n("div",Ul,[t(r,{variant:"on"},{default:d(()=>[t(o,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[31]||(e[31]=a=>l.value.deliveryPrice=a),class:"w-full"},null,8,["modelValue"]),e[67]||(e[67]=n("label",{for:"on_label"},"delivery price",-1))]),_:1,__:[67]})]),n("div",Cl,[t(r,{variant:"on"},{default:d(()=>[t(y,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[32]||(e[32]=a=>l.value.deliveryDiscount=a),class:"w-full",suffix:" % = "+j(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),e[68]||(e[68]=n("label",{for:"on_label"},"TakeAway Discount",-1))]),_:1,__:[68]})])])]),n("div",Pl,[t(i,{label:"Cancel",onClick:Z}),t(i,{label:"Save",onClick:e[33]||(e[33]=a=>A())})])])]),_:1},8,["visible"])],64)}}},Wl=je($l,[["__scopeId","data-v-6bb5d884"]]);export{Wl as default};
