import{b as q,c as z,R as D}from"./index-CaW9szM_.js";import{s as M,a as A}from"./index-DOzyZOqR.js";import{s as N}from"./index-COmtfLXT.js";import{s as G}from"./index-B5PGiXEa.js";import{s as T}from"./index-D-csl-9O.js";import{q as f,s as c,x as V,h as E,j as F,p as a,n as X,c as d,o as u,d as s,a as n,w as m,y as Q,m as U,f as H,e as J,z as K,t as W,F as Y,l as Z,R as tt}from"./index-BShNAIhh.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-ph7f-Bih.js";import"./index-QIG-zb-E.js";import"./index-BjYwmhV5.js";import"./index-BaW51Udu.js";import"./index-DPWVLdbS.js";import"./index-aw8HYO3P.js";import"./index-DBNruGvo.js";const at="/XIAOXIONG_LOGO.png",ot={class:"w-full shadow-2 bg-primary"},nt={class:"flex flex-row justify-content-start"},st={class:"flex align-items-center justify-content-center"},it=["src"],lt=["onClick"],rt=["src"],pt={class:"text-white"},ct={__name:"TopBar",setup(b){const{t}=f(),{locale:r}=f(),l=[{label:"pt",imagePath:"flags/pt.png"},{label:"en",imagePath:"flags/en.png"},{label:"zh",imagePath:"flags/zh.png"}],v=c(()=>{switch(r.value.toLowerCase()){case"pt":return"/"+l[0].imagePath;case"en":return"/"+l[1].imagePath;case"zh":return"/"+l[2].imagePath;default:return"/"+l[1].imagePath}}),y=c(()=>l.filter(o=>o.label!==r.value.toLowerCase()).map(o=>({...o,command:()=>{r.value=o.label,x(o.label)}})));function x(o){localStorage.setItem("language",o)}const e=F(),B=V(),g=E(),P=c(()=>[{label:t("topBar.options"),items:[{label:t("topBar.uploadMenu"),icon:"pi pi-file-import",command:()=>{e.push(a.mainPath.updateMenu.path)}},{label:t("topBar.menuSorting"),icon:"pi pi-tag",command:()=>{e.push(a.mainPath.menuTags.path)}},{label:t("topBar.dishRating"),icon:"pi pi-star",command:()=>{e.push(a.monthRates.path)}},{label:t("topBar.dishSales"),icon:"pi pi-hashtag",command:()=>{e.push(a.orderQuantity.path)}},{label:t("topBar.pageEditing"),icon:"pi pi-file-edit",command:()=>{e.push(a.mainPath.editablePages.path)}},{label:t("topBar.printer"),icon:"pi pi-print",command:()=>{e.push(a.mainPath.printers.path)}},{label:t("topBar.qrCode"),icon:"pi pi-qrcode",command:()=>{e.push(a.mainPath.qcode.path)}},{label:t("topBar.settings"),icon:"pi pi-cog",command:()=>{e.push(a.mainPath.settings.path)}},{label:t("topBar.help"),icon:"pi pi-question",command:()=>{e.push(a.helpAndManual.path)}},{label:t("topBar.signOut"),icon:"pi pi-sign-out",command:()=>{k()}}]}]),w=o=>{g.value.toggle(o)},C=c(()=>[{label:t("topBar.home"),icon:"pi pi-home",command:()=>{e.push(a.mainPath.path)}},{label:t("topBar.orders"),icon:"pi pi-receipt",command:()=>{e.push(a.mainPath.order.path)},badge:X.newOrderCount.value},{label:t("topBar.menu"),icon:"pi pi-book",command:()=>{e.push(a.mainPath.menu.path)}},{label:t("topBar.tables"),icon:"pi pi-table",command:()=>{e.push(a.mainPath.tables.path)}},{label:t("topBar.takeout"),icon:"pi pi-shopping-bag",command:()=>{e.push(a.mainPath.takeways.path)}}]);function k(){B.require({message:"确认登出您的账号?",header:"登出账号",icon:"pi pi-exclamation-triangle",rejectProps:{label:"取消登出",severity:"secondary",outlined:!0},acceptProps:{label:"确认登出",severity:"danger"},accept:()=>{localStorage.removeItem("loggedIn"),localStorage.removeItem("loginDate"),e.replace("/login")},reject:()=>{}})}return(o,p)=>{const S=T,_=q,$=G,j=M,I=z,L=N,O=A,R=D;return u(),d(Y,null,[s(S),n("div",ot,[n("div",nt,[n("div",st,[s(_,{type:"button",icon:"pi pi-bars",onClick:w,"aria-haspopup":"true","aria-controls":"overlay_menu",class:"custom-clean-button"}),p[0]||(p[0]=n("img",{src:at,class:"max-w-9rem p-1"},null,-1)),p[1]||(p[1]=n("span",{class:"text-lg font-bold",style:{color:"aliceblue"}},"Order System",-1)),s($,{ref_key:"menu",ref:g,id:"overlay_menu",model:P.value,popup:!0},null,8,["model"])]),s(j,{model:y.value,direction:"left",transitionDelay:80,class:"ml-auto mr-3 border-0"},{button:m(({toggleCallback:i})=>[s(_,{outlined:"",onClick:i,class:"custom-clean-button"},{default:m(()=>[n("img",{src:v.value,style:{width:"32px",height:"32px"}},null,8,it)]),_:2},1032,["onClick"])]),item:m(({item:i,toggleCallback:h})=>[n("div",{class:"flex flex-col items-center justify-between",onClick:h},[n("img",{src:i.imagePath,alt:"lang",style:{width:"32px",height:"32px"}},null,8,rt)],8,lt)]),_:1},8,["model"])]),s(L,{model:C.value,class:"justify-content-center bg-primary border-none",breakpoint:"369px"},{item:m(({item:i,props:h})=>[Q((u(),d("a",U({class:"flex flex-column justify-content-center align-items-center"},h.action),[n("span",{class:K([i.icon,"text-white"])},null,2),n("span",pt,W(i.label),1),i.badge?(u(),H(I,{key:0,value:i.badge,severity:"danger",class:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/3",style:{"font-size":"0.7rem",height:"16px","min-width":"16px"}},null,8,["value"])):J("",!0)],16)),[[R]])]),_:1},8,["model"])]),s(O)],64)}}},mt=et(ct,[["__scopeId","data-v-79c94a34"]]),ut={class:"fixed top-0 right-0 left-0 h-full w-full"},ht={class:"w-full",style:{height:"calc(100dvh - 150px)"}},$t={__name:"MainLayout",setup(b){return(t,r)=>{const l=mt;return u(),d("div",ut,[s(l),n("div",ht,[s(Z(tt))])])}}};export{$t as default};
