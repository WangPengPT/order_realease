import{s as ye}from"./index-BEJuPB-1.js";import{s as he}from"./index-C9CIWv_8.js";import{s as we}from"./index-DnUHnkSZ.js";import{s as xe,b as Ve}from"./index-aV9c8tLG.js";import{B as Pe,c as U,o as F,r as ke,m as Ce,q as De,x as $e,h,u as Ie,s as ee,i as Ue,a as n,d as t,w as r,F as Fe,n as V,t as c,e as Se,l as v,G as Me}from"./index-Ccm8RtJ7.js";import{s as je,a as Ae,b as Te,c as Le}from"./index-BV8lHck6.js";import{s as Ne}from"./index-Cifw3kFT.js";import{s as Re,a as Ee}from"./index-OnsMqRrw.js";import{s as Oe}from"./index-DZv4UoXA.js";import{_ as Be}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CqzFUqpK.js";import"./index-Cuf91ak0.js";import"./index-Dot1Gsgq.js";import"./index-BqRAEwpO.js";import"./index-CjCDrQcv.js";import"./index-CRC-D_4V.js";import"./index-uVyBrLuX.js";import"./index-CZ3XvCkL.js";import"./index-DOKt8U4A.js";var He=`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`,ze={root:"p-inputgroup"},qe=Pe.extend({name:"inputgroup",style:He,classes:ze}),Ge={name:"BaseInputGroup",extends:xe,style:qe,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},le={name:"InputGroup",extends:Ge,inheritAttrs:!1};function Ke(j,u,te,E,A,S){return F(),U("div",Ce({class:j.cx("root")},j.ptmi("root")),[ke(j.$slots,"default")],16)}le.render=Ke;const We="/icons/default_image.png",Ye={class:"card flex flex-column h-full"},Je={class:"m-0 font-bold text-2xl text-left flex-grow-1"},Qe={class:"flex justify-content-end gap-2"},Xe={class:"flex gap-3"},Ze={key:0},el={class:"flex gap-3"},ll={key:1},tl={class:"flex flex-row align-items-center gap-2"},nl={class:"border-1"},al=["src"],ol={key:1,class:"upload-placeholder"},sl={class:"flex align-items-center gap-1"},il={class:"flex align-items-center gap-1"},ul={class:"flex flex-column gap-2 mt-3"},dl={for:"on_label"},rl={for:"on_label"},pl={for:"on_label"},ml={for:"on_label"},cl={for:"on_label"},fl={for:"on_label"},vl={class:"flex flex-column w-full gap-2"},gl={class:"flex flex-row justify-content-between w-full gap-2"},bl={class:"w-6"},_l={class:"w-6 gap-2"},yl={for:"on_label"},hl={class:"flex flex-row justify-content-between w-full gap-2"},wl={class:"w-6"},xl={for:"on_label"},Vl={class:"w-6"},Pl={for:"on_label"},kl={class:"flex flex-row justify-content-between w-full gap-2"},Cl={class:"w-6"},Dl={for:"on_label"},$l={class:"w-6"},Il={for:"on_label"},Ul={class:"flex flex-row justify-content-between w-full gap-2"},Fl={class:"w-6"},Sl={for:"on_label"},Ml={class:"w-6"},jl={for:"on_label"},Al={class:"flex flex-row justify-content-between w-full gap-2"},Tl={class:"w-6"},Ll={class:"w-6"},Nl={for:"on_label"},Rl={class:"flex flex-row justify-content-end align-items-center gap-2"},El={class:"flex flex-row align-items-center mb-4 gap-2"},Ol={class:"flex items-center align-items-center gap-1"},Bl={class:"flex items-center align-items-center gap-1"},Hl={class:"flex flex-column gap-2"},zl={for:"on_label"},ql={for:"on_label"},Gl={for:"on_label"},Kl={class:"flex flex-column w-full gap-2"},Wl={class:"flex flex-row justify-content-between w-full gap-2"},Yl={class:"w-6"},Jl={class:"w-6 gap-2"},Ql={for:"on_label"},Xl={class:"flex flex-row justify-content-between w-full gap-2"},Zl={class:"w-6"},et={class:"w-6"},lt={for:"on_label"},tt={class:"flex flex-row justify-content-between w-full gap-2"},nt={class:"w-6"},at={for:"on_label"},ot={class:"w-6"},st={for:"on_label"},it={class:"flex flex-row justify-content-between w-full gap-2"},ut={class:"w-6"},dt={for:"on_label"},rt={class:"flex flex-row justify-content-end gap-2"},pt={__name:"MenuPage",setup(j){const{t:u,locale:te}=De(),E=$e();let A=!1;const S=h(!1);function z(){if(S.value=!1,A){A=!0;return}let o={},e=!1;for(let i=0;i<y.length;i++)for(let d=0;d<M.length;d++){const s=y[i]+M[d];_.value[s]!=l.value[s]&&(o[s]=l.value[s],e=!0)}for(let i=0;i<P.length;i++){let d=P[i];_.value[d]!=l.value[d]&&(e=!0,o[d]=l.value[d])}_.value.disable?l.value.disable||(e=!0,o.disable=!1):l.value.disable&&(e=!0,o.disable=!0),e&&E.require({message:u("menuPage.saveMsg"),header:u("menuPage.saveHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:u("common.saveExit"),rejectLabel:u("common.cancel"),rejectClass:"p-button-secondary",accept:()=>{k.value=!1,B(o)},reject:()=>{k.value=!0}})}const D=Ie(),q=h([]),O=h({global:{value:null,matchMode:Me.CONTAINS}}),G=h({}),ne=(o,e)=>{if(!e)return o;const i=e.toLowerCase();return o.filter(d=>{var f;const s=Object.entries(d).filter(([g])=>g!=="subitems").some(([g,b])=>String(b).toLowerCase().includes(i)),m=(f=d.subitems)==null?void 0:f.some(g=>Object.values(g).some(b=>String(b).toLowerCase().includes(i)));return s||m}).map(d=>{var m;const s=Object.entries(d).filter(([f])=>f!=="subitems").some(([f,g])=>String(g).toLowerCase().includes(i));return{...d,subitems:s?d.subitems:(m=d.subitems)==null?void 0:m.filter(f=>Object.values(f).some(g=>String(g).toLowerCase().includes(i)))}})},ae=ee(()=>ne(q.value,O.value.global.value)),oe=h([]),_=h(null),l=h({}),K=h([]),se=ee(()=>Array.from({length:17},(o,e)=>({id:e+1,name:u(`allergy[${e+1}]`)}))),W=h([{value:void 0,label:u("menuPage.dineIn")+" & "+u("menuPage.takeAway")},{value:"DINEIN",label:u("menuPage.dineIn")},{value:"TAKEAWAY",label:u("menuPage.takeAway")}]);let y=["name","note","subname"];const M=["","_en","_cn"];let P=["id","orderType","price","deliveryPrice","category","tags","image","soldout","discount","deliveryDiscount","dis_price","limit","x"];const k=h(!1),$=h(!1);function ie(){A=!0,k.value=!k.value}function ue(){$.value=!$.value}function de(o){C=void 0,k.value=!0,L(o)}function Y(o,e){console.log("data:",o);const i=!!o.subitems&&o.subitems.length>0&&!e,d=!!o.subitems&&o.subitems.length>0&&e,f=[{condition:i,messageKey:"menuPage.deleteMainDishMsg",localFun:()=>{}},{condition:d,messageKey:"menuPage.deleteFirstSubDishMsg",localFun:()=>{}},{condition:!i&&!d,messageKey:"menuPage.deleteMsg",localFun:()=>{}}].find(g=>g.condition);f&&E.require({message:u(f.messageKey),header:u("menuPage.deleteHeader"),icon:"pi pi-exclamation-triangle",acceptLabel:u("common.delete"),rejectLabel:u("common.cancel"),acceptClass:"p-button-danger",rejectClass:"p-button-secondary",accept:()=>{V.menuApi.deleteItem(o.id,g=>{g.success?(D.add({severity:"success",summary:u("common.success"),detail:u("menuPage.deleteSucMsg"),life:3e3}),f.localFun()):D.add({severity:"error",summary:u("common.error"),detail:u("menuPage.deleteFailMsg"),life:3e3})})}})}function re(o){C=void 0,$.value=!0,L(o)}function L(o,e){J=e,_.value=o;for(let i=0;i<y.length;i++)l.value[y[i]]=o[y[i]],l.value[y[i]+"_en"]=o[y[i]+"_en"],l.value[y[i]+"_cn"]=o[y[i]+"_cn"];l.value.disable=o.disable||!1;for(let i=0;i<P.length;i++)l.value[P[i]]=o[P[i]]}let J=!1;function B(o){console.log("apply dish");let e=o,i=!1;if(l.value.discount?(l.value.discount=Math.round(l.value.discount),l.value.discount>99&&(l.value.discount=99),l.value.discount<=0?(l.value.dis_price=void 0,l.value.discount=void 0):(l.value.dis_price=l.value.price*(100-l.value.discount),l.value.dis_price=Math.round(l.value.dis_price)/100,console.log(l.value.price*(100-l.value.discount)))):l.value.dis_price=void 0,e)i=!0;else{e={};for(let d=0;d<y.length;d++)for(let s=0;s<M.length;s++){const m=y[d]+M[s];_.value[m]!=l.value[m]&&(e[m]=l.value[m],i=!0)}for(let d=0;d<P.length;d++){let s=P[d];_.value[s]!=l.value[s]&&(i=!0,e[s]=l.value[s])}_.value.disable?l.value.disable||(i=!0,e.disable=!1):l.value.disable&&(i=!0,e.disable=!0)}if(!i){D.add({severity:"error",summary:u("common.error"),detail:u("menuPage.notChanged"),life:3e3});return}if(i){let d=!1;if(l.value.id=l.value.id.trim(),l.value.id!="")if(l.value.id==_.value.id)d=!0;else{d=!0;for(let s=0;s<V.menuApi.menuData.value.length;s++)if(l.value.id==V.menuApi.menuData.value[s].id){d=!1;break}}if(!d){D.add({severity:"error",summary:u("common.error"),detail:`${u("menuPage.invalidId")}: ${l.value.id}`,life:3e3});return}if(J)A=!0,e={...l.value},C?(C.subitems||(C.subitems=[C]),e.category="",C.subitems.push(e),e.handle=_.value.handle):(e.handle="handle_"+e.id,oe.value.push(e));else{e.org_id=_.value.id,e.handle=_.value.handle;for(let s=0;s<y.length;s++)for(let m=0;m<M.length;m++){const f=y[s]+M[m];_.value[f]=l.value[f]}_.value.disable=l.value.disable;for(let s=0;s<P.length;s++){let m=P[s];_.value[m]=l.value[m]}}$.value=!1,k.value=!1,console.log("update_data: ",e),V.menuApi.updateMenuItem(e),D.add({severity:"success",summary:u("common.success"),detail:u("menuPage.saveSuccess"),life:3e3})}}function N(o,e){return!o||o==0?e:((1-o/100)*e).toFixed(2)}let C;function pe(o){S.value=!0,C=o;let e={id:"",handle:o.handle,category:o.category,subname:"",price:"0"};$.value=!0,L(e,!0)}function me(){S.value=!0,C=void 0;let o={id:"",handle:"",category:"",subname:"",price:"0"};k.value=!0,L(o,!0)}function Q(){q.value=V.menuApi.formatedMenu.value,ce()}Ue(()=>{Q()});function ce(){const o={},e=V.customDishApi.getSimplyCustomDishes().map(d=>d.name),i=V.customDishApi.getSimplyCustomDishes().map(d=>({name:d.name,value:d.name}));for(let d=0;d<V.menuApi.menuData.value.length;d++){const s=V.menuApi.menuData.value[d];s.category&&s.category!=""&&(o[s.category]||(o[s.category]=!0,i.push({name:s.category,value:s.category}),e.push(s.category))),s.tags&&s.tags!=""&&(o[s.tags]||(o[s.tags]=!0,i.push({name:s.tags,value:s.tags}),e.push(s.tags)))}K.value=e}const X=h(null);function Z(){X.value.click()}function fe(o){const e=o.target.files[0];e&&ve(e)}async function ve(o){let e;e="/upload_image";const d=new FormData,s=await ge(o);d.append("image",s);let m=o.size/1e3;m=m.toFixed(2);let f=s.size/1e3;f=f.toFixed(2),console.log("file size: "+m+"k"),console.log("compressed size: "+f+"k");try{const g=await fetch(e,{method:"POST",body:d});if(!g.ok)throw new Error(u("common.uploadFailed"));const b=await g.json();l.value.image=b.imageUrl,D.add({severity:"success",summary:u("common.success"),detail:u("menuPage.uploadSucMsg"),life:3e3})}catch(g){console.error("上传错误",g),D.add({severity:"error",summary:u("common.error"),detail:u("menuPage.uploadFailMsg"),life:3e3})}}async function ge(o){return new Promise((e,i)=>{const d=new FileReader;d.onload=s=>{const m=new Image;m.onload=()=>{let b=m.width,p=m.height;b>p?b>512&&(p*=512/b,b=512):p>512&&(b*=512/p,p=512);const w=document.createElement("canvas"),I=w.getContext("2d");w.width=b,w.height=p,o.type==="image/png"&&(I.fillStyle="#ffffff",I.fillRect(0,0,w.width,w.height)),I.drawImage(m,0,0,b,p);const x=o.type==="image/png"?"image/png":"image/jpeg",H=x==="image/png"?.9:.7;w.toBlob(R=>{e(new File([R],o.name,{type:x,lastModified:Date.now()}))},x,H)},m.onerror=i,m.src=s.target.result},d.onerror=i,d.readAsDataURL(o)})}async function be(){try{await V.menuApi.refreshMenu(),Q()}catch(o){console.error("刷新失败:",o)}}return(o,e)=>{const i=Ve,d=Ee,s=Oe,m=Re,f=Ae,g=je,b=Te,p=Ne,w=Le,I=le,x=we,H=he,R=ye;return F(),U(Fe,null,[n("div",Ye,[t(g,{value:ae.value,paginator:"",dataKey:"id",stripedRows:"",selectionMode:"single",rows:10,scrollable:"",class:"h-full flex flex-column",rowsPerPageOptions:[5,10,15,20,30,40],globalFilterFields:["id","name"],expandedRows:G.value,"onUpdate:expandedRows":e[1]||(e[1]=a=>G.value=a),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink",currentPageReportTemplate:"{first} to {last} of {totalRecords}"},{header:r(()=>[n("h4",Je,c(o.$t("menuPage.menu")),1),n("div",Qe,[t(i,{label:o.$t("menuPage.addDish"),onClick:me,class:"unchange_white_text_button"},null,8,["label"]),t(m,null,{default:r(()=>[t(d,null,{default:r(()=>e[36]||(e[36]=[n("i",{class:"pi pi-search"},null,-1)])),_:1,__:[36]}),t(s,{modelValue:O.value.global.value,"onUpdate:modelValue":e[0]||(e[0]=a=>O.value.global.value=a),placeholder:o.$t("menuPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),expansion:r(a=>[t(i,{label:o.$t("menuPage.addSub"),onClick:T=>pe(a.data)},null,8,["label","onClick"]),a.data.subitems?(F(),U("div",Ze,[t(g,{value:a.data.subitems},{default:r(()=>[t(f,{field:"id",header:o.$t("menuPage.subId")},null,8,["header"]),t(f,{field:"subname",header:o.$t("menuPage.subName")},null,8,["header"]),t(f,{class:"w-24 !text-end"},{body:r(({data:T})=>[n("div",el,[t(i,{icon:"pi pi-pen-to-square",onClick:_e=>re(T),severity:"secondary",rounded:""},null,8,["onClick"]),t(i,{icon:"pi pi-trash",onClick:_e=>Y(T,!0),severity:"secondary",class:"hover:bg-red-500 hover:text-white",rounded:""},null,8,["onClick"])])]),_:1})]),_:2},1032,["value"])])):(F(),U("div",ll,c(o.$t("menuPage.nothing")),1))]),paginatorstart:r(()=>[t(i,{type:"button",icon:"pi pi-refresh",onClick:be,text:""})]),default:r(()=>[t(f,{expander:"",style:{width:"5rem"}}),t(f,{field:"id",sortable:"",header:"ID"}),t(f,{field:"name",sortable:"",header:o.$t("menuPage.name")},null,8,["header"]),t(f,{class:"w-24 !text-end"},{body:r(({data:a})=>[n("div",Xe,[t(i,{icon:"pi pi-pen-to-square",onClick:T=>de(a),severity:"secondary",rounded:""},null,8,["onClick"]),t(i,{icon:"pi pi-trash",onClick:T=>Y(a,!1),severity:"secondary",class:"hover:bg-red-500 hover:text-white",rounded:""},null,8,["onClick"])])]),_:1})]),_:1},8,["value","expandedRows"])]),t(R,{visible:k.value,"onUpdate:visible":e[21]||(e[21]=a=>k.value=a),class:"h-full",header:o.$t("menuPage.edit"),onHide:z,modal:""},{default:r(()=>[n("div",tl,[n("div",nl,[l.value.image?(F(),U("img",{key:0,src:l.value.image,style:{height:"100px",width:"100px"},onClick:Z},null,8,al)):(F(),U("div",ol,[l.value.image?Se("",!0):(F(),U("img",{key:0,src:We,style:{height:"100px",width:"100px"},onClick:Z}))])),n("input",{type:"file",ref_key:"fileInput",ref:X,accept:"image/*",style:{display:"none"},onChange:fe},null,544)]),n("div",sl,[t(b,{modelValue:l.value.disable,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.disable=a),binary:""},null,8,["modelValue"]),n("label",null,c(v(u)("menuPage.disable")),1)]),n("div",il,[t(b,{modelValue:l.value.soldout,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.soldout=a),binary:""},null,8,["modelValue"]),n("label",null,c(v(u)("menuPage.soldout")),1)])]),n("div",ul,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.name,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.name=a),class:"w-full"},null,8,["modelValue"]),n("label",dl,c(v(u)("menuPage.namePT")),1)]),_:1}),t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.name_en,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.name_en=a),class:"w-full"},null,8,["modelValue"]),n("label",rl,c(v(u)("menuPage.nameEN")),1)]),_:1}),t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.name_cn,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.name_cn=a),class:"w-full"},null,8,["modelValue"]),n("label",pl,c(v(u)("menuPage.nameCN")),1)]),_:1}),e[38]||(e[38]=n("div",{class:"p-2"},null,-1)),t(p,{variant:"on gap-2"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.note,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.note=a),class:"w-full"},null,8,["modelValue"]),n("label",ml,c(v(u)("menuPage.descriptPT")),1)]),_:1}),t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.note_en,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.note_en=a),class:"w-full"},null,8,["modelValue"]),n("label",cl,c(v(u)("menuPage.descriptEN")),1)]),_:1}),t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.note_cn,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.note_cn=a),class:"w-full"},null,8,["modelValue"]),n("label",fl,c(v(u)("menuPage.descriptCN")),1)]),_:1}),e[39]||(e[39]=n("div",{class:"p-2"},null,-1)),n("div",vl,[n("div",gl,[n("div",bl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.id=a),class:"w-full",disabled:!S.value},null,8,["modelValue","disabled"]),e[37]||(e[37]=n("label",{for:"on_label"},"ID",-1))]),_:1,__:[37]})]),n("div",_l,[t(I,null,{default:r(()=>[t(p,{variant:"on"},{default:r(()=>[t(w,{modelValue:l.value.orderType,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.orderType=a),options:W.value,optionLabel:"label",class:"w-full"},null,8,["modelValue","options"]),n("label",yl,c(v(u)("menuPage.orderType")),1)]),_:1})]),_:1})])]),n("div",hl,[n("div",wl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.price=a),class:"w-full"},null,8,["modelValue"]),n("label",xl,c(v(u)("menuPage.price")),1)]),_:1})]),n("div",Vl,[t(p,{variant:"on"},{default:r(()=>[t(x,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.discount=a),suffix:" % = "+N(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),n("label",Pl,c(v(u)("menuPage.dineInDisc")),1)]),_:1})])]),n("div",kl,[n("div",Cl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[14]||(e[14]=a=>l.value.deliveryPrice=a),class:"w-full"},null,8,["modelValue"]),n("label",Dl,c(v(u)("menuPage.deliveryPrice")),1)]),_:1})]),n("div",$l,[t(p,{variant:"on"},{default:r(()=>[t(x,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[15]||(e[15]=a=>l.value.deliveryDiscount=a),class:"w-full",suffix:" % = "+N(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),n("label",Il,c(v(u)("menuPage.takeAwayDisc")),1)]),_:1})])]),n("div",Ul,[n("div",Fl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.category,"onUpdate:modelValue":e[16]||(e[16]=a=>l.value.category=a),class:"w-full"},null,8,["modelValue"]),n("label",Sl,c(v(u)("menuPage.category")),1)]),_:1})]),n("div",Ml,[t(I,null,{default:r(()=>[t(p,{variant:"on"},{default:r(()=>[t(w,{modelValue:l.value.tags,"onUpdate:modelValue":e[17]||(e[17]=a=>l.value.tags=a),options:K.value,class:"w-full"},null,8,["modelValue","options"]),n("label",jl,c(v(u)("menuPage.tag")),1)]),_:1})]),_:1})])]),n("div",Al,[n("div",Tl,[t(H,{modelValue:l.value.x,"onUpdate:modelValue":e[18]||(e[18]=a=>l.value.x=a),options:se.value,optionValue:"id",optionLabel:"name",filter:"",placeholder:"Select allergy",class:"w-full md:w-80"},null,8,["modelValue","options"])]),n("div",Ll,[t(p,{variant:"on"},{default:r(()=>[t(x,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[19]||(e[19]=a=>l.value.limit=a),class:"w-full",min:0,max:99},null,8,["modelValue"]),n("label",Nl,c(v(u)("menuPage.limit")),1)]),_:1})])])]),n("div",Rl,[t(i,{label:o.$t("menuPage.cancel"),onClick:ie},null,8,["label"]),t(i,{label:o.$t("menuPage.save"),onClick:e[20]||(e[20]=a=>B())},null,8,["label"])])])]),_:1},8,["visible","header"]),t(R,{visible:$.value,"onUpdate:visible":e[35]||(e[35]=a=>$.value=a),class:"h-full",header:o.$t("menuPage.editSub"),onHide:z,modal:""},{default:r(()=>[n("div",El,[n("div",Ol,[t(b,{modelValue:l.value.disable,"onUpdate:modelValue":e[22]||(e[22]=a=>l.value.disable=a),binary:""},null,8,["modelValue"]),n("label",null,c(v(u)("menuPage.disable")),1)]),n("div",Bl,[t(b,{modelValue:l.value.soldout,"onUpdate:modelValue":e[23]||(e[23]=a=>l.value.soldout=a),binary:""},null,8,["modelValue"]),n("label",null,c(v(u)("menuPage.soldout")),1)])]),n("div",Hl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.subname,"onUpdate:modelValue":e[24]||(e[24]=a=>l.value.subname=a),class:"w-full"},null,8,["modelValue"]),n("label",zl,c(v(u)("menuPage.subnamePT")),1)]),_:1}),t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.subname_en,"onUpdate:modelValue":e[25]||(e[25]=a=>l.value.subname_en=a),class:"w-full"},null,8,["modelValue"]),n("label",ql,c(v(u)("menuPage.subnameEN")),1)]),_:1}),t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.subname_cn,"onUpdate:modelValue":e[26]||(e[26]=a=>l.value.subname_cn=a),class:"w-full"},null,8,["modelValue"]),n("label",Gl,c(v(u)("menuPage.subnameCN")),1)]),_:1}),e[42]||(e[42]=n("div",{class:"p-2"},null,-1)),n("div",Kl,[n("div",Wl,[n("div",Yl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"text",modelValue:l.value.id,"onUpdate:modelValue":e[27]||(e[27]=a=>l.value.id=a),class:"w-full",disabled:!S.value},null,8,["modelValue","disabled"]),e[40]||(e[40]=n("label",{for:"on_label"},"ID",-1))]),_:1,__:[40]})]),n("div",Jl,[t(I,null,{default:r(()=>[t(p,{variant:"on"},{default:r(()=>[t(w,{modelValue:l.value.orderType,"onUpdate:modelValue":e[28]||(e[28]=a=>l.value.orderType=a),options:W.value.value,optionLabel:"label",class:"w-full"},null,8,["modelValue","options"]),n("label",Ql,c(v(u)("menuPage.orderType")),1)]),_:1})]),_:1})])]),n("div",Xl,[n("div",Zl,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"number",modelValue:l.value.price,"onUpdate:modelValue":e[29]||(e[29]=a=>l.value.price=a),class:"w-full"},null,8,["modelValue"]),e[41]||(e[41]=n("label",{for:"on_label"},"price",-1))]),_:1,__:[41]})]),n("div",et,[t(p,{variant:"on"},{default:r(()=>[t(x,{type:"number",modelValue:l.value.discount,"onUpdate:modelValue":e[30]||(e[30]=a=>l.value.discount=a),suffix:" % = "+N(l.value.discount,l.value.price)+"€",class:"w-full",min:0,max:99},null,8,["modelValue","suffix"]),n("label",lt,c(v(u)("menuPage.dineInDisc")),1)]),_:1})])]),n("div",tt,[n("div",nt,[t(p,{variant:"on"},{default:r(()=>[t(s,{type:"number",modelValue:l.value.deliveryPrice,"onUpdate:modelValue":e[31]||(e[31]=a=>l.value.deliveryPrice=a),class:"w-full"},null,8,["modelValue"]),n("label",at,c(v(u)("menuPage.deliveryPrice")),1)]),_:1})]),n("div",ot,[t(p,{variant:"on"},{default:r(()=>[t(x,{type:"number",modelValue:l.value.deliveryDiscount,"onUpdate:modelValue":e[32]||(e[32]=a=>l.value.deliveryDiscount=a),class:"w-full",suffix:" % = "+N(l.value.deliveryDiscount,l.value.deliveryPrice)+"€",min:0,max:99},null,8,["modelValue","suffix"]),n("label",st,c(v(u)("menuPage.takeAwayDisc")),1)]),_:1})])]),n("div",it,[n("div",ut,[t(p,{variant:"on"},{default:r(()=>[t(x,{type:"number",modelValue:l.value.limit,"onUpdate:modelValue":e[33]||(e[33]=a=>l.value.limit=a),class:"w-full",min:0,max:99},null,8,["modelValue"]),n("label",dt,c(v(u)("menuPage.limit")),1)]),_:1})])])]),n("div",rt,[t(i,{label:o.$t("menuPage.cancel"),onClick:ue},null,8,["label"]),t(i,{label:o.$t("menuPage.save"),onClick:e[34]||(e[34]=a=>B())},null,8,["label"])])])]),_:1},8,["visible","header"])],64)}}},Ft=Be(pt,[["__scopeId","data-v-120e9617"]]);export{Ft as default};
