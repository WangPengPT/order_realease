import{g as wt}from"./_commonjsHelpers-CqkleIqs.js";import{v as qe,B as _e,x as Ce,y as ze,f as b,q as r,l as Z,i as O,z as ve,A as Q,D as ke,h as a,t as v,n as ce,u as pe,r as F,g as A,F as G,p as se,k as i,j as V,E as Pe,a as q,s as ge,m as ie,e as ot,G as kt,H as xt,c as fe,I as xe,J as $t,R as it,K as je,L as Tt,M as He,N as Ct,O as Ae,P as It,Q as Xe,S as Le,T as Dt,U as St,V as Be,o as lt,w as At,b as Bt,W as Nt,d as Pt}from"./index-CAfwQh4R.js";import{s as ye,a as rt}from"./index-LuKsn-qf.js";import{s as W,a as ct}from"./index-BWYdtIBQ.js";import{D as te,c as le,s as Ye}from"./index-B_f_KoR8.js";import{_ as Ie,b as Ke,c as Ue,a as We,s as Qe}from"./_plugin-vue_export-helper-DbOsxM8G.js";import{s as Lt}from"./index-BEAgtwiE.js";import{s as et,a as qt}from"./index-CJeKL6OS.js";import{c as oe}from"./cookie-DEduTsxr.js";import{s as zt}from"./index-26KznPJi.js";import{s as tt}from"./index-RtrRAtJH.js";import{s as Ot}from"./index-D5wsjmSn.js";var Fe={exports:{}},at;function Et(){return at||(at=1,function(e){var t=function(){var s=String.fromCharCode,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",p={};function T(l,_){if(!p[l]){p[l]={};for(var I=0;I<l.length;I++)p[l][l.charAt(I)]=I}return p[l][_]}var R={compressToBase64:function(l){if(l==null)return"";var _=R._compress(l,6,function(I){return c.charAt(I)});switch(_.length%4){default:case 0:return _;case 1:return _+"===";case 2:return _+"==";case 3:return _+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:R._decompress(l.length,32,function(_){return T(c,l.charAt(_))})},compressToUTF16:function(l){return l==null?"":R._compress(l,15,function(_){return s(_+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:R._decompress(l.length,16384,function(_){return l.charCodeAt(_)-32})},compressToUint8Array:function(l){for(var _=R.compress(l),I=new Uint8Array(_.length*2),y=0,m=_.length;y<m;y++){var C=_.charCodeAt(y);I[y*2]=C>>>8,I[y*2+1]=C%256}return I},decompressFromUint8Array:function(l){if(l==null)return R.decompress(l);for(var _=new Array(l.length/2),I=0,y=_.length;I<y;I++)_[I]=l[I*2]*256+l[I*2+1];var m=[];return _.forEach(function(C){m.push(s(C))}),R.decompress(m.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":R._compress(l,6,function(_){return w.charAt(_)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),R._decompress(l.length,32,function(_){return T(w,l.charAt(_))}))},compress:function(l){return R._compress(l,16,function(_){return s(_)})},_compress:function(l,_,I){if(l==null)return"";var y,m,C={},U={},M="",J="",j="",P=2,S=3,B=2,d=[],o=0,n=0,k;for(k=0;k<l.length;k+=1)if(M=l.charAt(k),Object.prototype.hasOwnProperty.call(C,M)||(C[M]=S++,U[M]=!0),J=j+M,Object.prototype.hasOwnProperty.call(C,J))j=J;else{if(Object.prototype.hasOwnProperty.call(U,j)){if(j.charCodeAt(0)<256){for(y=0;y<B;y++)o=o<<1,n==_-1?(n=0,d.push(I(o)),o=0):n++;for(m=j.charCodeAt(0),y=0;y<8;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1}else{for(m=1,y=0;y<B;y++)o=o<<1|m,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=0;for(m=j.charCodeAt(0),y=0;y<16;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1}P--,P==0&&(P=Math.pow(2,B),B++),delete U[j]}else for(m=C[j],y=0;y<B;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1;P--,P==0&&(P=Math.pow(2,B),B++),C[J]=S++,j=String(M)}if(j!==""){if(Object.prototype.hasOwnProperty.call(U,j)){if(j.charCodeAt(0)<256){for(y=0;y<B;y++)o=o<<1,n==_-1?(n=0,d.push(I(o)),o=0):n++;for(m=j.charCodeAt(0),y=0;y<8;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1}else{for(m=1,y=0;y<B;y++)o=o<<1|m,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=0;for(m=j.charCodeAt(0),y=0;y<16;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1}P--,P==0&&(P=Math.pow(2,B),B++),delete U[j]}else for(m=C[j],y=0;y<B;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1;P--,P==0&&(P=Math.pow(2,B),B++)}for(m=2,y=0;y<B;y++)o=o<<1|m&1,n==_-1?(n=0,d.push(I(o)),o=0):n++,m=m>>1;for(;;)if(o=o<<1,n==_-1){d.push(I(o));break}else n++;return d.join("")},decompress:function(l){return l==null?"":l==""?null:R._decompress(l.length,32768,function(_){return l.charCodeAt(_)})},_decompress:function(l,_,I){var y=[],m=4,C=4,U=3,M="",J=[],j,P,S,B,d,o,n,k={val:I(0),position:_,index:1};for(j=0;j<3;j+=1)y[j]=j;for(S=0,d=Math.pow(2,2),o=1;o!=d;)B=k.val&k.position,k.position>>=1,k.position==0&&(k.position=_,k.val=I(k.index++)),S|=(B>0?1:0)*o,o<<=1;switch(S){case 0:for(S=0,d=Math.pow(2,8),o=1;o!=d;)B=k.val&k.position,k.position>>=1,k.position==0&&(k.position=_,k.val=I(k.index++)),S|=(B>0?1:0)*o,o<<=1;n=s(S);break;case 1:for(S=0,d=Math.pow(2,16),o=1;o!=d;)B=k.val&k.position,k.position>>=1,k.position==0&&(k.position=_,k.val=I(k.index++)),S|=(B>0?1:0)*o,o<<=1;n=s(S);break;case 2:return""}for(y[3]=n,P=n,J.push(n);;){if(k.index>l)return"";for(S=0,d=Math.pow(2,U),o=1;o!=d;)B=k.val&k.position,k.position>>=1,k.position==0&&(k.position=_,k.val=I(k.index++)),S|=(B>0?1:0)*o,o<<=1;switch(n=S){case 0:for(S=0,d=Math.pow(2,8),o=1;o!=d;)B=k.val&k.position,k.position>>=1,k.position==0&&(k.position=_,k.val=I(k.index++)),S|=(B>0?1:0)*o,o<<=1;y[C++]=s(S),n=C-1,m--;break;case 1:for(S=0,d=Math.pow(2,16),o=1;o!=d;)B=k.val&k.position,k.position>>=1,k.position==0&&(k.position=_,k.val=I(k.index++)),S|=(B>0?1:0)*o,o<<=1;y[C++]=s(S),n=C-1,m--;break;case 2:return J.join("")}if(m==0&&(m=Math.pow(2,U),U++),y[n])M=y[n];else if(n===C)M=P+P.charAt(0);else return null;J.push(M),y[C++]=P+M.charAt(0),m--,P=M,m==0&&(m=Math.pow(2,U),U++)}}};return R}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})}(Fe)),Fe.exports}var Rt=Et();const Ve=wt(Rt);var Mt=qe`
    .p-tag {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: dt('tag.primary.background');
        color: dt('tag.primary.color');
        font-size: dt('tag.font.size');
        font-weight: dt('tag.font.weight');
        padding: dt('tag.padding');
        border-radius: dt('tag.border.radius');
        gap: dt('tag.gap');
    }

    .p-tag-icon {
        font-size: dt('tag.icon.size');
        width: dt('tag.icon.size');
        height: dt('tag.icon.size');
    }

    .p-tag-rounded {
        border-radius: dt('tag.rounded.border.radius');
    }

    .p-tag-success {
        background: dt('tag.success.background');
        color: dt('tag.success.color');
    }

    .p-tag-info {
        background: dt('tag.info.background');
        color: dt('tag.info.color');
    }

    .p-tag-warn {
        background: dt('tag.warn.background');
        color: dt('tag.warn.color');
    }

    .p-tag-danger {
        background: dt('tag.danger.background');
        color: dt('tag.danger.color');
    }

    .p-tag-secondary {
        background: dt('tag.secondary.background');
        color: dt('tag.secondary.color');
    }

    .p-tag-contrast {
        background: dt('tag.contrast.background');
        color: dt('tag.contrast.color');
    }
`,jt={root:function(t){var s=t.props;return["p-tag p-component",{"p-tag-info":s.severity==="info","p-tag-success":s.severity==="success","p-tag-warn":s.severity==="warn","p-tag-danger":s.severity==="danger","p-tag-secondary":s.severity==="secondary","p-tag-contrast":s.severity==="contrast","p-tag-rounded":s.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},Ft=_e.extend({name:"tag",style:Mt,classes:jt}),Vt={name:"BaseTag",extends:Ce,props:{value:null,severity:null,rounded:Boolean,icon:String},style:Ft,provide:function(){return{$pcTag:this,$parentInstance:this}}};function $e(e){"@babel/helpers - typeof";return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$e(e)}function Ht(e,t,s){return(t=Kt(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Kt(e){var t=Ut(e,"string");return $e(t)=="symbol"?t:t+""}function Ut(e,t){if($e(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var c=s.call(e,t);if($e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var we={name:"Tag",extends:Vt,inheritAttrs:!1,computed:{dataP:function(){return ze(Ht({rounded:this.rounded},this.severity,this.severity))}}},Wt=["data-p"];function Qt(e,t,s,c,w,p){return r(),b("span",Q({class:e.cx("root"),"data-p":p.dataP},e.ptmi("root")),[e.$slots.icon?(r(),Z(ke(e.$slots.icon),Q({key:0,class:e.cx("icon")},e.ptm("icon")),null,16,["class"])):e.icon?(r(),b("span",Q({key:1,class:[e.cx("icon"),e.icon]},e.ptm("icon")),null,16)):O("",!0),e.value!=null||e.$slots.default?ve(e.$slots,"default",{key:2},function(){return[a("span",Q({class:e.cx("label")},e.ptm("label")),v(e.value),17)]}):O("",!0)],16,Wt)}we.render=Qt;var Jt=qe`
    .p-avatar {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: dt('avatar.width');
        height: dt('avatar.height');
        font-size: dt('avatar.font.size');
        background: dt('avatar.background');
        color: dt('avatar.color');
        border-radius: dt('avatar.border.radius');
    }

    .p-avatar-image {
        background: transparent;
    }

    .p-avatar-circle {
        border-radius: 50%;
    }

    .p-avatar-circle img {
        border-radius: 50%;
    }

    .p-avatar-icon {
        font-size: dt('avatar.icon.size');
        width: dt('avatar.icon.size');
        height: dt('avatar.icon.size');
    }

    .p-avatar img {
        width: 100%;
        height: 100%;
    }

    .p-avatar-lg {
        width: dt('avatar.lg.width');
        height: dt('avatar.lg.width');
        font-size: dt('avatar.lg.font.size');
    }

    .p-avatar-lg .p-avatar-icon {
        font-size: dt('avatar.lg.icon.size');
        width: dt('avatar.lg.icon.size');
        height: dt('avatar.lg.icon.size');
    }

    .p-avatar-xl {
        width: dt('avatar.xl.width');
        height: dt('avatar.xl.width');
        font-size: dt('avatar.xl.font.size');
    }

    .p-avatar-xl .p-avatar-icon {
        font-size: dt('avatar.xl.icon.size');
        width: dt('avatar.xl.icon.size');
        height: dt('avatar.xl.icon.size');
    }

    .p-avatar-group {
        display: flex;
        align-items: center;
    }

    .p-avatar-group .p-avatar + .p-avatar {
        margin-inline-start: dt('avatar.group.offset');
    }

    .p-avatar-group .p-avatar {
        border: 2px solid dt('avatar.group.border.color');
    }

    .p-avatar-group .p-avatar-lg + .p-avatar-lg {
        margin-inline-start: dt('avatar.lg.group.offset');
    }

    .p-avatar-group .p-avatar-xl + .p-avatar-xl {
        margin-inline-start: dt('avatar.xl.group.offset');
    }
`,Gt={root:function(t){var s=t.props;return["p-avatar p-component",{"p-avatar-image":s.image!=null,"p-avatar-circle":s.shape==="circle","p-avatar-lg":s.size==="large","p-avatar-xl":s.size==="xlarge"}]},label:"p-avatar-label",icon:"p-avatar-icon"},Zt=_e.extend({name:"avatar",style:Jt,classes:Gt}),Xt={name:"BaseAvatar",extends:Ce,props:{label:{type:String,default:null},icon:{type:String,default:null},image:{type:String,default:null},size:{type:String,default:"normal"},shape:{type:String,default:"square"},ariaLabelledby:{type:String,default:null},ariaLabel:{type:String,default:null}},style:Zt,provide:function(){return{$pcAvatar:this,$parentInstance:this}}};function Te(e){"@babel/helpers - typeof";return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(e)}function st(e,t,s){return(t=Yt(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Yt(e){var t=ea(e,"string");return Te(t)=="symbol"?t:t+""}function ea(e,t){if(Te(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var c=s.call(e,t);if(Te(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Je={name:"Avatar",extends:Xt,inheritAttrs:!1,emits:["error"],methods:{onError:function(t){this.$emit("error",t)}},computed:{dataP:function(){return ze(st(st({},this.shape,this.shape),this.size,this.size))}}},ta=["aria-labelledby","aria-label","data-p"],aa=["data-p"],sa=["data-p"],na=["src","alt","data-p"];function oa(e,t,s,c,w,p){return r(),b("div",Q({class:e.cx("root"),"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptmi("root"),{"data-p":p.dataP}),[ve(e.$slots,"default",{},function(){return[e.label?(r(),b("span",Q({key:0,class:e.cx("label")},e.ptm("label"),{"data-p":p.dataP}),v(e.label),17,aa)):e.$slots.icon?(r(),Z(ke(e.$slots.icon),{key:1,class:ce(e.cx("icon"))},null,8,["class"])):e.icon?(r(),b("span",Q({key:2,class:[e.cx("icon"),e.icon]},e.ptm("icon"),{"data-p":p.dataP}),null,16,sa)):e.image?(r(),b("img",Q({key:3,src:e.image,alt:e.ariaLabel,onError:t[0]||(t[0]=function(){return p.onError&&p.onError.apply(p,arguments)})},e.ptm("image"),{"data-p":p.dataP}),null,16,na)):O("",!0)]})],16,ta)}Je.render=oa;const ia={class:"grid"},la={class:"flex flex-column"},ra=["onClick"],ca={class:"p-1 flex-shrink-0 w-7rem h-7rem flex align-items-center justify-content-center overflow-hidden"},ua=["src","alt"],da={class:"flex flex-column justify-content-center"},fa={class:"font-bold"},pa={class:"flex flex-wrap gap-2"},va={class:"flex gap-1 align-items-center"},ha={class:"text-color-secondary line2"},ma={key:0,class:"text-xl font-bold text-primary"},ba={key:1,class:"flex align-items-center gap-1"},ga={class:"text-l font-bold text-color-secondary"},ya={class:"text-sm line-through text-500"},_a={key:2,class:"flex gap-2 mr-2",id:"card-quantity"},wa={class:"w-2rem text-xl text-center"},ka={key:3,class:"flex gap-2 mr-2"},xa={key:0,class:"m-2 mt-0"},$a={class:"flex flex-row justify-content-between align-content-center"},Ta={class:"flex flex-column"},Ca={class:"text-l font-bold"},Ia={key:0,class:"text-l font-bold text-color-secondary"},Da={key:1,class:"flex align-items-center gap-1"},Sa={class:"text-l font-bold text-color-secondary"},Aa={class:"text-sm line-through text-500"},Ba={key:0,class:"flex ml-2 mr-2"},Na={class:"w-2rem text-xl text-center"},Pa={key:1,class:"flex gap-2 mr-3 pt-2 pb-2"},La={class:"max-w-5rem flex align-items-center"},qa={class:"font-bold whitespace-nowrap"},za={class:"mb-2 flex justify-content-center"},Oa={class:"font-bold text-center"},Ea={class:"mb-2"},Ra={class:"text-color-secondary m-0 line-height-3 line2 text-center"},Ma={class:"mb-2"},ja={class:"flex justify-content-center"},Fa=["src","alt"],Va={class:"flex align-items-center gap-2"},Ha=["src","alt"],Ka={class:"flex align-items-center gap-3 ml-auto"},Ua={__name:"DishList",props:{rateDish:{type:Function,required:!0},likedItemsRef:Array,dislikedItemsRef:Array},setup(e){const{t}=pe(),s=te.dishes;let c={rated:!1,id:null,like:0,rate:0};function w(){var n;const d=q.currentPage.value,o=(n=d==null?void 0:d.data)==null?void 0:n.logoPath;return o?q.pathFormated(o,d.imagesPath):"/images/logo_logo.png"}const p=d=>te.dishDatas.value[d]?te.dishDatas.value[d].quantity:0,T=d=>{if(!l())return!1;const o=d.quantity;let n=3;if(d.price>0&&(n=9),d.limit){const k=d.id,X=l(),u=(X.peopleType.adults+X.peopleType.children)*d.limit,D=X.order.find(H=>H.dishid==k);let z=0;if(d.subitem)for(const H of d.subitem){z+=p(H);const h=X.order.find(x=>x.dishid==R(H));h&&(z+=h.quantity)}else z+=d.quantity,D&&(z+=D.quantity);return o>=n||u&&z>=u}return o>=n},R=d=>te.dishDatas.value[d]?te.dishDatas.value[d].id:0,l=()=>q.getTableValue(),_=d=>{let o="absolute origin-top-left mt-1 ml-1 border-round-lg pl-1 pr-1 text-xs text-white font-bold ";switch(d){case"new":o+="bg-red-600";break;case"recommended":case"special":o+="bg-orange-600";break;default:o+="bg-blue-600"}return o};function I(){C.rateDish(c.id,c.like,c.rate,c.rated),c.id=null,c.like=0,c.rate=0,c.rated=!1}const y=d=>{const o=C.likedItemsRef.indexOf(d);if(c.id=d.id,o!==-1)C.likedItemsRef.splice(o,1),c.like+=-1,c.rate+=-1,c.rated=!1;else{c.rated=!0,C.likedItemsRef.push(d);const n=C.dislikedItemsRef.indexOf(d);n!==-1?(C.dislikedItemsRef.splice(n,1),c.like+=1):(c.like+=1,c.rate+=1)}},m=d=>{const o=C.dislikedItemsRef.indexOf(d);if(c.id=d.id,o!==-1)C.dislikedItemsRef.splice(o,1),c.rate+=-1,c.rated=!1;else{c.rated=!0,C.dislikedItemsRef.push(d);const n=C.likedItemsRef.indexOf(d);n!==-1?(C.likedItemsRef.splice(n,1),c.like+=-1):c.rate+=1}},C=e,U=F(!1),M=F({}),J=d=>{U.value=!0,M.value=d},j=d=>{d.target.src="/images/default.png"};function P(d){B(d.target,300)}function S(d){B(d.target,110)}function B(d,o){const n=d.naturalWidth,k=d.naturalHeight,X=Math.min(n,o),u=X/n,D=k*u;d.style.width=`${X}px`,d.style.height=`${D}px`}return(d,o)=>(r(),b(G,null,[a("div",ia,[(r(!0),b(G,null,se(i(s),(n,k)=>{var X;return r(),b("div",{key:k,class:"col-12 sm:col-12 md:col-6 lg:col-4 border-round surface-section shadow-1 p-2"},[a("div",la,[a("div",{class:ce(["flex flex-row",n.subItems.length!==0?"flex-grow-1":""]),onClick:u=>J(n.dish)},[((X=n.dish.etiquette)==null?void 0:X.length)>0?(r(),b("div",{key:0,class:ce(_(n.dish.etiquette))},v(i(t)("common.etiquette."+n.dish.etiquette)),3)):O("",!0),a("div",ca,[a("img",{src:n.dish.image||"/images/default.png",alt:n.dish.name,class:"w-full h-full",style:{"object-fit":"cover"},onError:j,onLoad:S},null,40,ua)]),a("div",da,[a("div",fa,v(n.dish.name),1),a("div",null,[a("div",pa,[a("div",va,[(r(),b(G,null,se(5,u=>a("i",{key:u,class:ce(["pi invert-star",u<=Math.floor(n.dish.likes/n.dish.rates*5)?"pi-star-fill":u-.5<=n.dish.likes/n.dish.rates*5?"pi-star-half-fill":"pi-star"]),style:{color:"black"}},null,2)),64)),a("p",null,"("+v(n.dish.rates?n.dish.rates:0)+")",1)])])]),a("div",null,[a("p",ha,v(n.dish.note),1)])])],10,ra),n.subItems.length==0?(r(),b("div",{key:0,class:ce(["flex ml-2 mr-2 mb-2",Number(n.dish.price)>0?"justify-content-between":"justify-content-end"])},[!n.dish.discount&&Number(n.dish.price)>0?(r(),b("span",ma,"€"+v(n.dish.price),1)):O("",!0),n.dish.discount?(r(),b("div",ba,[a("span",ga,"€"+v(n.dish.dis_price),1),a("span",ya,"€"+v(n.dish.price),1),A(i(we),{severity:"danger",value:"-"+n.dish.discount+"%"},null,8,["value"])])):O("",!0),n.dish.soldout?O("",!0):(r(),b("div",_a,[A(i(W),{icon:"pi pi-minus",rounded:"",disabled:n.dish.quantity<=0,onClick:u=>n.dish.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",wa,v(n.dish.quantity),1),A(i(W),{icon:"pi pi-plus",rounded:"",disabled:T(n.dish),onClick:u=>n.dish.quantity++,class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])),n.dish.soldout?(r(),b("div",ka,[A(i(we),{severity:"danger",value:d.$t("common.soldout")},null,8,["value"])])):O("",!0)],2)):O("",!0),n.subItems.length!==0?(r(!0),b(G,{key:1},se(n.subItems,(u,D)=>(r(),b(G,{key:"index"},[u.disable?O("",!0):(r(),b("div",xa,[a("div",$a,[a("div",Ta,[a("span",Ca,v(u.subname),1),!u.discount&&u.price!=="0.00"&&u.price!=="0"?(r(),b("span",Ia,"€"+v(u.price),1)):O("",!0),u.discount?(r(),b("div",Da,[a("span",Sa,"€"+v(u.dis_price),1),a("span",Aa,"€"+v(u.price),1),A(i(we),{severity:"danger",value:"-"+u.discount+"%"},null,8,["value"])])):O("",!0)]),u.soldout?O("",!0):(r(),b("div",Ba,[A(i(W),{icon:"pi pi-minus",rounded:"",disabled:u.quantity<=0,onClick:z=>u.quantity--,class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",Na,v(u.quantity),1),A(i(W),{icon:"pi pi-plus",rounded:"",onClick:z=>u.quantity++,class:"w-2rem h-2rem",disabled:T(u)},null,8,["onClick","disabled"])])),u.soldout?(r(),b("div",Pa,[A(i(we),{severity:"danger",value:d.$t("common.soldout")},null,8,["value"])])):O("",!0)])]))],64))),128)):O("",!0)])])}),128))]),A(i(ye),{visible:U.value,"onUpdate:visible":o[2]||(o[2]=n=>U.value=n),modal:"",header:"dish",style:Pe([{width:"23rem"},{width:"80vw","max-width":"700px"}]),onHide:o[3]||(o[3]=n=>I())},{header:V(()=>[a("div",La,[A(i(Je),{image:w(),class:"w-full"},null,8,["image"])]),a("span",qa,v(d.$t("common.details")),1)]),default:V(()=>[a("div",za,[a("span",Oa,v(M.value.name),1)]),a("div",Ea,[a("span",Ra,v(M.value.note),1)]),a("div",Ma,[a("div",ja,[a("img",{class:"w-full h-auto object-contain",src:M.value.image,alt:M.value.name,onError:j,onLoad:P},null,40,Fa)])]),a("div",Va,[(r(!0),b(G,null,se(M.value.allergies,(n,k)=>(r(),b("img",{src:"images/"+n+".png",alt:n,class:"w-2rem h-2rem border-round flex-shrink-0",style:{"object-fit":"cover","min-width":"2rem"}},null,8,Ha))),256)),a("div",Ka,[a("button",{onClick:o[0]||(o[0]=n=>y(M.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[a("i",{class:ce(["pi pi-thumbs-up text-xl",C.likedItemsRef.includes(M.value)?"text-green-500":"text-gray-400"])},null,2)]),a("button",{onClick:o[1]||(o[1]=n=>m(M.value)),class:"p-0 border-none bg-transparent cursor-pointer"},[a("i",{class:ce(["pi pi-thumbs-down text-xl",C.dislikedItemsRef.includes(M.value)?"text-red-500":"text-gray-400"])},null,2)])])])]),_:1},8,["visible"])],64))}},Wa=Ie(Ua,[["__scopeId","data-v-77a0e338"]]),Qa={key:0,class:"text-3xl font-bold"},Ja={class:"flex flex-column gap-3 p-1"},Ga={key:0,class:"flex flex-column gap-1"},Za={key:0,class:"m-0"},Xa={key:0,class:"m-0"},Ya={class:"flex justify-content-between gap-4 mt-1"},es={class:"flex align-items-center gap-2"},ts=["src","alt"],as={class:"flex-grow-1 min-width-0 max-w-18rem"},ss={class:"flex flex-column gap-1"},ns={class:"flex align-items-center gap-2"},os={class:"text-xl font-bold line1 whitespace-nowrap overflow-hidden text-overflow-ellipsis",style:{"max-width":"20rem"}},is={class:"flex align-items-end gap-1"},ls={key:0,class:"text-xl font-bold text-primary"},rs={key:1,class:"text-xl font-bold text-primary"},cs={key:2,class:"text-sm text-color-secondary"},us={key:0,class:"text-xs text-primary"},ds={class:"flex-shrink-0 flex flex-wrap justify-content-between align-items-center gap-1"},fs={class:"flex flex-wrap justify-content-between align-content-center"},ps={class:"flex align-items-center gap-1"},vs={class:"w-2rem text-center"},hs={key:1,class:"flex flex-column gap-2 mt-2"},ms={for:"in_label"},bs={for:"in_label"},gs={class:"bottom-0 left-0 mt-2"},ys={class:"text-2xl font-bold"},_s={class:"text-2xl font-bold text-primary pl-2"},ws={class:"flex justify-content-between"},ks={__name:"Cart",props:{checkout:{type:Function,required:!0},isTakeaway:Boolean},setup(e,{expose:t}){const{locale:s}=pe(),c=ot(),{t:w}=pe(),p=le.cartDishs;q.freeCounts;const T=F([]),R=F(),l=F(),_=F(!1),I=F(!1),y=F(!0),m=F(""),C=F("");function U(h,x,$){let Y="";const ae=s.value,re=q.customDishAPI.getCustomDishByName(h);for(const Oe of $){const he=re.types[x].dishes.find(De=>De.dishid===Oe.id)[`name_${ae}`];Y=Y+he+"/"}return Y}function M(h,x){const $=s.value;return q.customDishAPI.getCustomDishByName(h).types[x][`typeName_${$}`]}const J=(h,x)=>{const $=T.value[h].quantity+x;$>=0&&(T.value[h].quantity=$)};function j(h){h&&R.value&&(R.value.dishNote=l.value?l.value:void 0),I.value=!1}function P(){l.value&&(l.value=void 0),R.value&&(R.value=void 0)}function S(h){R.value=h,l.value=R.value.dishNote?R.value.dishNote:void 0,I.value=!0}const B=e;t({showDishList:h=>{_.value=!0,T.value.length=0;for(let x=0;x<h.length;x++)T.value.push(h[x]);y.value=T.value.length==0&&p.length==0}});function o(h){le.removeItem(h)}function n(){B.isTakeaway?k():X()}function k(){const h=[];p.value.forEach(x=>{h.push(x)}),T.value.forEach(x=>{x.quantity>0&&h.push(x)}),h.length<=0?ie.show_warn(w("notification.select_at_least_one")):(_.value=!1,c.push({path:"/paymentPage"}))}function X(){B.checkout({name:m.value,note:C.value},h=>{h.success&&(p.value.forEach(x=>{x.dishNote=void 0}),T.value.forEach(x=>{x.dishNote=void 0}),C.value="",te.cleanDishDataQty(),oe.deleteCookie("cartDish_normal"),le.cleanAll(),oe.deleteCookie("cartDish_custom"))})&&(_.value=!1)}function u(h){return h.subname!=""&&h.subname!="Default Title"?h.name+" "+h.subname:h.name}function D(){let h=0;return p.value.forEach(x=>{h+=x.discount?x.dis_price*x.count:x.price*x.count}),T.value.forEach(x=>{h+=x.discount?x.dis_price*x.quantity:x.price*x.quantity}),"€"+h.toFixed(2)}const z=h=>{h.target.src="/images/default.png"},H=h=>{const x=h.quantity;let $=3;return h.price>0&&($=9),x>=$};return(h,x)=>(r(),b(G,null,[A(i(ye),{class:"bg-primary-reverse text-sm md:text-lg lg:text-xl",visible:_.value,"onUpdate:visible":x[2]||(x[2]=$=>_.value=$),modal:"",header:h.$t("common.cart"),style:Pe([{backgroundColor:"rgba(250, 250, 250, 1)",height:"100%",minWidth:"24rem"},{width:"80vw","max-width":"700px"}]),dismissableMask:!0},{footer:V(()=>[a("div",gs,[a("span",ys,v(h.$t("common.total"))+": ",1),a("span",_s,v(D()),1),A(i(W),{icon:e.isTakeaway?"pi pi-wallet":"pi pi-plus",class:"p-button-success p-button-rounded ml-3",onClick:n,label:e.isTakeaway?i(w)("common.pay"):i(w)("common.send")},null,8,["icon","label"])])]),default:V(()=>[y.value?(r(),b("h2",Qa,"Cart is empty.")):O("",!0),a("div",Ja,[(r(!0),b(G,null,se(i(p),($,Y)=>(r(),Z(i(Lt),{style:{overflow:"hidden"},key:Y},{title:V(()=>[ge(v(h.$t(`common.${$.name.replace(/[^a-zA-Z0-9\s]/g,"").toLowerCase().replace(/\s+/g,"")}`)),1)]),subtitle:V(()=>[ge(v(h.$t("common.price"))+" : "+v($.price)+"€",1)]),content:V(()=>[i(q).customDishAPI.customDishes.value.find(ae=>ae.name==$.name)?(r(),b("div",Ga,[(r(!0),b(G,null,se($.notesAndId,(ae,re)=>(r(),b("div",null,[$.notesAndId[re].length!==0?(r(),b("span",Za,v(M($.name,re))+": "+v(U($.name,re,ae)),1)):O("",!0)]))),256)),a("div",null,[$.dishNote?(r(),b("span",Xa,v(h.$t("common.note"))+": "+v($.dishNote),1)):O("",!0)])])):O("",!0)]),footer:V(()=>[a("div",Ya,[e.isTakeaway?O("",!0):(r(),Z(i(W),{key:0,label:i(w)("common.edit")+" "+i(w)("common.note"),severity:"contrast",onClick:ae=>S($)},null,8,["label","onClick"])),A(i(W),{label:i(w)("common.remove"),severity:"danger",onClick:ae=>o($)},null,8,["label","onClick"])])]),_:2},1024))),128)),(r(!0),b(G,null,se(T.value,($,Y)=>(r(),b("div",{key:Y,class:"p-2 border-round shadow-1 transition-all transition-duration-200 hover:shadow-3 flex flex-column gap-1"},[a("div",es,[a("img",{src:$.image,alt:$.name,class:"w-4rem h-4rem border-round flex-shrink-0",onError:z,style:{"object-fit":"cover","min-width":"4rem"}},null,40,ts),a("div",as,[a("div",ss,[a("div",ns,[a("span",os,v(u($)),1)])]),a("div",is,[$.discount?(r(),b("span",ls,"€"+v($.dis_price),1)):O("",!0),$.discount?O("",!0):(r(),b("span",rs,"€"+v($.price),1)),$.price>0?(r(),b("span",cs,"/uni.")):O("",!0)])])]),a("div",null,[$.dishNote?(r(),b("span",us,v(i(w)("common.note")+": "+$.dishNote),1)):O("",!0)]),a("div",ds,[a("div",fs,[e.isTakeaway?O("",!0):(r(),Z(i(W),{key:0,label:i(w)("common.edit")+" "+i(w)("common.note"),severity:"contrast",class:"w-3.5rem h-2rem",onClick:ae=>S($)},null,8,["label","onClick"]))]),a("div",ps,[A(i(W),{icon:"pi pi-minus",rounded:"",disabled:$.quantity<=0,onClick:ae=>J(Y,-1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"]),a("span",vs,v($.quantity),1),A(i(W),{icon:"pi pi-plus",rounded:"",disabled:H($),onClick:ae=>J(Y,1),class:"w-2rem h-2rem"},null,8,["disabled","onClick"])])])]))),128))]),e.isTakeaway?O("",!0):(r(),b("div",hs,[A(i(et),{variant:"in"},{default:V(()=>[A(i(rt),{id:"in_label",modelValue:m.value,"onUpdate:modelValue":x[0]||(x[0]=$=>m.value=$),variant:"filled",maxlength:"20"},null,8,["modelValue"]),a("label",ms,v(i(w)("common.name")),1)]),_:1}),A(i(et),{variant:"in"},{default:V(()=>[A(i(Ye),{id:"in_label",class:"min-w-full",rows:"5",modelValue:C.value,"onUpdate:modelValue":x[1]||(x[1]=$=>C.value=$),variant:"filled",maxlength:"200"},null,8,["modelValue"]),a("label",bs,v(i(w)("common.observation")),1)]),_:1})]))]),_:1},8,["visible","header"]),A(i(ye),{visible:I.value,"onUpdate:visible":x[6]||(x[6]=$=>I.value=$),header:i(w)("common.note"),onHide:x[7]||(x[7]=$=>P()),modal:"",dismissableMask:!0},{default:V(()=>[A(i(Ye),{modelValue:l.value,"onUpdate:modelValue":x[3]||(x[3]=$=>l.value=$),rows:"5",cols:"30",placeholder:i(w)("common.edit")+" "+i(w)("common.note")+"...",maxlength:"100"},null,8,["modelValue","placeholder"]),a("div",ws,[A(i(W),{label:i(w)("common.cancel"),severity:"danger",onClick:x[4]||(x[4]=$=>j(!1))},null,8,["label"]),A(i(W),{label:i(w)("common.save"),severity:"primary",size:"sm",onClick:x[5]||(x[5]=$=>j(!0))},null,8,["label"])])]),_:1},8,["visible","header"])],64))}},xs=Ie(ks,[["__scopeId","data-v-fb257e9c"]]);var $s=qe`
    .p-overlaybadge {
        position: relative;
    }

    .p-overlaybadge .p-badge {
        position: absolute;
        inset-block-start: 0;
        inset-inline-end: 0;
        transform: translate(50%, -50%);
        transform-origin: 100% 0;
        margin: 0;
        outline-width: dt('overlaybadge.outline.width');
        outline-style: solid;
        outline-color: dt('overlaybadge.outline.color');
    }

    .p-overlaybadge .p-badge:dir(rtl) {
        transform: translate(-50%, -50%);
    }
`,Ts={root:"p-overlaybadge"},Cs=_e.extend({name:"overlaybadge",style:$s,classes:Ts}),Is={name:"OverlayBadge",extends:ct,style:Cs,provide:function(){return{$pcOverlayBadge:this,$parentInstance:this}}},ut={name:"OverlayBadge",extends:Is,inheritAttrs:!1,components:{Badge:ct}};function Ds(e,t,s,c,w,p){var T=kt("Badge");return r(),b("div",Q({class:e.cx("root")},e.ptmi("root")),[ve(e.$slots,"default"),A(T,Q(e.$props,{pt:e.ptm("pcBadge")}),null,16,["pt"])],16)}ut.render=Ds;F([]);F("iniImages()");const Ss={class:"m-3"},As={class:"flex flex-column gap-2"},Bs={class:"w-full flex justify-content-center"},Ns={key:0,class:"max-w-19rem"},Ps=["src"],Ls={style:{width:"300px",height:"300px",background:"url(/boxImage/box.png)"}},qs={key:0,class:"flex align-items-center justify-content-center text-4xl font-bold text-white w-full h-full"},zs={key:1,class:"grid m-0 p-2"},Os=["onClick"],Es={class:"flex align-items-center justify-content-center font-bold m-0 p-0",style:{width:"94px",height:"94px"}},Rs=["src"],Ms={class:"flex flex-wrap justify-content-between align-items-center m-1"},js={class:"flex gap-1 align-items-center"},Fs={key:0},Vs={class:"font-bold mb-2"},Hs={key:1,class:"flex justify-content-between gap-2 mt-3"},Ks={class:"font-bold mb-2"},Us={class:"flex mr-2"},Ws={class:"w-3rem text-xl text-center"},Qs={class:"font-bold block mb-2"},Js={class:"flex flex-wrap"},Gs={key:2,class:"flex flex-wrap gap-2 mt-3"},Zs={class:"font-bold block mb-2"},Xs={class:"font-bold block mb-2 text-center"},Ys={class:"flex flex-wrap gap-2 mt-3"},en={__name:"CustomDish",props:{currentCustomDish:Object},emits:["typeClick"],setup(e,{emit:t}){const{locale:s}=pe(),c=e,w=xt(),{t:p}=pe(),T=fe(()=>c.currentCustomDish),R=fe(()=>T.boxImages),l=F(0),_=fe(()=>{let u=T.value.initialPrice;for(const D of T.value.types??[])for(const z of D.dishes??[])z.selected&&(u+=z.price);return Number(u).toFixed(2)}),I=t,y=F(null),m=fe(()=>{const u=s.value,D=`title_${u}`,z=`description_${u}`;return T.value.descriptions.map(H=>({title:H[D],descriptions:H.descriptions.map(h=>h[z]),image:H==null?void 0:H.image}))}),C=fe(()=>{var z,H;const u=Number(((z=T.value)==null?void 0:z.like)??0),D=Number(((H=T.value)==null?void 0:H.rate)??0);return D?u/D*5:0});function U(u,D){const z=s.value;return u[`${D}_${z}`]}function M(u,D,z){const H=u[D];if(H.selected){H.selected=!1;return}else{const x=u.filter($=>$.selected).length;if(z===1){n(u),H.selected=!0;return}x<z&&(H.selected=!0)}}function J(u,D,z){const H=u.dishes;I("typeClick",u,D,H[D].selected),M(H,D,z)}function j(u){return u.selected}function P(){if(!k(T.value.types))return;const u=B(T.value.types),D=d(T.value.types);le.addItem({dishid:-1,name:T.value.name,category:c.currentCustomDish.category,count:l.value!==0?l.value:1,price:_.value,notes:u,notesAndId:D}),console.log("CART: ",le.cartDishs),o(T.value.types),ie.show({severity:"info",summary:"info",detail:p("customDishBibimbapVue.addToCartSuccessBibimbap")})}function S(u){return!u||!u.dishes?"":u.dishes.filter(z=>z.selected).map(z=>z.name).join(",")}function B(u){return u?u.map(D=>S(D)):[]}function d(u){return u?u.map(D=>D.dishes?D.dishes.filter(z=>z.selected).map(z=>({id:z.dishid,name:z.name})):[]):[]}function o(u){u&&u.forEach(D=>{D.dishes&&D.dishes.forEach(z=>{z.selected=!1})})}function n(u){u.forEach(D=>D.selected=!1)}function k(u){if(T.value.options.quantity&&l.value<=0)return ie.show({severity:"warn",detail:p("notification.quantity_must_be_positive")}),!1;for(const D of u)if(D.dishes.filter(H=>H.selected).length<D.minQuantity){const H=D.typeName;return ie.show({severity:"warn",detail:p("notification.select_type_of",{name:H})}),!1}return!0}function X(u){u?q.customDishAPI.like(T.value.id)&&(y.value="like",w.add({severity:"success",summary:p("common.success"),detail:p("common.rate")+" "+p("common.success"),life:750})):q.customDishAPI.unLike(T.value.id)&&(y.value="unlike",w.add({severity:"success",summary:p("common.success"),detail:p("common.rate")+" "+p("common.success"),life:750}))}return(u,D)=>{var z,H;return r(),b("div",Ss,[a("div",As,[A(i(Qe),{class:"w-full max-w-xl mx-auto"},{default:V(()=>[(r(!0),b(G,null,se(m.value,(h,x)=>(r(),Z(i(We),{key:x,value:x},{default:V(()=>[A(i(Ke),null,{default:V(()=>[ge(v(h.title),1)]),_:2},1024),A(i(Ue),null,{default:V(()=>{var $;return[(r(!0),b(G,null,se(h.descriptions,(Y,ae)=>(r(),b("p",{key:ae},v(Y),1))),128)),a("div",Bs,[($=h.image)!=null&&$.src?(r(),b("div",Ns,[a("img",{src:h.image.src,class:"w-full"},null,8,Ps)])):O("",!0)])]}),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1}),((H=(z=T.value)==null?void 0:z.value)==null?void 0:H.name)==="MY BOX"?(r(),Z(i(Qe),{key:0,class:"w-full max-w-xl mx-auto"},{default:V(()=>[A(i(We),{value:"0"},{default:V(()=>[A(i(Ke),null,{default:V(()=>[ge(" 🥩 "+v(u.$t("common.showMybox")),1)]),_:1}),A(i(Ue),null,{default:V(()=>[a("div",Ls,[u.isEmptyArray(R.value)?(r(),b("div",qs,v(u.$t("common.myboxAlarm")),1)):O("",!0),u.isEmptyArray(R.value)?O("",!0):(r(),b("div",zs,[(r(!0),b(G,null,se(R.value,h=>(r(),b("div",{class:"col-4 p-0",onClick:x=>u.imageSelectAction(h)},[a("div",Es,[h?(r(),b("img",{key:0,class:"m-0 p-0",src:u.imagePath(h),style:{width:"82px",height:"82px"}},null,8,Rs)):O("",!0)])],8,Os))),256))]))])]),_:1})]),_:1})]),_:1})):O("",!0)]),a("div",Ms,[a("div",js,[(r(),b(G,null,se(5,h=>a("i",{key:h,class:ce(["pi invert-star",h<=Math.floor(C.value)?"pi-star-fill":h-.5<=C.value?"pi-star-half":"pi-star"]),style:{color:"black"}},null,2)),64)),a("p",null,"("+v(T.value.rate?T.value.rate:0)+")",1)]),a("div",null,[A(i(W),{text:"",icon:"pi pi-thumbs-up",severity:y.value==="like"?"success":"",onClick:D[0]||(D[0]=h=>X(!0))},null,8,["severity"]),A(i(W),{text:"",icon:"pi pi-thumbs-down",severity:y.value==="unlike"?"danger":"",onClick:D[1]||(D[1]=h=>X(!1))},null,8,["severity"])])]),T.value.options.extraInfo?(r(),b("div",Fs,[a("label",Vs,v(T.value.options.extraInfo),1)])):O("",!0),T.value.options.quantity?(r(),b("div",Hs,[a("div",null,[a("label",Ks,v(u.$t("common.quantity"))+" / "+v(u.$t("common.pieces")),1)]),a("div",Us,[A(i(W),{icon:"pi pi-minus",disabled:l.value<=0,onClick:D[2]||(D[2]=h=>l.value-=T.value.options.quantitySetp),class:"w-2rem h-2rem"},null,8,["disabled"]),a("span",Ws,v(l.value),1),A(i(W),{icon:"pi pi-plus",disabled:l.value>=T.value.options.maxQuantity,onClick:D[3]||(D[3]=h=>l.value+=T.value.options.quantitySetp),class:"w-2rem h-2rem"},null,8,["disabled"])])])):O("",!0),(r(!0),b(G,null,se(T.value.types,(h,x)=>(r(),b("div",{key:h.id},[xe(a("div",null,[a("label",Qs,v(x+1)+". "+v(U(h,"typeName")),1),a("div",Js,[(r(!0),b(G,null,se(h.dishes,($,Y)=>(r(),Z(i(W),{key:Y,onClick:ae=>J(h,Y,l.value==0?h.maxQuantity:h.maxQuantity*l.value),class:ce([{"p-button-primary":j($),"p-button-outlined":!j($)},"m-1"])},{default:V(()=>[a("p",{class:ce({"text-gray-700":!j($)})},v(U($,"name")),3)]),_:2},1032,["onClick","class"]))),128))])],512),[[$t,h.enable]])]))),128)),e.currentCustomDish.initialPrice!==0?(r(),b("div",Gs,[a("label",Zs,v(u.$t("common.price"))+":",1),a("label",Xs,v(_.value+"€"),1)])):O("",!0),a("div",Ys,[A(i(W),{icon:"pi pi-shopping-cart",onClick:D[4]||(D[4]=h=>P()),label:u.$t("common.addToCart"),class:"m-3",severity:"primary",raised:""},null,8,["label"])])])}}},tn=Ie(en,[["__scopeId","data-v-1bbb17dd"]]);var an=qe`
    .p-tabs {
        display: flex;
        flex-direction: column;
    }

    .p-tablist {
        display: flex;
        position: relative;
    }

    .p-tabs-scrollable > .p-tablist {
        overflow: hidden;
    }

    .p-tablist-viewport {
        overflow-x: auto;
        overflow-y: hidden;
        scroll-behavior: smooth;
        scrollbar-width: none;
        overscroll-behavior: contain auto;
    }

    .p-tablist-viewport::-webkit-scrollbar {
        display: none;
    }

    .p-tablist-tab-list {
        position: relative;
        display: flex;
        background: dt('tabs.tablist.background');
        border-style: solid;
        border-color: dt('tabs.tablist.border.color');
        border-width: dt('tabs.tablist.border.width');
    }

    .p-tablist-content {
        flex-grow: 1;
    }

    .p-tablist-nav-button {
        all: unset;
        position: absolute !important;
        flex-shrink: 0;
        inset-block-start: 0;
        z-index: 2;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: dt('tabs.nav.button.background');
        color: dt('tabs.nav.button.color');
        width: dt('tabs.nav.button.width');
        transition:
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        box-shadow: dt('tabs.nav.button.shadow');
        outline-color: transparent;
        cursor: pointer;
    }

    .p-tablist-nav-button:focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.nav.button.focus.ring.shadow');
        outline: dt('tabs.nav.button.focus.ring.width') dt('tabs.nav.button.focus.ring.style') dt('tabs.nav.button.focus.ring.color');
        outline-offset: dt('tabs.nav.button.focus.ring.offset');
    }

    .p-tablist-nav-button:hover {
        color: dt('tabs.nav.button.hover.color');
    }

    .p-tablist-prev-button {
        inset-inline-start: 0;
    }

    .p-tablist-next-button {
        inset-inline-end: 0;
    }

    .p-tablist-prev-button:dir(rtl),
    .p-tablist-next-button:dir(rtl) {
        transform: rotate(180deg);
    }

    .p-tab {
        flex-shrink: 0;
        cursor: pointer;
        user-select: none;
        position: relative;
        border-style: solid;
        white-space: nowrap;
        gap: dt('tabs.tab.gap');
        background: dt('tabs.tab.background');
        border-width: dt('tabs.tab.border.width');
        border-color: dt('tabs.tab.border.color');
        color: dt('tabs.tab.color');
        padding: dt('tabs.tab.padding');
        font-weight: dt('tabs.tab.font.weight');
        transition:
            background dt('tabs.transition.duration'),
            border-color dt('tabs.transition.duration'),
            color dt('tabs.transition.duration'),
            outline-color dt('tabs.transition.duration'),
            box-shadow dt('tabs.transition.duration');
        margin: dt('tabs.tab.margin');
        outline-color: transparent;
    }

    .p-tab:not(.p-disabled):focus-visible {
        z-index: 1;
        box-shadow: dt('tabs.tab.focus.ring.shadow');
        outline: dt('tabs.tab.focus.ring.width') dt('tabs.tab.focus.ring.style') dt('tabs.tab.focus.ring.color');
        outline-offset: dt('tabs.tab.focus.ring.offset');
    }

    .p-tab:not(.p-tab-active):not(.p-disabled):hover {
        background: dt('tabs.tab.hover.background');
        border-color: dt('tabs.tab.hover.border.color');
        color: dt('tabs.tab.hover.color');
    }

    .p-tab-active {
        background: dt('tabs.tab.active.background');
        border-color: dt('tabs.tab.active.border.color');
        color: dt('tabs.tab.active.color');
    }

    .p-tabpanels {
        background: dt('tabs.tabpanel.background');
        color: dt('tabs.tabpanel.color');
        padding: dt('tabs.tabpanel.padding');
        outline: 0 none;
    }

    .p-tabpanel:focus-visible {
        box-shadow: dt('tabs.tabpanel.focus.ring.shadow');
        outline: dt('tabs.tabpanel.focus.ring.width') dt('tabs.tabpanel.focus.ring.style') dt('tabs.tabpanel.focus.ring.color');
        outline-offset: dt('tabs.tabpanel.focus.ring.offset');
    }

    .p-tablist-active-bar {
        z-index: 1;
        display: block;
        position: absolute;
        inset-block-end: dt('tabs.active.bar.bottom');
        height: dt('tabs.active.bar.height');
        background: dt('tabs.active.bar.background');
        transition: 250ms cubic-bezier(0.35, 0, 0.25, 1);
    }
`,sn={root:function(t){var s=t.props;return["p-tabs p-component",{"p-tabs-scrollable":s.scrollable}]}},nn=_e.extend({name:"tabs",style:an,classes:sn}),on={name:"BaseTabs",extends:Ce,props:{value:{type:[String,Number],default:void 0},lazy:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},showNavigators:{type:Boolean,default:!0},tabindex:{type:Number,default:0},selectOnFocus:{type:Boolean,default:!1}},style:nn,provide:function(){return{$pcTabs:this,$parentInstance:this}}},dt={name:"Tabs",extends:on,inheritAttrs:!1,emits:["update:value"],data:function(){return{d_value:this.value}},watch:{value:function(t){this.d_value=t}},methods:{updateValue:function(t){this.d_value!==t&&(this.d_value=t,this.$emit("update:value",t))},isVertical:function(){return this.orientation==="vertical"}}};function ln(e,t,s,c,w,p){return r(),b("div",Q({class:e.cx("root")},e.ptmi("root")),[ve(e.$slots,"default")],16)}dt.render=ln;var rn={root:"p-tablist",content:function(t){var s=t.instance;return["p-tablist-content",{"p-tablist-viewport":s.$pcTabs.scrollable}]},tabList:"p-tablist-tab-list",activeBar:"p-tablist-active-bar",prevButton:"p-tablist-prev-button p-tablist-nav-button",nextButton:"p-tablist-next-button p-tablist-nav-button"},cn=_e.extend({name:"tablist",classes:rn}),un={name:"BaseTabList",extends:Ce,props:{},style:cn,provide:function(){return{$pcTabList:this,$parentInstance:this}}},ft={name:"TabList",extends:un,inheritAttrs:!1,inject:["$pcTabs"],data:function(){return{isPrevButtonEnabled:!1,isNextButtonEnabled:!0}},resizeObserver:void 0,watch:{showNavigators:function(t){t?this.bindResizeObserver():this.unbindResizeObserver()},activeValue:{flush:"post",handler:function(){this.updateInkBar()}}},mounted:function(){var t=this;setTimeout(function(){t.updateInkBar()},150),this.showNavigators&&(this.updateButtonState(),this.bindResizeObserver())},updated:function(){this.showNavigators&&this.updateButtonState()},beforeUnmount:function(){this.unbindResizeObserver()},methods:{onScroll:function(t){this.showNavigators&&this.updateButtonState(),t.preventDefault()},onPrevButtonClick:function(){var t=this.$refs.content,s=this.getVisibleButtonWidths(),c=je(t)-s,w=Math.abs(t.scrollLeft),p=c*.8,T=w-p,R=Math.max(T,0);t.scrollLeft=Xe(t)?-1*R:R},onNextButtonClick:function(){var t=this.$refs.content,s=this.getVisibleButtonWidths(),c=je(t)-s,w=Math.abs(t.scrollLeft),p=c*.8,T=w+p,R=t.scrollWidth-c,l=Math.min(T,R);t.scrollLeft=Xe(t)?-1*l:l},bindResizeObserver:function(){var t=this;this.resizeObserver=new ResizeObserver(function(){return t.updateButtonState()}),this.resizeObserver.observe(this.$refs.list)},unbindResizeObserver:function(){var t;(t=this.resizeObserver)===null||t===void 0||t.unobserve(this.$refs.list),this.resizeObserver=void 0},updateInkBar:function(){var t=this.$refs,s=t.content,c=t.inkbar,w=t.tabs;if(c){var p=He(s,'[data-pc-name="tab"][data-p-active="true"]');this.$pcTabs.isVertical()?(c.style.height=Ct(p)+"px",c.style.top=Ae(p).top-Ae(w).top+"px"):(c.style.width=It(p)+"px",c.style.left=Ae(p).left-Ae(w).left+"px")}},updateButtonState:function(){var t=this.$refs,s=t.list,c=t.content,w=c.scrollTop,p=c.scrollWidth,T=c.scrollHeight,R=c.offsetWidth,l=c.offsetHeight,_=Math.abs(c.scrollLeft),I=[je(c),Tt(c)],y=I[0],m=I[1];this.$pcTabs.isVertical()?(this.isPrevButtonEnabled=w!==0,this.isNextButtonEnabled=s.offsetHeight>=l&&parseInt(w)!==T-m):(this.isPrevButtonEnabled=_!==0,this.isNextButtonEnabled=s.offsetWidth>=R&&parseInt(_)!==p-y)},getVisibleButtonWidths:function(){var t=this.$refs,s=t.prevButton,c=t.nextButton,w=0;return this.showNavigators&&(w=((s==null?void 0:s.offsetWidth)||0)+((c==null?void 0:c.offsetWidth)||0)),w}},computed:{templates:function(){return this.$pcTabs.$slots},activeValue:function(){return this.$pcTabs.d_value},showNavigators:function(){return this.$pcTabs.scrollable&&this.$pcTabs.showNavigators},prevButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.previous:void 0},nextButtonAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.next:void 0},dataP:function(){return ze({scrollable:this.$pcTabs.scrollable})}},components:{ChevronLeftIcon:qt,ChevronRightIcon:zt},directives:{ripple:it}},dn=["data-p"],fn=["aria-label","tabindex"],pn=["data-p"],vn=["aria-orientation"],hn=["aria-label","tabindex"];function mn(e,t,s,c,w,p){var T=Le("ripple");return r(),b("div",Q({ref:"list",class:e.cx("root"),"data-p":p.dataP},e.ptmi("root")),[p.showNavigators&&w.isPrevButtonEnabled?xe((r(),b("button",Q({key:0,ref:"prevButton",type:"button",class:e.cx("prevButton"),"aria-label":p.prevButtonAriaLabel,tabindex:p.$pcTabs.tabindex,onClick:t[0]||(t[0]=function(){return p.onPrevButtonClick&&p.onPrevButtonClick.apply(p,arguments)})},e.ptm("prevButton"),{"data-pc-group-section":"navigator"}),[(r(),Z(ke(p.templates.previcon||"ChevronLeftIcon"),Q({"aria-hidden":"true"},e.ptm("prevIcon")),null,16))],16,fn)),[[T]]):O("",!0),a("div",Q({ref:"content",class:e.cx("content"),onScroll:t[1]||(t[1]=function(){return p.onScroll&&p.onScroll.apply(p,arguments)}),"data-p":p.dataP},e.ptm("content")),[a("div",Q({ref:"tabs",class:e.cx("tabList"),role:"tablist","aria-orientation":p.$pcTabs.orientation||"horizontal"},e.ptm("tabList")),[ve(e.$slots,"default"),a("span",Q({ref:"inkbar",class:e.cx("activeBar"),role:"presentation","aria-hidden":"true"},e.ptm("activeBar")),null,16)],16,vn)],16,pn),p.showNavigators&&w.isNextButtonEnabled?xe((r(),b("button",Q({key:1,ref:"nextButton",type:"button",class:e.cx("nextButton"),"aria-label":p.nextButtonAriaLabel,tabindex:p.$pcTabs.tabindex,onClick:t[2]||(t[2]=function(){return p.onNextButtonClick&&p.onNextButtonClick.apply(p,arguments)})},e.ptm("nextButton"),{"data-pc-group-section":"navigator"}),[(r(),Z(ke(p.templates.nexticon||"ChevronRightIcon"),Q({"aria-hidden":"true"},e.ptm("nextIcon")),null,16))],16,hn)),[[T]]):O("",!0)],16,dn)}ft.render=mn;var bn={root:function(t){var s=t.instance,c=t.props;return["p-tab",{"p-tab-active":s.active,"p-disabled":c.disabled}]}},gn=_e.extend({name:"tab",classes:bn}),yn={name:"BaseTab",extends:Ce,props:{value:{type:[String,Number],default:void 0},disabled:{type:Boolean,default:!1},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1}},style:gn,provide:function(){return{$pcTab:this,$parentInstance:this}}},pt={name:"Tab",extends:yn,inheritAttrs:!1,inject:["$pcTabs","$pcTabList"],methods:{onFocus:function(){this.$pcTabs.selectOnFocus&&this.changeActiveValue()},onClick:function(){this.changeActiveValue()},onKeydown:function(t){switch(t.code){case"ArrowRight":this.onArrowRightKey(t);break;case"ArrowLeft":this.onArrowLeftKey(t);break;case"Home":this.onHomeKey(t);break;case"End":this.onEndKey(t);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Enter":case"NumpadEnter":case"Space":this.onEnterKey(t);break}},onArrowRightKey:function(t){var s=this.findNextTab(t.currentTarget);s?this.changeFocusedTab(t,s):this.onHomeKey(t),t.preventDefault()},onArrowLeftKey:function(t){var s=this.findPrevTab(t.currentTarget);s?this.changeFocusedTab(t,s):this.onEndKey(t),t.preventDefault()},onHomeKey:function(t){var s=this.findFirstTab();this.changeFocusedTab(t,s),t.preventDefault()},onEndKey:function(t){var s=this.findLastTab();this.changeFocusedTab(t,s),t.preventDefault()},onPageDownKey:function(t){this.scrollInView(this.findLastTab()),t.preventDefault()},onPageUpKey:function(t){this.scrollInView(this.findFirstTab()),t.preventDefault()},onEnterKey:function(t){this.changeActiveValue(),t.preventDefault()},findNextTab:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=s?t:t.nextElementSibling;return c?Be(c,"data-p-disabled")||Be(c,"data-pc-section")==="activebar"?this.findNextTab(c):He(c,'[data-pc-name="tab"]'):null},findPrevTab:function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=s?t:t.previousElementSibling;return c?Be(c,"data-p-disabled")||Be(c,"data-pc-section")==="activebar"?this.findPrevTab(c):He(c,'[data-pc-name="tab"]'):null},findFirstTab:function(){return this.findNextTab(this.$pcTabList.$refs.tabs.firstElementChild,!0)},findLastTab:function(){return this.findPrevTab(this.$pcTabList.$refs.tabs.lastElementChild,!0)},changeActiveValue:function(){this.$pcTabs.updateValue(this.value)},changeFocusedTab:function(t,s){St(s),this.scrollInView(s)},scrollInView:function(t){var s;t==null||(s=t.scrollIntoView)===null||s===void 0||s.call(t,{block:"nearest"})}},computed:{active:function(){var t;return Dt((t=this.$pcTabs)===null||t===void 0?void 0:t.d_value,this.value)},id:function(){var t;return"".concat((t=this.$pcTabs)===null||t===void 0?void 0:t.$id,"_tab_").concat(this.value)},ariaControls:function(){var t;return"".concat((t=this.$pcTabs)===null||t===void 0?void 0:t.$id,"_tabpanel_").concat(this.value)},attrs:function(){return Q(this.asAttrs,this.a11yAttrs,this.ptmi("root",this.ptParams))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{id:this.id,tabindex:this.active?this.$pcTabs.tabindex:-1,role:"tab","aria-selected":this.active,"aria-controls":this.ariaControls,"data-pc-name":"tab","data-p-disabled":this.disabled,"data-p-active":this.active,onFocus:this.onFocus,onKeydown:this.onKeydown}},ptParams:function(){return{context:{active:this.active}}},dataP:function(){return ze({active:this.active})}},directives:{ripple:it}};function _n(e,t,s,c,w,p){var T=Le("ripple");return e.asChild?ve(e.$slots,"default",{key:1,dataP:p.dataP,class:ce(e.cx("root")),active:p.active,a11yAttrs:p.a11yAttrs,onClick:p.onClick}):xe((r(),Z(ke(e.as),Q({key:0,class:e.cx("root"),"data-p":p.dataP,onClick:p.onClick},p.attrs),{default:V(function(){return[ve(e.$slots,"default")]}),_:3},16,["class","data-p","onClick"])),[[T]])}pt.render=_n;const wn={class:"fixed top-0 left-0 w-full bg-primary-reverse",style:{"z-index":"10"}},kn={class:"grid mt-1 ml-1"},xn={class:"max-w-3rem flex align-items-center"},$n=["src"],Tn={class:"flex align-items-center"},Cn={key:0,class:"text-color font-bold p-1"},In={key:1,class:"text-color font-bold p-1"},Dn={class:"card flex mr-3 flex align-items-center",style:{"margin-left":"auto"}},Sn={style:{display:"flex","align-items":"center"}},An={style:{"flex-grow":"1",width:"0",overflow:"hidden"}},Bn={class:"mt-2"},Nn={class:"flex justify-content-end mt-2"},Pn={class:"flex inline-flex items-center justify-center gap-2"},Ln={class:"flex align-items-center"},qn={class:"flex flex-column"},zn={class:"text-sm p-2"},On={class:"text-sm p-2"},En={class:"flex items-center gap-4 mb-4 p-2"},Rn={class:"flex flex-column gap-3"},Mn={__name:"HeaderTabs",props:{types:Array,typeIndex:Number,tableId:String,tabItems:Array},emits:["clickType","switchToWelcome"],setup(e,{emit:t}){const{t:s}=pe(),c=F(!1);function w(){var B;const P=q.currentPage.value,S=(B=P==null?void 0:P.data)==null?void 0:B.logoPath;return S?q.pathFormated(S,P.imagesPath):"/images/logo_logo.png"}function p(){return q.getTable()}const T=F(),R=fe(()=>[{label:s("common.options"),items:[{label:s("common.pay"),icon:"pi pi-wallet",command:()=>{U()}},{label:s("common.call"),icon:"pi pi-user-plus",command:()=>{q.send_cmd(p(),{cmd:"call"},P=>{P.success?ie.show_info(s("notification.call_msg")):ie.show_warn(P.data)})}}]}]),l=P=>{T.value.toggle(P)},_=P=>{I.value.toggle(P)},I=F(),y=F(!1),m=F(),C=F();function U(){y.value=!0}function M(){P(m.value)?q.send_cmd(p(),{cmd:"pay",nif:m.value,note:C.value},S=>{S.success?(ie.show_info(s("notification.pay_msg")),y.value=!1):ie.show_error(s("common.failed"))}):ie.show_warn(s("notification.cancel_msg"));function P(S){return!S||S.toString().length===9||S.toString().length===0}}function J(){C.value&&(C.value=void 0)}function j(){c.value=!0}return(P,S)=>(r(),b(G,null,[a("div",wn,[a("div",kn,[a("div",xn,[a("img",{src:w(),class:"w-full",clickble:"",onClick:S[0]||(S[0]=()=>P.$emit("switchToWelcome"))},null,8,$n)]),a("div",Tn,[e.tableId?(r(),b("p",Cn,v(P.$t("common.table"))+": "+v(e.tableId),1)):O("",!0),e.tableId?O("",!0):(r(),b("p",In,v(P.$t("common.takeAway")),1))]),a("div",Dn,[e.tableId?(r(),Z(i(W),{key:0,icon:"pi pi-bell",rounded:"","aria-label":"Filter",onClick:l,"aria-haspopup":"true","aria-controls":"overlay_menu"})):(r(),Z(i(W),{key:1,icon:"pi pi-question",rounded:"",onClick:j})),A(i(tt),{ref_key:"menu",ref:T,id:"overlay_menu",model:R.value,popup:!0},null,8,["model"])])]),a("div",Sn,[a("div",null,[A(i(W),{icon:"pi pi-bars",variant:"text",rounded:"","aria-label":"Filter",onClick:_,"aria-haspopup":"true","aria-controls":"tab_menu"}),A(i(tt),{ref_key:"tabMenu",ref:I,id:"tab_menu",model:e.tabItems,popup:!0},null,8,["model"])]),a("div",An,[A(i(dt),{value:e.typeIndex,scrollable:"",showNavigators:!1},{default:V(()=>[A(i(ft),null,{default:V(()=>[(r(!0),b(G,null,se(e.types,(B,d)=>(r(),Z(i(pt),{value:d,onClick:()=>P.$emit("clickType",d),class:"text-sm md:text-lg lg:text-xl"},{default:V(()=>[ge(v(B),1)]),_:2},1032,["value","onClick"]))),256))]),_:1})]),_:1},8,["value"])])])]),A(i(ye),{visible:y.value,"onUpdate:visible":S[4]||(S[4]=B=>y.value=B),header:"结账",class:"flex flex-column",modal:!0,dismissableMask:!0,onHide:J},{default:V(()=>[a("div",null,[S[6]||(S[6]=a("label",null,"NIF:",-1)),A(i(Ot),{modelValue:m.value,"onUpdate:modelValue":S[1]||(S[1]=B=>m.value=B),inputId:"withoutgrouping",useGrouping:!1,fluid:"",class:"w-full m-1"},null,8,["modelValue"])]),a("div",Bn,[a("label",null,v(P.$t("common.note"))+":",1),A(i(rt),{type:"text",modelValue:C.value,"onUpdate:modelValue":S[2]||(S[2]=B=>C.value=B),class:"w-full m-1"},null,8,["modelValue"])]),a("div",Nn,[A(i(W),{label:i(s)("common.send"),onClick:S[3]||(S[3]=B=>M())},null,8,["label"])])]),_:1},8,["visible"]),A(i(ye),{visible:c.value,"onUpdate:visible":S[5]||(S[5]=B=>c.value=B),modal:"",dismissableMask:"",class:"h-full",style:{width:"90vw",maxWidth:"40rem",minWidth:"20rem"},draggable:!1},{header:V(()=>[a("div",Pn,[A(i(Je),{icon:"pi pi-question",shape:"circle"}),a("span",Ln,v(i(s)("takeawayHelper.dialogTitle")),1)])]),default:V(()=>[a("div",qn,[a("span",zn,v(i(s)("takeawayHelper.introduction")),1),a("span",On,v(i(s)("takeawayHelper.note_t"))+" "+v(i(s)("takeawayHelper.note_1")),1),a("div",En,[A(i(Qe),{class:"w-full max-w-xl mx-auto"},{default:V(()=>[A(i(We),{value:"0"},{default:V(()=>[A(i(Ke),{class:"text-sm"},{default:V(()=>[ge(v(i(s)("takeawayHelper.question_1")),1)]),_:1}),A(i(Ue),{class:"p-1"},{default:V(()=>[a("div",Rn,[a("span",null,v(i(s)("takeawayHelper.q_1_request_1")),1),a("span",null,v(i(s)("takeawayHelper.q_1_request_2")),1),a("span",null,v(i(s)("takeawayHelper.q_1_request_3")),1),a("span",null,v(i(s)("takeawayHelper.q_1_request_4")),1),a("span",null,v(i(s)("takeawayHelper.q_1_request_5")),1)])]),_:1})]),_:1})]),_:1})])])]),_:1},8,["visible"])],64))}},jn={__name:"SwipeHint",props:{size:{type:String,default:"8rem"},duration:{type:Number,default:6e3},position:{type:String,default:"bottom"}},setup(e){const t=e,s=F(!0);lt(()=>{t.duration>0&&setTimeout(()=>{s.value=!1},t.duration);const w=()=>{s.value=!1,window.removeEventListener("touchstart",w)};window.addEventListener("touchstart",w)});const c=fe(()=>{let w={left:"50%",transform:"translateX(-50%)",zIndex:99999,opacity:.5,pointerEvents:"none",textAlign:"center",position:"fixed"};return t.position==="top"?w.top="15%":t.position==="center"?(w.top="50%",w.transform="translate(-50%, -50%)"):w.bottom="15%",w});return(w,p)=>s.value?(r(),b("div",{key:0,class:"swipe-hint",style:Pe(c.value)},[a("div",{class:"hand",style:Pe({width:e.size,height:e.size,backgroundImage:"url(/images/hand_finger.png)"})},null,4)],4)):O("",!0)}},Fn=Ie(jn,[["__scopeId","data-v-e5f3ff45"]]),Vn={class:"w-full h-full flex flex-column"},Hn={style:{"overflow-x":"hidden","touch-action":"pan-y"},class:"h-full"},Kn={class:"fixed bottom-0 left-0 w-full h-3rem bg-primary-reverse p-3"},Un={class:"h-full flex align-items-center justify-content-between w-full"},Wn={class:"m-2"},Qn={class:"m-2"},Jn={style:{"max-height":"60vh","overflow-y":"auto","padding-bottom":"60px"}},Gn={class:"flex flex-column border-bottom-1"},Zn={key:0,class:"flex justify-content-between"},Xn={class:"flex flex-column"},Yn={class:"font-bold"},eo={class:"text-right"},to={key:1,class:"flex justify-content-between"},ao={class:"flex flex-column"},so={class:"font-bold"},no={class:"text-right"},oo={key:0},io={key:1,class:"flex flex-column"},lo={class:"flex flex-column"},ro={class:"font-bold"},co={class:"text-right"},uo={class:"total-footer bg-primary-reverse"},nt=5,Ne="order_time_key",fo={__name:"HomePage",setup(e){const t=ot(),s=Pt(),{t:c}=pe(),{locale:w}=pe(),p=F(0),T=F(!1),R=F([""]),l=F(0),_=le.cartItemCount,I=F(!1),y=F([]),m=F(0),C=F({}),U=F(!1),M=te.dishDatas,J=F(q.orderMenuTab),j=F(null),P=F(null),S=F([]),B=F([]),d=F([]),o=()=>{l.value<R.value.length-1&&(l.value++,he(),z(l.value))},n=()=>{l.value>0&&(l.value--,he(),z(l.value))},k=(f,g,L,N)=>{q.rateDish(f,g,L),N&&ie.show_success(c("notification.rating_submitted"))},X=(f,g,L)=>{if(C.value.name=="XIAOXIONG® RAMEN"&&f.id===1){const N=f.dishes[g];let E;N.dishid==47?L?E=u(3,!0,1):E=u(3,!1,1):E=u(3,!0,1),E!==void 0&&D(E)}if(C.value.name=="Menu Almoço"&&f.id===3){const N=f.dishes[g];let E;[1427,41].includes(N.dishid)?L?E=u(4,!0,0):E=u(4,!1,0):E=u(4,!0,0),E!==void 0&&D(E)}};function u(f,g,L){if(C.value={...C.value,types:C.value.types.map(N=>N.id===f?{...N,enable:g,minQuantity:g?L:0}:N)},g===!1)return f}function D(f){!C.value||!Array.isArray(C.value.types)||(C.value={...C.value,types:C.value.types.map(g=>g.id===f?{...g,dishes:g.dishes.map(L=>({...L,selected:!1}))}:g)})}function z(f){let g=q.getOrderMenuTab()[f];if(q.customDishAPI.customDishes.value.map(K=>K.name).includes(g)?(U.value=!0,C.value=q.customDishAPI.customDishes.value.find(K=>K.name==g)):U.value=!1,q.getMenu().length==0){console.log("exit");return}let E=M.value[f].mainDishes;te.showDishList(E)}const H=()=>{q.refreshTableFromServer(),q.getTableTotalAmount(m),I.value=!0},h=(f,g,L)=>{console.log("update rating changed");const N=q.formatedMenu.value;for(const E of N)for(const K of E.dishes){if(K.dish.id===f){K.dish.likes=g,K.dish.rates=L,console.log("updated inside formatedMenu");return}for(const ne of K.subItems)if(ne.id===f){ne.likes=g,ne.rates=L,console.log("updated inside subItem");return}}},x=f=>{let g=f.id;f.org_id&&(g=f.org_id);for(let L=0;L<M.value.length;L++)if(M.value[L].id==g)for(const N in f){let E=N;N.startsWith("note")&&(E=E.replace("note","description")),M.value[L][E]=f[N]}};function $(){return new Promise(f=>{let g=()=>{const L=q.formatedMenu.value;L.length>0?f(L):setTimeout(g,200)};g()})}function Y(){return new Promise(f=>{let g=()=>{const L=q.getOrderMenuTab();L.length>0?f(L):setTimeout(g,200)};g()})}const ae=fe(()=>f=>{const g=q.dictinaryAPI.dictinary.value[f];return g?g[`text_${w.value.toLowerCase()}`]:f});At([()=>q.formatedMenu.value,()=>w.value,()=>q.orderMenuTab],([f,g])=>{if(!f||f.length===0){d.value=[];return}const L={},N=q.orderMenuTab,E=f.map(ue=>({...ue,mainDishes:ue.dishes.map(be=>{const de=be.dish;if(L[de.id])return L[de.id];const yt={...de,defaultName:de.name,name:re(de,"name",g),note:re(de,"note",g),subname:re(de,"subname",g),quantity:0},_t=be.subItems.map(Ze=>{const Me=Ze;return{...Ze,defaultName:de.name,name:re(Me,"name",g),note:re(Me,"note",g),subname:re(Me,"subname",g),quantity:0}}),Re={...be,dish:yt,subItems:_t};return L[Re.id]=Re,Re})})),K=te.getAllIncrementedDish(),ne=te.getIdsAndQuantity(K);K.length>0&&oe.setCookie("cartDish_normal",ne);const ee=le.cartDishs.value,me=Ve.compressToEncodedURIComponent(JSON.stringify(ee));ee.length>0&&oe.setCookie("cartDish_custom",me),d.value=E,M.value=d.value,R.value=q.orderMenuTab,(K.length>0||ee.length>0)&&(te.cleanDishDataQty(),te.updateDishDataQty(K)),J.value=N.map(ue=>{const be=q.dictinaryAPI.dictinary.value[ue];return be?be[`text_${w.value.toLowerCase()}`]:ue}),console.log("languagedMenu updated via watch:",d.value)},{immediate:!0,deep:!0});function re(f,g,L){return f?L==="en"?f[`${g}_en`]||f[g]:L==="zh"&&f[`${g}_cn`]||f[g]:""}async function Oe(){await $();const f=await Y();q.isTakeaway(),q.onMenuItemChanged=x,q.onRatingChanged=h;const g=oe.getCookie("cartDish_custom"),L=JSON.parse(Ve.decompressFromEncodedURIComponent(g));if(L&&L!=="undefined")try{le.cartDishs.value=L}catch(E){console.error("解析自定义菜失败:",E),le.cartDishs.value=[]}const N=oe.getCookie("cartDish_normal");if(N&&N!=="undefined")try{const E=JSON.parse(N);te.updateDishDataQty(E)}catch(E){console.error("解析普通菜失败:",E)}for(let E=0;E<f.length;E++){const K=E;y.value.push({label:ae.value(f[E]),command:()=>{De(K),he()}})}p.value++}const he=()=>{Nt(()=>{const f=document.querySelector(".p-tablist-viewport"),g=document.querySelector(".p-tab.p-tab-active");if(f&&g){const L=g.offsetLeft-f.offsetWidth/2+g.offsetWidth/2;f.scrollTo({left:L,behavior:"smooth"})}})},De=f=>{z(f),l.value=f,he()},vt=()=>{var f=te.getAllIncrementedDish();P.value.showDishList(f)};function Se(){return q.getTable()}q.params.port,j.value=q.table.value.order;function ht(f){var g=c("notification.too_fast",{remainTime:f});ie.show_warn(g)}const mt=(f,g)=>{const L=[];for(let ee=0;ee<le.cartDishs.value.length;ee++){var N=le.cartDishs.value[ee];const me=q.formateCustomDishNotes(N.notesAndId),ue=N.dis_count?N.dis_price:N.price;L.push({dishid:N.dishid,name:N.name,quantity:N.count,notes:me,limit:N.limit,price:ue,dishNote:N.dishNote,category:N.category})}const E=te.getAllIncrementedDish();for(let ee=0;ee<E.length;ee++){var N=E[ee];if(console.log("id cartDishs ;  ; : ",N),N.quantity>0){const ue=N.dis_count?N.dis_price:N.price;L.push({dishid:N.id,name:N.defaultName,quantity:N.quantity,limit:N.limit,price:ue,dishNote:N.dishNote})}}if(L.length===0)return ie.show_warn(c("notification.select_at_least_one")),!1;console.log("cart item:",L);const K=JSON.parse(oe.getCookie(Ne)||"{}"),ne=Date.now();if(!K.startTime||ne-K.startTime>nt*1e3)K.startTime=ne,K.uniCode||(K.uniCode=Date.now().toString(36)+Math.random().toString(36).substring(2,5));else{const ee=nt-parseInt((ne-K.startTime)/1e3);ht(ee);return}return oe.setCookie(Ne,JSON.stringify(K)),T.value=!0,q.submit_order({uniCode:K.uniCode,name:f.name,note:f.note,table:Se(),items:L},ee=>{const me=JSON.parse(oe.getCookie(Ne)||"{}");me.uniCode=void 0,oe.setCookie(Ne,JSON.stringify(me)),g(ee)}),!0};function bt(){const f=oe.getCookie("language");f&&(w.value=f)}function Ge(){for(let f=0;f<M.value.length;f++){const g=M.value[f];g.quantity=0}T.value=!1,le.cleanAll()}lt(async()=>{bt(),await Oe(),z(l.value),q.clear_order_data=()=>{Ge()},q.setOnOrderConfirmed(f=>{Ge();const g=f;ie.show_success(c("notification.order_submitted",{id:g}))}),q.setOnShowError(f=>{T.value=!1,ie.show_error(f)})});function gt(){oe.deleteCookie("login_time");const f=s.query.table;f?t.push({path:"/",query:{table:f}}):t.push({path:"/takeReserve"})}function Ee(){console.log("save data cart");const f=te.getAllIncrementedDish(),g=te.getIdsAndQuantity(f);oe.setCookie("cartDish_normal",JSON.stringify(g));const L=le.cartDishs.value,N=Ve.compressToEncodedURIComponent(JSON.stringify(L));oe.setCookie("cartDish_custom",N)}return Bt(()=>{Ee()}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Ee()}),window.addEventListener("beforeunload",f=>{Ee(),q.cleanup()}),(f,g)=>{const L=Le("touch"),N=Le("touch-options");return r(),b(G,null,[a("div",Vn,[(r(),Z(Mn,{key:p.value,types:J.value,typeIndex:l.value,tabItems:y.value,tableId:Se(),onClickType:De,onSwitchToWelcome:gt},null,8,["types","typeIndex","tabItems","tableId"])),g[2]||(g[2]=a("div",{class:"pb-8"},null,-1)),g[3]||(g[3]=a("div",{class:"pb-4 sm:pb-5 md:pb-5 lg:pb-5"},null,-1)),A(Fn,{duration:3e3,position:"center",size:"3rem"}),xe((r(),b("div",Hn,[U.value?(r(),Z(tn,{key:0,currentCustomDish:C.value,onTypeClick:X},null,8,["currentCustomDish"])):(r(),Z(Wa,{key:1,rateDish:k,likedItemsRef:S.value,dislikedItemsRef:B.value},null,8,["likedItemsRef","dislikedItemsRef"]))])),[[L,o,"swipe",{left:!0,passive:!0}],[L,n,"swipe",{right:!0,passive:!0}],[N,{swipeTolerance:100}]]),g[4]||(g[4]=a("div",{class:"pb-6"},null,-1)),a("div",Kn,[a("div",Un,[a("div",Wn,[Se()?(r(),Z(i(W),{key:0,label:f.$t("common.orders"),icon:"pi pi-list",class:"p-button-secondary",onClick:H},null,8,["label"])):O("",!0)]),a("div",Qn,[A(i(ut),{value:i(_),severity:"danger",onClick:vt},{default:V(()=>g[1]||(g[1]=[a("i",{class:"pi pi-shopping-cart",style:{"font-size":"2rem"}},null,-1)])),_:1,__:[1]},8,["value"])])])])]),A(xs,{ref_key:"cartRef",ref:P,checkout:mt,isTakeaway:!Se()},null,8,["isTakeaway"]),A(i(ye),{visible:I.value,"onUpdate:visible":g[0]||(g[0]=E=>I.value=E),header:f.$t("common.completedOrders"),modal:"",style:{width:"80vw","max-width":"700px"}},{default:V(()=>{var E,K;return[a("div",Jn,[a("div",Gn,[(E=m.value.adultPrice)!=null&&E.quantity&&m.value.adultPrice.quantity!=0?(r(),b("div",Zn,[a("div",Xn,[a("span",Yn,v(f.$t("common.adult")),1),a("small",null,v(f.$t("common.quantity"))+": "+v(m.value.adultPrice.quantity),1)]),a("div",eo,[a("span",null,"€"+v((Number(m.value.adultPrice.price)*m.value.adultPrice.quantity).toFixed(2)),1)])])):O("",!0),(K=m.value.childrenPrice)!=null&&K.quantity&&m.value.childrenPrice.quantity!=0?(r(),b("div",to,[a("div",ao,[a("span",so,v(f.$t("common.children")),1),a("small",null,v(f.$t("common.quantity"))+": "+v(m.value.childrenPrice.quantity),1)]),a("div",no,[a("span",null,"€"+v((Number(m.value.childrenPrice.price)*m.value.childrenPrice.quantity).toFixed(2)),1)])])):O("",!0)]),i(q).table.value.order.length===0?(r(),b("div",oo,v(f.$t("common.noOrders")),1)):(r(),b("div",io,[(r(!0),b(G,null,se(i(q).table.value.order,(ne,ee)=>(r(),b("div",{key:ee,class:"flex justify-content-between border-bottom-1 pb-2"},[a("div",lo,[a("span",ro,v(i(q).getDishName(ne)),1),a("small",null,v(f.$t("common.quantity"))+": "+v(ne.quantity),1)]),a("div",co,[a("span",null,"€"+v((ne.price*ne.quantity).toFixed(2)),1)])]))),128))]))]),a("div",uo,v(f.$t("common.total"))+": €"+v(m.value.total),1)]}),_:1},8,["visible","header"])],64)}}},To=Ie(fo,[["__scopeId","data-v-dfaec985"]]);export{To as default};
