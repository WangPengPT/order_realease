import{b as k}from"./index-CCZBHTDU.js";import{s as M,a as T}from"./index-BbucJcPZ.js";import{s as B,a as D}from"./index-DcjsYSdj.js";import{s as S}from"./index-Dv_DZH1n.js";import{q as V,x as $,n as g,h as m,s as F,c as j,a as t,d as l,w as c,l as s,F as z,o as q,z as O,t as n,C as U,G as A}from"./index-BOYOh0ke.js";import{s as E}from"./index-DwLMF8T1.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DeEA98n7.js";import"./index-B0EaE2o5.js";import"./index-C2P3vyKj.js";import"./index-DkDfsHJB.js";import"./index-GaYQY9yI.js";import"./index-G6K5xV37.js";import"./index-CuqJhMZk.js";import"./index-Z_N1gL_x.js";import"./index-BWOV8v4A.js";const H={class:"card h-full",style:{display:"flex","flex-direction":"column"}},K={class:"flex flex-wrap gap-2 items-center justify-between"},J={class:"m-0 font-bold text-2xl text-left flex-grow-1"},L={class:"text-center py-5"},Q={class:"mt-3 text-gray-500"},W={class:"flex flex-column gap-2"},X={class:"font-bold text-lg"},Y={class:"font-bold text-lg"},Z={class:"font-bold text-lg"},ee={class:"flex justify-content-end"},se={__name:"ReserverPage",setup(te){const{t:e}=V(),_=$(),h=g.tableReserves;g.checkReservesStatus();const a=m(),u=m(!1);function b(r){console.log("Clicked"),a.value=r.data,u.value=!0}const p=m({global:{value:null,matchMode:A.CONTAINS}}),v=F(()=>{const r=a.value.status;return r=="processing"?{label:e("reserverPage.processing")+"...",outlined:!0}:r=="voided"?{label:e("reserverPage.voided"),outlined:!0}:{label:e("reserverPage.cancelReserve"),outlined:!1}});function P(){a.value.status=="processing"||a.value.status=="voided"||_.require({message:e("reserverPage.confirmCancellation")+a.value.name,header:e("reserverPage.cancelReserve"),icon:"pi pi-info",rejectProps:{label:e("common.cancel"),severity:"secondary",outlined:!0},acceptProps:{label:e("common.confirm"),severity:"danger"},accept:()=>{a.value.status="processing",u.value=!1},reject:()=>{}})}const x=r=>({completed:"status-completed",confirmed:"status-read",processing:"status-processing",new:"status-new",voided:"status-voided"})[r]||"",w=r=>({completed:e("orderPage.completed"),processing:e("reserverPage.processing"),new:e("orderPage.new"),voided:e("orderPage.voided")})[r]||r;return(r,o)=>{var f;const y=D,C=S,R=B,d=T,I=M,N=k;return q(),j(z,null,[t("div",H,[l(I,{value:s(h),tableStyle:"min-width: 50rem",dataKey:"id",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],stripedRows:"",filters:p.value,scrollable:"",scrollHeight:"flex",onRowClick:b,selectionMode:"single"},{header:c(()=>[t("div",K,[t("h4",J,n(s(e)("reserverPage.header")),1),l(R,null,{default:c(()=>[l(y,null,{default:c(()=>o[2]||(o[2]=[t("i",{class:"pi pi-search"},null,-1)])),_:1,__:[2]}),l(C,{modelValue:p.value.global.value,"onUpdate:modelValue":o[0]||(o[0]=i=>p.value.global.value=i),placeholder:s(e)("orderPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:c(()=>[t("div",L,[o[3]||(o[3]=t("i",{class:"pi pi-search",style:{"font-size":"3rem",color:"#ccc"}},null,-1)),t("p",Q,n(s(e)("orderPage.notFound")),1)])]),default:c(()=>[l(d,{header:s(e)("orderPage.status")},{body:c(({data:i})=>[t("span",{class:O(["status-badge",x(i.status||"new")])},n(w(i.status||"new")),3)]),_:1},8,["header"]),l(d,{field:"name",header:"ID",sortable:""}),l(d,{field:"date",header:s(e)("reserverPage.dateTime"),sortable:""},{body:c(({data:i})=>[U(n(i.date+" "+i.time),1)]),_:1},8,["header"]),l(d,{field:"customerName",header:s(e)("reserverPage.customerName")},null,8,["header"]),l(d,{field:"numberPeople",header:s(e)("reserverPage.numberPeople")},null,8,["header"]),l(d,{field:"phone",header:s(e)("reserverPage.phone")},null,8,["header"]),l(d,{field:"note",header:s(e)("reserverPage.note")},null,8,["header"])]),_:1},8,["value","filters"])]),l(s(E),{visible:u.value,"onUpdate:visible":o[1]||(o[1]=i=>u.value=i),header:s(e)("reserverPage.reserveDetails")+" (ID: "+((f=a.value)==null?void 0:f.name)+")",modal:"",style:{width:"450px"}},{default:c(()=>[t("div",W,[t("label",X,n(s(e)("reserverPage.dateTime")+": "+a.value.date+" "+a.value.time),1),t("label",Y,n(s(e)("reserverPage.customerName")+": "+a.value.customerName),1),t("label",Z,n(s(e)("reserverPage.numberPeople")+": "+a.value.numberPeople),1),t("label",null,n(s(e)("reserverPage.phone")+": "+a.value.phone),1),t("label",null,n(s(e)("reserverPage.email")+": "+a.value.email),1),t("label",null,n(s(e)("reserverPage.note")+": "+a.value.note),1),t("div",ee,[l(N,{label:v.value.label,outlined:v.value.outlined,onClick:P},null,8,["label","outlined"])])])]),_:1},8,["visible","header"])],64)}}},be=G(se,[["__scopeId","data-v-f3c7c3da"]]);export{be as default};
