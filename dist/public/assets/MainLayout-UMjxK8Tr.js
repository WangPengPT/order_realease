import{b as q,c as N,R as U}from"./index-UWjVb1or.js";import{s as A}from"./index-Hn19jCCx.js";import{s as E}from"./index-BQoOYY0e.js";import{s as L}from"./index-CeLZXEuR.js";import{s as z}from"./index-CJPpMsSP.js";import{s as F}from"./index-CTfv_1ow.js";import{s as G}from"./index-UuqCgbwU.js";import{q as X,h as n,n as r,j as K,p as s,c as m,o as p,d as l,a,w as y,s as Q,m as H,f as J,e as f,x as W,t as Y,l as _,F as Z,R as ee}from"./index-C6PSjnPN.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BYBm0dCp.js";import"./index-nHcMNJSJ.js";import"./index-DUDhmHNJ.js";import"./index-kao1m_HO.js";import"./index-Zj468pqp.js";const ae="/XIAOXIONG_LOGO.png",oe={class:"w-full shadow-2 bg-primary"},se={class:"flex flex-row justify-content-start"},le={class:"flex align-items-center justify-content-center"},ne={class:"text-white"},ie={class:"flex flex-column"},pe={key:0,class:"flex flex-wrap align-items-center m-2"},re={key:1,class:"flex flex-wrap align-items-center m-2"},me={class:"flex flex-wrap align-items-center m-2"},ce={class:"flex flex-wrap justify-content-end align-items-center mt-2"},ue={__name:"TopBar",setup(P){const t=K(),b=X(),i=n(!1),c=n(),u=n(),d=n(),g=n(),k=n([{label:"选项",items:[{label:"上传菜单",icon:"pi pi-file-import",command:()=>{t.push(s.mainPath.updateMenu.path)}},{label:"菜单排序",icon:"pi pi-tag",command:()=>{t.push(s.mainPath.menuTags.path)}},{label:"菜品评分",icon:"pi pi-star",command:()=>{t.push(s.monthRates.path)}},{label:"菜品销售量",icon:"pi pi-hashtag",command:()=>{t.push(s.orderQuantity.path)}},{label:"页面编辑",icon:"pi pi-file-edit",command:()=>{t.push(s.mainPath.editablePages.path)}},{label:"打印机",icon:"pi pi-print",command:()=>{t.push(s.mainPath.printers.path)}},{label:"二维码",icon:"pi pi-qrcode",command:()=>{t.push(s.mainPath.qcode.path)}},{label:"设置",icon:"pi pi-cog",command:()=>{c.value=r.hasBibimbap.value,u.value=r.hasBox.value,d.value=r.checkIP.value,i.value=!0}},{label:"帮助/手册",icon:"pi pi-question",command:()=>{t.push(s.helpAndManual.path)}},{label:"登出",icon:"pi pi-sign-out",command:()=>{S()}}]}]),B=x=>{g.value.toggle(x)},V=n([{label:"主页",icon:"pi pi-home",command:()=>{t.push(s.mainPath.path)}},{label:"订单",icon:"pi pi-receipt",command:()=>{t.push(s.mainPath.order.path)},badge:r.newOrderCount},{label:"菜单",icon:"pi pi-book",command:()=>{t.push(s.mainPath.menu.path)}},{label:"桌子",icon:"pi pi-table",command:()=>{t.push(s.mainPath.tables.path)}},{label:"外卖",icon:"pi pi-shopping-bag",command:()=>{t.push(s.mainPath.takeways.path)}}]);function $(){r.updateSetting({hasBibimbap:c.value,hasBox:u.value,checkIP:d.value}),i.value=!1}function S(){b.require({message:"确认登出您的账号?",header:"登出账号",icon:"pi pi-exclamation-triangle",rejectProps:{label:"取消登出",severity:"secondary",outlined:!0},acceptProps:{label:"确认登出",severity:"danger"},accept:()=>{localStorage.removeItem("loggedIn"),localStorage.removeItem("loginDate"),t.replace("/login")},reject:()=>{}})}let v=()=>window.env.ENABLE_ROAST_DUCK;return(x,e)=>{const C=G,w=q,I=F,j=N,R=z,h=L,D=E,O=A,M=U;return p(),m(Z,null,[l(C),a("div",oe,[a("div",se,[a("div",le,[l(w,{type:"button",icon:"pi pi-bars",onClick:B,"aria-haspopup":"true","aria-controls":"overlay_menu",class:"custom-clean-button"}),e[5]||(e[5]=a("img",{src:ae,class:"max-w-9rem p-1"},null,-1)),e[6]||(e[6]=a("span",{class:"text-lg font-bold",style:{color:"aliceblue"}},"Order System",-1)),l(I,{ref_key:"menu",ref:g,id:"overlay_menu",model:k.value,popup:!0},null,8,["model"])])]),l(R,{model:V.value,class:"justify-content-center bg-primary border-none",breakpoint:"369px"},{item:y(({item:o,props:T})=>[Q((p(),m("a",H({class:"flex flex-column justify-content-center align-items-center"},T.action),[a("span",{class:W([o.icon,"text-white"])},null,2),a("span",ne,Y(o.label),1),o.badge?(p(),J(j,{key:0,value:o.badge,severity:"danger",class:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/3",style:{"font-size":"0.7rem",height:"16px","min-width":"16px"}},null,8,["value"])):f("",!0)],16)),[[M]])]),_:1},8,["model"]),l(D,{visible:i.value,"onUpdate:visible":e[4]||(e[4]=o=>i.value=o),header:"设置",modal:!0,dismissableMask:!0,style:{"min-width":"300px","max-width":"400px"}},{default:y(()=>[a("div",ie,[_(v)()?(p(),m("div",pe,[l(h,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o)},null,8,["modelValue"]),e[7]||(e[7]=a("label",{class:"ml-2"}," 显示石锅拌饭 ",-1))])):f("",!0),_(v)()?(p(),m("div",re,[l(h,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o)},null,8,["modelValue"]),e[8]||(e[8]=a("label",{class:"ml-2"}," 显示九宫格 ",-1))])):f("",!0),a("div",me,[l(h,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o)},null,8,["modelValue"]),e[9]||(e[9]=a("label",{class:"ml-2"}," 连wifi才能点餐 ",-1))])]),a("div",ce,[l(w,{label:"保存",onClick:e[3]||(e[3]=o=>$())})])]),_:1},8,["visible"])]),l(O)],64)}}},de=te(ue,[["__scopeId","data-v-08818f4d"]]),he={class:"fixed top-0 right-0 left-0 h-full w-full"},fe={class:"h-full w-full"},Ie={__name:"MainLayout",setup(P){return(t,b)=>{const i=de;return p(),m("div",he,[l(i),a("div",fe,[l(_(ee))])])}}};export{Ie as default};
