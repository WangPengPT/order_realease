import{s as R,a as Q}from"./index-Br-UpKLP.js";import{q as B,h as v,n as P,c as d,d as s,w as c,l,o as u,a as e,e as F,L as O,t as o,F as T,E as I,G as i}from"./index-BShNAIhh.js";import{s as j,a as p}from"./index-CFt--O9r.js";import{s as q}from"./index-Dfd85u33.js";import{s as H}from"./index-ph7f-Bih.js";import"./index-CaW9szM_.js";import"./index-BaW51Udu.js";import"./index-QIG-zb-E.js";import"./index-aw8HYO3P.js";import"./index-DPWVLdbS.js";import"./index-BjYwmhV5.js";import"./index-BK0Kbx9n.js";const K={class:"p-4 h-full"},W={class:"flex justify-end"},z={key:0,class:"pi pi-star text-green-500 ml-2"},G={class:"mb-3"},J={class:"text-lg font-bold"},X={class:"mb-3"},Y={key:0,class:"mb-3"},Z={style:{"white-space":"normal","word-break":"break-word",color:"#5F0F0F"}},ee={class:"font-semibold"},ae={class:"flex justify-between text-gray-600 text-sm"},ye={__name:"TakewaysPage",setup(te){const{t:y}=B(),h=v({global:{value:null,matchMode:i.CONTAINS},id:{value:null,matchMode:i.STARTS_WITH},date:{value:null,matchMode:i.STARTS_WITH},time:{value:null,matchMode:i.IN},customer:{value:null,matchMode:i.EQUALS},total_price:{value:null,matchMode:i.EQUALS},pay_state:{value:null,matchMode:i.EQUALS},pay_ttpe:{value:null,matchMode:i.EQUALS}}),N=P.shopify_orders,x=P.newShopifyOrderCount,f=v(!1),r=v(null);v("");function A(a){r.value=a.data,f.value=!0,r.value.isNew&&(r.value.isNew=void 0,x.value--)}function C(a){return a==="paid"?"paid 已支付":a==="pending"?"pending 待支付":a==="voided"?"voided 已取消":a}return(a,n)=>{const E=Q,L=R;return u(),d("div",K,[s(l(j),{value:l(N),paginator:!0,rows:10,dataKey:"id",filters:h.value,filterDisplay:"row",selectionMode:"single",onRowClick:A},{header:c(()=>[e("div",W,[s(L,null,{default:c(()=>[s(E,null,{default:c(()=>n[2]||(n[2]=[e("i",{class:"pi pi-search"},null,-1)])),_:1,__:[2]}),s(l(q),{modelValue:h.value.global.value,"onUpdate:modelValue":n[0]||(n[0]=t=>h.value.global.value=t),placeholder:"Keyword Search"},null,8,["modelValue"])]),_:1})])]),default:c(()=>[s(l(p),{field:"name",header:"ID",sortable:""},{body:c(t=>[e("span",{style:O({"text-decoration":t.data.pay_state=="voided"?"line-through":"none"})},o(t.data.name),5),t.data.isNew?(u(),d("i",z)):F("",!0)]),_:1}),s(l(p),{field:"pickupDate",header:a.$t("takeawaysPage.date"),sortable:""},null,8,["header"]),s(l(p),{field:"pickupTime",header:a.$t("takeawaysPage.time"),sortable:""},null,8,["header"]),s(l(p),{field:"customer.name",header:a.$t("takeawaysPage.customer"),sortable:""},null,8,["header"]),s(l(p),{field:"total_price",header:a.$t("takeawaysPage.totalPrice"),sortable:"",body:t=>"€"+t.data.total_price},null,8,["header","body"]),s(l(p),{field:"pay_state",header:a.$t("takeawaysPage.payState"),sortable:"",body:t=>C(t.data.pay_state)},null,8,["header","body"]),s(l(p),{field:"pay_type",header:a.$t("takeawaysPage.payType"),sortable:""},null,8,["header"])]),_:1},8,["value","filters"]),s(l(H),{visible:f.value,"onUpdate:visible":n[1]||(n[1]=t=>f.value=t),header:a.$t("takeawaysPage.order"),modal:"",style:{width:"450px"}},{default:c(()=>{var t,_,w,b,g,k,S,$,M;return[e("div",G,[e("h3",J,o((t=r.value)==null?void 0:t.name),1)]),e("div",X,[e("div",null,o(l(y)("takeawaysPage.name"))+": "+o((w=(_=r.value)==null?void 0:_.customer)==null?void 0:w.name),1),e("div",null,o(l(y)("takeawaysPage.phone"))+": "+o((g=(b=r.value)==null?void 0:b.customer)==null?void 0:g.phone),1),e("div",null,o(l(y)("takeawaysPage.email"))+": "+o((S=(k=r.value)==null?void 0:k.customer)==null?void 0:S.email),1)]),($=r.value)!=null&&$.note&&r.value.note!==""?(u(),d("div",Y,[n[3]||(n[3]=e("div",{style:{color:"#5F0F0F"}},"note:",-1)),e("div",Z,o(r.value.note),1)])):F("",!0),(u(!0),d(T,null,I((M=r.value)==null?void 0:M.line_items,(m,U)=>(u(),d("div",{key:U,class:"border-b py-2"},[e("div",ee,o(m.name),1),e("div",ae,[e("span",null,o(m.sku),1),e("span",null,o(m.price)+" x "+o(m.quantity),1)]),(u(!0),d(T,null,I(m.properties,(V,D)=>(u(),d("div",{key:D,class:"text-sm text-gray-500"},o(V),1))),128))]))),128))]}),_:1},8,["visible","header"])])}}};export{ye as default};
