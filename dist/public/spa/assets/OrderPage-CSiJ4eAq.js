import{c as f,d as s,e as c,y as r,p as a,L as _,F as b,U as u,r as m,O as x,Z as y,Q as D,R as Q,K as k,l as w,q as N,h as i,t as n}from"./index-BJrmHtlE.js";import{Q as C}from"./QTable-DMbInwpq.js";import{Q as V,a as d}from"./QItem-D8HyRVKq.js";import{Q as q}from"./QItemLabel-Q39-L4As.js";import{a as v}from"./rtl-C1Z_t4iI.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-CJebrXOQ.js";const R=[{name:"id",required:!0,label:"id",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!0},{name:"table",required:!0,label:"table",align:"left",field:e=>e.table,format:e=>`${e}`,sortable:!0},{name:"time",required:!0,label:"time",align:"left",field:e=>new Date(e.timestamp),format:e=>e.toLocaleString("pt-PT",{timeZone:"Europe/Lisbon",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),sortable:!0},{name:"name",required:!0,label:"name",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0,style:"max-width: 50px;"},{name:"observação",required:!0,label:"observação",align:"left",field:e=>e.note,format:e=>`${e}`,sortable:!0,classes:"multiline-cell",style:{"max-width":"150px","white-space":"normal","word-break":"break-word"}}],L=u.orders,g=m(!1),h=m(null);function B(e,l){h.value=l,g.value=!0,l.isNew=!1,u.decrementOrderCount()}function S(e){return u.getDishNameById(e.dishid)}function F(e){return e.dishid?e.dishid:e.name}function O(e){return u.getDishNote(e)}const T={setup(){return{getDishId:F,getDishName:S,onRowClick:B,showDetail:g,selRow:h,filter:m(""),columns:R,rows:L,getDishNote:O,rowClassFn(e){return e.isNew?"bg-red-light":""}}}},U={class:"q-pa-md"};function E(e,l,P,t,Z,K){return s(),f(b,null,[c("div",U,[r(C,{title:"Orders",rows:t.rows,columns:t.columns,"row-key":"id",filter:t.filter,onRowClick:t.onRowClick,"table-row-class-fn":t.rowClassFn},{"top-right":a(()=>[r(x,{borderless:"",dense:"",debounce:"300",modelValue:t.filter,"onUpdate:modelValue":l[0]||(l[0]=o=>t.filter=o),placeholder:"Search"},{append:a(()=>[r(y,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","onRowClick","table-row-class-fn"])]),r(_,{modelValue:t.showDetail,"onUpdate:modelValue":l[1]||(l[1]=o=>t.showDetail=o)},{default:a(()=>[r(D,{bordered:"",class:"rounded-borders",style:{"min-width":"350px"}},{default:a(()=>[r(Q,null,{default:a(()=>l[2]||(l[2]=[c("div",{class:"text-h6"},"details",-1)])),_:1,__:[2]}),r(v,{bordered:"",separator:""},{default:a(()=>[(s(!0),f(b,null,k(t.selRow.items,(o,p)=>(s(),w(V,{key:p},{default:a(()=>[r(d,{avatar:""},{default:a(()=>[i(n(t.getDishId(o)),1)]),_:2},1024),o.dishid?(s(),w(d,{key:0},{default:a(()=>[i(n(t.getDishName(o)),1)]),_:2},1024)):N("",!0),r(d,{style:{padding:"0px 10px"},side:""},{default:a(()=>[i(" x "+n(o.quantity),1)]),_:2},1024),r(d,null,{default:a(()=>[r(q,{style:{"white-space":"pre-line"}},{default:a(()=>[i(n(t.getDishNote(o.notes)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const W=I(T,[["render",E]]);export{W as default};
