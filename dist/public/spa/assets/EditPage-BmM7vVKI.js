import{a4 as B,aq as O,g as V,ar as x,x as I,G as P,ab as Q,c as u,d as r,y as n,p as f,e as i,h as z,F as c,K as b,l as q,P as g,O as h,r as v,i as U,bb as D,w as T,o as A,U as E,M as L}from"./index-BJrmHtlE.js";import{Q as N}from"./QToolbarTitle-Cf1VsrfX.js";import{Q as F}from"./QToolbar-CiH_Qgyq.js";import{u as M}from"./use-quasar-BGykivy7.js";const R=B({name:"QBar",props:{...O,dense:Boolean},setup(l,{slots:o}){const{proxy:{$q:a}}=V(),e=x(l,a),s=I(()=>`q-bar row no-wrap items-center q-bar--${l.dense===!0?"dense":"standard"}  q-bar--${e.value===!0?"dark":"light"}`);return()=>P("div",{class:s.value,role:"toolbar"},Q(o.default))}}),S={class:"bg-grey-3"},G={class:"row items-center q-pa-sm",style:{gap:"8px"}},K={style:{"flex-grow":"1"}},W={__name:"InfomationComponent",props:{informations:Array,options:Array,currentOption:String},emits:["add","delete","update:currentOption"],setup(l){return(o,a)=>(r(),u(c,null,[n(F,{class:"bg-grey-3"},{default:f(()=>[n(N,null,{default:f(()=>a[1]||(a[1]=[z("重要信息")])),_:1,__:[1]}),i("div",S,[(r(!0),u(c,null,b(l.options,e=>(r(),q(g,{key:e.value,label:e.label,unelevated:!0,onClick:s=>o.$emit("update:currentOption",e.value),color:e.value===l.currentOption?"primary":"grey-5"},null,8,["label","onClick","color"]))),128))]),n(g,{flat:"",round:"",dense:"",icon:"add",onClick:a[0]||(a[0]=()=>o.$emit("add"))})]),_:1}),(r(!0),u(c,null,b(l.informations,(e,s)=>(r(),u("div",{key:s},[i("div",G,[i("div",K,[n(h,{outlined:"",dense:"",modelValue:e.title_zh,"onUpdate:modelValue":t=>e.title_zh=t,label:"标题",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"]),n(h,{outlined:"",dense:"",modelValue:e.description_zh,"onUpdate:modelValue":t=>e.description_zh=t,label:"介绍",style:{width:"100%","margin-top":"8px"}},null,8,["modelValue","onUpdate:modelValue"])]),n(g,{flat:"",round:"",dense:"",icon:"delete",onClick:t=>o.$emit("delete",t),style:{width:"40px","min-width":"40px"},color:"negative"},null,8,["onClick"])])]))),128))],64))}},j={__name:"WelcomePage",setup(l){const o=v(!1);function a(){o.value=!o.value}return(e,s)=>{const t=U("PrimeButton");return r(),u(c,null,[n(t,{icon:"pi pi-bars ",class:"absolute top-0 border-0 custom-clean-button",onClick:a}),n(t,{icon:"pi pi-instagram",class:"absolute top-0 border-0 right-0 custom-clean-button"})],64)}}},H={class:"row no-wrap"},J={style:{width:"50%",height:"100%"}},X={class:"col"},ne={__name:"EditPage",setup(l){const o=L(),a=D(),e=M(),s=a.params.pageId,t=v({}),d=v([]),p=v("zh"),k=[{label:"中",value:"zh"},{label:"En",value:"en"},{label:"Pt",value:"pt"}];T(p,()=>{console.log("i am deteded: ",p.value)}),A(async()=>{try{t.value=await E.getPage(s),console.log("content: ",t.value),d.value=t.value.informations||[]}catch(m){console.error("加载页面失败:",m)}});function y(){d.value.push({title_zh:"",description_zh:"",title_en:"",description_en:"",title_pt:"",description_pt:""})}function w(m){e.dialog({title:"删除重要信息",message:"确定要删除吗",cancel:!0,persistent:!0}).onOk(()=>{d.value.splice(m,1)})}function $(){o.push("/editablePages")}return(m,_)=>(r(),u(c,null,[n(R,null,{default:f(()=>[n(g,{icon:"arrow_back",onClick:$})]),_:1}),i("div",H,[i("div",J,[n(j)]),i("div",X,[_[1]||(_[1]=i("div",null,null,-1)),n(W,{informations:d.value,onAdd:y,onDelete:w,currentOption:p.value,"onUpdate:currentOption":_[0]||(_[0]=C=>p.value=C),options:k},null,8,["informations","currentOption"])])])],64))}};export{ne as default};
