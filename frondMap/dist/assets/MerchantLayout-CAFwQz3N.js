import{j as e}from"./vendor-ui-BO6fjm1h.js";import{u as C,S as L,a as k,b as u,c as h,d as m,e as x,f as b,g as j,i as q,j as A}from"./sidebar-Bz7a0xrm.js";import{f,L as l,r as I,O as R}from"./vendor-react-CrHRjzzo.js";import{b as v,G as N,bc as g,w as y,bd as p,bJ as G,L as P}from"./index-BjZfkycM.js";import{u as S}from"./vendor-i18n-DWR4v88Y.js";import"./separator-Bcw1_umW.js";import"./vendor-charts-C50LysBY.js";import"./vendor-query-EnOED-MY.js";import"./vendor-supabase-QnE9GqXs.js";const O=()=>{const{t:s}=S(),{state:t,setOpenMobile:n}=C(),c=f().pathname,a=v(),M=[{title:s("nav.manageRestaurants"),url:"/merchant-dashboard",icon:N},{title:s("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:g},{title:s("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:y}],w=[{title:s("admin.userManual","使用手册"),url:"/merchant-dashboard/user-manual",icon:p}],i=r=>r==="/merchant-dashboard"?c===r:c.startsWith(r),d=()=>{a&&n(!1)};return e.jsx(L,{className:t==="collapsed"?"w-14":"w-60",children:e.jsxs(k,{children:[e.jsxs(u,{children:[e.jsx(h,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(G,{className:"h-4 w-4"}):s("merchant.management")}),e.jsx(m,{children:e.jsx(x,{className:"mt-[30px]",children:M.map(r=>e.jsx(b,{children:e.jsx(j,{asChild:!0,isActive:i(r.url),children:e.jsxs(l,{to:r.url,onClick:d,children:[e.jsx(r.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:r.title})]})})},r.url))})})]}),e.jsxs(u,{children:[e.jsx(h,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(p,{className:"h-4 w-4"}):s("admin.groups.help","帮助")}),e.jsx(m,{children:e.jsx(x,{children:w.map(r=>e.jsx(b,{children:e.jsx(j,{asChild:!0,isActive:i(r.url),children:e.jsxs(l,{to:r.url,onClick:d,children:[e.jsx(r.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:r.title})]})})},r.url))})})]})]})})},$=()=>{const{t:s}=S(),n=f().pathname,o=[{title:s("nav.manageRestaurants"),url:"/merchant-dashboard",icon:N},{title:s("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:g},{title:s("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:y}],c=a=>a==="/merchant-dashboard"?n===a:n.startsWith(a);return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border safe-bottom",children:e.jsx("div",{className:"flex justify-around items-center h-16",children:o.map(a=>e.jsxs(l,{to:a.url,className:`flex flex-col items-center justify-center flex-1 h-full py-2 px-1 transition-colors ${c(a.url)?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(a.icon,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs text-center line-clamp-1",children:a.title})]},a.url))})})},B=()=>e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(P,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),K=()=>{const s=v();return e.jsx(q,{children:e.jsxs("div",{className:"min-h-screen flex w-full",children:[!s&&e.jsx(O,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"h-14 border-b border-border flex items-center px-4 bg-background",children:[!s&&e.jsx(A,{}),e.jsx("h1",{className:`text-lg font-semibold ${s?"":"ml-4"}`,children:"商家管理后台"})]}),e.jsx("main",{className:`flex-1 p-4 md:p-6 overflow-auto ${s?"pb-20":""}`,children:e.jsx(I.Suspense,{fallback:e.jsx(B,{}),children:e.jsx(R,{})})}),s&&e.jsx($,{})]})]})})};export{K as default};
//# sourceMappingURL=MerchantLayout-CAFwQz3N.js.map
