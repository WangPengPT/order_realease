{"version":3,"file":"AdminPoints-Cw8agrOe.js","sources":["../../node_modules/lucide-react/dist/esm/icons/minus.js","../../src/components/admin/GrantPointsDialog.tsx","../../src/pages/admin/AdminPoints.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Minus = createLucideIcon(\"Minus\", [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]]);\n\nexport { Minus as default };\n//# sourceMappingURL=minus.js.map\n","import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\r\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Coins, Plus, Minus } from \"lucide-react\";\r\nimport { useAdminModifyPoints } from \"@/hooks/usePoints\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst formSchema = z.object({\r\n  amount: z.number().min(1, \"积分数量必须大于0\"),\r\n  reason: z.string().min(1, \"请填写原因\"),\r\n});\r\n\r\ntype FormData = z.infer<typeof formSchema>;\r\n\r\ninterface GrantPointsDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  user: any;\r\n  type: \"grant\" | \"deduct\";\r\n}\r\n\r\nexport const GrantPointsDialog = ({ open, onOpenChange, user, type }: GrantPointsDialogProps) => {\r\n  const { t } = useTranslation();\r\n  const modifyPoints = useAdminModifyPoints();\r\n\r\n  const form = useForm<FormData>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      amount: 10,\r\n      reason: \"\",\r\n    },\r\n  });\r\n\r\n  const onSubmit = async (data: FormData) => {\r\n    if (!user) return;\r\n\r\n    const amount = type === \"deduct\" ? -data.amount : data.amount;\r\n\r\n    try {\r\n      const result = await modifyPoints.mutateAsync({\r\n        userId: user.id,\r\n        amount,\r\n        reason: data.reason,\r\n      });\r\n\r\n      if (result.success) {\r\n        toast.success(\r\n          type === \"grant\" \r\n            ? t(\"admin.points.grantSuccess\", \"积分发放成功\") \r\n            : t(\"admin.points.deductSuccess\", \"积分扣除成功\")\r\n        );\r\n        form.reset();\r\n        onOpenChange(false);\r\n      } else {\r\n        toast.error(result.error || t(\"common.error\", \"操作失败\"));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error modifying points:\", error);\r\n      toast.error(t(\"common.error\", \"操作失败\"));\r\n    }\r\n  };\r\n\r\n  if (!user) return null;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent>\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            {type === \"grant\" ? (\r\n              <>\r\n                <Plus className=\"h-5 w-5 text-green-500\" />\r\n                {t(\"admin.points.grantPoints\", \"发放积分\")}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Minus className=\"h-5 w-5 text-red-500\" />\r\n                {t(\"admin.points.deductPoints\", \"扣除积分\")}\r\n              </>\r\n            )}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {t(\"admin.points.targetUser\", \"目标用户\")}: <strong>{user.display_name}</strong>\r\n            <br />\r\n            {t(\"admin.points.currentPoints\", \"当前积分\")}: <strong>{user.points}</strong>\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\r\n            <FormField\r\n              control={form.control}\r\n              name=\"amount\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>{t(\"admin.points.amount\", \"积分数量\")}</FormLabel>\r\n                  <FormControl>\r\n                    <div className=\"relative\">\r\n                      <Coins className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                      <Input \r\n                        type=\"number\" \r\n                        className=\"pl-10\"\r\n                        min={1}\r\n                        {...field}\r\n                        onChange={e => field.onChange(parseInt(e.target.value) || 0)}\r\n                      />\r\n                    </div>\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"reason\"\r\n              render={({ field }) => (\r\n                <FormItem>\r\n                  <FormLabel>{t(\"admin.points.reason\", \"原因/备注\")} *</FormLabel>\r\n                  <FormControl>\r\n                    <Textarea \r\n                      {...field} \r\n                      placeholder={\r\n                        type === \"grant\" \r\n                          ? t(\"admin.points.grantReasonPlaceholder\", \"例如：活动奖励、补偿等\")\r\n                          : t(\"admin.points.deductReasonPlaceholder\", \"例如：违规处罚、订单取消等\")\r\n                      }\r\n                      rows={3}\r\n                    />\r\n                  </FormControl>\r\n                  <FormMessage />\r\n                </FormItem>\r\n              )}\r\n            />\r\n\r\n            <div className=\"flex justify-end gap-2\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n                {t(\"common.cancel\", \"取消\")}\r\n              </Button>\r\n              <Button \r\n                type=\"submit\" \r\n                disabled={modifyPoints.isPending}\r\n                variant={type === \"deduct\" ? \"destructive\" : \"default\"}\r\n              >\r\n                {modifyPoints.isPending \r\n                  ? t(\"common.processing\", \"处理中...\") \r\n                  : type === \"grant\" \r\n                    ? t(\"admin.points.confirmGrant\", \"确认发放\")\r\n                    : t(\"admin.points.confirmDeduct\", \"确认扣除\")\r\n                }\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </Form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Coins, Search, Plus, Minus, History, Users } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { useAllPointsTransactions } from \"@/hooks/usePoints\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { GrantPointsDialog } from \"@/components/admin/GrantPointsDialog\";\r\nimport { format } from \"date-fns\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst AdminPoints = () => {\r\n  const { t } = useTranslation();\r\n  const { data: transactions, isLoading } = useAllPointsTransactions();\r\n  \r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [grantDialogOpen, setGrantDialogOpen] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState<any>(null);\r\n  const [grantType, setGrantType] = useState<\"grant\" | \"deduct\">(\"grant\");\r\n\r\n  const handleSearch = async () => {\r\n    if (!searchQuery.trim()) {\r\n      toast.error(t(\"admin.points.enterSearchTerm\", \"请输入搜索关键词\"));\r\n      return;\r\n    }\r\n\r\n    setIsSearching(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"id, display_name, avatar_url, points\")\r\n        .or(`display_name.ilike.%${searchQuery}%,id.eq.${searchQuery.match(/^[0-9a-f-]{36}$/i) ? searchQuery : '00000000-0000-0000-0000-000000000000'}`)\r\n        .limit(20);\r\n\r\n      if (error) throw error;\r\n      setSearchResults(data || []);\r\n    } catch (error) {\r\n      console.error(\"Search error:\", error);\r\n      toast.error(t(\"common.error\", \"搜索失败\"));\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  const handleGrantPoints = (user: any) => {\r\n    setSelectedUser(user);\r\n    setGrantType(\"grant\");\r\n    setGrantDialogOpen(true);\r\n  };\r\n\r\n  const handleDeductPoints = (user: any) => {\r\n    setSelectedUser(user);\r\n    setGrantType(\"deduct\");\r\n    setGrantDialogOpen(true);\r\n  };\r\n\r\n  const getTransactionTypeLabel = (type: string) => {\r\n    switch (type) {\r\n      case \"comment\": return t(\"admin.points.typeComment\", \"评论奖励\");\r\n      case \"admin_grant\": return t(\"admin.points.typeAdminGrant\", \"管理员发放\");\r\n      case \"admin_deduct\": return t(\"admin.points.typeAdminDeduct\", \"管理员扣除\");\r\n      case \"purchase\": return t(\"admin.points.typePurchase\", \"积分兑换\");\r\n      case \"refund\": return t(\"admin.points.typeRefund\", \"退款\");\r\n      case \"expire\": return t(\"admin.points.typeExpire\", \"过期\");\r\n      default: return type;\r\n    }\r\n  };\r\n\r\n  const getTransactionTypeBadge = (type: string, amount: number) => {\r\n    const isPositive = amount > 0;\r\n    return (\r\n      <Badge variant={isPositive ? \"default\" : \"secondary\"}>\r\n        {getTransactionTypeLabel(type)}\r\n      </Badge>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold\">{t(\"admin.points.title\", \"积分管理\")}</h1>\r\n        <p className=\"text-muted-foreground\">{t(\"admin.points.description\", \"管理用户积分，查看积分交易记录\")}</p>\r\n      </div>\r\n\r\n      <Tabs defaultValue=\"users\" className=\"space-y-4\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"users\" className=\"flex items-center gap-2\">\r\n            <Users className=\"h-4 w-4\" />\r\n            {t(\"admin.points.userManagement\", \"用户积分\")}\r\n          </TabsTrigger>\r\n          <TabsTrigger value=\"history\" className=\"flex items-center gap-2\">\r\n            <History className=\"h-4 w-4\" />\r\n            {t(\"admin.points.transactionHistory\", \"交易记录\")}\r\n          </TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"users\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Search className=\"h-5 w-5\" />\r\n                {t(\"admin.points.searchUser\", \"搜索用户\")}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"flex gap-2\">\r\n                <Input\r\n                  placeholder={t(\"admin.points.searchPlaceholder\", \"输入用户名或用户ID...\")}\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\r\n                />\r\n                <Button onClick={handleSearch} disabled={isSearching}>\r\n                  <Search className=\"h-4 w-4 mr-2\" />\r\n                  {t(\"common.search\", \"搜索\")}\r\n                </Button>\r\n              </div>\r\n\r\n              {searchResults.length > 0 && (\r\n                <div className=\"mt-4\">\r\n                  <Table>\r\n                    <TableHeader>\r\n                      <TableRow>\r\n                        <TableHead>{t(\"admin.points.user\", \"用户\")}</TableHead>\r\n                        <TableHead>{t(\"admin.points.currentPoints\", \"当前积分\")}</TableHead>\r\n                        <TableHead className=\"text-right\">{t(\"common.actions\", \"操作\")}</TableHead>\r\n                      </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                      {searchResults.map((user) => (\r\n                        <TableRow key={user.id}>\r\n                          <TableCell>\r\n                            <div className=\"flex items-center gap-3\">\r\n                              {user.avatar_url ? (\r\n                                <img \r\n                                  src={user.avatar_url} \r\n                                  alt={user.display_name} \r\n                                  className=\"w-8 h-8 rounded-full object-cover\"\r\n                                />\r\n                              ) : (\r\n                                <div className=\"w-8 h-8 rounded-full bg-muted flex items-center justify-center\">\r\n                                  {user.display_name?.charAt(0).toUpperCase()}\r\n                                </div>\r\n                              )}\r\n                              <div>\r\n                                <div className=\"font-medium\">{user.display_name}</div>\r\n                                <div className=\"text-xs text-muted-foreground\">{user.id}</div>\r\n                              </div>\r\n                            </div>\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <div className=\"flex items-center gap-1\">\r\n                              <Coins className=\"h-4 w-4 text-amber-500\" />\r\n                              <span className=\"font-semibold\">{user.points}</span>\r\n                            </div>\r\n                          </TableCell>\r\n                          <TableCell className=\"text-right\">\r\n                            <div className=\"flex items-center justify-end gap-2\">\r\n                              <Button \r\n                                variant=\"outline\" \r\n                                size=\"sm\"\r\n                                onClick={() => handleGrantPoints(user)}\r\n                              >\r\n                                <Plus className=\"h-4 w-4 mr-1\" />\r\n                                {t(\"admin.points.grant\", \"发放\")}\r\n                              </Button>\r\n                              <Button \r\n                                variant=\"outline\" \r\n                                size=\"sm\"\r\n                                onClick={() => handleDeductPoints(user)}\r\n                              >\r\n                                <Minus className=\"h-4 w-4 mr-1\" />\r\n                                {t(\"admin.points.deduct\", \"扣除\")}\r\n                              </Button>\r\n                            </div>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                    </TableBody>\r\n                  </Table>\r\n                </div>\r\n              )}\r\n\r\n              {searchResults.length === 0 && searchQuery && !isSearching && (\r\n                <div className=\"text-center py-8 text-muted-foreground\">\r\n                  {t(\"admin.points.noResults\", \"未找到匹配的用户\")}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"history\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <History className=\"h-5 w-5\" />\r\n                {t(\"admin.points.recentTransactions\", \"最近交易记录\")}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {isLoading ? (\r\n                <div className=\"text-center py-8\">{t(\"common.loading\")}</div>\r\n              ) : transactions && transactions.length > 0 ? (\r\n                <Table>\r\n                  <TableHeader>\r\n                    <TableRow>\r\n                      <TableHead>{t(\"admin.points.time\", \"时间\")}</TableHead>\r\n                      <TableHead>{t(\"admin.points.user\", \"用户\")}</TableHead>\r\n                      <TableHead>{t(\"admin.points.type\", \"类型\")}</TableHead>\r\n                      <TableHead>{t(\"admin.points.amount\", \"变动\")}</TableHead>\r\n                      <TableHead>{t(\"admin.points.balance\", \"余额\")}</TableHead>\r\n                      <TableHead>{t(\"admin.points.reason\", \"原因\")}</TableHead>\r\n                    </TableRow>\r\n                  </TableHeader>\r\n                  <TableBody>\r\n                    {transactions.map((tx: any) => (\r\n                      <TableRow key={tx.id}>\r\n                        <TableCell className=\"text-sm\">\r\n                          {format(new Date(tx.created_at), \"yyyy-MM-dd HH:mm\")}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <div className=\"font-medium\">{tx.profiles?.display_name || tx.user_id}</div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {getTransactionTypeBadge(tx.type, tx.amount)}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <span className={tx.amount > 0 ? \"text-green-600\" : \"text-red-600\"}>\r\n                            {tx.amount > 0 ? \"+\" : \"\"}{tx.amount}\r\n                          </span>\r\n                        </TableCell>\r\n                        <TableCell>{tx.balance_after}</TableCell>\r\n                        <TableCell className=\"text-sm text-muted-foreground max-w-[200px] truncate\">\r\n                          {tx.reason || \"-\"}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              ) : (\r\n                <div className=\"text-center py-8 text-muted-foreground\">\r\n                  {t(\"admin.points.noTransactions\", \"暂无交易记录\")}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      <GrantPointsDialog\r\n        open={grantDialogOpen}\r\n        onOpenChange={setGrantDialogOpen}\r\n        user={selectedUser}\r\n        type={grantType}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPoints;\r\n"],"names":["Minus","createLucideIcon","formSchema","z.object","z.number","z.string","GrantPointsDialog","open","onOpenChange","user","type","t","useTranslation","modifyPoints","useAdminModifyPoints","form","useForm","zodResolver","onSubmit","data","amount","result","toast","error","jsx","Dialog","DialogContent","jsxs","DialogHeader","DialogTitle","Fragment","Plus","DialogDescription","Form","FormField","field","FormItem","FormLabel","FormControl","Coins","Input","e","FormMessage","Textarea","Button","AdminPoints","transactions","isLoading","useAllPointsTransactions","searchQuery","setSearchQuery","useState","searchResults","setSearchResults","isSearching","setIsSearching","grantDialogOpen","setGrantDialogOpen","selectedUser","setSelectedUser","grantType","setGrantType","handleSearch","supabase","handleGrantPoints","handleDeductPoints","getTransactionTypeLabel","getTransactionTypeBadge","isPositive","Badge","Tabs","TabsList","TabsTrigger","Users","History","TabsContent","Card","CardHeader","CardTitle","Search","CardContent","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","tx","format"],"mappings":"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","x_google_ignoreList":[0]}