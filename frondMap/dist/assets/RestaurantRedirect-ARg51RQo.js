import{bw as u,u as c,r as i,j as e,aM as l}from"./vendor-react-BQzJ6E-_.js";import{s as d}from"./index-CvGChxBf.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-vwQGbBim.js";import"./vendor-supabase-Bm_2ig-Q.js";const y=()=>{const{keyId:t}=u(),r=c(),[a,s]=i.useState(null);return i.useEffect(()=>{(async()=>{if(!t){s("Key ID not provided");return}const{data:n,error:o}=await d.from("restaurants").select("id").eq("key_id",t).maybeSingle();if(o){s("Failed to find restaurant");return}if(!n){s("Restaurant not found");return}r(`/restaurant/${n.id}`,{replace:!0})})()},[t,r]),a?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("p",{className:"text-lg text-destructive",children:a}),e.jsx("button",{onClick:()=>r("/restaurants"),className:"text-primary hover:underline",children:"Browse all restaurants"})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(l,{className:"h-8 w-8 animate-spin text-muted-foreground"})})};export{y as default};
//# sourceMappingURL=RestaurantRedirect-ARg51RQo.js.map
