import{j as e}from"./vendor-ui-DAmPMpEA.js";import{r as a}from"./vendor-react-iAJ0IrSD.js";import{br as R,B as t,aS as z,g as F,t as K,T as M,aT as Q,h as U,I as u,v as _,bS as q,b2 as G,D as b,a as y,b as N,c as A,ay as J,aB as T,af as V,ag as X,ah as Y,ai as Z,aj as $,ak as ee,al as se,am as ie}from"./index-COqZhysY.js";import{T as ae,a as te,b as k,c as j,d as ne,e as g}from"./table-BKX-EkZl.js";import{u as re,a as de,b as oe,c as le}from"./useSensitiveWords-BE1PKMyc.js";import{u as ce}from"./vendor-i18n-DxKeo2S1.js";import{f as me}from"./format-BmunoZQS.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-BlSVl3IQ.js";import"./vendor-supabase-KNAP0qdW.js";import"./startOfDay-BXeLCDGF.js";const Ce=()=>{const{t:s}=ce(),{data:p,isLoading:O}=re(),v=de(),f=oe(),E=le(),[l,H]=a.useState(""),[P,r]=a.useState(!1),[I,d]=a.useState(!1),[B,c]=a.useState(!1),[o,D]=a.useState(""),[n,m]=a.useState(null),[h,W]=a.useState(null),x=p?.filter(i=>i.word.toLowerCase().includes(l.toLowerCase())),w=()=>{o.trim()&&v.mutate(o,{onSuccess:()=>{D(""),r(!1)}})},C=()=>{!n||!n.word.trim()||f.mutate({id:n.id,word:n.word},{onSuccess:()=>{m(null),d(!1)}})},L=()=>{h&&E.mutate(h.id,{onSuccess:()=>{W(null),c(!1)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(R,{className:"h-6 w-6"}),s("admin.sensitiveWords.title")]}),e.jsx("p",{className:"text-muted-foreground",children:s("admin.sensitiveWords.description")})]}),e.jsxs(t,{onClick:()=>r(!0),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),s("admin.sensitiveWords.add")]})]}),e.jsxs(F,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{children:s("admin.sensitiveWords.list")}),e.jsx(Q,{children:s("admin.sensitiveWords.total",{count:p?.length||0})})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:s("admin.sensitiveWords.search"),value:l,onChange:i=>H(i.target.value),className:"pl-9"})]})]})}),e.jsx(_,{children:O?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s("common.loading")}):x&&x.length>0?e.jsxs(ae,{children:[e.jsx(te,{children:e.jsxs(k,{children:[e.jsx(j,{children:s("admin.sensitiveWords.word")}),e.jsx(j,{children:s("admin.sensitiveWords.createdAt")}),e.jsx(j,{className:"text-right",children:s("common.actions.actions")})]})}),e.jsx(ne,{children:x.map(i=>e.jsxs(k,{children:[e.jsx(g,{className:"font-medium",children:i.word}),e.jsx(g,{children:me(new Date(i.created_at),"yyyy-MM-dd HH:mm")}),e.jsxs(g,{className:"text-right",children:[e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>{m(i),d(!0)},children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(t,{variant:"ghost",size:"icon",onClick:()=>{W(i),c(!0)},children:e.jsx(G,{className:"h-4 w-4 text-destructive"})})]})]},i.id))})]}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s(l?"admin.sensitiveWords.noResults":"admin.sensitiveWords.empty")})})]}),e.jsx(b,{open:P,onOpenChange:r,children:e.jsxs(y,{children:[e.jsxs(N,{children:[e.jsx(A,{children:s("admin.sensitiveWords.add")}),e.jsx(J,{children:s("admin.sensitiveWords.addDescription")})]}),e.jsx(u,{placeholder:s("admin.sensitiveWords.inputPlaceholder"),value:o,onChange:i=>D(i.target.value),onKeyDown:i=>i.key==="Enter"&&w()}),e.jsxs(T,{children:[e.jsx(t,{variant:"outline",onClick:()=>r(!1),children:s("common.actions.cancel")}),e.jsx(t,{onClick:w,disabled:v.isPending||!o.trim(),children:s("common.actions.add")})]})]})}),e.jsx(b,{open:I,onOpenChange:d,children:e.jsxs(y,{children:[e.jsx(N,{children:e.jsx(A,{children:s("admin.sensitiveWords.edit")})}),e.jsx(u,{placeholder:s("admin.sensitiveWords.inputPlaceholder"),value:n?.word||"",onChange:i=>m(S=>S?{...S,word:i.target.value}:null),onKeyDown:i=>i.key==="Enter"&&C()}),e.jsxs(T,{children:[e.jsx(t,{variant:"outline",onClick:()=>d(!1),children:s("common.actions.cancel")}),e.jsx(t,{onClick:C,disabled:f.isPending||!n?.word.trim(),children:s("common.actions.save")})]})]})}),e.jsx(V,{open:B,onOpenChange:c,children:e.jsxs(X,{children:[e.jsxs(Y,{children:[e.jsx(Z,{children:s("admin.sensitiveWords.deleteTitle")}),e.jsx($,{children:s("admin.sensitiveWords.deleteDescription",{word:h?.word})})]}),e.jsxs(ee,{children:[e.jsx(se,{children:s("common.actions.cancel")}),e.jsx(ie,{onClick:L,className:"bg-destructive text-destructive-foreground",children:s("common.actions.delete")})]})]})})]})};export{Ce as default};
//# sourceMappingURL=AdminSensitiveWords-D_HRhzGB.js.map
