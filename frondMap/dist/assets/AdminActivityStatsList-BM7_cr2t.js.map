{"version":3,"file":"AdminActivityStatsList-BM7_cr2t.js","sources":["../../src/pages/admin/AdminActivityStatsList.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { BarChart3, Users, Share2, Eye, TrendingUp, Calendar } from \"lucide-react\";\r\nimport { useLocalizedContent } from \"@/hooks/useLocalizedContent\";\r\nimport { subDays, startOfDay } from \"date-fns\";\r\n\r\ntype TimeRange = \"today\" | \"7days\" | \"30days\" | \"all\";\r\n\r\nconst AdminActivityStatsList = () => {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const { getLocalizedField } = useLocalizedContent();\r\n  const [timeRange, setTimeRange] = useState<TimeRange>(\"30days\");\r\n\r\n  const getDateFilter = () => {\r\n    const now = new Date();\r\n    switch (timeRange) {\r\n      case \"today\":\r\n        return startOfDay(now).toISOString();\r\n      case \"7days\":\r\n        return startOfDay(subDays(now, 6)).toISOString();\r\n      case \"30days\":\r\n        return startOfDay(subDays(now, 29)).toISOString();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // Fetch all published activities (exclude drafts)\r\n  const { data: activities, isLoading: activitiesLoading } = useQuery({\r\n    queryKey: ['admin-activities-stats-list'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('activities')\r\n        .select('*')\r\n        .neq('status', 'draft')\r\n        .order('created_at', { ascending: false });\r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n  });\r\n\r\n  const dateFilter = getDateFilter();\r\n\r\n  // Fetch subscriptions count per activity using count queries\r\n  const { data: subscriptionCounts } = useQuery({\r\n    queryKey: ['admin-all-subscription-counts', timeRange, activities?.map(a => a.id)],\r\n    queryFn: async () => {\r\n      if (!activities?.length) return {};\r\n      const counts: Record<string, number> = {};\r\n      \r\n      await Promise.all(activities.map(async (activity) => {\r\n        let query = supabase\r\n          .from('subscriptions')\r\n          .select('*', { count: 'exact', head: true })\r\n          .eq('activity_id', activity.id);\r\n        if (dateFilter) {\r\n          query = query.gte('created_at', dateFilter);\r\n        }\r\n        const { count, error } = await query;\r\n        if (!error && count !== null) {\r\n          counts[activity.id] = count;\r\n        }\r\n      }));\r\n      \r\n      return counts;\r\n    },\r\n    enabled: !!activities?.length,\r\n  });\r\n\r\n  // Fetch shares count per activity using count queries\r\n  const { data: shareCounts } = useQuery({\r\n    queryKey: ['admin-all-share-counts', timeRange, activities?.map(a => a.id)],\r\n    queryFn: async () => {\r\n      if (!activities?.length) return {};\r\n      const counts: Record<string, number> = {};\r\n      \r\n      await Promise.all(activities.map(async (activity) => {\r\n        let query = supabase\r\n          .from('activity_shares')\r\n          .select('*', { count: 'exact', head: true })\r\n          .eq('activity_id', activity.id);\r\n        if (dateFilter) {\r\n          query = query.gte('created_at', dateFilter);\r\n        }\r\n        const { count, error } = await query;\r\n        if (!error && count !== null) {\r\n          counts[activity.id] = count;\r\n        }\r\n      }));\r\n      \r\n      return counts;\r\n    },\r\n    enabled: !!activities?.length,\r\n  });\r\n\r\n  // Fetch page views count per activity using count queries\r\n  const { data: viewCounts } = useQuery({\r\n    queryKey: ['admin-all-activity-view-counts', timeRange, activities?.map(a => a.id)],\r\n    queryFn: async () => {\r\n      if (!activities?.length) return {};\r\n      const counts: Record<string, number> = {};\r\n      \r\n      await Promise.all(activities.map(async (activity) => {\r\n        let query = supabase\r\n          .from('page_views')\r\n          .select('*', { count: 'exact', head: true })\r\n          .eq('page_type', 'activity')\r\n          .eq('target_id', activity.id);\r\n        if (dateFilter) {\r\n          query = query.gte('created_at', dateFilter);\r\n        }\r\n        const { count, error } = await query;\r\n        if (!error && count !== null) {\r\n          counts[activity.id] = count;\r\n        }\r\n      }));\r\n      \r\n      return counts;\r\n    },\r\n    enabled: !!activities?.length,\r\n  });\r\n\r\n  // Fetch participating restaurants count per activity using count queries\r\n  const { data: restaurantCounts } = useQuery({\r\n    queryKey: ['admin-all-activity-restaurant-counts', activities?.map(a => a.id)],\r\n    queryFn: async () => {\r\n      if (!activities?.length) return {};\r\n      const counts: Record<string, number> = {};\r\n      \r\n      await Promise.all(activities.map(async (activity) => {\r\n        const { count, error } = await supabase\r\n          .from('activity_restaurants')\r\n          .select('*', { count: 'exact', head: true })\r\n          .eq('activity_id', activity.id);\r\n        if (!error && count !== null) {\r\n          counts[activity.id] = count;\r\n        }\r\n      }));\r\n      \r\n      return counts;\r\n    },\r\n    enabled: !!activities?.length,\r\n  });\r\n\r\n  // Calculate total stats\r\n  const totalViews = viewCounts ? Object.values(viewCounts).reduce((a, b) => a + b, 0) : 0;\r\n  const totalSubscribers = subscriptionCounts ? Object.values(subscriptionCounts).reduce((a, b) => a + b, 0) : 0;\r\n  const totalShares = shareCounts ? Object.values(shareCounts).reduce((a, b) => a + b, 0) : 0;\r\n  const totalRestaurants = restaurantCounts ? Object.values(restaurantCounts).reduce((a, b) => a + b, 0) : 0;\r\n\r\n  if (activitiesLoading) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <Skeleton className=\"h-8 w-48\" />\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          {[1, 2, 3, 4].map(i => <Skeleton key={i} className=\"h-24\" />)}\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {[1, 2, 3, 4, 5, 6].map(i => <Skeleton key={i} className=\"h-40\" />)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <TrendingUp className=\"h-6 w-6 text-primary\" />\r\n          <h1 className=\"text-2xl font-bold\">{t('admin.activityStatistics')}</h1>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n          <Select value={timeRange} onValueChange={(v) => setTimeRange(v as TimeRange)}>\r\n            <SelectTrigger className=\"w-[140px]\">\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"today\">{t('analytics.today', '今日')}</SelectItem>\r\n              <SelectItem value=\"7days\">{t('analytics.last7Days', '近7天')}</SelectItem>\r\n              <SelectItem value=\"30days\">{t('analytics.last30Days', '近30天')}</SelectItem>\r\n              <SelectItem value=\"all\">{t('analytics.allTime', '所有时间')}</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overview Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\r\n                <Eye className=\"h-5 w-5 text-primary\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.totalViews')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalViews}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-red-500/10 rounded-lg\">\r\n                <Users className=\"h-5 w-5 text-red-500\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.totalSubscribers')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalSubscribers}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-green-500/10 rounded-lg\">\r\n                <Share2 className=\"h-5 w-5 text-green-500\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.totalShares')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalShares}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-amber-500/10 rounded-lg\">\r\n                <BarChart3 className=\"h-5 w-5 text-amber-500\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.participatingRestaurants')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalRestaurants}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Activity List */}\r\n      <div>\r\n        <h2 className=\"text-lg font-semibold mb-4\">{t('admin.allActivities')}</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {activities?.map(activity => {\r\n            const title = getLocalizedField(activity, 'title');\r\n            const views = viewCounts?.[activity.id] || 0;\r\n            const subscribers = subscriptionCounts?.[activity.id] || 0;\r\n            const shares = shareCounts?.[activity.id] || 0;\r\n            const restaurants = restaurantCounts?.[activity.id] || 0;\r\n\r\n            return (\r\n              <Card \r\n                key={activity.id} \r\n                className=\"cursor-pointer hover:shadow-md transition-shadow\"\r\n                onClick={() => navigate(`/admin/activity-stats/${activity.id}`)}\r\n              >\r\n                <CardHeader className=\"pb-2\">\r\n                  <CardTitle className=\"text-base line-clamp-2\">{title}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{views} {t('admin.views')}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{subscribers} {t('admin.subscribers')}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Share2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{shares} {t('admin.shares')}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <BarChart3 className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{restaurants} {t('admin.restaurants')}</span>\r\n                    </div>\r\n                  </div>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-full mt-4\">\r\n                    {t('admin.viewDetails')}\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminActivityStatsList;\r\n"],"names":["AdminActivityStatsList","t","useTranslation","navigate","useNavigate","getLocalizedField","useLocalizedContent","timeRange","setTimeRange","useState","getDateFilter","now","startOfDay","subDays","activities","activitiesLoading","useQuery","data","error","supabase","dateFilter","subscriptionCounts","a","counts","activity","query","count","shareCounts","viewCounts","restaurantCounts","totalViews","b","totalSubscribers","totalShares","totalRestaurants","jsxs","jsx","Skeleton","i","TrendingUp","Calendar","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","Card","CardContent","Eye","Users","Share2","BarChart3","title","views","subscribers","shares","restaurants","CardHeader","CardTitle","Button"],"mappings":"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"}