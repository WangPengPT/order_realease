import{c as Z,r as o,j as e,L as z,C as ee,a as u,B as $,M as F,b as H,u as te,H as se,S as ae}from"./index-CJcx5ZXn.js";import{m as oe}from"./map-icon-DR07RZr_.js";import{u as le}from"./useHomepageTemplates-zEURmTJS.js";import{u as re,i as ie,a as ne}from"./externalLinks-BRdTanVr.js";import{S as ce}from"./shopping-bag-D70AJ6K-.js";import{C as de}from"./calendar-check-CNAdKxeH.js";import{A as me}from"./arrow-right-C8aWUe0g.js";import{S as ue}from"./search-DDQ7kpAH.js";import{S as xe}from"./star-B60JlfS3.js";import{D as he}from"./download-CUMBeC5o.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),O="/assets/sushi-ramen-hero-kMMmiTPz.jpg",W="/assets/sushi-ramen-mobile-BHV96LaL.jpg",be="/assets/google-play-badge-BAXiFmDF.png",A=o.memo(({stats:t,t:c})=>e.jsx("div",{className:"absolute top-3 sm:top-4 left-3 z-20",children:e.jsxs("div",{className:"gap-4 w-fit flex-col flex items-start justify-start",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm text-white/90 drop-shadow-md",children:c("home.stats.delivery")}),e.jsx("span",{className:"font-bold text-white text-sm drop-shadow-md",children:t.order_count})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm text-white/90 drop-shadow-md",children:c("home.stats.reservation")}),e.jsx("span",{className:"font-bold text-white text-sm drop-shadow-md",children:t.reserve_count})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white drop-shadow-md",children:c("home.hero.brandName")}),e.jsx("img",{src:oe,alt:"map icon",className:"w-5 sm:w-8 h-5 sm:h-8 object-contain flex-shrink-0"})]})]})}));A.displayName="StatsDisplay";const L=o.memo(({to:t,Icon:c,title:s,desc:l,iconBg:d,iconColor:x,hoverBorderColor:p})=>e.jsx(z,{to:t,children:e.jsxs(ee,{className:`group p-6 sm:p-8 border-border/50 ${p} transition-all hover:shadow-large cursor-pointer h-full`,children:[e.jsx("div",{className:`w-14 sm:w-16 h-14 sm:h-16 rounded-2xl ${d} flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform`,children:e.jsx(c,{className:`w-7 sm:w-8 h-7 sm:h-8 ${x}`})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-semibold mb-2 sm:mb-3 text-card-foreground",children:s}),e.jsxs("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed flex items-center gap-2",children:[l,e.jsx(me,{className:"w-4 h-4 flex-shrink-0 group-hover:translate-x-1 transition-transform"})]})]})}));L.displayName="FeatureCard";const fe=()=>{var p;const t=window.innerWidth<640,c=window.innerWidth>=1024,s=navigator.connection,l=window.Capacitor,d=ie(),x=ne();return console.log("[LightweightMode] Detection:",{isCapacitorApp:d,isInWebView:x,hasCapacitor:!!l,capacitorDetails:l?{isNativePlatform:l.isNativePlatform,isNative:l.isNative,platform:(p=l.getPlatform)==null?void 0:p.call(l)}:null,userAgent:navigator.userAgent.substring(0,100)}),c?!!(s!=null&&s.saveData):x&&!d?(console.log("[LightweightMode] WebView detected (not Capacitor), using lightweight mode"),!0):s&&(s.saveData||s.effectiveType==="2g"||s.effectiveType==="slow-2g")||t&&navigator.deviceMemory&&navigator.deviceMemory<2?!0:(console.log("[LightweightMode] Normal mode, videos enabled"),!1)},R=o.memo(({template:t,isActive:c,currentLang:s,t:l,onContentReady:d})=>{const[x,p]=o.useState({}),[w,h]=o.useState({}),[r,I]=o.useState({mobile:!0,tablet:!0,desktop:!0}),[N,B]=o.useState(!1),y=fe(),b=n=>t[`${n}${s==="zh"?"_zh":s==="pt"?"_pt":"_en"}`]||"",i=()=>window.innerWidth<640?"mobile":window.innerWidth<1024?"tablet":"desktop",m=()=>{const n=i();return n==="mobile"&&t.mobile_overlay_opacity!==null?t.mobile_overlay_opacity:n==="tablet"&&t.tablet_overlay_opacity!==null?t.tablet_overlay_opacity:n==="desktop"&&t.desktop_overlay_opacity!==null?t.desktop_overlay_opacity:t.overlay_opacity??30},f=()=>{const n=m(),g=t.overlay_gradient_direction||"to-b",j=(S,Y)=>S==null?Y/100:S>1?S/100:S,v=n>1?n/100:n,G=j(t.overlay_gradient_from_opacity,30)*v,X=j(t.overlay_gradient_via_opacity,25)*v,q=j(t.overlay_gradient_to_opacity,40)*v,J={"to-t":"to top","to-b":"to bottom","to-l":"to left","to-r":"to right","to-tl":"to top left","to-tr":"to top right","to-bl":"to bottom left","to-br":"to bottom right"}[g]||"to bottom",D={black:"0, 0, 0",white:"255, 255, 255",background:"0, 0, 0",foreground:"255, 255, 255",primary:"1, 100, 80",secondary:"240, 240, 240"},K=D[t.overlay_gradient_from||"black"]||"0, 0, 0",Q=D[t.overlay_gradient_via||"black"]||"0, 0, 0",U=D[t.overlay_gradient_to||"black"]||"0, 0, 0";return{background:`linear-gradient(${J}, rgba(${K}, ${G}), rgba(${Q}, ${X}), rgba(${U}, ${q}))`}},_=t.mobile_image_url||W,k=t.tablet_image_url||t.desktop_image_url||O,C=t.desktop_image_url||O,a=t.background_blur||0,E=t.media_type==="video"&&!y,M=y?null:t.mobile_video_url,T=y?null:t.tablet_video_url||t.desktop_video_url,P=y?null:t.desktop_video_url;o.useEffect(()=>{const n=i(),g=n==="mobile"?_:n==="tablet"?k:C;if(g){const j=new Image;j.onload=()=>{p(v=>({...v,[n]:!0})),I(v=>({...v,[n]:!0})),c&&(d==null||d(),setTimeout(()=>B(!0),100))},j.src=g}},[_,k,C,c,d]),o.useEffect(()=>{c&&x[i()]&&B(!0)},[c,x]);const V=n=>{h(g=>({...g,[n]:!0}))};return e.jsxs("div",{className:u("absolute inset-0 w-full h-full transition-opacity duration-1000",c?"opacity-100 z-10":"opacity-0 z-0"),children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[E?e.jsxs(e.Fragment,{children:[M&&e.jsxs("div",{className:"absolute inset-0 w-full h-full sm:hidden",children:[!r.mobile&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:_,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center z-10 transition-opacity duration-500",w.mobile?"opacity-0 pointer-events-none":"opacity-100"),style:{filter:a>0?`blur(${a}px)`:void 0}}),N&&e.jsx("video",{src:M,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onCanPlay:()=>V("mobile"),className:"absolute inset-0 w-full h-full object-cover object-center",style:{filter:a>0?`blur(${a}px)`:void 0}})]}),!M&&e.jsxs("div",{className:"absolute inset-0 w-full h-full sm:hidden",children:[!r.mobile&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:_,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",r.mobile?"opacity-100":"opacity-0"),style:{filter:a>0?`blur(${a}px)`:void 0}})]}),T&&e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden sm:block lg:hidden",children:[!r.tablet&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:k,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center z-10 transition-opacity duration-500",w.tablet?"opacity-0 pointer-events-none":"opacity-100"),style:{filter:a>0?`blur(${a}px)`:void 0}}),N&&e.jsx("video",{src:T,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onCanPlay:()=>V("tablet"),className:"absolute inset-0 w-full h-full object-cover object-center",style:{filter:a>0?`blur(${a}px)`:void 0}})]}),!T&&e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden sm:block lg:hidden",children:[!r.tablet&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:k,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",r.tablet?"opacity-100":"opacity-0"),style:{filter:a>0?`blur(${a}px)`:void 0}})]}),P&&e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden lg:block",children:[!r.desktop&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:C,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center z-10 transition-opacity duration-500",w.desktop?"opacity-0 pointer-events-none":"opacity-100"),style:{filter:a>0?`blur(${a}px)`:void 0}}),N&&e.jsx("video",{src:P,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",onCanPlay:()=>V("desktop"),className:"absolute inset-0 w-full h-full object-cover object-center",style:{filter:a>0?`blur(${a}px)`:void 0}})]}),!P&&e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden lg:block",children:[!r.desktop&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:C,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",r.desktop?"opacity-100":"opacity-0"),style:{filter:a>0?`blur(${a}px)`:void 0}})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full sm:hidden",children:[!r.mobile&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:_,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",r.mobile?"opacity-100":"opacity-0"),style:{filter:a>0?`blur(${a}px)`:void 0}})]}),e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden sm:block lg:hidden",children:[!r.tablet&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:k,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",r.tablet?"opacity-100":"opacity-0"),style:{filter:a>0?`blur(${a}px)`:void 0}})]}),e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden lg:block",children:[!r.desktop&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),e.jsx("img",{src:C,alt:"Background",className:u("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",r.desktop?"opacity-100":"opacity-0"),style:{filter:a>0?`blur(${a}px)`:void 0}})]})]}),e.jsx("div",{className:"absolute inset-0 w-full h-full",style:f()})]}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 flex items-center min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-8 animate-fade-in w-full",children:[t.subtitle_button_link&&e.jsx("div",{className:"flex justify-center",children:e.jsx($,{size:"lg",asChild:!0,className:"text-sm sm:text-base shadow-lg hover:shadow-2xl hover:scale-105 transition-all",children:e.jsxs(z,{to:t.subtitle_button_link,children:[e.jsx(F,{className:"mr-2 w-4 sm:w-5 h-4 sm:h-5"}),b("subtitle_button_text")||l("home.hero.subtitle")]})})}),e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-white leading-tight px-4 drop-shadow-[0_2px_8px_rgba(0,0,0,0.8)]",children:b("title")||l("home.hero.title")}),e.jsx("p",{className:"text-sm sm:text-xl md:text-2xl text-white/95 max-w-2xl mx-auto px-4 drop-shadow-[0_2px_6px_rgba(0,0,0,0.7)]",children:b("description")||l("home.hero.description")}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center pt-2 sm:pt-4 px-4",children:[e.jsx($,{size:"lg",asChild:!0,className:"text-base sm:text-lg shadow-lg hover:shadow-2xl hover:scale-105 transition-all w-full sm:w-auto",children:e.jsxs(z,{to:t.primary_button_link||"/restaurants",children:[e.jsx(ue,{className:"mr-2 w-4 sm:w-5 h-4 sm:h-5"}),b("primary_button_text")||l("home.hero.exploreBtn")]})}),e.jsx($,{size:"lg",variant:"outline",asChild:!0,className:"text-base sm:text-lg w-full sm:w-auto backdrop-blur-sm hover:border-transparent hover:scale-105 transition-all",children:e.jsxs(z,{to:t.secondary_button_link||"/activities",children:[e.jsx(H,{className:"mr-2 w-4 sm:w-5 h-4 sm:h-5"}),b("secondary_button_text")||l("home.hero.activitiesBtn")]})})]})]})})]})});R.displayName="HeroSlide";const Be=()=>{const{t,i18n:c}=te(),{data:s,isLoading:l}=le(),[d,x]=o.useState(0),[p,w]=o.useState(null),h=o.useRef(null),[r,I]=o.useState(!1),N=o.useCallback(()=>{I(!0)},[]);re({pageType:"home"}),o.useEffect(()=>{(async()=>{try{const f=await(await fetch("https://v.xiaoxiong.pt/api/get_info")).json();f&&w({order_count:f.order_count||0,reserve_count:f.reserve_count||0})}catch(m){console.error("Failed to fetch stats:",m)}})()},[]),o.useEffect(()=>{if(!s||s.length<=1)return;const i=s[d],m=(i==null?void 0:i.duration)||5e3;return h.current=setTimeout(()=>{x(f=>(f+1)%s.length)},m),()=>{h.current&&clearTimeout(h.current)}},[s,d]);const B=o.useCallback(i=>{h.current&&clearTimeout(h.current),x(i)},[]);o.useCallback(()=>{s&&(h.current&&clearTimeout(h.current),x(i=>(i-1+s.length)%s.length))},[s]),o.useCallback(()=>{s&&(h.current&&clearTimeout(h.current),x(i=>(i+1)%s.length))},[s]);const y=c.language,b=s&&s.length>1;return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("section",{className:"relative min-h-screen flex items-start overflow-hidden bg-background",children:[p&&e.jsx(A,{stats:p,t}),e.jsx("div",{className:u("absolute inset-0 w-full h-full transition-opacity duration-500",r?"opacity-100":"opacity-0"),children:s==null?void 0:s.map((i,m)=>e.jsx(R,{template:i,isActive:m===d,currentLang:y,t,onContentReady:m===0?N:void 0},i.id))}),e.jsx("div",{className:u("absolute inset-0 w-full h-full z-20 transition-opacity duration-500",l||!r?"opacity-100":"opacity-0 pointer-events-none"),children:e.jsx(se,{})}),!l&&(!s||s.length===0)&&e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:W,alt:"Background",className:"absolute inset-0 w-full h-full object-cover object-center sm:hidden"}),e.jsx("img",{src:O,alt:"Background",className:"absolute inset-0 w-full h-full object-cover object-center hidden sm:block"}),e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-b from-black/30 via-black/25 to-black/40"}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 flex items-center min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-8 animate-fade-in w-full",children:[e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-white leading-tight px-4 drop-shadow-[0_2px_8px_rgba(0,0,0,0.8)]",children:t("home.hero.title")}),e.jsx("p",{className:"text-sm sm:text-xl md:text-2xl text-white/95 max-w-2xl mx-auto px-4 drop-shadow-[0_2px_6px_rgba(0,0,0,0.7)]",children:t("home.hero.description")})]})})]}),b&&e.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30 flex gap-2",children:s.map((i,m)=>e.jsx("button",{onClick:()=>B(m),className:u("w-3 h-3 rounded-full transition-all duration-300",m===d?"bg-white w-8":"bg-white/50 hover:bg-white/70"),"aria-label":`Go to slide ${m+1}`},m))})]}),e.jsx("section",{className:"py-16 sm:py-24 px-4 bg-secondary/20",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-foreground mb-3 sm:mb-4",children:t("home.features.title")}),e.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-2xl mx-auto px-4",children:t("home.features.description")})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8",children:[e.jsx(L,{to:"/map",Icon:F,title:t("home.features.map.title"),desc:t("home.features.map.desc"),iconBg:"bg-gradient-to-br from-primary to-primary-light",iconColor:"text-primary-foreground",hoverBorderColor:"hover:border-primary/50"}),e.jsx(L,{to:"/restaurants",Icon:xe,title:t("home.features.reviews.title"),desc:t("home.features.reviews.desc"),iconBg:"bg-gradient-to-br from-accent to-warning",iconColor:"text-accent-foreground",hoverBorderColor:"hover:border-accent/50"}),e.jsx("div",{className:"sm:col-span-2 md:col-span-1",children:e.jsx(L,{to:"/activities",Icon:H,title:t("home.features.events.title"),desc:t("home.features.events.desc"),iconBg:"bg-gradient-to-br from-success to-accent",iconColor:"text-white",hoverBorderColor:"hover:border-success/50"})})]})]})}),e.jsxs("section",{className:"py-16 sm:py-24 px-4 bg-gradient-to-br from-primary/5 via-background to-primary/10 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-primary/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-0 w-32 h-32 bg-primary/20 rounded-full blur-2xl -translate-y-1/2"}),e.jsx("div",{className:"absolute top-1/2 right-0 w-32 h-32 bg-primary/20 rounded-full blur-2xl -translate-y-1/2"}),e.jsx("div",{className:"container mx-auto max-w-5xl relative z-10",children:e.jsx("div",{className:"flex flex-col items-center justify-center gap-8",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary text-sm font-medium px-4 py-2 rounded-full mb-4",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Mobile App"})]}),e.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-4",children:t("home.app.title")}),e.jsx("p",{className:"text-base sm:text-lg text-muted-foreground mb-8 leading-relaxed",children:t("home.app.description")}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("a",{href:"https://play.google.com/store/apps/details?id=com.xiaoxiong.market",target:"_blank",rel:"noopener noreferrer",className:"relative group",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary via-primary-glow to-primary rounded-2xl blur-lg opacity-40 group-hover:opacity-70 transition-opacity"}),e.jsx("div",{className:"relative bg-black hover:bg-gray-900 px-6 py-3 rounded-xl transition-all hover:scale-105 shadow-2xl hover:shadow-primary/30 border border-white/10",children:e.jsx("img",{src:be,alt:"Get it on Google Play",className:"h-12 sm:h-14"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(he,{className:"w-4 h-4 animate-bounce"}),e.jsx("span",{children:t("home.app.downloadNow")})]})]})]})})})]}),e.jsxs("section",{className:"py-16 sm:py-20 px-4 bg-gradient-to-br from-primary via-primary-glow to-primary-light relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 sm:w-96 h-64 sm:h-96 bg-white/5 rounded-full blur-3xl"}),e.jsxs("div",{className:"container mx-auto max-w-4xl text-center relative z-10",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary-foreground mb-4 sm:mb-6 px-4",children:t("home.cta.title")}),e.jsx("p",{className:"text-base sm:text-xl text-primary-foreground/90 mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:t("home.cta.description")}),e.jsx("div",{className:"flex justify-center",children:e.jsx($,{size:"lg",variant:"secondary",asChild:!0,className:"text-base sm:text-lg shadow-xl hover:shadow-2xl",children:e.jsxs(z,{to:"/join-us",children:[e.jsx(ae,{className:"mr-2 w-4 sm:w-5 h-4 sm:h-5"}),t("home.cta.button")]})})})]})]})]})};export{Be as default};
