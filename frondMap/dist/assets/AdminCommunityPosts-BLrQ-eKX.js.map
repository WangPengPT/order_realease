{"version":3,"file":"AdminCommunityPosts-BLrQ-eKX.js","sources":["../../src/pages/admin/AdminCommunityPosts.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { zhCN, enUS, pt } from \"date-fns/locale\";\r\nimport {\r\n  Search,\r\n  Eye,\r\n  Trash2,\r\n  EyeOff,\r\n  Check,\r\n  AlertTriangle,\r\n  Image,\r\n  Video,\r\n  Heart,\r\n  MessageCircle,\r\n  Share2,\r\n  Clock,\r\n  Filter,\r\n  LayoutGrid,\r\n  List,\r\n  CheckCircle2,\r\n  XCircle,\r\n  AlertCircle,\r\n  Link2,\r\n  FileText,\r\n  Ban,\r\n} from \"lucide-react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport {\r\n  useAdminCommunityPosts,\r\n  useUpdatePost,\r\n  useDeletePost,\r\n  CommunityPost,\r\n} from \"@/hooks/useCommunityPosts\";\r\nimport { useLocalizedContent } from \"@/hooks/useLocalizedContent\";\r\nimport PostManagementDialog from \"@/components/admin/PostManagementDialog\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst AdminCommunityPosts = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const { getLocalizedField } = useLocalizedContent();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n  const [moderationFilter, setModerationFilter] = useState<string>(\"all\");\r\n  const [selectedPost, setSelectedPost] = useState<CommunityPost | null>(null);\r\n  const [deletePost, setDeletePost] = useState<CommunityPost | null>(null);\r\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\r\n\r\n  const { data: posts, isLoading } = useAdminCommunityPosts({\r\n    status: statusFilter !== \"all\" ? statusFilter : undefined,\r\n    moderation_status: moderationFilter !== \"all\" ? moderationFilter : undefined,\r\n    search: search || undefined,\r\n  });\r\n\r\n  const updatePost = useUpdatePost();\r\n  const deletePostMutation = useDeletePost();\r\n\r\n  const getDateLocale = () => {\r\n    switch (i18n.language) {\r\n      case \"zh\":\r\n        return zhCN;\r\n      case \"pt\":\r\n        return pt;\r\n      default:\r\n        return enUS;\r\n    }\r\n  };\r\n\r\n  const getStatusConfig = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return {\r\n          label: t(\"admin.status.approved\", \"已发布\"),\r\n          icon: CheckCircle2,\r\n          className: \"bg-emerald-500/10 text-emerald-600 border-emerald-500/20\",\r\n        };\r\n      case \"pending\":\r\n        return {\r\n          label: t(\"admin.status.pending\", \"待审核\"),\r\n          icon: Clock,\r\n          className: \"bg-amber-500/10 text-amber-600 border-amber-500/20\",\r\n        };\r\n      case \"rejected\":\r\n        return {\r\n          label: t(\"admin.status.rejected\", \"已拒绝\"),\r\n          icon: XCircle,\r\n          className: \"bg-red-500/10 text-red-600 border-red-500/20\",\r\n        };\r\n      case \"hidden\":\r\n        return {\r\n          label: t(\"admin.status.hidden\", \"已隐藏\"),\r\n          icon: EyeOff,\r\n          className: \"bg-gray-500/10 text-gray-600 border-gray-500/20\",\r\n        };\r\n      default:\r\n        return {\r\n          label: status,\r\n          icon: AlertCircle,\r\n          className: \"bg-gray-500/10 text-gray-600 border-gray-500/20\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const getModerationConfig = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return {\r\n          label: t(\"admin.moderation.approved\", \"通过\"),\r\n          icon: Check,\r\n          className: \"text-emerald-600\",\r\n        };\r\n      case \"flagged\":\r\n        return {\r\n          label: t(\"admin.moderation.flagged\", \"标记\"),\r\n          icon: AlertTriangle,\r\n          className: \"text-orange-500\",\r\n        };\r\n      case \"pending\":\r\n        return {\r\n          label: t(\"admin.moderation.pending\", \"待审\"),\r\n          icon: Clock,\r\n          className: \"text-muted-foreground\",\r\n        };\r\n      default:\r\n        return {\r\n          label: status,\r\n          icon: AlertCircle,\r\n          className: \"text-muted-foreground\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const handleQuickAction = (post: CommunityPost, action: string) => {\r\n    switch (action) {\r\n      case \"approve\":\r\n        updatePost.mutate({ id: post.id, status: \"approved\" });\r\n        break;\r\n      case \"hide\":\r\n        updatePost.mutate({ id: post.id, status: \"hidden\" });\r\n        break;\r\n      case \"unhide\":\r\n        updatePost.mutate({ id: post.id, status: \"approved\" });\r\n        break;\r\n      case \"delete\":\r\n        setDeletePost(post);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const confirmDelete = () => {\r\n    if (deletePost) {\r\n      deletePostMutation.mutate(deletePost.id);\r\n      setDeletePost(null);\r\n    }\r\n  };\r\n\r\n  const stripHtml = (html: string) => {\r\n    const tmp = document.createElement(\"div\");\r\n    tmp.innerHTML = html;\r\n    return tmp.textContent || tmp.innerText || \"\";\r\n  };\r\n\r\n  const PostCard = ({ post }: { post: CommunityPost }) => {\r\n    const statusConfig = getStatusConfig(post.status);\r\n    const moderationConfig = getModerationConfig(post.moderation_status);\r\n    const StatusIcon = statusConfig.icon;\r\n    const ModerationIcon = moderationConfig.icon;\r\n\r\n    return (\r\n      <Card className=\"group overflow-hidden hover:shadow-md transition-all duration-200 border-border/60\">\r\n        <CardContent className=\"p-0\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-4 border-b border-border/40\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <Avatar className=\"h-10 w-10 ring-2 ring-background shadow-sm\">\r\n                <AvatarImage src={post.author?.avatar_url || undefined} />\r\n                <AvatarFallback className=\"bg-primary/10 text-primary font-medium\">\r\n                  {post.author?.display_name?.charAt(0) || \"?\"}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n              <div>\r\n                <p className=\"font-medium text-sm\">{post.author?.display_name}</p>\r\n                <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\r\n                  <Clock className=\"h-3 w-3\" />\r\n                  {formatDistanceToNow(new Date(post.created_at), {\r\n                    addSuffix: true,\r\n                    locale: getDateLocale(),\r\n                  })}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <TooltipProvider>\r\n                <Tooltip>\r\n                  <TooltipTrigger asChild>\r\n                    <div className={cn(\"p-1.5 rounded-full\", moderationConfig.className)}>\r\n                      <ModerationIcon className=\"h-3.5 w-3.5\" />\r\n                    </div>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent side=\"left\">\r\n                    <p>{moderationConfig.label}</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              </TooltipProvider>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"p-4 space-y-3\">\r\n            <p className=\"text-sm line-clamp-3 text-foreground/90\">\r\n              {stripHtml(post.content)}\r\n            </p>\r\n\r\n            {/* Media Preview */}\r\n            {(post.image_urls?.length > 0 || post.video_url) && (\r\n              <div className=\"flex items-center gap-3\">\r\n                {post.image_urls && post.image_urls.length > 0 && (\r\n                  <div className=\"flex -space-x-2\">\r\n                    {post.image_urls.slice(0, 3).map((url, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"h-12 w-12 rounded-lg overflow-hidden border-2 border-background shadow-sm\"\r\n                      >\r\n                        <img src={url} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                      </div>\r\n                    ))}\r\n                    {post.image_urls.length > 3 && (\r\n                      <div className=\"h-12 w-12 rounded-lg bg-muted/80 border-2 border-background flex items-center justify-center shadow-sm\">\r\n                        <span className=\"text-xs font-medium text-muted-foreground\">\r\n                          +{post.image_urls.length - 3}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {post.video_url && (\r\n                  <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded-full\">\r\n                    <Video className=\"h-3.5 w-3.5\" />\r\n                    <span>{t(\"admin.communityPosts.hasVideo\", \"视频\")}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Activity Link */}\r\n            {post.activity && (\r\n              <div className=\"flex items-center gap-1.5\">\r\n                <Link2 className=\"h-3.5 w-3.5 text-primary\" />\r\n                <Badge variant=\"secondary\" className=\"text-xs font-normal\">\r\n                  {getLocalizedField(post.activity, \"title\")}\r\n                </Badge>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Stats & Status */}\r\n          <div className=\"px-4 py-3 bg-muted/30 border-t border-border/40\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4 text-muted-foreground\">\r\n                <span className=\"flex items-center gap-1 text-xs\">\r\n                  <Heart className=\"h-3.5 w-3.5\" />\r\n                  {post.likes_count}\r\n                </span>\r\n                <span className=\"flex items-center gap-1 text-xs\">\r\n                  <MessageCircle className=\"h-3.5 w-3.5\" />\r\n                  {post.comments_count}\r\n                </span>\r\n                <span className=\"flex items-center gap-1 text-xs\">\r\n                  <Share2 className=\"h-3.5 w-3.5\" />\r\n                  {post.shares_count}\r\n                </span>\r\n              </div>\r\n              <Badge \r\n                variant=\"outline\" \r\n                className={cn(\"text-xs border\", statusConfig.className)}\r\n              >\r\n                <StatusIcon className=\"h-3 w-3 mr-1\" />\r\n                {statusConfig.label}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"flex items-center gap-1 p-2 border-t border-border/40 bg-background\">\r\n            <TooltipProvider>\r\n              <Tooltip>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"flex-1 h-8 text-blue-600 hover:text-blue-700 hover:bg-blue-50\"\r\n                    onClick={() => setSelectedPost(post)}\r\n                  >\r\n                    <FileText className=\"h-4 w-4\" />\r\n                    <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"common.details\", \"详情\")}</span>\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{t(\"common.viewDetails\", \"查看详情\")}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </TooltipProvider>\r\n\r\n            {/* 只有 pending/flagged 状态显示发布按钮，hidden 状态用下面的显示/隐藏按钮 */}\r\n            {post.status === \"pending\" || post.status === \"flagged\" ? (\r\n              <TooltipProvider>\r\n                <Tooltip>\r\n                  <TooltipTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      className=\"flex-1 h-8 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50\"\r\n                      onClick={() => handleQuickAction(post, \"approve\")}\r\n                    >\r\n                      <CheckCircle2 className=\"h-4 w-4\" />\r\n                      <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"admin.action.approve\", \"发布\")}</span>\r\n                    </Button>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent>\r\n                    <p>{t(\"admin.action.approve\", \"发布\")}</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              </TooltipProvider>\r\n            ) : null}\r\n\r\n            <TooltipProvider>\r\n              <Tooltip>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className={cn(\r\n                      \"flex-1 h-8\",\r\n                      post.status === \"hidden\"\r\n                        ? \"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50\"\r\n                        : \"text-amber-600 hover:text-amber-700 hover:bg-amber-50\"\r\n                    )}\r\n                    onClick={() => handleQuickAction(post, post.status === \"hidden\" ? \"unhide\" : \"hide\")}\r\n                  >\r\n                    {post.status === \"hidden\" ? (\r\n                      <>\r\n                        <Eye className=\"h-4 w-4\" />\r\n                        <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"admin.action.unhide\", \"显示\")}</span>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Ban className=\"h-4 w-4\" />\r\n                        <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"admin.action.hide\", \"隐藏\")}</span>\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{post.status === \"hidden\" ? t(\"admin.action.unhide\", \"显示\") : t(\"admin.action.hide\", \"隐藏\")}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </TooltipProvider>\r\n\r\n            <TooltipProvider>\r\n              <Tooltip>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"flex-1 h-8 text-destructive hover:text-destructive hover:bg-destructive/10\"\r\n                    onClick={() => handleQuickAction(post, \"delete\")}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{t(\"common.delete\", \"删除\")}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </TooltipProvider>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const PostSkeleton = () => (\r\n    <Card className=\"overflow-hidden\">\r\n      <CardContent className=\"p-0\">\r\n        <div className=\"flex items-center gap-3 p-4 border-b\">\r\n          <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-3 w-16\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"p-4 space-y-3\">\r\n          <Skeleton className=\"h-4 w-full\" />\r\n          <Skeleton className=\"h-4 w-3/4\" />\r\n          <div className=\"flex gap-2\">\r\n            <Skeleton className=\"h-12 w-12 rounded-lg\" />\r\n            <Skeleton className=\"h-12 w-12 rounded-lg\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-3 bg-muted/30 border-t\">\r\n          <div className=\"flex justify-between\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-5 w-16 rounded-full\" />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">\r\n            {t(\"admin.communityPosts.title\", \"帖子管理\")}\r\n          </h1>\r\n          <p className=\"text-muted-foreground text-sm mt-1\">\r\n            {t(\"admin.communityPosts.subtitle\", \"管理和审核社区帖子\")}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant={viewMode === \"grid\" ? \"secondary\" : \"ghost\"}\r\n            size=\"icon\"\r\n            className=\"h-9 w-9\"\r\n            onClick={() => setViewMode(\"grid\")}\r\n          >\r\n            <LayoutGrid className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant={viewMode === \"list\" ? \"secondary\" : \"ghost\"}\r\n            size=\"icon\"\r\n            className=\"h-9 w-9\"\r\n            onClick={() => setViewMode(\"list\")}\r\n          >\r\n            <List className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"border-border/60\">\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder={t(\"admin.communityPosts.searchPlaceholder\", \"搜索内容...\")}\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Filter className=\"h-4 w-4 text-muted-foreground hidden sm:block\" />\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger className=\"w-[140px]\">\r\n                  <SelectValue placeholder={t(\"admin.status.all\", \"所有状态\")} />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">{t(\"admin.status.all\", \"所有状态\")}</SelectItem>\r\n                  <SelectItem value=\"approved\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                      {t(\"admin.status.approved\", \"已发布\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"pending\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Clock className=\"h-3.5 w-3.5 text-amber-600\" />\r\n                      {t(\"admin.status.pending\", \"待审核\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"hidden\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <EyeOff className=\"h-3.5 w-3.5 text-gray-500\" />\r\n                      {t(\"admin.status.hidden\", \"已隐藏\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"rejected\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <XCircle className=\"h-3.5 w-3.5 text-red-600\" />\r\n                      {t(\"admin.status.rejected\", \"已拒绝\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n\r\n              <Select value={moderationFilter} onValueChange={setModerationFilter}>\r\n                <SelectTrigger className=\"w-[130px]\">\r\n                  <SelectValue placeholder={t(\"admin.moderation.all\", \"所有审核\")} />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">{t(\"admin.moderation.all\", \"所有审核\")}</SelectItem>\r\n                  <SelectItem value=\"pending\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Clock className=\"h-3.5 w-3.5 text-gray-500\" />\r\n                      {t(\"admin.moderation.pending\", \"待审\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"approved\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Check className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                      {t(\"admin.moderation.approved\", \"通过\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"flagged\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <AlertTriangle className=\"h-3.5 w-3.5 text-orange-500\" />\r\n                      {t(\"admin.moderation.flagged\", \"标记\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Posts Count */}\r\n      {posts && (\r\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n          <span>{t(\"admin.communityPosts.total\", \"共\")} {posts.length} {t(\"admin.communityPosts.posts\", \"篇帖子\")}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Posts Grid/List */}\r\n      {isLoading ? (\r\n        <div className={cn(\r\n          \"grid gap-4\",\r\n          viewMode === \"grid\" \r\n            ? \"grid-cols-1 md:grid-cols-2 lg:grid-cols-3\" \r\n            : \"grid-cols-1\"\r\n        )}>\r\n          {Array.from({ length: 6 }).map((_, i) => (\r\n            <PostSkeleton key={i} />\r\n          ))}\r\n        </div>\r\n      ) : posts && posts.length > 0 ? (\r\n        <div className={cn(\r\n          \"grid gap-4\",\r\n          viewMode === \"grid\" \r\n            ? \"grid-cols-1 md:grid-cols-2 lg:grid-cols-3\" \r\n            : \"grid-cols-1\"\r\n        )}>\r\n          {posts.map((post) => (\r\n            <PostCard key={post.id} post={post} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Card className=\"border-dashed\">\r\n          <CardContent className=\"py-16 text-center\">\r\n            <div className=\"mx-auto w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4\">\r\n              <Image className=\"h-8 w-8 text-muted-foreground\" />\r\n            </div>\r\n            <h3 className=\"font-medium text-lg mb-1\">\r\n              {t(\"admin.communityPosts.noPosts\", \"暂无帖子\")}\r\n            </h3>\r\n            <p className=\"text-muted-foreground text-sm\">\r\n              {t(\"admin.communityPosts.noPostsDesc\", \"当前筛选条件下没有帖子\")}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Post Management Dialog */}\r\n      <PostManagementDialog\r\n        post={selectedPost}\r\n        open={!!selectedPost}\r\n        onOpenChange={(open) => !open && setSelectedPost(null)}\r\n      />\r\n\r\n      {/* Delete Confirmation */}\r\n      <AlertDialog open={!!deletePost} onOpenChange={(open) => !open && setDeletePost(null)}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"flex items-center gap-2\">\r\n              <Trash2 className=\"h-5 w-5 text-destructive\" />\r\n              {t(\"common.confirmDelete\", \"确认删除\")}\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {t(\"admin.communityPosts.deleteWarning\", \"删除后无法恢复，确定要删除这篇帖子吗？\")}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>{t(\"common.cancel\", \"取消\")}</AlertDialogCancel>\r\n            <AlertDialogAction \r\n              onClick={confirmDelete}\r\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n            >\r\n              {t(\"common.delete\", \"删除\")}\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCommunityPosts;\r\n"],"names":["AdminCommunityPosts","t","i18n","useTranslation","getLocalizedField","useLocalizedContent","search","setSearch","useState","statusFilter","setStatusFilter","moderationFilter","setModerationFilter","selectedPost","setSelectedPost","deletePost","setDeletePost","viewMode","setViewMode","posts","isLoading","useAdminCommunityPosts","updatePost","useUpdatePost","deletePostMutation","useDeletePost","getDateLocale","zhCN","pt","enUS","getStatusConfig","status","CheckCircle2","Clock","XCircle","EyeOff","AlertCircle","getModerationConfig","Check","AlertTriangle","handleQuickAction","post","action","confirmDelete","stripHtml","html","tmp","PostCard","statusConfig","moderationConfig","StatusIcon","ModerationIcon","Card","jsxs","CardContent","Avatar","jsx","AvatarImage","AvatarFallback","formatDistanceToNow","TooltipProvider","Tooltip","TooltipTrigger","cn","TooltipContent","url","index","Video","Link2","Badge","Heart","MessageCircle","Share2","Button","FileText","Fragment","Eye","Ban","Trash2","PostSkeleton","Skeleton","LayoutGrid","List","Search","Input","e","Filter","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","_","i","Image","PostManagementDialog","open","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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"}