{"version":3,"file":"AdminPointsSettings-w5A2Rckm.js","sources":["../../src/pages/admin/AdminPointsSettings.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Settings, Save, Info, RefreshCw, Search, User } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { usePointsSettings, useUpdatePointsSetting } from \"@/hooks/usePoints\";\r\nimport { toast } from \"sonner\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\nconst AdminPointsSettings = () => {\r\n  const { t } = useTranslation();\r\n  const { data: settings, isLoading } = usePointsSettings();\r\n  const updateSetting = useUpdatePointsSetting();\r\n  \r\n  const [commentPoints, setCommentPoints] = useState<string>(\"\");\r\n  const [minCommentLength, setMinCommentLength] = useState<string>(\"\");\r\n  const [hasChanges, setHasChanges] = useState(false);\r\n  const [resetUserInput, setResetUserInput] = useState(\"\");\r\n  const [isResetting, setIsResetting] = useState(false);\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const [foundUser, setFoundUser] = useState<{ id: string; email: string; display_name: string } | null>(null);\r\n\r\n  // Initialize values when settings load\r\n  useState(() => {\r\n    if (settings) {\r\n      const commentPointsSetting = settings.find(s => s.key === \"comment_points\");\r\n      const minLengthSetting = settings.find(s => s.key === \"min_comment_length\");\r\n      if (commentPointsSetting) setCommentPoints(commentPointsSetting.value);\r\n      if (minLengthSetting) setMinCommentLength(minLengthSetting.value);\r\n    }\r\n  });\r\n\r\n  // Update state when settings change\r\n  if (settings && !commentPoints && !minCommentLength) {\r\n    const commentPointsSetting = settings.find(s => s.key === \"comment_points\");\r\n    const minLengthSetting = settings.find(s => s.key === \"min_comment_length\");\r\n    if (commentPointsSetting && !commentPoints) setCommentPoints(commentPointsSetting.value);\r\n    if (minLengthSetting && !minCommentLength) setMinCommentLength(minLengthSetting.value);\r\n  }\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      await Promise.all([\r\n        updateSetting.mutateAsync({ key: \"comment_points\", value: commentPoints }),\r\n        updateSetting.mutateAsync({ key: \"min_comment_length\", value: minCommentLength }),\r\n      ]);\r\n      toast.success(t(\"admin.pointsSettings.saveSuccess\"));\r\n      setHasChanges(false);\r\n    } catch (error) {\r\n      toast.error(t(\"admin.pointsSettings.saveFailed\"));\r\n    }\r\n  };\r\n\r\n  const handleValueChange = (setter: (value: string) => void, value: string) => {\r\n    setter(value);\r\n    setHasChanges(true);\r\n  };\r\n\r\n  const handleSearchUser = async () => {\r\n    if (!resetUserInput.trim()) {\r\n      toast.error(t(\"admin.pointsSettings.enterEmailOrId\"));\r\n      return;\r\n    }\r\n\r\n    setIsSearching(true);\r\n    setFoundUser(null);\r\n    \r\n    try {\r\n      const input = resetUserInput.trim();\r\n      const isEmail = input.includes('@');\r\n      \r\n      if (isEmail) {\r\n        // Search by email using edge function\r\n        const { data, error } = await supabase.functions.invoke('get-user-emails');\r\n        \r\n        if (error) throw error;\r\n        \r\n        // Find user by email in the returned emails map\r\n        const emailsMap = data?.emails || {};\r\n        const userId = Object.keys(emailsMap).find(id => emailsMap[id]?.toLowerCase() === input.toLowerCase());\r\n        \r\n        if (userId) {\r\n          // Get profile info\r\n          const { data: profile } = await supabase\r\n            .from('profiles')\r\n            .select('display_name')\r\n            .eq('id', userId)\r\n            .single();\r\n          \r\n          setFoundUser({\r\n            id: userId,\r\n            email: emailsMap[userId],\r\n            display_name: profile?.display_name || t(\"common.unknownUser\", \"Unknown User\")\r\n          });\r\n          toast.success(t(\"admin.pointsSettings.userFound\"));\r\n        } else {\r\n          toast.error(t(\"admin.pointsSettings.userNotFound\"));\r\n        }\r\n      } else {\r\n        // Assume it's a user ID, verify it exists\r\n        const { data: profile, error } = await supabase\r\n          .from('profiles')\r\n          .select('id, display_name')\r\n          .eq('id', input)\r\n          .single();\r\n        \r\n        if (error || !profile) {\r\n          toast.error(t(\"admin.pointsSettings.userNotFound\"));\r\n          return;\r\n        }\r\n        \r\n        setFoundUser({\r\n          id: profile.id,\r\n          email: t(\"admin.pointsSettings.foundById\", \"(Found by ID)\"),\r\n          display_name: profile.display_name || t(\"common.unknownUser\", \"Unknown User\")\r\n        });\r\n        toast.success(t(\"admin.pointsSettings.userFound\"));\r\n      }\r\n    } catch (error) {\r\n      console.error('Search error:', error);\r\n      toast.error(t(\"admin.pointsSettings.searchFailed\"));\r\n    } finally {\r\n      setIsSearching(false);\r\n    }\r\n  };\r\n\r\n  const handleResetDailyComment = async () => {\r\n    if (!foundUser) {\r\n      toast.error(t(\"admin.pointsSettings.searchUserFirst\"));\r\n      return;\r\n    }\r\n\r\n    setIsResetting(true);\r\n    try {\r\n      // Delete today's comment transaction for the user\r\n      const today = new Date().toISOString().split('T')[0];\r\n      const { error, count } = await supabase\r\n        .from('points_transactions')\r\n        .delete()\r\n        .eq('user_id', foundUser.id)\r\n        .eq('type', 'comment')\r\n        .gte('created_at', today)\r\n        .lt('created_at', `${today}T23:59:59.999Z`);\r\n\r\n      if (error) throw error;\r\n\r\n      if (count === 0) {\r\n        toast.info(t(\"admin.pointsSettings.noRecordFound\"));\r\n      } else {\r\n        toast.success(t(\"admin.pointsSettings.resetSuccess\"));\r\n      }\r\n      setResetUserInput(\"\");\r\n      setFoundUser(null);\r\n    } catch (error) {\r\n      console.error('Reset error:', error);\r\n      toast.error(t(\"admin.pointsSettings.resetFailed\"));\r\n    } finally {\r\n      setIsResetting(false);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <div className=\"p-6\">{t(\"common.loading\")}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">{t(\"admin.pointsSettings.title\")}</h1>\r\n          <p className=\"text-muted-foreground\">{t(\"admin.pointsSettings.description\")}</p>\r\n        </div>\r\n        <Button onClick={handleSave} disabled={!hasChanges || updateSetting.isPending}>\r\n          <Save className=\"h-4 w-4 mr-2\" />\r\n          {t(\"common.save\")}\r\n        </Button>\r\n      </div>\r\n\r\n      <Alert>\r\n        <Info className=\"h-4 w-4\" />\r\n        <AlertDescription>\r\n          {t(\"admin.pointsSettings.info\")}\r\n        </AlertDescription>\r\n      </Alert>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Settings className=\"h-5 w-5\" />\r\n            {t(\"admin.pointsSettings.commentSettings\")}\r\n          </CardTitle>\r\n          <CardDescription>\r\n            {t(\"admin.pointsSettings.commentSettingsDesc\")}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          <div className=\"grid gap-4 md:grid-cols-2\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"commentPoints\">\r\n                {t(\"admin.pointsSettings.commentPoints\")}\r\n              </Label>\r\n              <Input\r\n                id=\"commentPoints\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                value={commentPoints}\r\n                onChange={(e) => handleValueChange(setCommentPoints, e.target.value)}\r\n                placeholder=\"5\"\r\n              />\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {t(\"admin.pointsSettings.commentPointsHelp\")}\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"minCommentLength\">\r\n                {t(\"admin.pointsSettings.minCommentLength\")}\r\n              </Label>\r\n              <Input\r\n                id=\"minCommentLength\"\r\n                type=\"number\"\r\n                min=\"0\"\r\n                value={minCommentLength}\r\n                onChange={(e) => handleValueChange(setMinCommentLength, e.target.value)}\r\n                placeholder=\"10\"\r\n              />\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {t(\"admin.pointsSettings.minCommentLengthHelp\")}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>{t(\"admin.pointsSettings.rulesPreview\")}</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-2 text-sm\">\r\n            <p>\r\n              • {t(\"admin.pointsSettings.rule1\")} <strong>{minCommentLength || \"10\"}</strong> {t(\"admin.pointsSettings.characters\")}\r\n            </p>\r\n            <p>\r\n              • {t(\"admin.pointsSettings.rule2\")} <strong>{commentPoints || \"5\"}</strong> {t(\"admin.pointsSettings.points\")}\r\n            </p>\r\n            <p>\r\n              • {t(\"admin.pointsSettings.rule3\")}\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <RefreshCw className=\"h-5 w-5\" />\r\n            {t(\"admin.pointsSettings.testTools\")}\r\n          </CardTitle>\r\n          <CardDescription>\r\n            {t(\"admin.pointsSettings.testToolsDesc\")}\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"space-y-3\">\r\n            <Label>\r\n              {t(\"admin.pointsSettings.resetDailyComment\")}\r\n            </Label>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                value={resetUserInput}\r\n                onChange={(e) => {\r\n                  setResetUserInput(e.target.value);\r\n                  setFoundUser(null);\r\n                }}\r\n                placeholder={t(\"admin.pointsSettings.emailOrIdPlaceholder\")}\r\n                className=\"flex-1\"\r\n              />\r\n              <Button \r\n                onClick={handleSearchUser} \r\n                disabled={isSearching || !resetUserInput.trim()}\r\n                variant=\"outline\"\r\n              >\r\n                <Search className={`h-4 w-4 mr-2 ${isSearching ? 'animate-spin' : ''}`} />\r\n                {t(\"admin.pointsSettings.search\")}\r\n              </Button>\r\n            </div>\r\n            \r\n            {foundUser && (\r\n              <div className=\"p-3 bg-muted rounded-lg flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <User className=\"h-4 w-4 text-muted-foreground\" />\r\n                  <div>\r\n                    <p className=\"font-medium\">{foundUser.display_name}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">{foundUser.email}</p>\r\n                    <p className=\"text-xs text-muted-foreground font-mono\">{foundUser.id}</p>\r\n                  </div>\r\n                </div>\r\n                <Button \r\n                  onClick={handleResetDailyComment} \r\n                  disabled={isResetting}\r\n                  variant=\"destructive\"\r\n                  size=\"sm\"\r\n                >\r\n                  <RefreshCw className={`h-4 w-4 mr-2 ${isResetting ? 'animate-spin' : ''}`} />\r\n                  {t(\"admin.pointsSettings.reset\")}\r\n                </Button>\r\n              </div>\r\n            )}\r\n            \r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {t(\"admin.pointsSettings.resetHelp\")}\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPointsSettings;\r\n"],"names":["AdminPointsSettings","t","useTranslation","settings","isLoading","usePointsSettings","updateSetting","useUpdatePointsSetting","commentPoints","setCommentPoints","useState","minCommentLength","setMinCommentLength","hasChanges","setHasChanges","resetUserInput","setResetUserInput","isResetting","setIsResetting","isSearching","setIsSearching","foundUser","setFoundUser","commentPointsSetting","s","minLengthSetting","handleSave","toast","handleValueChange","setter","value","handleSearchUser","input","data","error","supabase","emailsMap","userId","id","profile","handleResetDailyComment","today","count","jsxs","jsx","Button","Save","Alert","Info","AlertDescription","Card","CardHeader","CardTitle","Settings","CardDescription","CardContent","Label","Input","e","RefreshCw","Search","User"],"mappings":"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"}