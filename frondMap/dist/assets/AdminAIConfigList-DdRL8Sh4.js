import{p as A,r as t,bk as w,ck as y,bL as d,j as e,cX as S,L as m,W as x,bA as g,c2 as k}from"./vendor-react-DO-hMdHk.js";import{j as h,C as u,p as v,F as D,g as i,$ as L,B as c,q as f}from"./index-KBuYVGMg.js";import{L as z}from"./LovableAIDemoDialog-CbVCZ7Nj.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-Z4kpnli5.js";import"./vendor-supabase-DUJEpEPV.js";const O="https://tzdgqhwyzsxkxnncgzap.supabase.co",B="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZGdxaHd5enN4a3hubmNnemFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTg2ODgsImV4cCI6MjA3OTIzNDY4OH0.D76C4OkjQVWyMxtjjdOofpD8X_hEEoTtrXHqi4XSYUw",R=()=>{const{t:a}=A(),[l,j]=t.useState(null),[p,N]=t.useState(!0),[b,r]=t.useState(!1);t.useEffect(()=>{(async()=>{try{const n=await fetch(`${O}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=model`,{method:"GET",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(n.ok){const o=await n.json();o?.success&&o?.data&&j(o.data)}}catch(n){console.error("Failed to fetch agent config:",n)}finally{N(!1)}})()},[]);const C=[{id:"lovable-ai",name:"Lovable AI",description:"智能餐厅推荐助手，支持餐厅知识库和位置感知",icon:w,iconColor:"text-purple-500",configurable:!0,configPath:"/admin/ai-config/lovable-ai",status:"configured",hasDemo:!0,recommended:!0},{id:"ask-xiaoxiong",name:a("admin.aiSettings.providers.askXiaoxiong","小熊AI"),description:a("admin.aiSettings.providers.askXiaoxiongDesc","原有AI接口，直接问答"),icon:y,iconColor:"text-primary",configurable:!1,status:"no-config-needed"},{id:"xiaoxiong-agent",name:a("admin.aiSettings.providers.xiaoxiongAgent","小熊Agent"),description:a("admin.aiSettings.providers.xiaoxiongAgentDesc","新AI接口，支持模型配置"),icon:d,iconColor:"text-orange-500",configurable:!0,configPath:"/admin/ai-config/xiaoxiong-agent",status:l?.name?"configured":"not-configured",modelName:l?.name,hasDemo:!0}],I=s=>s.status==="no-config-needed"?e.jsxs(i,{variant:"secondary",className:"text-xs",children:[e.jsx(g,{className:"h-3 w-3 mr-1"}),"无需配置"]}):s.status==="configured"?e.jsxs(i,{variant:"default",className:"text-xs bg-green-500",children:[e.jsx(g,{className:"h-3 w-3 mr-1"}),"已配置"]}):e.jsxs(i,{variant:"outline",className:"text-xs text-orange-500 border-orange-500",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),"待配置"]});return e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:a("admin.aiConfig.title","AI配置管理")}),e.jsx("p",{className:"text-muted-foreground",children:a("admin.aiConfig.subtitle","管理和配置各个AI服务的模型和参数")})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:p?e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-32 w-full"}),e.jsx(h,{className:"h-32 w-full"})]}):C.map(s=>e.jsxs(u,{className:`transition-all ${s.configurable?"hover:border-primary/50 cursor-pointer":""}`,children:[e.jsx(v,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-muted ${s.iconColor}`,children:e.jsx(s.icon,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs(D,{className:"text-lg flex items-center gap-2",children:[s.name,s.recommended&&e.jsx(i,{className:"text-xs bg-purple-500",children:"推荐"}),I(s)]}),e.jsx(L,{className:"mt-1",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.hasDemo&&e.jsxs(c,{variant:"outline",size:"sm",onClick:()=>{s.id==="lovable-ai"?r(!0):s.id==="xiaoxiong-agent"&&s.configPath&&(window.location.href=s.configPath)},children:[e.jsx(S,{className:"h-4 w-4 mr-1"}),"测试"]}),s.configurable&&s.configPath&&e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(m,{to:s.configPath,children:["配置",e.jsx(x,{className:"h-4 w-4 ml-1"})]})})]})]})}),s.configurable&&e.jsx(f,{className:"pt-0",children:e.jsx("div",{className:"bg-muted/30 rounded-lg p-3 text-sm",children:s.modelName?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"当前模型:"}),e.jsx("code",{className:"px-2 py-0.5 bg-background rounded text-xs font-mono",children:s.modelName})]}):e.jsx("p",{className:"text-muted-foreground",children:'尚未配置模型，点击右侧"配置"按钮进行设置'})})})]},s.id))}),e.jsx(u,{className:"bg-muted/30",children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"需要更改主页使用的AI接口？"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"前往AI管理页面切换主页使用的AI服务提供商"})]}),e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(m,{to:"/admin/ai-settings",children:["前往AI管理",e.jsx(x,{className:"h-4 w-4 ml-1"})]})})]})})}),e.jsx(z,{open:b,onOpenChange:r})]})};export{R as default};
//# sourceMappingURL=AdminAIConfigList-DdRL8Sh4.js.map
