{"version":3,"file":"AdminNavigationSettings-CQa9gtVu.js","sources":["../../src/pages/admin/AdminNavigationSettings.tsx"],"sourcesContent":["import { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { useNavigationSettings, NavigationButton, NavigationSettings } from \"@/hooks/useNavigationSettings\";\r\nimport { Plus, Pencil, Trash2, GripVertical, Eye, EyeOff, Monitor, Tablet, Smartphone, Save, RotateCcw, Power, PowerOff, Link2 } from \"lucide-react\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport * as LucideIcons from \"lucide-react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\n\r\nconst AVAILABLE_ICONS = [\r\n  \"MapPin\", \"List\", \"Calendar\", \"Map\", \"Store\", \"Home\", \"Search\", \"User\", \r\n  \"Settings\", \"Heart\", \"Star\", \"Bell\", \"ShoppingCart\", \"Gift\", \"Info\", \"HelpCircle\"\r\n];\r\n\r\ntype DeviceType = 'desktop' | 'tablet' | 'mobile';\r\n\r\ninterface DeviceStyleSettings {\r\n  background_opacity: number;\r\n  background_color: string;\r\n  text_color: string;\r\n  hover_bg_color: string;\r\n  hover_text_color: string;\r\n  shadow_enabled: boolean;\r\n}\r\n\r\nconst AdminNavigationSettings = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  const { settings, buttons, isLoading, updateSettings, createButton, updateButton, deleteButton } = useNavigationSettings();\r\n  const [editingButton, setEditingButton] = useState<NavigationButton | null>(null);\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [activeDeviceTab, setActiveDeviceTab] = useState<DeviceType>('desktop');\r\n  const [formData, setFormData] = useState<Partial<NavigationButton>>({\r\n    label_zh: \"\",\r\n    label_en: \"\",\r\n    label_pt: \"\",\r\n    link: \"\",\r\n    icon: \"Circle\",\r\n    visible: true,\r\n    enabled: true,\r\n    show_on_desktop: true,\r\n    show_on_tablet: true,\r\n    show_on_mobile: true,\r\n    show_when_logged_in: true,\r\n    show_when_logged_out: true,\r\n  });\r\n\r\n  // Local state for style settings with preview - separate for each device\r\n  const [desktopSettings, setDesktopSettings] = useState<DeviceStyleSettings>({\r\n    background_opacity: 0,\r\n    background_color: \"transparent\",\r\n    text_color: \"primary\",\r\n    hover_bg_color: \"black\",\r\n    hover_text_color: \"white\",\r\n    shadow_enabled: true,\r\n  });\r\n  const [tabletSettings, setTabletSettings] = useState<DeviceStyleSettings | null>(null);\r\n  const [mobileSettings, setMobileSettings] = useState<DeviceStyleSettings | null>(null);\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n\r\n  // Initialize local settings when settings load\r\n  useEffect(() => {\r\n    if (settings) {\r\n      setDesktopSettings({\r\n        background_opacity: settings.background_opacity ?? 0,\r\n        background_color: settings.background_color || \"transparent\",\r\n        text_color: settings.text_color || \"primary\",\r\n        hover_bg_color: settings.hover_bg_color || \"black\",\r\n        hover_text_color: settings.hover_text_color || \"white\",\r\n        shadow_enabled: settings.shadow_enabled ?? true,\r\n      });\r\n      \r\n      // Check if tablet has custom settings (any non-null value)\r\n      if (settings.background_opacity_tablet !== null || \r\n          settings.background_color_tablet !== null ||\r\n          settings.text_color_tablet !== null ||\r\n          settings.hover_bg_color_tablet !== null ||\r\n          settings.hover_text_color_tablet !== null ||\r\n          settings.shadow_enabled_tablet !== null) {\r\n        setTabletSettings({\r\n          background_opacity: settings.background_opacity_tablet ?? settings.background_opacity ?? 0,\r\n          background_color: settings.background_color_tablet || settings.background_color || \"transparent\",\r\n          text_color: settings.text_color_tablet || settings.text_color || \"primary\",\r\n          hover_bg_color: settings.hover_bg_color_tablet || settings.hover_bg_color || \"black\",\r\n          hover_text_color: settings.hover_text_color_tablet || settings.hover_text_color || \"white\",\r\n          shadow_enabled: settings.shadow_enabled_tablet ?? settings.shadow_enabled ?? true,\r\n        });\r\n      } else {\r\n        setTabletSettings(null);\r\n      }\r\n      \r\n      // Check if mobile has custom settings\r\n      if (settings.background_opacity_mobile !== null || \r\n          settings.background_color_mobile !== null ||\r\n          settings.text_color_mobile !== null ||\r\n          settings.hover_bg_color_mobile !== null ||\r\n          settings.hover_text_color_mobile !== null ||\r\n          settings.shadow_enabled_mobile !== null) {\r\n        setMobileSettings({\r\n          background_opacity: settings.background_opacity_mobile ?? settings.background_opacity ?? 0,\r\n          background_color: settings.background_color_mobile || settings.background_color || \"transparent\",\r\n          text_color: settings.text_color_mobile || settings.text_color || \"primary\",\r\n          hover_bg_color: settings.hover_bg_color_mobile || settings.hover_bg_color || \"black\",\r\n          hover_text_color: settings.hover_text_color_mobile || settings.hover_text_color || \"white\",\r\n          shadow_enabled: settings.shadow_enabled_mobile ?? settings.shadow_enabled ?? true,\r\n        });\r\n      } else {\r\n        setMobileSettings(null);\r\n      }\r\n    }\r\n  }, [settings]);\r\n\r\n  const handleDeviceSettingChange = useCallback((device: DeviceType, key: keyof DeviceStyleSettings, value: any) => {\r\n    if (device === 'desktop') {\r\n      setDesktopSettings(prev => ({ ...prev, [key]: value }));\r\n    } else if (device === 'tablet') {\r\n      setTabletSettings(prev => prev ? { ...prev, [key]: value } : { ...desktopSettings, [key]: value });\r\n    } else {\r\n      setMobileSettings(prev => prev ? { ...prev, [key]: value } : { ...desktopSettings, [key]: value });\r\n    }\r\n    setHasUnsavedChanges(true);\r\n  }, [desktopSettings]);\r\n\r\n  const handleEnableDeviceCustomization = useCallback((device: DeviceType) => {\r\n    if (device === 'tablet') {\r\n      setTabletSettings({ ...desktopSettings });\r\n    } else if (device === 'mobile') {\r\n      setMobileSettings({ ...desktopSettings });\r\n    }\r\n    setHasUnsavedChanges(true);\r\n  }, [desktopSettings]);\r\n\r\n  const handleDisableDeviceCustomization = useCallback((device: DeviceType) => {\r\n    if (device === 'tablet') {\r\n      setTabletSettings(null);\r\n    } else if (device === 'mobile') {\r\n      setMobileSettings(null);\r\n    }\r\n    setHasUnsavedChanges(true);\r\n  }, []);\r\n\r\n  const handleSaveSettings = useCallback(() => {\r\n    const updates: Partial<NavigationSettings> = {\r\n      // Desktop settings\r\n      background_opacity: desktopSettings.background_opacity,\r\n      background_color: desktopSettings.background_color,\r\n      text_color: desktopSettings.text_color,\r\n      hover_bg_color: desktopSettings.hover_bg_color,\r\n      hover_text_color: desktopSettings.hover_text_color,\r\n      shadow_enabled: desktopSettings.shadow_enabled,\r\n      // Tablet settings\r\n      background_opacity_tablet: tabletSettings?.background_opacity ?? null,\r\n      background_color_tablet: tabletSettings?.background_color ?? null,\r\n      text_color_tablet: tabletSettings?.text_color ?? null,\r\n      hover_bg_color_tablet: tabletSettings?.hover_bg_color ?? null,\r\n      hover_text_color_tablet: tabletSettings?.hover_text_color ?? null,\r\n      shadow_enabled_tablet: tabletSettings?.shadow_enabled ?? null,\r\n      // Mobile settings\r\n      background_opacity_mobile: mobileSettings?.background_opacity ?? null,\r\n      background_color_mobile: mobileSettings?.background_color ?? null,\r\n      text_color_mobile: mobileSettings?.text_color ?? null,\r\n      hover_bg_color_mobile: mobileSettings?.hover_bg_color ?? null,\r\n      hover_text_color_mobile: mobileSettings?.hover_text_color ?? null,\r\n      shadow_enabled_mobile: mobileSettings?.shadow_enabled ?? null,\r\n    };\r\n    updateSettings.mutate(updates);\r\n    setHasUnsavedChanges(false);\r\n  }, [desktopSettings, tabletSettings, mobileSettings, updateSettings]);\r\n\r\n  const handleResetSettings = useCallback(() => {\r\n    if (settings) {\r\n      setDesktopSettings({\r\n        background_opacity: settings.background_opacity ?? 0,\r\n        background_color: settings.background_color || \"transparent\",\r\n        text_color: settings.text_color || \"primary\",\r\n        hover_bg_color: settings.hover_bg_color || \"black\",\r\n        hover_text_color: settings.hover_text_color || \"white\",\r\n        shadow_enabled: settings.shadow_enabled ?? true,\r\n      });\r\n      \r\n      if (settings.background_opacity_tablet !== null || settings.background_color_tablet !== null) {\r\n        setTabletSettings({\r\n          background_opacity: settings.background_opacity_tablet ?? settings.background_opacity ?? 0,\r\n          background_color: settings.background_color_tablet || settings.background_color || \"transparent\",\r\n          text_color: settings.text_color_tablet || settings.text_color || \"primary\",\r\n          hover_bg_color: settings.hover_bg_color_tablet || settings.hover_bg_color || \"black\",\r\n          hover_text_color: settings.hover_text_color_tablet || settings.hover_text_color || \"white\",\r\n          shadow_enabled: settings.shadow_enabled_tablet ?? settings.shadow_enabled ?? true,\r\n        });\r\n      } else {\r\n        setTabletSettings(null);\r\n      }\r\n      \r\n      if (settings.background_opacity_mobile !== null || settings.background_color_mobile !== null) {\r\n        setMobileSettings({\r\n          background_opacity: settings.background_opacity_mobile ?? settings.background_opacity ?? 0,\r\n          background_color: settings.background_color_mobile || settings.background_color || \"transparent\",\r\n          text_color: settings.text_color_mobile || settings.text_color || \"primary\",\r\n          hover_bg_color: settings.hover_bg_color_mobile || settings.hover_bg_color || \"black\",\r\n          hover_text_color: settings.hover_text_color_mobile || settings.hover_text_color || \"white\",\r\n          shadow_enabled: settings.shadow_enabled_mobile ?? settings.shadow_enabled ?? true,\r\n        });\r\n      } else {\r\n        setMobileSettings(null);\r\n      }\r\n      \r\n      setHasUnsavedChanges(false);\r\n    }\r\n  }, [settings]);\r\n\r\n  const handleOpenDialog = (button?: NavigationButton) => {\r\n    if (button) {\r\n      setEditingButton(button);\r\n      setFormData(button);\r\n    } else {\r\n      setEditingButton(null);\r\n      setFormData({\r\n        label_zh: \"\",\r\n        label_en: \"\",\r\n        label_pt: \"\",\r\n        link: \"\",\r\n        icon: \"Circle\",\r\n        visible: true,\r\n        enabled: true,\r\n        show_on_desktop: true,\r\n        show_on_tablet: true,\r\n        show_on_mobile: true,\r\n        show_when_logged_in: true,\r\n        show_when_logged_out: true,\r\n      });\r\n    }\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const handleSaveButton = async () => {\r\n    if (editingButton) {\r\n      await updateButton.mutateAsync({ id: editingButton.id, ...formData });\r\n      \r\n      // 如果是社区按钮且 enabled 状态变化，同步到网站设置\r\n      if (editingButton.link === \"/community\" && editingButton.enabled !== formData.enabled) {\r\n        await supabase\r\n          .from(\"site_settings\")\r\n          .update({ \r\n            community_enabled: formData.enabled,\r\n            updated_at: new Date().toISOString()\r\n          })\r\n          .limit(1);\r\n        \r\n        queryClient.invalidateQueries({ queryKey: [\"site-settings\"] });\r\n      }\r\n    } else {\r\n      await createButton.mutateAsync({\r\n        ...formData,\r\n        sort_order: (buttons?.length || 0) + 1,\r\n      } as any);\r\n    }\r\n    setIsDialogOpen(false);\r\n  };\r\n\r\n  const handleDeleteButton = async (id: string) => {\r\n    if (confirm(t(\"admin.confirmDelete\"))) {\r\n      await deleteButton.mutateAsync(id);\r\n    }\r\n  };\r\n\r\n  const getIconComponent = (iconName: string) => {\r\n    const Icon = (LucideIcons as any)[iconName];\r\n    return Icon ? <Icon className=\"w-4 h-4\" /> : null;\r\n  };\r\n\r\n  const getLocalizedLabel = (button: NavigationButton) => {\r\n    const lang = i18n.language;\r\n    if (lang === \"zh\") return button.label_zh;\r\n    if (lang === \"pt\") return button.label_pt;\r\n    return button.label_en;\r\n  };\r\n\r\n  // Get current device settings for preview\r\n  const getCurrentDeviceSettings = useCallback((device: DeviceType): DeviceStyleSettings => {\r\n    if (device === 'desktop') return desktopSettings;\r\n    if (device === 'tablet') return tabletSettings || desktopSettings;\r\n    return mobileSettings || desktopSettings;\r\n  }, [desktopSettings, tabletSettings, mobileSettings]);\r\n\r\n  // Preview style computation\r\n  const getPreviewStyle = useCallback((deviceSettings: DeviceStyleSettings) => {\r\n    const bgOpacity = Number(deviceSettings.background_opacity || 0);\r\n    const bgColor = deviceSettings.background_color || \"transparent\";\r\n    \r\n    let backgroundColor = \"transparent\";\r\n    if (bgColor === \"white\") backgroundColor = `rgba(255,255,255,${bgOpacity})`;\r\n    else if (bgColor === \"black\") backgroundColor = `rgba(0,0,0,${bgOpacity})`;\r\n    else if (bgColor === \"primary\") backgroundColor = `rgba(var(--primary-rgb, 0,0,0),${bgOpacity})`;\r\n    \r\n    return { backgroundColor };\r\n  }, []);\r\n\r\n  const renderStyleSettings = (device: DeviceType, deviceSettings: DeviceStyleSettings) => (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"space-y-2\">\r\n        <Label>{t(\"admin.backgroundOpacity\")}</Label>\r\n        <div className=\"flex items-center gap-4\">\r\n          <Slider\r\n            value={[Number(deviceSettings.background_opacity || 0) * 100]}\r\n            onValueChange={(value) => handleDeviceSettingChange(device, \"background_opacity\", value[0] / 100)}\r\n            max={100}\r\n            step={5}\r\n            className=\"flex-1\"\r\n          />\r\n          <span className=\"w-12 text-right\">{Math.round(Number(deviceSettings.background_opacity || 0) * 100)}%</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label>{t(\"admin.backgroundColor\")}</Label>\r\n          <Select\r\n            value={deviceSettings.background_color || \"transparent\"}\r\n            onValueChange={(value) => handleDeviceSettingChange(device, \"background_color\", value)}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"transparent\">{t(\"admin.transparent\")}</SelectItem>\r\n              <SelectItem value=\"white\">{t(\"admin.white\")}</SelectItem>\r\n              <SelectItem value=\"black\">{t(\"admin.black\")}</SelectItem>\r\n              <SelectItem value=\"primary\">{t(\"admin.primary\")}</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>{t(\"admin.textColor\")}</Label>\r\n          <Select\r\n            value={deviceSettings.text_color || \"primary\"}\r\n            onValueChange={(value) => handleDeviceSettingChange(device, \"text_color\", value)}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"primary\">{t(\"admin.primary\")}</SelectItem>\r\n              <SelectItem value=\"white\">{t(\"admin.white\")}</SelectItem>\r\n              <SelectItem value=\"black\">{t(\"admin.black\")}</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label>{t(\"admin.hoverBgColor\")}</Label>\r\n          <Select\r\n            value={deviceSettings.hover_bg_color || \"black\"}\r\n            onValueChange={(value) => handleDeviceSettingChange(device, \"hover_bg_color\", value)}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"black\">{t(\"admin.black\")}</SelectItem>\r\n              <SelectItem value=\"white\">{t(\"admin.white\")}</SelectItem>\r\n              <SelectItem value=\"primary\">{t(\"admin.primary\")}</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <Label>{t(\"admin.hoverTextColor\")}</Label>\r\n          <Select\r\n            value={deviceSettings.hover_text_color || \"white\"}\r\n            onValueChange={(value) => handleDeviceSettingChange(device, \"hover_text_color\", value)}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"white\">{t(\"admin.white\")}</SelectItem>\r\n              <SelectItem value=\"black\">{t(\"admin.black\")}</SelectItem>\r\n              <SelectItem value=\"primary\">{t(\"admin.primary\")}</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <Label>{t(\"admin.shadowEnabled\")}</Label>\r\n          <p className=\"text-sm text-muted-foreground\">{t(\"admin.shadowEnabledDescription\")}</p>\r\n        </div>\r\n        <Switch\r\n          checked={deviceSettings.shadow_enabled ?? true}\r\n          onCheckedChange={(checked) => handleDeviceSettingChange(device, \"shadow_enabled\", checked)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (isLoading) {\r\n    return <div className=\"p-6\">{t(\"common.loading\")}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6 p-6\">\r\n      <div>\r\n        <h1 className=\"text-2xl font-bold\">{t(\"admin.navigationSettings\")}</h1>\r\n        <p className=\"text-muted-foreground\">{t(\"admin.navigationSettingsDescription\")}</p>\r\n      </div>\r\n\r\n      {/* Live Preview */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>{t(\"admin.preview\")}</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div \r\n            className=\"rounded-lg border overflow-hidden\"\r\n            style={{ backgroundColor: \"#f0f0f0\" }}\r\n          >\r\n            <div \r\n              className={`h-14 px-4 flex items-center justify-between ${getCurrentDeviceSettings(activeDeviceTab).shadow_enabled ? \"shadow-[0_2px_4px_rgba(0,0,0,0.15)]\" : \"\"}`}\r\n              style={getPreviewStyle(getCurrentDeviceSettings(activeDeviceTab))}\r\n            >\r\n              <div className=\"w-8 h-8 rounded bg-primary/20\" />\r\n              <div className=\"flex gap-4\">\r\n                {buttons?.slice(0, 4).map((btn) => (\r\n                  <span \r\n                    key={btn.id} \r\n                    className={`px-3 py-1 rounded text-sm ${\r\n                      getCurrentDeviceSettings(activeDeviceTab).text_color === \"white\" ? \"text-white\" : \r\n                      getCurrentDeviceSettings(activeDeviceTab).text_color === \"black\" ? \"text-black\" : \"text-primary\"\r\n                    }`}\r\n                  >\r\n                    {getLocalizedLabel(btn)}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n              <div className=\"w-8 h-8 rounded-full bg-muted\" />\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Navigation Bar Style Settings with Device Tabs */}\r\n      <Card>\r\n        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n          <div>\r\n            <CardTitle>{t(\"admin.navBarStyle\")}</CardTitle>\r\n            <CardDescription>{t(\"admin.navBarStyleDescription\")}</CardDescription>\r\n          </div>\r\n          {hasUnsavedChanges && (\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" size=\"sm\" onClick={handleResetSettings}>\r\n                <RotateCcw className=\"w-4 h-4 mr-2\" />\r\n                {t(\"common.reset\")}\r\n              </Button>\r\n              <Button size=\"sm\" onClick={handleSaveSettings} disabled={updateSettings.isPending}>\r\n                <Save className=\"w-4 h-4 mr-2\" />\r\n                {t(\"common.save\")}\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Tabs value={activeDeviceTab} onValueChange={(v) => setActiveDeviceTab(v as DeviceType)}>\r\n            <TabsList className=\"mb-4\">\r\n              <TabsTrigger value=\"desktop\" className=\"gap-2\">\r\n                <Monitor className=\"w-4 h-4\" />\r\n                {t(\"admin.desktop\")}\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"tablet\" className=\"gap-2\">\r\n                <Tablet className=\"w-4 h-4\" />\r\n                {t(\"admin.tablet\")}\r\n              </TabsTrigger>\r\n              <TabsTrigger value=\"mobile\" className=\"gap-2\">\r\n                <Smartphone className=\"w-4 h-4\" />\r\n                {t(\"admin.mobile\")}\r\n              </TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"desktop\">\r\n              {renderStyleSettings('desktop', desktopSettings)}\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"tablet\">\r\n              {tabletSettings ? (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between p-3 bg-muted/50 rounded-lg\">\r\n                    <span className=\"text-sm text-muted-foreground\">\r\n                      {t(\"admin.customTabletSettings\")}\r\n                    </span>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleDisableDeviceCustomization('tablet')}\r\n                    >\r\n                      {t(\"admin.useDesktopSettings\")}\r\n                    </Button>\r\n                  </div>\r\n                  {renderStyleSettings('tablet', tabletSettings)}\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                  <Tablet className=\"w-12 h-12 text-muted-foreground mb-4\" />\r\n                  <p className=\"text-muted-foreground mb-4\">\r\n                    {t(\"admin.usingDesktopSettings\")}\r\n                  </p>\r\n                  <Button onClick={() => handleEnableDeviceCustomization('tablet')}>\r\n                    {t(\"admin.customizeTabletSettings\")}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </TabsContent>\r\n\r\n            <TabsContent value=\"mobile\">\r\n              {mobileSettings ? (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center justify-between p-3 bg-muted/50 rounded-lg\">\r\n                    <span className=\"text-sm text-muted-foreground\">\r\n                      {t(\"admin.customMobileSettings\")}\r\n                    </span>\r\n                    <Button \r\n                      variant=\"outline\" \r\n                      size=\"sm\"\r\n                      onClick={() => handleDisableDeviceCustomization('mobile')}\r\n                    >\r\n                      {t(\"admin.useDesktopSettings\")}\r\n                    </Button>\r\n                  </div>\r\n                  {renderStyleSettings('mobile', mobileSettings)}\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex flex-col items-center justify-center py-8 text-center\">\r\n                  <Smartphone className=\"w-12 h-12 text-muted-foreground mb-4\" />\r\n                  <p className=\"text-muted-foreground mb-4\">\r\n                    {t(\"admin.usingDesktopSettings\")}\r\n                  </p>\r\n                  <Button onClick={() => handleEnableDeviceCustomization('mobile')}>\r\n                    {t(\"admin.customizeMobileSettings\")}\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </TabsContent>\r\n          </Tabs>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Navigation Buttons Management */}\r\n      <Card>\r\n        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n          <div>\r\n            <CardTitle>{t(\"admin.navButtons\")}</CardTitle>\r\n            <CardDescription>{t(\"admin.navButtonsDescription\")}</CardDescription>\r\n          </div>\r\n          <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n            <DialogTrigger asChild>\r\n              <Button onClick={() => handleOpenDialog()}>\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                {t(\"admin.addButton\")}\r\n              </Button>\r\n            </DialogTrigger>\r\n            <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n              <DialogHeader>\r\n                <DialogTitle>\r\n                  {editingButton ? t(\"admin.editButton\") : t(\"admin.addButton\")}\r\n                </DialogTitle>\r\n              </DialogHeader>\r\n              <div className=\"space-y-4 py-4\">\r\n                {/* Multi-language labels */}\r\n                <div className=\"grid grid-cols-3 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label>{t(\"admin.labelChinese\")}</Label>\r\n                    <Input\r\n                      value={formData.label_zh || \"\"}\r\n                      onChange={(e) => setFormData({ ...formData, label_zh: e.target.value })}\r\n                      placeholder=\"中文标签\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label>{t(\"admin.labelEnglish\")}</Label>\r\n                    <Input\r\n                      value={formData.label_en || \"\"}\r\n                      onChange={(e) => setFormData({ ...formData, label_en: e.target.value })}\r\n                      placeholder=\"English Label\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label>{t(\"admin.labelPortuguese\")}</Label>\r\n                    <Input\r\n                      value={formData.label_pt || \"\"}\r\n                      onChange={(e) => setFormData({ ...formData, label_pt: e.target.value })}\r\n                      placeholder=\"Rótulo Português\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Link and Icon */}\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label>{t(\"admin.link\")}</Label>\r\n                    <Input\r\n                      value={formData.link || \"\"}\r\n                      onChange={(e) => setFormData({ ...formData, link: e.target.value })}\r\n                      placeholder=\"/path\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label>{t(\"admin.icon\")}</Label>\r\n                    <Select\r\n                      value={formData.icon || \"Circle\"}\r\n                      onValueChange={(value) => setFormData({ ...formData, icon: value })}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {AVAILABLE_ICONS.map((icon) => (\r\n                          <SelectItem key={icon} value={icon}>\r\n                            <div className=\"flex items-center gap-2\">\r\n                              {getIconComponent(icon)}\r\n                              <span>{icon}</span>\r\n                            </div>\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Device visibility */}\r\n                <div className=\"space-y-2\">\r\n                  <Label>{t(\"admin.deviceVisibility\")}</Label>\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Switch\r\n                        checked={formData.show_on_desktop ?? true}\r\n                        onCheckedChange={(checked) => setFormData({ ...formData, show_on_desktop: checked })}\r\n                      />\r\n                      <Monitor className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm\">{t(\"admin.desktop\")}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Switch\r\n                        checked={formData.show_on_tablet ?? true}\r\n                        onCheckedChange={(checked) => setFormData({ ...formData, show_on_tablet: checked })}\r\n                      />\r\n                      <Tablet className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm\">{t(\"admin.tablet\")}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Switch\r\n                        checked={formData.show_on_mobile ?? true}\r\n                        onCheckedChange={(checked) => setFormData({ ...formData, show_on_mobile: checked })}\r\n                      />\r\n                      <Smartphone className=\"w-4 h-4\" />\r\n                      <span className=\"text-sm\">{t(\"admin.mobile\")}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Login state visibility */}\r\n                <div className=\"space-y-2\">\r\n                  <Label>{t(\"admin.loginStateVisibility\")}</Label>\r\n                  <div className=\"flex gap-4\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Switch\r\n                        checked={formData.show_when_logged_in ?? true}\r\n                        onCheckedChange={(checked) => setFormData({ ...formData, show_when_logged_in: checked })}\r\n                      />\r\n                      <span className=\"text-sm\">{t(\"admin.showWhenLoggedIn\")}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Switch\r\n                        checked={formData.show_when_logged_out ?? true}\r\n                        onCheckedChange={(checked) => setFormData({ ...formData, show_when_logged_out: checked })}\r\n                      />\r\n                      <span className=\"text-sm\">{t(\"admin.showWhenLoggedOut\")}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Feature Toggle (Enabled/Disabled) */}\r\n                {formData.enabled === false && (\r\n                  <Alert className=\"border-amber-200 bg-amber-50 dark:border-amber-900 dark:bg-amber-950\">\r\n                    <PowerOff className=\"h-4 w-4 text-amber-600\" />\r\n                    <AlertDescription className=\"text-amber-800 dark:text-amber-200\">\r\n                      {t(\"admin.featureDisabledWarning\", \"此功能已关闭，非管理员用户无法看到此导航按钮，也无法访问对应页面\")}\r\n                    </AlertDescription>\r\n                  </Alert>\r\n                )}\r\n                \r\n                {/* Community button sync hint */}\r\n                {(editingButton?.link === \"/community\" || formData.link === \"/community\") && (\r\n                  <Alert className=\"border-blue-200 bg-blue-50 dark:border-blue-900 dark:bg-blue-950\">\r\n                    <Link2 className=\"h-4 w-4 text-blue-600\" />\r\n                    <AlertDescription className=\"text-blue-800 dark:text-blue-200\">\r\n                      {t(\"admin.communityButtonSyncHint\", \"此按钮的开关状态与网站设置中的社区功能同步\")}\r\n                    </AlertDescription>\r\n                  </Alert>\r\n                )}\r\n                \r\n                <div className=\"flex items-center justify-between p-3 rounded-lg border bg-muted/30\">\r\n                  <div className=\"space-y-0.5\">\r\n                    <Label className=\"text-base font-medium flex items-center gap-2\">\r\n                      {formData.enabled !== false ? (\r\n                        <Power className=\"w-4 h-4 text-green-500\" />\r\n                      ) : (\r\n                        <PowerOff className=\"w-4 h-4 text-amber-500\" />\r\n                      )}\r\n                      {t(\"admin.featureEnabled\", \"功能开关\")}\r\n                    </Label>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {formData.enabled !== false \r\n                        ? t(\"admin.featureEnabledDesc\", \"功能正常开放，用户可访问\")\r\n                        : t(\"admin.featureDisabledDesc\", \"功能已关闭，仅管理员可访问\")}\r\n                    </p>\r\n                  </div>\r\n                  <Switch\r\n                    checked={formData.enabled !== false}\r\n                    onCheckedChange={(checked) => setFormData({ ...formData, enabled: checked })}\r\n                  />\r\n                </div>\r\n\r\n                {/* Visibility toggle */}\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Switch\r\n                    checked={formData.visible ?? true}\r\n                    onCheckedChange={(checked) => setFormData({ ...formData, visible: checked })}\r\n                  />\r\n                  <Label>{t(\"admin.visible\")}</Label>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-2 pt-4\">\r\n                  <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\r\n                    {t(\"common.cancel\")}\r\n                  </Button>\r\n                  <Button onClick={handleSaveButton} disabled={createButton.isPending || updateButton.isPending}>\r\n                    {t(\"common.save\")}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead className=\"w-12\"></TableHead>\r\n                <TableHead>{t(\"admin.status\", \"状态\")}</TableHead>\r\n                <TableHead>{t(\"admin.icon\")}</TableHead>\r\n                <TableHead>{t(\"admin.label\")}</TableHead>\r\n                <TableHead>{t(\"admin.link\")}</TableHead>\r\n                <TableHead>{t(\"admin.devices\")}</TableHead>\r\n                <TableHead>{t(\"admin.visible\")}</TableHead>\r\n                <TableHead className=\"text-right\">{t(\"admin.actions\")}</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {buttons?.map((button) => (\r\n                <TableRow key={button.id} className={button.enabled === false ? \"opacity-60\" : \"\"}>\r\n                  <TableCell>\r\n                    <GripVertical className=\"w-4 h-4 text-muted-foreground cursor-move\" />\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <div title={button.enabled !== false ? t(\"admin.featureEnabled\", \"功能开启\") : t(\"admin.featureDisabled\", \"功能关闭\")}>\r\n                      {button.enabled !== false ? (\r\n                        <Power className=\"w-4 h-4 text-green-500\" />\r\n                      ) : (\r\n                        <PowerOff className=\"w-4 h-4 text-amber-500\" />\r\n                      )}\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell>{getIconComponent(button.icon)}</TableCell>\r\n                  <TableCell className=\"font-medium\">{getLocalizedLabel(button)}</TableCell>\r\n                  <TableCell className=\"text-muted-foreground\">{button.link}</TableCell>\r\n                  <TableCell>\r\n                    <div className=\"flex gap-1\">\r\n                      {button.show_on_desktop && <Monitor className=\"w-4 h-4\" />}\r\n                      {button.show_on_tablet && <Tablet className=\"w-4 h-4\" />}\r\n                      {button.show_on_mobile && <Smartphone className=\"w-4 h-4\" />}\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {button.visible ? (\r\n                      <Eye className=\"w-4 h-4 text-green-500\" />\r\n                    ) : (\r\n                      <EyeOff className=\"w-4 h-4 text-muted-foreground\" />\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell className=\"text-right\">\r\n                    <div className=\"flex justify-end gap-2\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => handleOpenDialog(button)}\r\n                      >\r\n                        <Pencil className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => handleDeleteButton(button.id)}\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4 text-destructive\" />\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminNavigationSettings;\r\n"],"names":["AVAILABLE_ICONS","AdminNavigationSettings","t","i18n","useTranslation","queryClient","useQueryClient","settings","buttons","isLoading","updateSettings","createButton","updateButton","deleteButton","useNavigationSettings","editingButton","setEditingButton","useState","isDialogOpen","setIsDialogOpen","activeDeviceTab","setActiveDeviceTab","formData","setFormData","desktopSettings","setDesktopSettings","tabletSettings","setTabletSettings","mobileSettings","setMobileSettings","hasUnsavedChanges","setHasUnsavedChanges","useEffect","handleDeviceSettingChange","useCallback","device","key","value","prev","handleEnableDeviceCustomization","handleDisableDeviceCustomization","handleSaveSettings","updates","handleResetSettings","handleOpenDialog","button","handleSaveButton","supabase","handleDeleteButton","id","getIconComponent","iconName","Icon","LucideIcons","jsx","getLocalizedLabel","lang","getCurrentDeviceSettings","getPreviewStyle","deviceSettings","bgOpacity","bgColor","backgroundColor","renderStyleSettings","jsxs","Label","Slider","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Switch","checked","Card","CardHeader","CardTitle","CardContent","btn","CardDescription","Button","RotateCcw","Save","Tabs","v","TabsList","TabsTrigger","Monitor","Tablet","Smartphone","TabsContent","Dialog","DialogTrigger","Plus","DialogContent","DialogHeader","DialogTitle","Input","e","icon","Alert","PowerOff","AlertDescription","Link2","Power","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","GripVertical","Eye","EyeOff","Pencil","Trash2"],"mappings":"myBAmBA,MAAMA,GAAkB,CACtB,SAAU,OAAQ,WAAY,MAAO,QAAS,OAAQ,SAAU,OAChE,WAAY,QAAS,OAAQ,OAAQ,eAAgB,OAAQ,OAAQ,YACvE,EAaMC,GAA0B,IAAM,CACpC,KAAM,CAAE,EAAAC,EAAG,KAAAC,EAAK,EAAIC,GAAe,EAC7BC,GAAcC,KACd,CAAE,SAAAC,EAAU,QAAAC,EAAS,UAAAC,GAAW,eAAAC,EAAgB,aAAAC,EAAc,aAAAC,EAAc,aAAAC,IAAiBC,KAC7F,CAACC,EAAeC,CAAgB,EAAIC,WAAkC,IAAI,EAC1E,CAACC,GAAcC,CAAe,EAAIF,WAAS,EAAK,EAChD,CAACG,EAAiBC,EAAkB,EAAIJ,WAAqB,SAAS,EACtE,CAACK,EAAUC,CAAW,EAAIN,WAAoC,CAClE,SAAU,GACV,SAAU,GACV,SAAU,GACV,KAAM,GACN,KAAM,SACN,QAAS,GACT,QAAS,GACT,gBAAiB,GACjB,eAAgB,GAChB,eAAgB,GAChB,oBAAqB,GACrB,qBAAsB,EAAA,CACvB,EAGK,CAACO,EAAiBC,CAAkB,EAAIR,WAA8B,CAC1E,mBAAoB,EACpB,iBAAkB,cAClB,WAAY,UACZ,eAAgB,QAChB,iBAAkB,QAClB,eAAgB,EAAA,CACjB,EACK,CAACS,EAAgBC,CAAiB,EAAIV,WAAqC,IAAI,EAC/E,CAACW,EAAgBC,CAAiB,EAAIZ,WAAqC,IAAI,EAC/E,CAACa,GAAmBC,CAAoB,EAAId,WAAS,EAAK,EAGhEe,EAAAA,UAAU,IAAM,CACVzB,IACiBkB,EAAA,CACjB,mBAAoBlB,EAAS,oBAAsB,EACnD,iBAAkBA,EAAS,kBAAoB,cAC/C,WAAYA,EAAS,YAAc,UACnC,eAAgBA,EAAS,gBAAkB,QAC3C,iBAAkBA,EAAS,kBAAoB,QAC/C,eAAgBA,EAAS,gBAAkB,EAAA,CAC5C,EAGGA,EAAS,4BAA8B,MACvCA,EAAS,0BAA4B,MACrCA,EAAS,oBAAsB,MAC/BA,EAAS,wBAA0B,MACnCA,EAAS,0BAA4B,MACrCA,EAAS,wBAA0B,KACnBoB,EAAA,CAChB,mBAAoBpB,EAAS,2BAA6BA,EAAS,oBAAsB,EACzF,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,cACnF,WAAYA,EAAS,mBAAqBA,EAAS,YAAc,UACjE,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,QAC7E,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,QACnF,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,EAAA,CAC9E,EAEDoB,EAAkB,IAAI,EAIpBpB,EAAS,4BAA8B,MACvCA,EAAS,0BAA4B,MACrCA,EAAS,oBAAsB,MAC/BA,EAAS,wBAA0B,MACnCA,EAAS,0BAA4B,MACrCA,EAAS,wBAA0B,KACnBsB,EAAA,CAChB,mBAAoBtB,EAAS,2BAA6BA,EAAS,oBAAsB,EACzF,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,cACnF,WAAYA,EAAS,mBAAqBA,EAAS,YAAc,UACjE,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,QAC7E,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,QACnF,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,EAAA,CAC9E,EAEDsB,EAAkB,IAAI,EAE1B,EACC,CAACtB,CAAQ,CAAC,EAEb,MAAM0B,EAA4BC,EAAA,YAAY,CAACC,EAAoBC,EAAgCC,IAAe,CAC5GF,IAAW,UACMV,EAAAa,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAG,EAAGC,CAAQ,EAAA,EAC7CF,IAAW,SACpBR,KAA0BW,EAAO,CAAE,GAAGA,EAAM,CAACF,CAAG,EAAGC,CAAM,EAAI,CAAE,GAAGb,EAAiB,CAACY,CAAG,EAAGC,CAAO,CAAA,EAEjGR,KAA0BS,EAAO,CAAE,GAAGA,EAAM,CAACF,CAAG,EAAGC,CAAM,EAAI,CAAE,GAAGb,EAAiB,CAACY,CAAG,EAAGC,CAAO,CAAA,EAEnGN,EAAqB,EAAI,CAAA,EACxB,CAACP,CAAe,CAAC,EAEde,EAAkCL,cAAaC,GAAuB,CACtEA,IAAW,SACKR,EAAA,CAAE,GAAGH,CAAA,CAAiB,EAC/BW,IAAW,UACFN,EAAA,CAAE,GAAGL,CAAA,CAAiB,EAE1CO,EAAqB,EAAI,CAAA,EACxB,CAACP,CAAe,CAAC,EAEdgB,EAAmCN,cAAaC,GAAuB,CACvEA,IAAW,SACbR,EAAkB,IAAI,EACbQ,IAAW,UACpBN,EAAkB,IAAI,EAExBE,EAAqB,EAAI,CAC3B,EAAG,CAAE,CAAA,EAECU,GAAqBP,EAAAA,YAAY,IAAM,CAC3C,MAAMQ,EAAuC,CAE3C,mBAAoBlB,EAAgB,mBACpC,iBAAkBA,EAAgB,iBAClC,WAAYA,EAAgB,WAC5B,eAAgBA,EAAgB,eAChC,iBAAkBA,EAAgB,iBAClC,eAAgBA,EAAgB,eAEhC,0BAA2BE,GAAgB,oBAAsB,KACjE,wBAAyBA,GAAgB,kBAAoB,KAC7D,kBAAmBA,GAAgB,YAAc,KACjD,sBAAuBA,GAAgB,gBAAkB,KACzD,wBAAyBA,GAAgB,kBAAoB,KAC7D,sBAAuBA,GAAgB,gBAAkB,KAEzD,0BAA2BE,GAAgB,oBAAsB,KACjE,wBAAyBA,GAAgB,kBAAoB,KAC7D,kBAAmBA,GAAgB,YAAc,KACjD,sBAAuBA,GAAgB,gBAAkB,KACzD,wBAAyBA,GAAgB,kBAAoB,KAC7D,sBAAuBA,GAAgB,gBAAkB,IAAA,EAE3DlB,EAAe,OAAOgC,CAAO,EAC7BX,EAAqB,EAAK,GACzB,CAACP,EAAiBE,EAAgBE,EAAgBlB,CAAc,CAAC,EAE9DiC,GAAsBT,EAAAA,YAAY,IAAM,CACxC3B,IACiBkB,EAAA,CACjB,mBAAoBlB,EAAS,oBAAsB,EACnD,iBAAkBA,EAAS,kBAAoB,cAC/C,WAAYA,EAAS,YAAc,UACnC,eAAgBA,EAAS,gBAAkB,QAC3C,iBAAkBA,EAAS,kBAAoB,QAC/C,eAAgBA,EAAS,gBAAkB,EAAA,CAC5C,EAEGA,EAAS,4BAA8B,MAAQA,EAAS,0BAA4B,KACpEoB,EAAA,CAChB,mBAAoBpB,EAAS,2BAA6BA,EAAS,oBAAsB,EACzF,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,cACnF,WAAYA,EAAS,mBAAqBA,EAAS,YAAc,UACjE,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,QAC7E,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,QACnF,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,EAAA,CAC9E,EAEDoB,EAAkB,IAAI,EAGpBpB,EAAS,4BAA8B,MAAQA,EAAS,0BAA4B,KACpEsB,EAAA,CAChB,mBAAoBtB,EAAS,2BAA6BA,EAAS,oBAAsB,EACzF,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,cACnF,WAAYA,EAAS,mBAAqBA,EAAS,YAAc,UACjE,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,QAC7E,iBAAkBA,EAAS,yBAA2BA,EAAS,kBAAoB,QACnF,eAAgBA,EAAS,uBAAyBA,EAAS,gBAAkB,EAAA,CAC9E,EAEDsB,EAAkB,IAAI,EAGxBE,EAAqB,EAAK,EAC5B,EACC,CAACxB,CAAQ,CAAC,EAEPqC,EAAoBC,GAA8B,CAClDA,GACF7B,EAAiB6B,CAAM,EACvBtB,EAAYsB,CAAM,IAElB7B,EAAiB,IAAI,EACTO,EAAA,CACV,SAAU,GACV,SAAU,GACV,SAAU,GACV,KAAM,GACN,KAAM,SACN,QAAS,GACT,QAAS,GACT,gBAAiB,GACjB,eAAgB,GAChB,eAAgB,GAChB,oBAAqB,GACrB,qBAAsB,EAAA,CACvB,GAEHJ,EAAgB,EAAI,CAAA,EAGhB2B,GAAmB,SAAY,CAC/B/B,GACI,MAAAH,EAAa,YAAY,CAAE,GAAIG,EAAc,GAAI,GAAGO,EAAU,EAGhEP,EAAc,OAAS,cAAgBA,EAAc,UAAYO,EAAS,UAC5E,MAAMyB,GACH,KAAK,eAAe,EACpB,OAAO,CACN,kBAAmBzB,EAAS,QAC5B,WAAY,IAAI,KAAK,EAAE,YAAY,CAAA,CACpC,EACA,MAAM,CAAC,EAEVjB,GAAY,kBAAkB,CAAE,SAAU,CAAC,eAAe,CAAG,CAAA,IAG/D,MAAMM,EAAa,YAAY,CAC7B,GAAGW,EACH,YAAad,GAAS,QAAU,GAAK,CAAA,CAC/B,EAEVW,EAAgB,EAAK,CAAA,EAGjB6B,GAAqB,MAAOC,GAAe,CAC3C,QAAQ/C,EAAE,qBAAqB,CAAC,GAC5B,MAAAW,GAAa,YAAYoC,CAAE,CACnC,EAGIC,EAAoBC,GAAqB,CACvC,MAAAC,EAAQC,GAAoBF,CAAQ,EAC1C,OAAOC,EAAOE,EAAAA,IAACF,EAAK,CAAA,UAAU,UAAU,EAAK,IAAA,EAGzCG,EAAqBV,GAA6B,CACtD,MAAMW,EAAOrD,GAAK,SACd,OAAAqD,IAAS,KAAaX,EAAO,SAC7BW,IAAS,KAAaX,EAAO,SAC1BA,EAAO,QAAA,EAIVY,EAA2BvB,cAAaC,GACxCA,IAAW,UAAkBX,EAC7BW,IAAW,SAAiBT,GAAkBF,EAC3CI,GAAkBJ,EACxB,CAACA,EAAiBE,EAAgBE,CAAc,CAAC,EAG9C8B,GAAkBxB,cAAayB,GAAwC,CAC3E,MAAMC,EAAY,OAAOD,EAAe,oBAAsB,CAAC,EACzDE,EAAUF,EAAe,kBAAoB,cAEnD,IAAIG,EAAkB,cACtB,OAAID,IAAY,QAA2BC,EAAA,oBAAoBF,CAAS,IAC/DC,IAAY,QAA2BC,EAAA,cAAcF,CAAS,IAC9DC,IAAY,YAA6BC,EAAA,kCAAkCF,CAAS,KAEtF,CAAE,gBAAAE,CAAgB,CAC3B,EAAG,CAAE,CAAA,EAECC,EAAsB,CAAC5B,EAAoBwB,IAC9CK,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,yBAAyB,CAAE,CAAA,EACrC8D,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACY,GAAA,CACC,MAAO,CAAC,OAAOP,EAAe,oBAAsB,CAAC,EAAI,GAAG,EAC5D,cAAgBtB,GAAUJ,EAA0BE,EAAQ,qBAAsBE,EAAM,CAAC,EAAI,GAAG,EAChG,IAAK,IACL,KAAM,EACN,UAAU,QAAA,CACZ,EACA2B,EAAAA,KAAC,OAAK,CAAA,UAAU,kBAAmB,SAAA,CAAA,KAAK,MAAM,OAAOL,EAAe,oBAAsB,CAAC,EAAI,GAAG,EAAE,GAAA,EAAC,CAAA,EACvG,CAAA,EACF,EAEAK,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,uBAAuB,CAAE,CAAA,EACnC8D,EAAA,KAACG,EAAA,CACC,MAAOR,EAAe,kBAAoB,cAC1C,cAAgBtB,GAAUJ,EAA0BE,EAAQ,mBAAoBE,CAAK,EAErF,SAAA,CAACiB,EAAA,IAAAc,EAAA,CACC,SAACd,EAAA,IAAAe,EAAA,CAAY,CAAA,EACf,SACCC,EACC,CAAA,SAAA,CAAAhB,MAACiB,EAAW,CAAA,MAAM,cAAe,SAAArE,EAAE,mBAAmB,EAAE,QACvDqE,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,UAAW,SAAArE,EAAE,eAAe,EAAE,CAAA,EAClD,CAAA,CAAA,CACF,CAAA,EACF,EAEA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,iBAAiB,CAAE,CAAA,EAC7B8D,EAAA,KAACG,EAAA,CACC,MAAOR,EAAe,YAAc,UACpC,cAAgBtB,GAAUJ,EAA0BE,EAAQ,aAAcE,CAAK,EAE/E,SAAA,CAACiB,EAAA,IAAAc,EAAA,CACC,SAACd,EAAA,IAAAe,EAAA,CAAY,CAAA,EACf,SACCC,EACC,CAAA,SAAA,CAAAhB,MAACiB,EAAW,CAAA,MAAM,UAAW,SAAArE,EAAE,eAAe,EAAE,QAC/CqE,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,CAAA,EAC9C,CAAA,CAAA,CACF,CAAA,EACF,CAAA,EACF,EAEA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,oBAAoB,CAAE,CAAA,EAChC8D,EAAA,KAACG,EAAA,CACC,MAAOR,EAAe,gBAAkB,QACxC,cAAgBtB,GAAUJ,EAA0BE,EAAQ,iBAAkBE,CAAK,EAEnF,SAAA,CAACiB,EAAA,IAAAc,EAAA,CACC,SAACd,EAAA,IAAAe,EAAA,CAAY,CAAA,EACf,SACCC,EACC,CAAA,SAAA,CAAAhB,MAACiB,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,UAAW,SAAArE,EAAE,eAAe,EAAE,CAAA,EAClD,CAAA,CAAA,CACF,CAAA,EACF,EAEA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,sBAAsB,CAAE,CAAA,EAClC8D,EAAA,KAACG,EAAA,CACC,MAAOR,EAAe,kBAAoB,QAC1C,cAAgBtB,GAAUJ,EAA0BE,EAAQ,mBAAoBE,CAAK,EAErF,SAAA,CAACiB,EAAA,IAAAc,EAAA,CACC,SAACd,EAAA,IAAAe,EAAA,CAAY,CAAA,EACf,SACCC,EACC,CAAA,SAAA,CAAAhB,MAACiB,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,QAAS,SAAArE,EAAE,aAAa,EAAE,QAC3CqE,EAAW,CAAA,MAAM,UAAW,SAAArE,EAAE,eAAe,EAAE,CAAA,EAClD,CAAA,CAAA,CACF,CAAA,EACF,CAAA,EACF,EAEA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,oCACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,qBAAqB,CAAE,CAAA,QAChC,IAAE,CAAA,UAAU,gCAAiC,SAAAA,EAAE,gCAAgC,EAAE,CAAA,EACpF,EACAoD,EAAA,IAACkB,EAAA,CACC,QAASb,EAAe,gBAAkB,GAC1C,gBAAkBc,GAAYxC,EAA0BE,EAAQ,iBAAkBsC,CAAO,CAAA,CAC3F,CAAA,EACF,CACF,CAAA,CAAA,EAGF,OAAIhE,SACM,MAAI,CAAA,UAAU,MAAO,SAAAP,EAAE,gBAAgB,CAAE,CAAA,EAIjD8D,EAAA,KAAC,MAAI,CAAA,UAAU,gBACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAAV,MAAC,KAAG,CAAA,UAAU,qBAAsB,SAAApD,EAAE,0BAA0B,EAAE,QACjE,IAAE,CAAA,UAAU,wBAAyB,SAAAA,EAAE,qCAAqC,EAAE,CAAA,EACjF,SAGCwE,EACC,CAAA,SAAA,CAAApB,EAAAA,IAACqB,GACC,SAACrB,MAAAsB,EAAA,CAAW,SAAE1E,EAAA,eAAe,EAAE,CACjC,CAAA,QACC2E,EACC,CAAA,SAAAvB,EAAA,IAAC,MAAA,CACC,UAAU,oCACV,MAAO,CAAE,gBAAiB,SAAU,EAEpC,SAAAU,EAAA,KAAC,MAAA,CACC,UAAW,+CAA+CP,EAAyBrC,CAAe,EAAE,eAAiB,sCAAwC,EAAE,GAC/J,MAAOsC,GAAgBD,EAAyBrC,CAAe,CAAC,EAEhE,SAAA,CAACkC,EAAAA,IAAA,MAAA,CAAI,UAAU,+BAAgC,CAAA,EAC/CA,EAAAA,IAAC,MAAI,CAAA,UAAU,aACZ,SAAA9C,GAAS,MAAM,EAAG,CAAC,EAAE,IAAKsE,GACzBxB,EAAA,IAAC,OAAA,CAEC,UAAW,6BACTG,EAAyBrC,CAAe,EAAE,aAAe,QAAU,aACnEqC,EAAyBrC,CAAe,EAAE,aAAe,QAAU,aAAe,cACpF,GAEC,WAAkB0D,CAAG,CAAA,EANjBA,EAAI,EAQZ,CAAA,EACH,EACAxB,EAAAA,IAAC,MAAI,CAAA,UAAU,+BAAgC,CAAA,CAAA,CAAA,CACjD,CAAA,CAAA,EAEJ,CAAA,EACF,SAGCoB,EACC,CAAA,SAAA,CAACV,EAAAA,KAAAW,EAAA,CAAW,UAAU,6CACpB,SAAA,CAAAX,OAAC,MACC,CAAA,SAAA,CAACV,EAAA,IAAAsB,EAAA,CAAW,SAAE1E,EAAA,mBAAmB,CAAE,CAAA,EAClCoD,EAAA,IAAAyB,GAAA,CAAiB,SAAE7E,EAAA,8BAA8B,CAAE,CAAA,CAAA,EACtD,EACC4B,IACCkC,EAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAAAA,OAACgB,GAAO,QAAQ,UAAU,KAAK,KAAK,QAASrC,GAC3C,SAAA,CAACW,EAAAA,IAAA2B,GAAA,CAAU,UAAU,cAAe,CAAA,EACnC/E,EAAE,cAAc,CAAA,EACnB,EACA8D,EAAAA,KAACgB,GAAO,KAAK,KAAK,QAASvC,GAAoB,SAAU/B,EAAe,UACtE,SAAA,CAAC4C,EAAAA,IAAA4B,GAAA,CAAK,UAAU,cAAe,CAAA,EAC9BhF,EAAE,aAAa,CAAA,EAClB,CAAA,EACF,CAAA,EAEJ,EACAoD,EAAAA,IAACuB,EACC,CAAA,SAAAb,EAAA,KAACmB,GAAK,CAAA,MAAO/D,EAAiB,cAAgBgE,GAAM/D,GAAmB+D,CAAe,EACpF,SAAA,CAACpB,EAAAA,KAAAqB,GAAA,CAAS,UAAU,OAClB,SAAA,CAAArB,EAAA,KAACsB,EAAY,CAAA,MAAM,UAAU,UAAU,QACrC,SAAA,CAAChC,EAAAA,IAAAiC,EAAA,CAAQ,UAAU,SAAU,CAAA,EAC5BrF,EAAE,eAAe,CAAA,EACpB,EACC8D,EAAA,KAAAsB,EAAA,CAAY,MAAM,SAAS,UAAU,QACpC,SAAA,CAAChC,EAAAA,IAAAkC,EAAA,CAAO,UAAU,SAAU,CAAA,EAC3BtF,EAAE,cAAc,CAAA,EACnB,EACC8D,EAAA,KAAAsB,EAAA,CAAY,MAAM,SAAS,UAAU,QACpC,SAAA,CAAChC,EAAAA,IAAAmC,EAAA,CAAW,UAAU,SAAU,CAAA,EAC/BvF,EAAE,cAAc,CAAA,EACnB,CAAA,EACF,QAECwF,EAAY,CAAA,MAAM,UAChB,SAAoB3B,EAAA,UAAWvC,CAAe,EACjD,EAEA8B,EAAAA,IAACoC,GAAY,MAAM,SAChB,WACE1B,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAV,MAAC,OAAK,CAAA,UAAU,gCACb,SAAApD,EAAE,4BAA4B,EACjC,EACAoD,EAAA,IAAC0B,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMxC,EAAiC,QAAQ,EAEvD,WAAE,0BAA0B,CAAA,CAC/B,CAAA,EACF,EACCuB,EAAoB,SAAUrC,CAAc,CAAA,CAC/C,CAAA,EAEAsC,EAAAA,KAAC,MAAI,CAAA,UAAU,6DACb,SAAA,CAACV,EAAAA,IAAAkC,EAAA,CAAO,UAAU,sCAAuC,CAAA,QACxD,IAAE,CAAA,UAAU,6BACV,SAAAtF,EAAE,4BAA4B,EACjC,EACAoD,EAAAA,IAAC0B,GAAO,QAAS,IAAMzC,EAAgC,QAAQ,EAC5D,SAAErC,EAAA,+BAA+B,EACpC,CAAA,CAAA,CACF,CAEJ,CAAA,EAEAoD,EAAAA,IAACoC,GAAY,MAAM,SAChB,WACE1B,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAV,MAAC,OAAK,CAAA,UAAU,gCACb,SAAApD,EAAE,4BAA4B,EACjC,EACAoD,EAAA,IAAC0B,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMxC,EAAiC,QAAQ,EAEvD,WAAE,0BAA0B,CAAA,CAC/B,CAAA,EACF,EACCuB,EAAoB,SAAUnC,CAAc,CAAA,CAC/C,CAAA,EAEAoC,EAAAA,KAAC,MAAI,CAAA,UAAU,6DACb,SAAA,CAACV,EAAAA,IAAAmC,EAAA,CAAW,UAAU,sCAAuC,CAAA,QAC5D,IAAE,CAAA,UAAU,6BACV,SAAAvF,EAAE,4BAA4B,EACjC,EACAoD,EAAAA,IAAC0B,GAAO,QAAS,IAAMzC,EAAgC,QAAQ,EAC5D,SAAErC,EAAA,+BAA+B,EACpC,CAAA,CAAA,CACF,CAEJ,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,SAGCwE,EACC,CAAA,SAAA,CAACV,EAAAA,KAAAW,EAAA,CAAW,UAAU,6CACpB,SAAA,CAAAX,OAAC,MACC,CAAA,SAAA,CAACV,EAAA,IAAAsB,EAAA,CAAW,SAAE1E,EAAA,kBAAkB,CAAE,CAAA,EACjCoD,EAAA,IAAAyB,GAAA,CAAiB,SAAE7E,EAAA,6BAA6B,CAAE,CAAA,CAAA,EACrD,EACC8D,EAAA,KAAA2B,GAAA,CAAO,KAAMzE,GAAc,aAAcC,EACxC,SAAA,CAACmC,EAAAA,IAAAsC,GAAA,CAAc,QAAO,GACpB,SAAA5B,OAACgB,GAAO,QAAS,IAAMpC,IACrB,SAAA,CAACU,EAAAA,IAAAuC,GAAA,CAAK,UAAU,cAAe,CAAA,EAC9B3F,EAAE,iBAAiB,CAAA,CAAA,CACtB,CACF,CAAA,EACA8D,EAAAA,KAAC8B,GAAc,CAAA,UAAU,yCACvB,SAAA,CAACxC,EAAA,IAAAyC,GAAA,CACC,SAACzC,EAAAA,IAAA0C,GAAA,CACE,SAAgB9F,EAAAa,EAAE,mBAAwB,iBAAN,CAAuB,CAC9D,CACF,CAAA,EACAiD,EAAAA,KAAC,MAAI,CAAA,UAAU,iBAEb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,oBAAoB,CAAE,CAAA,EAChCoD,EAAA,IAAC2C,EAAA,CACC,MAAO3E,EAAS,UAAY,GAC5B,SAAW4E,GAAM3E,EAAY,CAAE,GAAGD,EAAU,SAAU4E,EAAE,OAAO,MAAO,EACtE,YAAY,MAAA,CACd,CAAA,EACF,EACAlC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,oBAAoB,CAAE,CAAA,EAChCoD,EAAA,IAAC2C,EAAA,CACC,MAAO3E,EAAS,UAAY,GAC5B,SAAW4E,GAAM3E,EAAY,CAAE,GAAGD,EAAU,SAAU4E,EAAE,OAAO,MAAO,EACtE,YAAY,eAAA,CACd,CAAA,EACF,EACAlC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,uBAAuB,CAAE,CAAA,EACnCoD,EAAA,IAAC2C,EAAA,CACC,MAAO3E,EAAS,UAAY,GAC5B,SAAW4E,GAAM3E,EAAY,CAAE,GAAGD,EAAU,SAAU4E,EAAE,OAAO,MAAO,EACtE,YAAY,kBAAA,CACd,CAAA,EACF,CAAA,EACF,EAGAlC,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,YAAY,CAAE,CAAA,EACxBoD,EAAA,IAAC2C,EAAA,CACC,MAAO3E,EAAS,MAAQ,GACxB,SAAW4E,GAAM3E,EAAY,CAAE,GAAGD,EAAU,KAAM4E,EAAE,OAAO,MAAO,EAClE,YAAY,OAAA,CACd,CAAA,EACF,EACAlC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,YAAY,CAAE,CAAA,EACxB8D,EAAA,KAACG,EAAA,CACC,MAAO7C,EAAS,MAAQ,SACxB,cAAgBe,GAAUd,EAAY,CAAE,GAAGD,EAAU,KAAMe,EAAO,EAElE,SAAA,CAACiB,EAAA,IAAAc,EAAA,CACC,SAACd,EAAA,IAAAe,EAAA,CAAY,CAAA,EACf,EACCf,EAAA,IAAAgB,EAAA,CACE,SAAgBtE,GAAA,IAAKmG,GACnB7C,MAAAiB,EAAA,CAAsB,MAAO4B,EAC5B,SAACnC,EAAA,KAAA,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAd,EAAiBiD,CAAI,EACtB7C,EAAAA,IAAC,QAAM,SAAK6C,CAAA,CAAA,CACd,CAAA,CAAA,CAAA,EAJeA,CAKjB,CACD,EACH,CAAA,CAAA,CACF,CAAA,EACF,CAAA,EACF,EAGAnC,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,wBAAwB,CAAE,CAAA,EACpC8D,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,iBAAmB,GACrC,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,gBAAiBmD,EAAS,CAAA,CACrF,EACAnB,EAAAA,IAACiC,EAAQ,CAAA,UAAU,SAAU,CAAA,QAC5B,OAAK,CAAA,UAAU,UAAW,SAAArF,EAAE,eAAe,EAAE,CAAA,EAChD,EACA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,gBAAkB,GACpC,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,eAAgBmD,EAAS,CAAA,CACpF,EACAnB,EAAAA,IAACkC,EAAO,CAAA,UAAU,SAAU,CAAA,QAC3B,OAAK,CAAA,UAAU,UAAW,SAAAtF,EAAE,cAAc,EAAE,CAAA,EAC/C,EACA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,gBAAkB,GACpC,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,eAAgBmD,EAAS,CAAA,CACpF,EACAnB,EAAAA,IAACmC,EAAW,CAAA,UAAU,SAAU,CAAA,QAC/B,OAAK,CAAA,UAAU,UAAW,SAAAvF,EAAE,cAAc,EAAE,CAAA,EAC/C,CAAA,EACF,CAAA,EACF,EAGA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACV,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,4BAA4B,CAAE,CAAA,EACxC8D,EAAAA,KAAC,MAAI,CAAA,UAAU,aACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,qBAAuB,GACzC,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,oBAAqBmD,EAAS,CAAA,CACzF,QACC,OAAK,CAAA,UAAU,UAAW,SAAAvE,EAAE,wBAAwB,EAAE,CAAA,EACzD,EACA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,sBAAwB,GAC1C,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,qBAAsBmD,EAAS,CAAA,CAC1F,QACC,OAAK,CAAA,UAAU,UAAW,SAAAvE,EAAE,yBAAyB,EAAE,CAAA,EAC1D,CAAA,EACF,CAAA,EACF,EAGCoB,EAAS,UAAY,IACnB0C,EAAA,KAAAoC,GAAA,CAAM,UAAU,uEACf,SAAA,CAAC9C,EAAAA,IAAA+C,EAAA,CAAS,UAAU,wBAAyB,CAAA,QAC5CC,GAAiB,CAAA,UAAU,qCACzB,SAAEpG,EAAA,+BAAgC,kCAAkC,EACvE,CAAA,EACF,GAIAa,GAAe,OAAS,cAAgBO,EAAS,OAAS,eAC1D0C,EAAAA,KAACoC,GAAM,CAAA,UAAU,mEACf,SAAA,CAAC9C,EAAAA,IAAAiD,GAAA,CAAM,UAAU,uBAAwB,CAAA,QACxCD,GAAiB,CAAA,UAAU,mCACzB,SAAEpG,EAAA,gCAAiC,uBAAuB,EAC7D,CAAA,EACF,EAGF8D,EAAAA,KAAC,MAAI,CAAA,UAAU,sEACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACA,EAAAA,KAAAC,EAAA,CAAM,UAAU,gDACd,SAAA,CAAS3C,EAAA,UAAY,GACpBgC,EAAAA,IAACkD,GAAM,CAAA,UAAU,wBAAyB,CAAA,EAE1ClD,EAAAA,IAAC+C,EAAS,CAAA,UAAU,wBAAyB,CAAA,EAE9CnG,EAAE,uBAAwB,MAAM,CAAA,EACnC,EACCoD,EAAA,IAAA,IAAA,CAAE,UAAU,gCACV,WAAS,UAAY,GAClBpD,EAAE,2BAA4B,cAAc,EAC5CA,EAAE,4BAA6B,eAAe,EACpD,CAAA,EACF,EACAoD,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,UAAY,GAC9B,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,QAASmD,EAAS,CAAA,CAC7E,CAAA,EACF,EAGAT,EAAAA,KAAC,MAAI,CAAA,UAAU,0BACb,SAAA,CAAAV,EAAA,IAACkB,EAAA,CACC,QAASlD,EAAS,SAAW,GAC7B,gBAAkBmD,GAAYlD,EAAY,CAAE,GAAGD,EAAU,QAASmD,EAAS,CAAA,CAC7E,EACCnB,EAAA,IAAAW,EAAA,CAAO,SAAE/D,EAAA,eAAe,CAAE,CAAA,CAAA,EAC7B,EAEA8D,EAAAA,KAAC,MAAI,CAAA,UAAU,8BACb,SAAA,CAACV,EAAAA,IAAA0B,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAM7D,EAAgB,EAAK,EAC3D,SAAEjB,EAAA,eAAe,CACpB,CAAA,EACAoD,EAAAA,IAAC0B,EAAO,CAAA,QAASlC,GAAkB,SAAUnC,EAAa,WAAaC,EAAa,UACjF,SAAEV,EAAA,aAAa,CAClB,CAAA,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA,EACF,CAAA,EACF,EACAoD,EAAA,IAACuB,EACC,CAAA,SAAAb,EAAAA,KAACyC,GACC,CAAA,SAAA,CAACnD,EAAA,IAAAoD,GAAA,CACC,gBAACC,GACC,CAAA,SAAA,CAACrD,EAAAA,IAAAsD,EAAA,CAAU,UAAU,MAAO,CAAA,EAC3BtD,EAAA,IAAAsD,EAAA,CAAW,SAAE1G,EAAA,eAAgB,IAAI,EAAE,EACnCoD,EAAA,IAAAsD,EAAA,CAAW,SAAE1G,EAAA,YAAY,CAAE,CAAA,EAC3BoD,EAAA,IAAAsD,EAAA,CAAW,SAAE1G,EAAA,aAAa,CAAE,CAAA,EAC5BoD,EAAA,IAAAsD,EAAA,CAAW,SAAE1G,EAAA,YAAY,CAAE,CAAA,EAC3BoD,EAAA,IAAAsD,EAAA,CAAW,SAAE1G,EAAA,eAAe,CAAE,CAAA,EAC9BoD,EAAA,IAAAsD,EAAA,CAAW,SAAE1G,EAAA,eAAe,CAAE,CAAA,QAC9B0G,EAAU,CAAA,UAAU,aAAc,SAAA1G,EAAE,eAAe,EAAE,CAAA,CAAA,CACxD,CACF,CAAA,EACCoD,EAAA,IAAAuD,GAAA,CACE,SAASrG,GAAA,IAAKqC,GACZmB,EAAA,KAAA2C,GAAA,CAAyB,UAAW9D,EAAO,UAAY,GAAQ,aAAe,GAC7E,SAAA,CAAAS,MAACwD,EACC,CAAA,SAAAxD,EAAA,IAACyD,GAAa,CAAA,UAAU,2CAA4C,CAAA,EACtE,EACCzD,EAAA,IAAAwD,EAAA,CACC,SAACxD,EAAAA,IAAA,MAAA,CAAI,MAAOT,EAAO,UAAY,GAAQ3C,EAAE,uBAAwB,MAAM,EAAIA,EAAE,wBAAyB,MAAM,EACzG,SAAO2C,EAAA,UAAY,GAClBS,EAAAA,IAACkD,GAAM,CAAA,UAAU,wBAAyB,CAAA,EAEzClD,EAAAA,IAAA+C,EAAA,CAAS,UAAU,wBAAyB,CAAA,CAEjD,CAAA,EACF,EACC/C,EAAA,IAAAwD,EAAA,CAAW,SAAiB5D,EAAAL,EAAO,IAAI,EAAE,QACzCiE,EAAU,CAAA,UAAU,cAAe,SAAAvD,EAAkBV,CAAM,EAAE,EAC7DS,EAAA,IAAAwD,EAAA,CAAU,UAAU,wBAAyB,WAAO,KAAK,EACzDxD,MAAAwD,EAAA,CACC,SAAC9C,EAAAA,KAAA,MAAA,CAAI,UAAU,aACZ,SAAA,CAAAnB,EAAO,iBAAmBS,EAAA,IAACiC,EAAQ,CAAA,UAAU,UAAU,EACvD1C,EAAO,gBAAmBS,EAAA,IAAAkC,EAAA,CAAO,UAAU,UAAU,EACrD3C,EAAO,gBAAmBS,EAAA,IAAAmC,EAAA,CAAW,UAAU,UAAU,CAAA,CAAA,CAC5D,CACF,CAAA,EACCnC,EAAA,IAAAwD,EAAA,CACE,SAAOjE,EAAA,QACLS,EAAA,IAAA0D,GAAA,CAAI,UAAU,wBAAA,CAAyB,EAExC1D,MAAC2D,GAAO,CAAA,UAAU,+BAAgC,CAAA,EAEtD,QACCH,EAAU,CAAA,UAAU,aACnB,SAAC9C,EAAA,KAAA,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAV,EAAA,IAAC0B,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMpC,EAAiBC,CAAM,EAEtC,SAAAS,EAAAA,IAAC4D,GAAO,CAAA,UAAU,SAAU,CAAA,CAAA,CAC9B,EACA5D,EAAA,IAAC0B,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMhC,GAAmBH,EAAO,EAAE,EAE3C,SAAAS,EAAAA,IAAC6D,GAAO,CAAA,UAAU,0BAA2B,CAAA,CAAA,CAC/C,CAAA,CAAA,CACF,CACF,CAAA,CA/Ca,CAAA,EAAAtE,EAAO,EAgDtB,CACD,EACH,CAAA,CAAA,CACF,CACF,CAAA,CAAA,EACF,CACF,CAAA,CAAA,CAEJ"}