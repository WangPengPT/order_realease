import{r as t,j as e}from"./vendor-react-core-BErlw7p5.js";import{B as n,C as F,h as K,p as M,a2 as Q,I as u,j as R,D as y,a as S,b,c as A,Q as U,T,A as z,E as G,F as J,G as _,J as q,K as V,L as X,M as Y}from"./index-kEIDKiMZ.js";import{T as Z,a as $,b as k,c as j,d as ee,e as p}from"./table-Cd72RMvS.js";import{u as se,a as ie,b as te,c as ne}from"./useSensitiveWords-BZD8mqgD.js";import{u as ae}from"./vendor-i18n-CqcxoxDo.js";import{h as re,ac as oe,t as de,aU as le,T as ce}from"./vendor-icons-C2Bicc1E.js";import{C as me}from"./vendor-date-fYlqblcl.js";import"./vendor-editor-BdQcs4B3.js";import"./vendor-misc-DH4LiFnZ.js";import"./vendor-router-CLK0c9aH.js";import"./vendor-ui-other-CPTlx-W2.js";import"./vendor-query-BS0wY7WL.js";import"./vendor-supabase-Clrw0GhO.js";import"./vendor-ui-dialog-Sv_VEL0d.js";import"./vendor-ui-dropdown-DwTcg2UT.js";const be=()=>{const{t:s}=ae(),{data:g,isLoading:O}=se(),v=ie(),f=te(),E=ne(),[l,H]=t.useState(""),[P,r]=t.useState(!1),[I,o]=t.useState(!1),[L,c]=t.useState(!1),[d,D]=t.useState(""),[a,m]=t.useState(null),[h,W]=t.useState(null),x=g?.filter(i=>i.word.toLowerCase().includes(l.toLowerCase())),w=()=>{d.trim()&&v.mutate(d,{onSuccess:()=>{D(""),r(!1)}})},C=()=>{!a||!a.word.trim()||f.mutate({id:a.id,word:a.word},{onSuccess:()=>{m(null),o(!1)}})},B=()=>{h&&E.mutate(h.id,{onSuccess:()=>{W(null),c(!1)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(re,{className:"h-6 w-6"}),s("admin.sensitiveWords.title")]}),e.jsx("p",{className:"text-muted-foreground",children:s("admin.sensitiveWords.description")})]}),e.jsxs(n,{onClick:()=>r(!0),children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),s("admin.sensitiveWords.add")]})]}),e.jsxs(F,{children:[e.jsx(K,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(M,{children:s("admin.sensitiveWords.list")}),e.jsx(Q,{children:s("admin.sensitiveWords.total",{count:g?.length||0})})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:s("admin.sensitiveWords.search"),value:l,onChange:i=>H(i.target.value),className:"pl-9"})]})]})}),e.jsx(R,{children:O?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s("common.loading")}):x&&x.length>0?e.jsxs(Z,{children:[e.jsx($,{children:e.jsxs(k,{children:[e.jsx(j,{children:s("admin.sensitiveWords.word")}),e.jsx(j,{children:s("admin.sensitiveWords.createdAt")}),e.jsx(j,{className:"text-right",children:s("common.actions.actions")})]})}),e.jsx(ee,{children:x.map(i=>e.jsxs(k,{children:[e.jsx(p,{className:"font-medium",children:i.word}),e.jsx(p,{children:me(new Date(i.created_at),"yyyy-MM-dd HH:mm")}),e.jsxs(p,{className:"text-right",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>{m(i),o(!0)},children:e.jsx(le,{className:"h-4 w-4"})}),e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>{W(i),c(!0)},children:e.jsx(ce,{className:"h-4 w-4 text-destructive"})})]})]},i.id))})]}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s(l?"admin.sensitiveWords.noResults":"admin.sensitiveWords.empty")})})]}),e.jsx(y,{open:P,onOpenChange:r,children:e.jsxs(S,{children:[e.jsxs(b,{children:[e.jsx(A,{children:s("admin.sensitiveWords.add")}),e.jsx(U,{children:s("admin.sensitiveWords.addDescription")})]}),e.jsx(u,{placeholder:s("admin.sensitiveWords.inputPlaceholder"),value:d,onChange:i=>D(i.target.value),onKeyDown:i=>i.key==="Enter"&&w()}),e.jsxs(T,{children:[e.jsx(n,{variant:"outline",onClick:()=>r(!1),children:s("common.actions.cancel")}),e.jsx(n,{onClick:w,disabled:v.isPending||!d.trim(),children:s("common.actions.add")})]})]})}),e.jsx(y,{open:I,onOpenChange:o,children:e.jsxs(S,{children:[e.jsx(b,{children:e.jsx(A,{children:s("admin.sensitiveWords.edit")})}),e.jsx(u,{placeholder:s("admin.sensitiveWords.inputPlaceholder"),value:a?.word||"",onChange:i=>m(N=>N?{...N,word:i.target.value}:null),onKeyDown:i=>i.key==="Enter"&&C()}),e.jsxs(T,{children:[e.jsx(n,{variant:"outline",onClick:()=>o(!1),children:s("common.actions.cancel")}),e.jsx(n,{onClick:C,disabled:f.isPending||!a?.word.trim(),children:s("common.actions.save")})]})]})}),e.jsx(z,{open:L,onOpenChange:c,children:e.jsxs(G,{children:[e.jsxs(J,{children:[e.jsx(_,{children:s("admin.sensitiveWords.deleteTitle")}),e.jsx(q,{children:s("admin.sensitiveWords.deleteDescription",{word:h?.word})})]}),e.jsxs(V,{children:[e.jsx(X,{children:s("common.actions.cancel")}),e.jsx(Y,{onClick:B,className:"bg-destructive text-destructive-foreground",children:s("common.actions.delete")})]})]})})]})};export{be as default};
//# sourceMappingURL=AdminSensitiveWords-2IiUoRMs.js.map
