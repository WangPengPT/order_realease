{"version":3,"file":"AdminAIRecipes-uO4s9lxs.js","sources":["../../src/pages/admin/AdminAIRecipes.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { toast } from \"sonner\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { Trash2, Pencil, Search, ChefHat, Image as ImageIcon, Eye } from \"lucide-react\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { zhCN } from \"date-fns/locale\";\r\n\r\ninterface CachedRecipe {\r\n  id: string;\r\n  recipe_name: string;\r\n  recipe_name_en: string | null;\r\n  recipe_name_pt: string | null;\r\n  recipe_data: any;\r\n  image_url: string | null;\r\n  image_source: string | null;\r\n  ingredients_hash: string | null;\r\n  difficulty: string | null;\r\n  servings: number | null;\r\n  is_approved: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nconst AdminAIRecipes = () => {\r\n  const { t } = useTranslation();\r\n  const queryClient = useQueryClient();\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [editItem, setEditItem] = useState<CachedRecipe | null>(null);\r\n  const [previewItem, setPreviewItem] = useState<CachedRecipe | null>(null);\r\n  const [editForm, setEditForm] = useState({ recipe_name: \"\", recipe_name_en: \"\", recipe_name_pt: \"\", image_url: \"\", is_approved: true });\r\n\r\n  const { data: recipes = [], isLoading } = useQuery({\r\n    queryKey: [\"admin-ai-recipes\"],\r\n    queryFn: async () => {\r\n      const { data, error } = await (supabase.from(\"ai_recipe_cache\" as any).select(\"*\").order(\"created_at\", { ascending: false }) as any);\r\n      if (error) throw error;\r\n      return data as CachedRecipe[];\r\n    },\r\n  });\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const { error } = await (supabase.from(\"ai_recipe_cache\" as any).delete().eq(\"id\", id) as any);\r\n      if (error) throw error;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"admin-ai-recipes\"] });\r\n      toast.success(\"已删除\");\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: async ({ id, updates }: { id: string; updates: any }) => {\r\n      const { error } = await (supabase.from(\"ai_recipe_cache\" as any).update(updates).eq(\"id\", id) as any);\r\n      if (error) throw error;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"admin-ai-recipes\"] });\r\n      setEditItem(null);\r\n      toast.success(\"已更新\");\r\n    },\r\n  });\r\n\r\n  const openEdit = (item: CachedRecipe) => {\r\n    setEditItem(item);\r\n    setEditForm({\r\n      recipe_name: item.recipe_name,\r\n      recipe_name_en: item.recipe_name_en || \"\",\r\n      recipe_name_pt: item.recipe_name_pt || \"\",\r\n      image_url: item.image_url || \"\",\r\n      is_approved: item.is_approved,\r\n    });\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (!editItem) return;\r\n    updateMutation.mutate({\r\n      id: editItem.id,\r\n      updates: {\r\n        recipe_name: editForm.recipe_name,\r\n        recipe_name_en: editForm.recipe_name_en || null,\r\n        recipe_name_pt: editForm.recipe_name_pt || null,\r\n        image_url: editForm.image_url || null,\r\n        is_approved: editForm.is_approved,\r\n      },\r\n    });\r\n  };\r\n\r\n  const toggleApproval = (item: CachedRecipe) => {\r\n    updateMutation.mutate({\r\n      id: item.id,\r\n      updates: { is_approved: !item.is_approved },\r\n    });\r\n  };\r\n\r\n  const filtered = recipes.filter((r) =>\r\n    !searchTerm || r.recipe_name.includes(searchTerm) || r.recipe_name_en?.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const getDifficultyBadge = (d: string | null) => {\r\n    if (!d) return null;\r\n    const colors: Record<string, string> = { easy: \"bg-green-500/20 text-green-700\", medium: \"bg-yellow-500/20 text-yellow-700\", hard: \"bg-red-500/20 text-red-700\" };\r\n    const labels: Record<string, string> = { easy: \"简单\", medium: \"中等\", hard: \"困难\" };\r\n    return <Badge className={colors[d] || \"\"}>{labels[d] || d}</Badge>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold flex items-center gap-2\">\r\n          <ChefHat className=\"h-6 w-6\" />\r\n          {t(\"admin.aiRecipes.title\", \"AI食谱缓存管理\")}\r\n        </h1>\r\n        <Badge variant=\"secondary\">{recipes.length} 条记录</Badge>\r\n      </div>\r\n\r\n      <div className=\"relative max-w-sm\">\r\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n        <Input placeholder=\"搜索食谱名称...\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} className=\"pl-9\" />\r\n      </div>\r\n\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead className=\"w-16\">图片</TableHead>\r\n                <TableHead>食谱名称</TableHead>\r\n                <TableHead className=\"hidden md:table-cell\">难度</TableHead>\r\n                <TableHead className=\"hidden md:table-cell\">来源</TableHead>\r\n                <TableHead className=\"hidden md:table-cell\">创建时间</TableHead>\r\n                <TableHead>状态</TableHead>\r\n                <TableHead className=\"text-right\">操作</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {isLoading ? (\r\n                <TableRow><TableCell colSpan={7} className=\"text-center py-8 text-muted-foreground\">加载中...</TableCell></TableRow>\r\n              ) : filtered.length === 0 ? (\r\n                <TableRow><TableCell colSpan={7} className=\"text-center py-8 text-muted-foreground\">暂无数据</TableCell></TableRow>\r\n              ) : filtered.map((item) => (\r\n                <TableRow key={item.id}>\r\n                  <TableCell>\r\n                    {item.image_url ? (\r\n                      <img src={item.image_url} alt=\"\" className=\"w-12 h-12 rounded object-cover\" />\r\n                    ) : (\r\n                      <div className=\"w-12 h-12 rounded bg-muted flex items-center justify-center\">\r\n                        <ImageIcon className=\"h-4 w-4 text-muted-foreground\" />\r\n                      </div>\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <div className=\"font-medium\">{item.recipe_name}</div>\r\n                    {item.recipe_name_en && <div className=\"text-xs text-muted-foreground\">{item.recipe_name_en}</div>}\r\n                  </TableCell>\r\n                  <TableCell className=\"hidden md:table-cell\">{getDifficultyBadge(item.difficulty)}</TableCell>\r\n                  <TableCell className=\"hidden md:table-cell\">\r\n                    <Badge variant=\"outline\">{item.image_source === \"web\" ? \"网络\" : item.image_source === \"ai\" ? \"AI\" : \"无\"}</Badge>\r\n                  </TableCell>\r\n                  <TableCell className=\"hidden md:table-cell text-sm text-muted-foreground\">\r\n                    {formatDistanceToNow(new Date(item.created_at), { addSuffix: true, locale: zhCN })}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Switch checked={item.is_approved} onCheckedChange={() => toggleApproval(item)} />\r\n                  </TableCell>\r\n                  <TableCell className=\"text-right\">\r\n                    <div className=\"flex justify-end gap-1\">\r\n                      <Button variant=\"ghost\" size=\"icon\" onClick={() => setPreviewItem(item)}>\r\n                        <Eye className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button variant=\"ghost\" size=\"icon\" onClick={() => openEdit(item)}>\r\n                        <Pencil className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive\" onClick={() => {\r\n                        if (confirm(\"确定删除？\")) deleteMutation.mutate(item.id);\r\n                      }}>\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Edit Dialog */}\r\n      <Dialog open={!!editItem} onOpenChange={() => setEditItem(null)}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>编辑食谱</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"text-sm font-medium\">中文名称</label>\r\n              <Input value={editForm.recipe_name} onChange={(e) => setEditForm({ ...editForm, recipe_name: e.target.value })} />\r\n            </div>\r\n            <div>\r\n              <label className=\"text-sm font-medium\">英文名称</label>\r\n              <Input value={editForm.recipe_name_en} onChange={(e) => setEditForm({ ...editForm, recipe_name_en: e.target.value })} />\r\n            </div>\r\n            <div>\r\n              <label className=\"text-sm font-medium\">葡文名称</label>\r\n              <Input value={editForm.recipe_name_pt} onChange={(e) => setEditForm({ ...editForm, recipe_name_pt: e.target.value })} />\r\n            </div>\r\n            <div>\r\n              <label className=\"text-sm font-medium\">图片URL</label>\r\n              <Input value={editForm.image_url} onChange={(e) => setEditForm({ ...editForm, image_url: e.target.value })} />\r\n              {editForm.image_url && <img src={editForm.image_url} alt=\"\" className=\"mt-2 w-full max-h-40 object-cover rounded\" />}\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Switch checked={editForm.is_approved} onCheckedChange={(v) => setEditForm({ ...editForm, is_approved: v })} />\r\n              <label className=\"text-sm\">启用（对用户可见）</label>\r\n            </div>\r\n          </div>\r\n          <DialogFooter>\r\n            <Button variant=\"outline\" onClick={() => setEditItem(null)}>取消</Button>\r\n            <Button onClick={handleSave} disabled={updateMutation.isPending}>保存</Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Preview Dialog */}\r\n      <Dialog open={!!previewItem} onOpenChange={() => setPreviewItem(null)}>\r\n        <DialogContent className=\"max-w-lg max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>{previewItem?.recipe_name}</DialogTitle>\r\n          </DialogHeader>\r\n          {previewItem && (\r\n            <div className=\"space-y-4\">\r\n              {previewItem.image_url && <img src={previewItem.image_url} alt=\"\" className=\"w-full rounded-lg\" />}\r\n              <div className=\"flex gap-2\">\r\n                {getDifficultyBadge(previewItem.difficulty)}\r\n                {previewItem.servings && <Badge variant=\"outline\">{previewItem.servings}人份</Badge>}\r\n                <Badge variant=\"outline\">{previewItem.image_source === \"web\" ? \"网络图片\" : \"AI图片\"}</Badge>\r\n              </div>\r\n              {previewItem.recipe_data?.introduction && (\r\n                <p className=\"text-sm text-muted-foreground\">{previewItem.recipe_data.introduction}</p>\r\n              )}\r\n              {previewItem.recipe_data?.ingredients && (\r\n                <div>\r\n                  <h4 className=\"font-semibold text-sm mb-2\">食材</h4>\r\n                  <ul className=\"text-sm space-y-1\">\r\n                    {previewItem.recipe_data.ingredients.map((ing: any, i: number) => (\r\n                      <li key={i} className=\"flex justify-between\">\r\n                        <span>{ing.name}</span>\r\n                        <span className=\"text-muted-foreground\">{ing.amount} {ing.unit}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n              {previewItem.recipe_data?.steps && (\r\n                <div>\r\n                  <h4 className=\"font-semibold text-sm mb-2\">步骤</h4>\r\n                  <ol className=\"text-sm space-y-2\">\r\n                    {previewItem.recipe_data.steps.sort((a: any, b: any) => a.order - b.order).map((step: any, i: number) => (\r\n                      <li key={i} className=\"flex gap-2\">\r\n                        <span className=\"font-bold text-primary\">{step.order}.</span>\r\n                        <span>{step.description}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ol>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminAIRecipes;\r\n"],"names":["AdminAIRecipes","t","useTranslation","queryClient","useQueryClient","searchTerm","setSearchTerm","useState","editItem","setEditItem","previewItem","setPreviewItem","editForm","setEditForm","recipes","isLoading","useQuery","data","error","supabase","deleteMutation","useMutation","id","toast","updateMutation","updates","openEdit","item","handleSave","toggleApproval","filtered","r","getDifficultyBadge","d","colors","labels","jsx","Badge","jsxs","ChefHat","Search","Input","e","Card","CardContent","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","ImageIcon","formatDistanceToNow","zhCN","Switch","Button","Eye","Pencil","Trash2","Dialog","DialogContent","DialogHeader","DialogTitle","v","DialogFooter","ing","a","b","step"],"mappings":"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"}