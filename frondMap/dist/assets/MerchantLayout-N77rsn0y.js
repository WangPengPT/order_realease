import{u as f,x as v,S as N,j as e,aM as w,L as l,r as L,aO as k,K as q}from"./index-BhKr6WLa.js";import{u as A,S as I,a as R,b as u,c as h,d as m,e as x,f as j,g as b,i as P,j as G}from"./sidebar-dy1PddYU.js";import{u as S}from"./use-mobile-CZDjQ3gK.js";import{C as g,a as p}from"./clipboard-list-CdIFzOy-.js";import{S as y}from"./search-3lYbxiWm.js";import"./separator-Do2sCLBh.js";const O=()=>{const{t:s}=f(),{state:t,setOpenMobile:n}=A(),c=v().pathname,r=S(),M=[{title:s("nav.manageRestaurants"),url:"/merchant-dashboard",icon:N},{title:s("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:g},{title:s("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:y}],C=[{title:s("admin.userManual","使用手册"),url:"/merchant-dashboard/user-manual",icon:p}],i=a=>a==="/merchant-dashboard"?c===a:c.startsWith(a),d=()=>{r&&n(!1)};return e.jsx(I,{className:t==="collapsed"?"w-14":"w-60",children:e.jsxs(R,{children:[e.jsxs(u,{children:[e.jsx(h,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(w,{className:"h-4 w-4"}):s("merchant.management")}),e.jsx(m,{children:e.jsx(x,{className:"mt-[30px]",children:M.map(a=>e.jsx(j,{children:e.jsx(b,{asChild:!0,isActive:i(a.url),children:e.jsxs(l,{to:a.url,onClick:d,children:[e.jsx(a.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:a.title})]})})},a.url))})})]}),e.jsxs(u,{children:[e.jsx(h,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(p,{className:"h-4 w-4"}):s("admin.groups.help","帮助")}),e.jsx(m,{children:e.jsx(x,{children:C.map(a=>e.jsx(j,{children:e.jsx(b,{asChild:!0,isActive:i(a.url),children:e.jsxs(l,{to:a.url,onClick:d,children:[e.jsx(a.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:a.title})]})})},a.url))})})]})]})})},$=()=>{const{t:s}=f(),n=v().pathname,o=[{title:s("nav.manageRestaurants"),url:"/merchant-dashboard",icon:N},{title:s("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:g},{title:s("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:y}],c=r=>r==="/merchant-dashboard"?n===r:n.startsWith(r);return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border safe-bottom",children:e.jsx("div",{className:"flex justify-around items-center h-16",children:o.map(r=>e.jsxs(l,{to:r.url,className:`flex flex-col items-center justify-center flex-1 h-full py-2 px-1 transition-colors ${c(r.url)?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(r.icon,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs text-center line-clamp-1",children:r.title})]},r.url))})})},B=()=>e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(q,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),K=()=>{const s=S();return e.jsx(P,{children:e.jsxs("div",{className:"min-h-screen flex w-full",children:[!s&&e.jsx(O,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"h-14 border-b border-border flex items-center px-4 bg-background",children:[!s&&e.jsx(G,{}),e.jsx("h1",{className:`text-lg font-semibold ${s?"":"ml-4"}`,children:"商家管理后台"})]}),e.jsx("main",{className:`flex-1 p-4 md:p-6 overflow-auto ${s?"pb-20":""}`,children:e.jsx(L.Suspense,{fallback:e.jsx(B,{}),children:e.jsx(k,{})})}),s&&e.jsx($,{})]})]})})};export{K as default};
