import{u as T,r as t,j as o}from"./vendor-react-DanJ59UG.js";import{u as E,X as j}from"./XiaoxiongChatContent-CKD_prLy.js";import{b as y}from"./index-BBMW0-Iu.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-vwQGbBim.js";import"./LocationPermissionDialog-Cw8zThDa.js";import"./ExternalLinkConfirmDialog-D965A7l2.js";import"./vendor-supabase-BVVOWwEK.js";const z=()=>{const i=T(),{settings:n}=y(),a=n?.ai_provider||"xiaoxiong-community",{input:r,setInput:l,messages:c,isLoading:m,showLocationDialog:d,setShowLocationDialog:u,pendingMessage:g,setPendingMessage:p,handleSubmit:f,handleKeyDown:x,handleLocationConfirm:h,processMessage:b,abortRequest:e,requestLocation:s}=E(a);t.useLayoutEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const v=setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},50);return()=>clearTimeout(v)},[]),t.useEffect(()=>{s()},[s]),t.useEffect(()=>()=>{e()},[e]);const w=()=>{e(),i("/")};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-[9999] bg-background"}),o.jsx("div",{className:"fixed inset-0 z-[10000] bg-background flex flex-col overflow-hidden",style:{height:"100%",minHeight:"-webkit-fill-available"},children:o.jsx(j,{messages:c,input:r,setInput:l,isLoading:m,showLocationDialog:d,setShowLocationDialog:u,pendingMessage:g,handleSubmit:f,handleKeyDown:x,handleLocationConfirm:h,processMessage:b,setPendingMessage:p,onClose:w,showBackButton:!0,className:"flex-1 min-h-0 overflow-hidden"})})]})};export{z as default};
//# sourceMappingURL=AskXiaoxiong-CH_h7FEK.js.map
