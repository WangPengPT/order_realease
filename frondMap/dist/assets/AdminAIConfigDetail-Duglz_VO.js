import{j as e}from"./vendor-ui-C5i6UHrb.js";import{r as c,j as ke,L as ee}from"./vendor-react-iAJ0IrSD.js";import{D as De,b as Re,c as Te,d as Ae,bu as oe,az as W,I as H,B as u,b2 as Ie,S as Ee,U as Pe,f as Me,aW as ie,i as K,w as Z,a_ as le,R as qe,b_ as Le,v as ce,T as de,c2 as Fe,t as $,aU as $e,aV as ze,G as q,cB as Be,aT as Ue,aL as Oe,L as se,bh as me,aR as Je,cC as _e,a3 as j,aS as We,X as He}from"./index-IeyQ9IsG.js";import{S as Ge}from"./separator-DC2g7jSL.js";import{T as Xe,a as Ve,b as he,c as xe}from"./tabs-ThAze4Dl.js";import{A as Ye,a as O,b as J,c as _}from"./accordion-J3UHPvSH.js";import{u as ue}from"./vendor-i18n-DxKeo2S1.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-BqhVR-X_.js";import"./vendor-supabase-DEeLm6rS.js";import"./index-B7diVh8u.js";const Ke=b=>{if(!b)return null;const N=b.split(`
`),m=[];let C=!1,T=[],S="",x=!1,p=[];const f=o=>{const i=[];let s=o,l=0;for(;s.length>0;){const d=s.match(/`([^`]+)`/);if(d&&d.index!==void 0){d.index>0&&i.push(h(s.slice(0,d.index),l++)),i.push(e.jsx("code",{className:"px-1.5 py-0.5 rounded bg-muted-foreground/20 text-sm font-mono",children:d[1]},l++)),s=s.slice(d.index+d[0].length);continue}const n=s.match(/\[([^\]]+)\]\(([^)]+)\)/);if(n&&n.index!==void 0){n.index>0&&i.push(h(s.slice(0,n.index),l++)),i.push(e.jsx("a",{href:n[2],target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:n[1]},l++)),s=s.slice(n.index+n[0].length);continue}i.push(h(s,l++));break}return i.length===1?i[0]:e.jsx(e.Fragment,{children:i})},h=(o,i)=>{const s=[];let l=o,d=0;for(;l.length>0;){const n=l.match(/\*\*([^*]+)\*\*/);if(n&&n.index!==void 0){n.index>0&&s.push(e.jsx("span",{children:l.slice(0,n.index)},`${i}-${d++}`)),s.push(e.jsx("strong",{className:"font-semibold",children:n[1]},`${i}-${d++}`)),l=l.slice(n.index+n[0].length);continue}s.push(e.jsx("span",{children:l},`${i}-${d++}`));break}return s.length===1?s[0]:e.jsx(e.Fragment,{children:s})},v=o=>{if(o.length<2)return null;const i=d=>d.split("|").filter(n=>n.trim()).map(n=>n.trim()),s=i(o[0]),l=o.slice(2).filter(d=>!d.match(/^[\s|:-]+$/));return e.jsx("div",{className:"overflow-x-auto my-2",children:e.jsxs("table",{className:"min-w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-border",children:s.map((d,n)=>e.jsx("th",{className:"px-3 py-2 text-left font-semibold bg-muted/50",children:d},n))})}),e.jsx("tbody",{children:l.map((d,n)=>e.jsx("tr",{className:"border-b border-border/50 hover:bg-muted/30",children:i(d).map((G,L)=>e.jsx("td",{className:"px-3 py-2",children:f(G)},L))},n))})]})})};for(let o=0;o<N.length;o++){const i=N[o],s=i.trim();if(s.startsWith("```")){C?(m.push(e.jsxs("div",{className:"my-2 rounded-md overflow-hidden",children:[S&&e.jsx("div",{className:"bg-muted-foreground/20 px-3 py-1 text-xs font-mono text-muted-foreground",children:S}),e.jsx("pre",{className:"bg-muted-foreground/10 p-3 overflow-x-auto",children:e.jsx("code",{className:"text-sm font-mono",children:T.join(`
`)})})]},o)),C=!1,S=""):(C=!0,S=s.slice(3).trim(),T=[]);continue}if(C){T.push(i);continue}if(s.startsWith("|")&&s.endsWith("|")){x||(x=!0,p=[]),p.push(s);continue}else x&&(m.push(e.jsx("div",{children:v(p)},`table-${o}`)),x=!1,p=[]);if(!s){m.push(e.jsx("div",{className:"h-2"},o));continue}if(s.startsWith("### ")){m.push(e.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",children:f(s.slice(4))},o));continue}if(s.startsWith("## ")){m.push(e.jsx("h2",{className:"text-lg font-semibold mt-3 mb-1",children:f(s.slice(3))},o));continue}if(s.startsWith("# ")){m.push(e.jsx("h1",{className:"text-xl font-bold mt-3 mb-2",children:f(s.slice(2))},o));continue}if(s==="---"||s==="***"){m.push(e.jsx("hr",{className:"my-3 border-border"},o));continue}if(s.match(/^[-*]\s/)){m.push(e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"â€¢"}),e.jsx("span",{children:f(s.slice(2))})]},o));continue}const l=s.match(/^(\d+)\.\s/);if(l){m.push(e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsxs("span",{className:"text-muted-foreground min-w-[1.5rem]",children:[l[1],"."]}),e.jsx("span",{children:f(s.slice(l[0].length))})]},o));continue}m.push(e.jsx("p",{className:"leading-relaxed",children:f(s)},o))}return x&&p.length>0&&m.push(e.jsx("div",{children:v(p)},"table-final")),e.jsx("div",{className:"space-y-1",children:m})},Ze=({open:b,onOpenChange:N})=>{const{t:m}=ue(),[C,T]=c.useState("T1"),[S,x]=c.useState([]),[p,f]=c.useState(""),[h,v]=c.useState(!1),[o,i]=c.useState(""),[s,l]=c.useState(null),d=c.useRef(null),n=c.useRef(null);c.useEffect(()=>{if(d.current){const r=d.current.querySelector("[data-radix-scroll-area-viewport]");r&&(r.scrollTop=r.scrollHeight)}},[S]);const G=()=>{n.current&&n.current.abort(),x([]),i(""),l(null),v(!1)},L=()=>{n.current&&n.current.abort(),N(!1)},X=async()=>{if(!p.trim()||h)return;const r={id:Date.now().toString(),role:"user",content:p.trim()};x(g=>[...g,r]),f(""),v(!0);const y=(Date.now()+1).toString();l(y),i(""),x(g=>[...g,{id:y,role:"assistant",content:"",isStreaming:!0}]);try{n.current=new AbortController;const g=await fetch("https://xiaoxiongmarket.com/ai/demo/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r.content,userId:C}),signal:n.current.signal});if(!g.ok)throw new Error(`API error: ${g.status}`);const E=g.body?.getReader(),k=new TextDecoder;if(E){let P="";for(;;){const{done:F,value:M}=await E.read();if(F)break;const Y=k.decode(M,{stream:!0});P+=Y,i(P),await new Promise(B=>setTimeout(B,0))}const z=k.decode();z&&(P+=z),x(F=>F.map(M=>M.id===y?{...M,content:P,isStreaming:!1}:M)),i(""),l(null)}}catch(g){g.name==="AbortError"?console.log("Request aborted"):(console.error("Chat error:",g),x(E=>E.map(k=>k.id===y?{...k,content:m("error.general","å‘ç”Ÿé”™è¯¯ï¼Œè¯·é‡è¯•"),isStreaming:!1}:k))),i(""),l(null)}finally{v(!1),n.current=null}},V=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),X())};return e.jsx(De,{open:b,onOpenChange:L,children:e.jsxs(Re,{className:"sm:max-w-[600px] h-[80vh] flex flex-col",children:[e.jsx(Te,{children:e.jsxs(Ae,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),m("admin.aiSettings.agentDemo","Agent Demo æµ‹è¯•")]})}),e.jsxs("div",{className:"flex items-center gap-2 py-2",children:[e.jsxs(W,{htmlFor:"demo-user-id",className:"whitespace-nowrap",children:[m("admin.aiSettings.testUserId","æµ‹è¯•ç”¨æˆ·ID"),":"]}),e.jsx(H,{id:"demo-user-id",value:C,onChange:r=>T(r.target.value),className:"flex-1",placeholder:"T1"}),e.jsxs(u,{variant:"outline",size:"sm",onClick:G,children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),m("admin.aiSettings.clearChat","æ¸…ç©º")]})]}),e.jsx(Ee,{ref:d,className:"flex-1 border rounded-md p-4",children:S.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:m("admin.aiSettings.startChat","å‘é€æ¶ˆæ¯å¼€å§‹æµ‹è¯•")}):e.jsx("div",{className:"space-y-4",children:S.map(r=>e.jsxs("div",{className:`flex gap-2 ${r.role==="user"?"justify-end":"justify-start"}`,children:[r.role==="assistant"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(oe,{className:"h-4 w-4 text-primary"})}),e.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${r.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:r.role==="user"?e.jsx("p",{className:"whitespace-pre-wrap break-words",children:r.content}):e.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:[Ke(r.id===s?o:r.content),r.isStreaming&&e.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-current animate-pulse"})]})}),r.role==="user"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"h-4 w-4"})})]},r.id))})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(H,{value:p,onChange:r=>f(r.target.value),onKeyDown:V,placeholder:m("admin.aiSettings.inputPlaceholder","è¾“å…¥æ¶ˆæ¯..."),disabled:h,className:"flex-1"}),e.jsx(u,{onClick:X,disabled:h||!p.trim(),children:e.jsx(Me,{className:"h-4 w-4"})})]})]})})},A="https://tzdgqhwyzsxkxnncgzap.supabase.co",I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZGdxaHd5enN4a3hubmNnemFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTg2ODgsImV4cCI6MjA3OTIzNDY4OH0.D76C4OkjQVWyMxtjjdOofpD8X_hEEoTtrXHqi4XSYUw",ms=()=>{ue();const{provider:b}=ke(),[N,m]=c.useState(null),[C,T]=c.useState(!1),[S,x]=c.useState(null),[p,f]=c.useState(!1),[h,v]=c.useState(""),[o,i]=c.useState(""),[s,l]=c.useState(null),[d,n]=c.useState(!1),[G,L]=c.useState(null),[X,V]=c.useState(!1),[r,y]=c.useState({introduction:"",responseProcedure:[],matchRequirements:[],formatRequirements:[],prohibitedContent:[],requiredElements:[]}),[g,E]=c.useState(!1),[k,P]=c.useState(!1),[z,F]=c.useState(!1),[M,Y]=c.useState(!1),[B,pe]=c.useState(!1),te=async()=>{T(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=model`,{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch main config");const a=await t.json();a?.success&&a?.data&&m(a.data)}catch(t){console.error("Failed to fetch main model config:",t),j.error("è·å–ä¸»é¡µæ¨¡å‹é…ç½®å¤±è´¥")}finally{T(!1)}},ae=async()=>{f(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=model`,{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch demo config");const a=await t.json();a?.success&&a?.data&&(x(a.data),v(a.data.name||""),i(a.data.baseURL||""))}catch(t){console.error("Failed to fetch demo model config:",t),j.error("è·å–Demoæ¨¡å‹é…ç½®å¤±è´¥")}finally{f(!1)}},re=async()=>{n(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=system_prompt`,{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch main system prompt");const a=await t.json();a?.success&&a?.data&&l(a.data)}catch(t){console.error("Failed to fetch main system prompt:",t),j.error("è·å–ä¸»é¡µç³»ç»Ÿæç¤ºè¯å¤±è´¥")}finally{n(!1)}},ne=async()=>{V(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=system_prompt`,{method:"GET",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch demo system prompt");const a=await t.json();a?.success&&a?.data&&(L(a.data),y(a.data))}catch(t){console.error("Failed to fetch demo system prompt:",t),j.error("è·å–Demoç³»ç»Ÿæç¤ºè¯å¤±è´¥")}finally{V(!1)}},fe=async()=>{if(!h.trim()||!o.trim()){j.error("è¯·å¡«å†™æ‰€æœ‰å­—æ®µ");return}E(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=model`,{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({name:h.trim(),baseURL:o.trim()})});if(!t.ok)throw new Error("Failed to save demo config");const a=await t.json();if(a?.success)x(a.data),j.success("Demoæ¨¡å‹é…ç½®å·²ä¿å­˜");else throw new Error(a?.error||"Unknown error")}catch(t){console.error("Failed to save demo config:",t),j.error("ä¿å­˜Demoé…ç½®å¤±è´¥")}finally{E(!1)}},ge=async()=>{F(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=system_prompt`,{method:"PATCH",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw new Error("Failed to save demo system prompt");const a=await t.json();if(a?.success)L(a.data),j.success("Demoç³»ç»Ÿæç¤ºè¯å·²ä¿å­˜");else throw new Error(a?.error||"Unknown error")}catch(t){console.error("Failed to save demo system prompt:",t),j.error("ä¿å­˜Demoç³»ç»Ÿæç¤ºè¯å¤±è´¥")}finally{F(!1)}},je=async()=>{if(!h.trim()||!o.trim()){j.error("è¯·å…ˆé…ç½®Demoæ¨¡å‹");return}P(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=model`,{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({name:h.trim(),baseURL:o.trim()})});if(!t.ok)throw new Error("Failed to apply model to main");const a=await t.json();if(!a?.success)throw new Error(a?.error||"Model apply failed");m(a.data);const w=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=system_prompt`,{method:"PATCH",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!w.ok)throw new Error("Failed to apply system prompt to main");const D=await w.json();if(!D?.success)throw new Error(D?.error||"Prompt apply failed");l(D.data),j.success("ğŸš€ æ¨¡å‹é…ç½®å’Œç³»ç»Ÿæç¤ºè¯å·²å…¨éƒ¨åº”ç”¨åˆ°ä¸»é¡µï¼")}catch(t){console.error("Failed to apply to main:",t),j.error("åº”ç”¨åˆ°ä¸»é¡µå¤±è´¥")}finally{P(!1)}},Ne=()=>{N&&(v(N.name),i(N.baseURL)),s&&y({introduction:s.introduction||"",responseProcedure:s.responseProcedure||[],matchRequirements:s.matchRequirements||[],formatRequirements:s.formatRequirements||[],prohibitedContent:s.prohibitedContent||[],requiredElements:s.requiredElements||[]}),j.success("å·²å¤åˆ¶ä¸»é¡µé…ç½®åˆ°Demo")},ye=()=>{te(),ae(),re(),ne()},be=t=>{y(a=>({...a,[t]:[...a[t],""]}))},ve=(t,a)=>{y(w=>({...w,[t]:w[t].filter((D,R)=>R!==a)}))},we=(t,a,w)=>{y(D=>({...D,[t]:D[t].map((R,Q)=>Q===a?w:R)}))};c.useEffect(()=>{b==="xiaoxiong-agent"&&(te(),ae(),re(),ne())},[b]);const U=(t,a,w)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{className:"text-sm font-medium",children:t}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>be(a),className:"h-7 text-xs",children:[e.jsx(We,{className:"h-3 w-3 mr-1"}),"æ·»åŠ "]})]}),e.jsxs("div",{className:"space-y-2",children:[w.map((D,R)=>e.jsxs("div",{className:"flex gap-2 items-center group",children:[e.jsx("span",{className:"text-xs text-muted-foreground w-6 text-center shrink-0",children:R+1}),e.jsx(H,{value:D,onChange:Q=>we(a,R,Q.target.value),placeholder:`è¾“å…¥ç¬¬ ${R+1} æ¡å†…å®¹...`,className:"flex-1 h-9"}),e.jsx(u,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:()=>ve(a,R),children:e.jsx(He,{className:"h-4 w-4 text-destructive"})})]},R)),w.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 bg-muted/30 rounded-md",children:'æš‚æ— å†…å®¹ï¼Œç‚¹å‡»ä¸Šæ–¹"æ·»åŠ "æŒ‰é’®æ·»åŠ '})]})]}),Ce=t=>t?(t.responseProcedure?.length||0)+(t.matchRequirements?.length||0)+(t.formatRequirements?.length||0)+(t.prohibitedContent?.length||0)+(t.requiredElements?.length||0):0,Se={"xiaoxiong-agent":"å°ç†ŠAgent","ask-xiaoxiong":"å°ç†ŠAI"}[b||""]||b;return b!=="xiaoxiong-agent"?e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(u,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(ee,{to:"/admin/ai-config",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"è¿”å›"]})})}),e.jsx(K,{children:e.jsxs(Z,{className:"pt-6 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"è¯¥AIæœåŠ¡æ— éœ€é…ç½®"}),e.jsx(u,{className:"mt-4",asChild:!0,children:e.jsx(ee,{to:"/admin/ai-config",children:"è¿”å›é…ç½®åˆ—è¡¨"})})]})})]}):e.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(ee,{to:"/admin/ai-config",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"è¿”å›"]})}),e.jsx(Ge,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(le,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[Se," é…ç½®"]}),e.jsx("p",{className:"text-muted-foreground",children:"é…ç½®æ¨¡å‹å’Œç³»ç»Ÿæç¤ºè¯ï¼Œåœ¨Demoç¯å¢ƒæµ‹è¯•ååº”ç”¨åˆ°ä¸»é¡µ"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:ye,children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"åˆ·æ–°"]}),e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>Y(!0),children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Demoæµ‹è¯•"]})]})]}),e.jsxs(K,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-transparent",children:[e.jsx(ce,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(de,{className:"flex items-center gap-2 text-lg",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"ğŸ“Œ ä¸»é¡µå½“å‰é…ç½®"]}),e.jsxs(u,{variant:"ghost",size:"sm",onClick:Ne,className:"text-xs",children:[e.jsx(Fe,{className:"h-3 w-3 mr-1"}),"å¤åˆ¶åˆ°Demo"]})]})}),e.jsxs(Z,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"æ¨¡å‹é…ç½®"}),C?e.jsx($,{className:"h-12 w-full"}):N?e.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-1",children:[e.jsx("p",{className:"font-mono font-medium",children:N.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",title:N.baseURL,children:N.baseURL})]}):e.jsx("p",{className:"text-sm text-muted-foreground p-3 bg-background rounded-lg",children:"æœªé…ç½®"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"ç³»ç»Ÿæç¤ºè¯"}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>pe(!B),className:"h-6 text-xs",children:B?e.jsx($e,{className:"h-3 w-3"}):e.jsx(ze,{className:"h-3 w-3"})})]}),d?e.jsx($,{className:"h-12 w-full"}):s?e.jsx("div",{className:"p-3 bg-background rounded-lg",children:e.jsxs(q,{variant:"secondary",className:"text-xs",children:[Ce(s)," æ¡è§„åˆ™"]})}):e.jsx("p",{className:"text-sm text-muted-foreground p-3 bg-background rounded-lg",children:"æœªé…ç½®"})]})]}),B&&s&&e.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ä»‹ç»: "}),s.introduction||"æœªè®¾ç½®"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs",children:[e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.responseProcedure?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"å“åº”æµç¨‹"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.matchRequirements?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"åŒ¹é…è¦æ±‚"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.formatRequirements?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"æ ¼å¼è¦æ±‚"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.prohibitedContent?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"ç¦æ­¢å†…å®¹"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.requiredElements?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"å¿…éœ€å…ƒç´ "})]})]})]})]})]}),e.jsxs(K,{children:[e.jsxs(ce,{className:"pb-4",children:[e.jsxs(de,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-orange-500"}),"ğŸ§ª Demo æµ‹è¯•é…ç½®",e.jsx(q,{variant:"outline",className:"text-xs ml-2",children:"å¯ç¼–è¾‘"})]}),e.jsx(Ue,{children:"åœ¨æ­¤ç¼–è¾‘é…ç½®ï¼Œé€šè¿‡Demoæµ‹è¯•éªŒè¯ååº”ç”¨åˆ°ä¸»é¡µ"})]}),e.jsx(Z,{className:"space-y-6",children:e.jsxs(Xe,{defaultValue:"model",className:"w-full",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsxs(he,{value:"model",className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"æ¨¡å‹é…ç½®"]}),e.jsxs(he,{value:"prompt",className:"flex items-center gap-2",children:[e.jsx(Oe,{className:"h-4 w-4"}),"ç³»ç»Ÿæç¤ºè¯"]})]}),e.jsx(xe,{value:"model",className:"space-y-4",children:p?e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{className:"h-10 w-full"}),e.jsx($,{className:"h-10 w-full"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"model-name",children:"æ¨¡å‹åç§°"}),e.jsx(H,{id:"model-name",value:h,onChange:t=>v(t.target.value),placeholder:"deepseek-chat"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"base-url",children:"Base URL"}),e.jsx(H,{id:"base-url",value:o,onChange:t=>i(t.target.value),placeholder:"https://api.deepseek.com"})]})]}),e.jsxs(u,{variant:"secondary",onClick:fe,disabled:g||!h.trim()||!o.trim(),children:[g&&e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(me,{className:"h-4 w-4 mr-2"}),"ä¿å­˜æ¨¡å‹é…ç½®"]})]})}),e.jsx(xe,{value:"prompt",className:"space-y-4",children:X?e.jsxs("div",{className:"space-y-3",children:[e.jsx($,{className:"h-20 w-full"}),e.jsx($,{className:"h-32 w-full"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"è§’è‰²ä»‹ç» (introduction)"}),e.jsx(Je,{value:r.introduction,onChange:t=>y(a=>({...a,introduction:t.target.value})),placeholder:"ä½ æ˜¯å°ç†ŠaiåŠ©æ‰‹ï¼Œå¸®åŠ©é¡¾å®¢å¯»æ‰¾å¿ƒä»ªçš„é¤å…...",rows:3,className:"resize-none"})]}),e.jsxs(Ye,{type:"multiple",className:"w-full",defaultValue:["responseProcedure"],children:[e.jsxs(O,{value:"responseProcedure",className:"border rounded-lg px-4",children:[e.jsx(J,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["å“åº”æµç¨‹",e.jsx(q,{variant:"secondary",className:"text-xs",children:r.responseProcedure.length})]})}),e.jsx(_,{className:"pt-2",children:U("å“åº”æµç¨‹","responseProcedure",r.responseProcedure)})]}),e.jsxs(O,{value:"matchRequirements",className:"border rounded-lg px-4 mt-2",children:[e.jsx(J,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["åŒ¹é…è¦æ±‚",e.jsx(q,{variant:"secondary",className:"text-xs",children:r.matchRequirements.length})]})}),e.jsx(_,{className:"pt-2",children:U("åŒ¹é…è¦æ±‚","matchRequirements",r.matchRequirements)})]}),e.jsxs(O,{value:"formatRequirements",className:"border rounded-lg px-4 mt-2",children:[e.jsx(J,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["æ ¼å¼è¦æ±‚",e.jsx(q,{variant:"secondary",className:"text-xs",children:r.formatRequirements.length})]})}),e.jsx(_,{className:"pt-2",children:U("æ ¼å¼è¦æ±‚","formatRequirements",r.formatRequirements)})]}),e.jsxs(O,{value:"prohibitedContent",className:"border rounded-lg px-4 mt-2",children:[e.jsx(J,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["ç¦æ­¢å†…å®¹",e.jsx(q,{variant:"secondary",className:"text-xs",children:r.prohibitedContent.length})]})}),e.jsx(_,{className:"pt-2",children:U("ç¦æ­¢å†…å®¹","prohibitedContent",r.prohibitedContent)})]}),e.jsxs(O,{value:"requiredElements",className:"border rounded-lg px-4 mt-2",children:[e.jsx(J,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["å¿…éœ€å…ƒç´ ",e.jsx(q,{variant:"secondary",className:"text-xs",children:r.requiredElements.length})]})}),e.jsx(_,{className:"pt-2",children:U("å¿…éœ€å…ƒç´ ","requiredElements",r.requiredElements)})]})]}),e.jsxs(u,{variant:"secondary",onClick:ge,disabled:z,children:[z&&e.jsx(se,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(me,{className:"h-4 w-4 mr-2"}),"ä¿å­˜ç³»ç»Ÿæç¤ºè¯"]})]})})]})})]}),e.jsx(K,{className:"border-2 border-dashed border-primary/30",children:e.jsxs(Z,{className:"pt-6",children:[e.jsxs(u,{className:"w-full h-12 text-base font-medium",size:"lg",onClick:je,disabled:k||!h.trim()||!o.trim(),children:[k?e.jsx(se,{className:"h-5 w-5 mr-2 animate-spin"}):e.jsx(_e,{className:"h-5 w-5 mr-2"}),"ğŸš€ åº”ç”¨å…¨éƒ¨é…ç½®åˆ°ä¸»é¡µ"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"å°†åŒæ—¶åº”ç”¨æ¨¡å‹é…ç½®å’Œç³»ç»Ÿæç¤ºè¯åˆ°ç”Ÿäº§ç¯å¢ƒ"})]})}),e.jsx(Ze,{open:M,onOpenChange:Y})]})};export{ms as default};
//# sourceMappingURL=AdminAIConfigDetail-Duglz_VO.js.map
