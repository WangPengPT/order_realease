import{s as $e,q as ue,v as Se,w as ae,p as Le,r as m,d5 as Je,d6 as Te,j as e,bj as Ce,aL as fe,d7 as es,d8 as ss,d9 as ts,da as as,bQ as ke,db as ns,dc as rs,cW as is,X as te,dd as ls,de as os,df as cs,dg as ds,a4 as ms,bK as ps,bO as us,bd as je,ab as Ne,b0 as pe,y as hs,dh as xs,b4 as gs,b9 as fs,al as Ae,bh as js}from"./vendor-react-Hsdnn-sD.js";import{m as ve}from"./vendor-map-CvE3ASYw.js";import{s as w,u as Ns,C as B,v as vs,M as bs,$ as ys,w as H,B as q,y as ws,z as _s,E as Cs,F as ks,G as Ss,J as Is,I as u,g as Ds,j as Es,N as Fs,D as Ts,Y as As,d as Rs,e as Ps,f as zs,V as qs,S as Ms,W as i,a8 as W}from"./index-Bv780GYB.js";import{C as Z}from"./checkbox-dz105EOf.js";import{S as $s}from"./switch-FG7Z0541.js";import{R as Ls,a as Re}from"./radio-group-CHdF1vn8.js";import{T as Pe,a as ze,b as X,c as Y}from"./tabs-B_yehTd5.js";import{i as F}from"./vendor-i18n-jtdHZIRR.js";import{R as be}from"./RichTextEditor-CM6rBk5K.js";import{N as Us,O as I,P as ye,T as qe,U as we}from"./vendor-utils-Z4kpnli5.js";const Os=a=>$e({queryKey:["dish-images",a],queryFn:async()=>{const{data:c,error:t}=await w.from("restaurant_dish_images").select("*").eq("restaurant_id",a).order("sort_order",{ascending:!0});if(t)throw t;return c},enabled:!!a}),Bs=()=>{const{user:a}=Ns(),c=ue();return Se({mutationFn:async({restaurantId:t,file:x})=>{if(!a)throw new Error("Must be logged in");const{data:g,error:h}=await w.from("restaurant_dish_images").select("id").eq("restaurant_id",t);if(h)throw h;if(g&&g.length>=10)throw new Error("MAX_IMAGES_REACHED");const p=x.name.split(".").pop(),v=`${t}/${Date.now()}-${Math.random().toString(36).substring(7)}.${p}`,{error:f}=await w.storage.from("dish-images").upload(v,x);if(f)throw f;const{data:{publicUrl:j}}=w.storage.from("dish-images").getPublicUrl(v),C=g?g.length:0,{data:_,error:y}=await w.from("restaurant_dish_images").insert({restaurant_id:t,image_url:j,sort_order:C,created_by:a.id}).select().single();if(y)throw y;return _},onSuccess:(t,x)=>{c.invalidateQueries({queryKey:["dish-images",x.restaurantId]}),ae.success(F.t("dishImages.uploadSuccess"))},onError:t=>{t.message==="MAX_IMAGES_REACHED"?ae.error(F.t("dishImages.maxImagesReached")):ae.error(F.t("dishImages.uploadFailed"))}})},Hs=()=>{const a=ue();return Se({mutationFn:async({imageId:c,restaurantId:t,imageUrl:x})=>{const g=x.split("/dish-images/");g[1]&&await w.storage.from("dish-images").remove([g[1]]);const{error:h}=await w.from("restaurant_dish_images").delete().eq("id",c);if(h)throw h;return{restaurantId:t}},onSuccess:c=>{a.invalidateQueries({queryKey:["dish-images",c.restaurantId]}),ae.success(F.t("dishImages.deleteSuccess"))},onError:()=>{ae.error(F.t("dishImages.deleteFailed"))}})},Ks=()=>{const a=ue();return Se({mutationFn:async({images:c,restaurantId:t})=>{const x=c.map(g=>w.from("restaurant_dish_images").update({sort_order:g.sort_order}).eq("id",g.id));return await Promise.all(x),{restaurantId:t}},onSuccess:c=>{a.invalidateQueries({queryKey:["dish-images",c.restaurantId]})}})};function Gs({image:a,index:c,onDelete:t}){const{attributes:x,listeners:g,setNodeRef:h,transform:p,transition:v,isDragging:f}=ns({id:a.id}),j={transform:rs.Transform.toString(p),transition:v,zIndex:f?10:1,opacity:f?.8:1};return e.jsxs("div",{ref:h,style:j,className:`relative group aspect-square rounded-lg overflow-hidden border ${f?"ring-2 ring-primary shadow-lg":""}`,children:[e.jsx("div",{...x,...g,className:"absolute top-1 left-1 z-10 p-1 bg-black/60 rounded cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(is,{className:"w-4 h-4 text-white"})}),e.jsx("img",{src:a.image_url,alt:`Dish ${c+1}`,className:"w-full h-full object-cover",draggable:!1}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(q,{type:"button",variant:"destructive",size:"icon",className:"h-8 w-8",onClick:C=>{C.preventDefault(),C.stopPropagation(),t(a.id,a.image_url)},children:e.jsx(te,{className:"w-4 h-4"})})}),e.jsx("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-xs px-1.5 py-0.5 rounded",children:c+1})]})}function Vs({restaurantId:a}){const{t:c}=Le(),t=m.useRef(null),{data:x=[],isLoading:g}=Os(a),h=Bs(),p=Hs(),v=Ks(),[f,j]=m.useState(null),[C,_]=m.useState([]),[y,P]=m.useState(!1),o=C.length>0?C:x,T=Je(Te(cs,{activationConstraint:{distance:8}}),Te(os,{coordinateGetter:ls})),ne=d=>{const{active:A,over:M}=d;if(M&&A.id!==M.id){const se=o.findIndex(K=>K.id===A.id),le=o.findIndex(K=>K.id===M.id),oe=ds(o,se,le);_(oe);const ce=oe.map((K,Q)=>({id:K.id,sort_order:Q}));v.mutate({images:ce,restaurantId:a},{onSuccess:()=>{_([])},onError:()=>{_([])}})}},J=async d=>{const A=d.target.files?.[0];A&&(A.size>5*1024*1024||A.type.startsWith("image/")&&(await h.mutateAsync({restaurantId:a,file:A}),t.current&&(t.current.value="")))},re=async()=>{if(!f||y)return;const{id:d,url:A}=f;P(!0);try{await p.mutateAsync({imageId:d,restaurantId:a,imageUrl:A}),j(null)}catch(M){console.error("Delete failed:",M)}finally{P(!1)}},ie=d=>{!d&&!y&&j(null)},ee=o.length<10;return e.jsxs(B,{children:[e.jsxs(vs,{className:"pb-3",children:[e.jsxs(bs,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),c("dishImages.title")]}),e.jsxs(ys,{children:[c("dishImages.description",{current:o.length,max:10}),o.length>1&&e.jsx("span",{className:"block mt-1 text-xs",children:c("dishImages.dragToReorder")})]})]}),e.jsxs(H,{children:[g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(fe,{className:"w-6 h-6 animate-spin"})}):e.jsxs("div",{className:"space-y-4",children:[o.length>0&&e.jsx(es,{sensors:T,collisionDetection:ss,onDragEnd:ne,children:e.jsx(ts,{items:o.map(d=>d.id),strategy:as,children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:o.map((d,A)=>e.jsx(Gs,{image:d,index:A,onDelete:(M,se)=>j({id:M,url:se})},d.id))})})}),ee&&e.jsxs("div",{children:[e.jsx("input",{ref:t,type:"file",accept:"image/*",className:"hidden",onChange:J,disabled:h.isPending}),e.jsxs(q,{type:"button",variant:"outline",className:"w-full",onClick:()=>t.current?.click(),disabled:h.isPending,children:[h.isPending?e.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(ke,{className:"w-4 h-4 mr-2"}),c("dishImages.upload")]})]}),!ee&&e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:c("dishImages.maxReached")})]}),e.jsx(ws,{open:!!f,onOpenChange:ie,children:e.jsx(_s,{onClick:d=>d.stopPropagation(),onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),d.stopPropagation())},children:e.jsxs("form",{onSubmit:d=>d.preventDefault(),children:[e.jsxs(Cs,{children:[e.jsx(ks,{children:c("dishImages.deleteConfirmTitle")}),e.jsx(Ss,{children:c("dishImages.deleteConfirmDescription")})]}),e.jsxs(Is,{className:"mt-4",children:[e.jsx(q,{type:"button",variant:"outline",onClick:d=>{d.preventDefault(),d.stopPropagation(),y||j(null)},disabled:y,children:c("common.cancel")}),e.jsxs(q,{type:"button",variant:"destructive",onClick:d=>{d.preventDefault(),d.stopPropagation(),re()},disabled:y,children:[y?e.jsx(fe,{className:"w-4 h-4 mr-2 animate-spin"}):null,c("common.delete")]})]})]})})})]})]})}function _e({value:a,onChange:c,suggestions:t,placeholder:x,className:g}){const[h,p]=m.useState(!1),[v,f]=m.useState(a),j=m.useRef(null),C=m.useRef(null),_=t.filter(o=>o.toLowerCase().includes(v.toLowerCase()));m.useEffect(()=>{f(a)},[a]),m.useEffect(()=>{const o=T=>{C.current&&!C.current.contains(T.target)&&j.current&&!j.current.contains(T.target)&&p(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const y=o=>{const T=o.target.value;f(T),c(T),p(!0)},P=o=>{f(o),c(o),p(!1),j.current?.focus()};return e.jsxs("div",{className:"relative",children:[e.jsx(u,{ref:j,value:v,onChange:y,onFocus:()=>p(!0),placeholder:x,className:g}),h&&_.length>0&&e.jsx("div",{ref:C,className:"absolute z-50 mt-1 w-full max-h-48 overflow-auto rounded-md border bg-popover p-1 shadow-md",children:_.map(o=>e.jsxs("div",{onClick:()=>P(o),className:Ds("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",o===v&&"bg-accent"),children:[o===v&&e.jsx(ms,{className:"mr-2 h-4 w-4"}),e.jsx("span",{className:o===v?"":"pl-6",children:o})]},o))})]})}const Qs=()=>$e({queryKey:["all-restaurant-types"],queryFn:async()=>{const{data:a,error:c}=await w.from("restaurants").select("type, type_en, type_pt");if(c)throw c;const t=new Map;a.forEach(p=>{const v=p.type||[],f=p.type_en||[],j=p.type_pt||[],C=Math.max(v.length,f.length,j.length);for(let _=0;_<C;_++){const y=v[_]||"",P=f[_]||"",o=j[_]||"",T=`${y}|${P}|${o}`;(y||P||o)&&(t.has(T)||t.set(T,{zh:y,en:P,pt:o}))}});const x=new Set,g=new Set,h=new Set;return t.forEach(p=>{p.zh&&x.add(p.zh),p.en&&g.add(p.en),p.pt&&h.add(p.pt)}),{typeSets:Array.from(t.values()),uniqueZh:Array.from(x).sort(),uniqueEn:Array.from(g).sort(),uniquePt:Array.from(h).sort()}}}),Ws=Us({name:I().min(1,F.t("validation.nameRequired")),name_en:I().min(1,F.t("validation.nameRequired")),name_pt:I().min(1,F.t("validation.nameRequired")),key_id:I().optional(),type:ye(I()).min(1,F.t("validation.typeRequired")).max(3,F.t("validation.typeMaximum")),type_en:ye(I()).min(1,F.t("validation.typeRequired")).max(3,F.t("validation.typeMaximum")),type_pt:ye(I()).min(1,F.t("validation.typeRequired")).max(3,F.t("validation.typeMaximum")),description:I().optional(),description_en:I().optional(),description_pt:I().optional(),announcement_zh:I().optional(),announcement_en:I().optional(),announcement_pt:I().optional(),address:I().min(1,F.t("validation.addressRequired")),lat:qe(),lng:qe(),phone:I().optional(),website_url:I().optional(),visible:we().default(!0),show_takeaway_button:we().default(!0),show_booking_button:we().default(!0)}),Me=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function lt({restaurant:a,trigger:c}){const{t}=Le(),{toast:x}=Es(),g=ue(),{isAdmin:h}=Fs(),{data:p}=Qs(),[v,f]=m.useState(!1),[j,C]=m.useState(null),[_,y]=m.useState(a?.image_url||null),[P,o]=m.useState(null),[T,ne]=m.useState(a?.cover_image_url||null),[J,re]=m.useState(null),[ie,ee]=m.useState(a?.owner_avatar_url||null),[d,A]=m.useState(a?.owner_bio||""),[M,se]=m.useState(a?.owner_bio_en||""),[le,oe]=m.useState(a?.owner_bio_pt||""),[ce,K]=m.useState(!1),Q=m.useRef(null),k=m.useRef(null),V=m.useRef(null),[r,S]=m.useState(()=>{const s={};return Me.forEach(n=>{s[n]={open:"12:00",close:"23:00",closed:!1,splitShift:!1,open2:"19:00",close2:"23:00"}}),a?.opening_hours?{...s,...a.opening_hours}:s}),[$,he]=m.useState(a?.template||"default"),[L,xe]=m.useState(()=>a?.type&&Array.isArray(a.type)?a.type.map((s,n)=>({zh:s,en:a.type_en?.[n]||"",pt:a.type_pt?.[n]||""})):[{zh:"",en:"",pt:""}]),{register:z,handleSubmit:Ie,formState:{errors:b},setValue:R,watch:G,trigger:Zs}=ps({resolver:us(Ws),defaultValues:a?{name:a.name,name_en:a.name_en||"",name_pt:a.name_pt||"",key_id:a.key_id||"",type:Array.isArray(a.type)?a.type:[a.type],type_en:Array.isArray(a.type_en)?a.type_en:a.type_en?[a.type_en]:[""],type_pt:Array.isArray(a.type_pt)?a.type_pt:a.type_pt?[a.type_pt]:[""],description:a.description||"",description_en:a.description_en||"",description_pt:a.description_pt||"",announcement_zh:a.announcement_zh||"",announcement_en:a.announcement_en||"",announcement_pt:a.announcement_pt||"",address:a.address,lat:typeof a.lat=="number"&&!isNaN(a.lat)?a.lat:38.7223,lng:typeof a.lng=="number"&&!isNaN(a.lng)?a.lng:-9.1393,phone:a.phone||"",website_url:a.website_url||"",visible:a.visible??!0,show_takeaway_button:a.show_takeaway_button??!0,show_booking_button:a.show_booking_button??!0}:{name:"",name_en:"",name_pt:"",key_id:"",type:[""],type_en:[""],type_pt:[""],description:"",description_en:"",description_pt:"",announcement_zh:"",announcement_en:"",announcement_pt:"",address:"",lat:38.7223,lng:-9.1393,phone:"",website_url:"",visible:!0,show_takeaway_button:!0,show_booking_button:!0}}),Ue=()=>{const s=[];b.name&&s.push(t("admin.fieldName")+" (ä¸­æ–‡)"),b.name_en&&s.push(t("admin.fieldName")+" (EN)"),b.name_pt&&s.push(t("admin.fieldName")+" (PT)"),b.type&&s.push(t("admin.fieldType")+" (ä¸­æ–‡)"),b.type_en&&s.push(t("admin.fieldType")+" (EN)"),b.type_pt&&s.push(t("admin.fieldType")+" (PT)"),b.address&&s.push(t("admin.fieldAddress")),(b.lat||b.lng)&&s.push(t("admin.fieldLocation")),s.length>0&&x({title:t("admin.validationFailed"),description:t("admin.missingFields")+": "+s.join(", "),variant:"destructive"})},Oe=()=>{L.length<3&&xe([...L,{zh:"",en:"",pt:""}])},Be=s=>{L.length>1&&xe(L.filter((n,l)=>l!==s))},ge=(s,n,l)=>{const N=[...L];N[s][n]=l,xe(N),R("type",N.map(D=>D.zh).filter(Boolean)),R("type_en",N.map(D=>D.en).filter(Boolean)),R("type_pt",N.map(D=>D.pt).filter(Boolean))},U=G("lat"),O=G("lng"),He=G("visible"),Ke=G("show_takeaway_button"),Ge=G("show_booking_button"),de=(s,n)=>typeof s=="number"&&typeof n=="number"&&!isNaN(s)&&!isNaN(n)&&isFinite(s)&&isFinite(n);m.useEffect(()=>{if(!v){k.current&&(k.current.remove(),k.current=null,V.current=null);return}if(k.current)return;const s="pk.eyJ1IjoieGlhb3hpb25nMTIzIiwiYSI6ImNtNTFjOXliYjF1Y2IyaXM4bnNzMGxvdnkifQ.mPcWqH7ndIrjEqlWIJVk8g",l=setTimeout(()=>{if(!Q.current){console.error("Map container not found");return}try{ve.accessToken=s;const N=de(U,O)?O:-9.1393,D=de(U,O)?U:38.7223;k.current=new ve.Map({container:Q.current,style:"mapbox://styles/mapbox/light-v11",center:[N,D],zoom:15}),k.current.scrollZoom.disable(),k.current.on("load",()=>{k.current&&(de(U,O)&&(V.current=new ve.Marker({draggable:!0}).setLngLat([O,U]).addTo(k.current)),V.current.on("dragend",()=>{const E=V.current.getLngLat();R("lng",E.lng),R("lat",E.lat)}),setTimeout(()=>{k.current?.resize()},100))});const me=E=>{E.ctrlKey||E.metaKey?k.current?.scrollZoom.enable():k.current?.scrollZoom.disable()};Q.current.addEventListener("wheel",me),k.current.on("click",E=>{const{lng:Ee,lat:Fe}=E.lngLat;R("lng",Ee),R("lat",Fe),V.current?.setLngLat([Ee,Fe])}),k.current.on("error",E=>{console.error("Map error:",E)})}catch(N){console.error("Failed to initialize map:",N)}},500);return()=>{clearTimeout(l)}},[v,U,O]),m.useEffect(()=>{V.current&&k.current&&de(U,O)&&(V.current.setLngLat([O,U]),k.current.setCenter([O,U]))},[U,O]);const Ve=s=>{const n=s.target.files?.[0];if(n){C(n);const l=new FileReader;l.onloadend=()=>{y(l.result)},l.readAsDataURL(n)}},Qe=s=>{const n=s.target.files?.[0];if(n){o(n);const l=new FileReader;l.onloadend=()=>{ne(l.result)},l.readAsDataURL(n)}},We=s=>{const n=s.target.files?.[0];if(n){re(n);const l=new FileReader;l.onloadend=()=>{ee(l.result)},l.readAsDataURL(n)}},Ze=async()=>{if(!j)return a?.image_url||null;const s=j.name.split(".").pop(),l=`${`${Math.random()}.${s}`}`,{error:N}=await w.storage.from("restaurant-images").upload(l,j);if(N)throw N;const{data:{publicUrl:D}}=w.storage.from("restaurant-images").getPublicUrl(l);return D},Xe=async()=>{if(!P)return a?.cover_image_url||null;const s=P.name.split(".").pop(),l=`${`cover_${Math.random()}.${s}`}`,{error:N}=await w.storage.from("restaurant-images").upload(l,P);if(N)throw N;const{data:{publicUrl:D}}=w.storage.from("restaurant-images").getPublicUrl(l);return D},Ye=async()=>{if(!J)return a?.owner_avatar_url||null;const s=J.name.split(".").pop(),l=`${`owner_${Math.random()}.${s}`}`,{error:N}=await w.storage.from("restaurant-images").upload(l,J);if(N)throw N;const{data:{publicUrl:D}}=w.storage.from("restaurant-images").getPublicUrl(l);return D},De=async s=>{K(!0);try{const{data:{user:n}}=await w.auth.getUser();if(!n)throw new Error("Not authenticated");const l=await Ze(),N=await Xe(),D=await Ye(),me={name:s.name,name_en:s.name_en,name_pt:s.name_pt,key_id:s.key_id||null,type:s.type,type_en:s.type_en,type_pt:s.type_pt,description:s.description||null,description_en:s.description_en||null,description_pt:s.description_pt||null,announcement_zh:s.announcement_zh||null,announcement_en:s.announcement_en||null,announcement_pt:s.announcement_pt||null,address:s.address,lat:$==="ghost"?s.lat||38.7223:s.lat,lng:$==="ghost"?s.lng||-9.1393:s.lng,phone:s.phone||null,website_url:s.website_url||null,visible:s.visible,show_takeaway_button:s.show_takeaway_button,show_booking_button:$==="ghost"?!1:s.show_booking_button,image_url:l,cover_image_url:N,opening_hours:$==="ghost"?null:r,template:$,owner_avatar_url:D,owner_bio:d||null,owner_bio_en:M||null,owner_bio_pt:le||null};if(a){const{error:E}=await w.from("restaurants").update({...me,updated_by:n.id}).eq("id",a.id);if(E)throw E;x({title:t("common.success"),description:t("admin.restaurantUpdated")})}else{const{error:E}=await w.from("restaurants").insert([{...me,created_by:n.id}]);if(E)throw E;x({title:t("common.success"),description:t("admin.restaurantCreated")})}g.invalidateQueries({queryKey:["restaurants"]}),f(!1)}catch(n){x({title:t("common.error"),description:n.message,variant:"destructive"})}finally{K(!1)}};return e.jsxs(Ts,{open:v,onOpenChange:f,children:[e.jsx(As,{asChild:!0,children:c}),e.jsxs(Rs,{className:"max-w-[95vw] sm:max-w-6xl max-h-[95vh] overflow-hidden flex flex-col p-0",children:[e.jsxs(Ps,{className:"px-6 pt-6 pb-4 border-b bg-muted/30",children:[e.jsxs(zs,{className:"text-2xl flex items-center gap-2",children:[e.jsx(je,{className:"w-6 h-6 text-primary"}),t(a?"admin.editRestaurant":"admin.addRestaurant")]}),e.jsx(qs,{className:"text-base",children:t(a?"admin.editRestaurantDetails":"admin.createRestaurantWithInfo")})]}),e.jsx(Ms,{className:"px-6 h-[calc(95vh-220px)]",children:e.jsxs("form",{onSubmit:Ie(De,Ue),className:"space-y-6 py-6",children:[e.jsx(B,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-background",children:e.jsx(H,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(Ne,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-base font-semibold",children:t("admin.frontendDisplay")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("admin.frontendDisplayDesc")})]})]}),e.jsx($s,{checked:He,onCheckedChange:s=>R("visible",s)})]})})}),e.jsx(B,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/20",children:e.jsxs(H,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(je,{className:"w-5 h-5 text-primary"}),t("admin.restaurantTemplate")]}),e.jsxs(Ls,{value:$,onValueChange:he,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>he("default"),children:[e.jsx(Re,{value:"default",id:"template-default",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"template-default",className:"text-sm font-medium cursor-pointer",children:t("admin.templateDefault")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("admin.templateDefaultDesc")})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>he("ghost"),children:[e.jsx(Re,{value:"ghost",id:"template-ghost",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"template-ghost",className:"text-sm font-medium cursor-pointer",children:t("admin.templateGhost")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t("admin.templateGhostDesc")})]})]})]})]})}),e.jsx(B,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/20",children:e.jsxs(H,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(ke,{className:"w-5 h-5 text-primary"}),t("admin.restaurantImages")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:t("admin.cardImage")}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t("admin.cardImageHint"),")"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[_&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:_,alt:"Card Preview",className:"w-32 h-32 object-cover rounded-lg shadow-lg ring-2 ring-primary/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{C(null),y(null)},children:e.jsx(te,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-primary/30 rounded-lg hover:border-primary hover:bg-primary/5 transition-all duration-200",children:[e.jsx(ke,{className:"h-6 w-6 text-primary"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-xs",children:t("admin.uploadImage")})})]}),e.jsx(u,{id:"image-upload",type:"file",accept:"image/*",className:"hidden",onChange:Ve})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:t("admin.coverImage")}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t("admin.coverImageHint"),")"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[T&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:T,alt:"Cover Preview",className:"w-32 h-32 object-cover rounded-lg shadow-lg ring-2 ring-accent/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{o(null),ne(null)},children:e.jsx(te,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"cover-image-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-accent/30 rounded-lg hover:border-accent hover:bg-accent/5 transition-all duration-200",children:[e.jsx(Ce,{className:"h-6 w-6 text-accent"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-xs",children:t("admin.uploadImage")})})]}),e.jsx(u,{id:"cover-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:Qe})]})]})]})]})]})}),a?.id&&e.jsx(B,{className:"border-primary/20",children:e.jsxs(H,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5 text-primary"}),t("admin.dishGallery")]})}),e.jsx(Vs,{restaurantId:a.id})]})}),e.jsx(B,{className:"border-primary/20",children:e.jsxs(H,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(Ne,{className:"w-5 h-5 text-primary"}),t("admin.multilingualContent")]}),e.jsxs(Pe,{defaultValue:"zh",className:"w-full",children:[e.jsxs(ze,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(X,{value:"zh",className:"gap-2",children:["ðŸ‡¨ðŸ‡³ ",t("admin.chinese")]}),e.jsxs(X,{value:"en",className:"gap-2",children:["ðŸ‡¬ðŸ‡§ ",t("admin.english")]}),e.jsxs(X,{value:"pt",className:"gap-2",children:["ðŸ‡µðŸ‡¹ ",t("admin.portuguese")]})]}),e.jsxs(Y,{value:"zh",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",className:"text-sm font-medium",children:t("admin.restaurantName")}),e.jsx(u,{id:"name",...z("name"),placeholder:t("admin.enterRestaurantName"),className:"text-base"}),b.name&&e.jsx("p",{className:"text-sm text-destructive",children:b.name.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{className:"text-sm font-medium",children:t("admin.restaurantType")}),L.length<3&&e.jsx(q,{type:"button",variant:"outline",size:"sm",onClick:Oe,children:t("admin.addType")})]}),L.map((s,n)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(_e,{placeholder:t("admin.typeExample"),value:s.zh,onChange:l=>ge(n,"zh",l),suggestions:p?.uniqueZh||[]}),e.jsx(q,{type:"button",variant:"ghost",size:"icon",onClick:()=>Be(n),disabled:L.length===1,children:e.jsx(te,{className:"h-4 w-4"})})]},n)),b.type&&e.jsx("p",{className:"text-sm text-destructive",children:b.type.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",className:"text-sm font-medium",children:t("admin.description")}),e.jsx(be,{value:G("description")||"",onChange:s=>R("description",s),placeholder:t("admin.enterDescription")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"announcement_zh",className:"text-sm font-medium",children:t("admin.announcement")}),e.jsx(W,{id:"announcement_zh",...z("announcement_zh"),rows:2,placeholder:t("admin.enterAnnouncement")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("admin.announcementHint")})]})]}),e.jsxs(Y,{value:"en",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name_en",className:"text-sm font-medium",children:"Restaurant Name"}),e.jsx(u,{id:"name_en",...z("name_en"),placeholder:"Enter restaurant name...",className:"text-base"}),b.name_en&&e.jsx("p",{className:"text-sm text-destructive",children:b.name_en.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{className:"text-sm font-medium",children:"Restaurant Types (1-3 tags)"}),L.map((s,n)=>e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(_e,{placeholder:"e.g. Cantonese",value:s.en,onChange:l=>ge(n,"en",l),suggestions:p?.uniqueEn||[]})},n))]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description_en",className:"text-sm font-medium",children:"Description"}),e.jsx(be,{value:G("description_en")||"",onChange:s=>R("description_en",s),placeholder:"Enter restaurant description..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"announcement_en",className:"text-sm font-medium",children:"Announcement"}),e.jsx(W,{id:"announcement_en",...z("announcement_en"),rows:2,placeholder:"Enter announcement (optional)..."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Display important notices at top of restaurant page"})]})]}),e.jsxs(Y,{value:"pt",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name_pt",className:"text-sm font-medium",children:"Nome do Restaurante"}),e.jsx(u,{id:"name_pt",...z("name_pt"),placeholder:"Digite o nome do restaurante...",className:"text-base"}),b.name_pt&&e.jsx("p",{className:"text-sm text-destructive",children:b.name_pt.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{className:"text-sm font-medium",children:"Tipos de Restaurante (1-3 tags)"}),L.map((s,n)=>e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(_e,{placeholder:"ex: Cantonesa",value:s.pt,onChange:l=>ge(n,"pt",l),suggestions:p?.uniquePt||[]})},n))]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description_pt",className:"text-sm font-medium",children:"DescriÃ§Ã£o"}),e.jsx(be,{value:G("description_pt")||"",onChange:s=>R("description_pt",s),placeholder:"Digite a descriÃ§Ã£o do restaurante..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"announcement_pt",className:"text-sm font-medium",children:"AnÃºncio"}),e.jsx(W,{id:"announcement_pt",...z("announcement_pt"),rows:2,placeholder:"Digite o anÃºncio (opcional)..."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Exibir avisos importantes no topo da pÃ¡gina do restaurante"})]})]})]})]})}),e.jsx(B,{className:"border-primary/20",children:e.jsxs(H,{className:"p-6 space-y-4",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5 text-primary"}),t("admin.locationAndContact")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),t("admin.address")]}),e.jsx(u,{id:"address",...z("address"),placeholder:t("admin.enterAddress")}),b.address&&e.jsx("p",{className:"text-sm text-destructive",children:b.address.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4"}),t("admin.phone")]}),e.jsx(u,{id:"phone",...z("phone"),placeholder:"+351..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"website_url",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4"}),t("admin.websiteBaseUrl")]}),e.jsx(u,{id:"website_url",...z("website_url"),placeholder:"https://sushi.xiaoxiong.pt:6000",readOnly:!h,disabled:!h,className:h?"":"bg-muted cursor-not-allowed"}),!h&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t("admin.websiteReadOnly")})]}),h&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"key_id",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(xs,{className:"w-4 h-4"}),"Key ID (API)"]}),e.jsx(u,{id:"key_id",...z("key_id"),placeholder:"ä¾‹å¦‚: saldanha01"})]})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:t("admin.displaySettings")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border bg-muted/30",children:[e.jsx(Z,{id:"show_takeaway_button",checked:Ke,onCheckedChange:s=>R("show_takeaway_button",s)}),e.jsxs(i,{htmlFor:"show_takeaway_button",className:"cursor-pointer text-sm flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),t("admin.showTakeawayButton")]})]}),$!=="ghost"&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border bg-muted/30",children:[e.jsx(Z,{id:"show_booking_button",checked:Ge,onCheckedChange:s=>R("show_booking_button",s)}),e.jsxs(i,{htmlFor:"show_booking_button",className:"cursor-pointer text-sm flex items-center gap-2",children:[e.jsx(fs,{className:"w-4 h-4"}),t("admin.showBookingButton")]})]})]})]})]})}),$==="ghost"&&e.jsx(B,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/20",children:e.jsxs(H,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(Ae,{className:"w-5 h-5 text-primary"}),t("admin.ghostTemplateNote")]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-medium",children:t("admin.ownerAvatar")})}),e.jsxs("div",{className:"flex items-center gap-4",children:[ie&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:ie,alt:"Owner Avatar Preview",className:"w-20 h-20 object-cover rounded-full shadow-lg ring-2 ring-primary/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(q,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity rounded-full",onClick:()=>{re(null),ee(null)},children:e.jsx(te,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"owner-avatar-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-primary/30 rounded-lg hover:border-primary hover:bg-primary/5 transition-all duration-200",children:[e.jsx(Ae,{className:"h-6 w-6 text-primary"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-xs",children:t("admin.uploadImage")})})]}),e.jsx(u,{id:"owner-avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:We})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{className:"text-sm font-medium",children:t("admin.ownerBio")}),e.jsxs(Pe,{defaultValue:"zh",className:"w-full",children:[e.jsxs(ze,{className:"grid w-full grid-cols-3 mb-4",children:[e.jsx(X,{value:"zh",className:"gap-2 text-xs",children:"ðŸ‡¨ðŸ‡³ ä¸­æ–‡"}),e.jsx(X,{value:"en",className:"gap-2 text-xs",children:"ðŸ‡¬ðŸ‡§ EN"}),e.jsx(X,{value:"pt",className:"gap-2 text-xs",children:"ðŸ‡µðŸ‡¹ PT"})]}),e.jsx(Y,{value:"zh",children:e.jsx(W,{value:d,onChange:s=>A(s.target.value),rows:4,placeholder:t("admin.ownerBioPlaceholder")})}),e.jsx(Y,{value:"en",children:e.jsx(W,{value:M,onChange:s=>se(s.target.value),rows:4,placeholder:"Share your story, philosophy and culinary passion..."})}),e.jsx(Y,{value:"pt",children:e.jsx(W,{value:le,onChange:s=>oe(s.target.value),rows:4,placeholder:"Compartilhe sua histÃ³ria, filosofia e paixÃ£o culinÃ¡ria..."})})]})]})]})}),$!=="ghost"&&e.jsx(B,{className:"border-primary/20",children:e.jsxs(H,{className:"p-6 space-y-4",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(pe,{className:"w-5 h-5 text-primary"}),t("admin.location")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lat",className:"text-sm font-medium",children:t("admin.latitude")}),e.jsx(u,{id:"lat",type:"number",step:"any",...z("lat",{valueAsNumber:!0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lng",className:"text-sm font-medium",children:t("admin.longitude")}),e.jsx(u,{id:"lng",type:"number",step:"any",...z("lng",{valueAsNumber:!0})})]})]}),e.jsx("div",{ref:Q,className:"h-96 w-full rounded-lg border-2 border-primary/20 shadow-sm",style:{minHeight:"384px"}}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),t("admin.clickOrDragToSetLocation")]})]})}),$!=="ghost"&&e.jsx(B,{className:"border-primary/20 overflow-hidden",children:e.jsxs(H,{className:"p-3 md:p-6 space-y-4",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(js,{className:"w-5 h-5 text-primary"}),t("admin.openingHours")]}),e.jsx("div",{className:"space-y-2",children:Me.map(s=>e.jsxs("div",{className:"space-y-2 p-2 md:p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"md:hidden space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"capitalize font-semibold text-sm",children:t(`admin.day.${s}`)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{id:`split-mobile-${s}`,checked:r[s].splitShift,onCheckedChange:n=>S({...r,[s]:{...r[s],splitShift:n}}),disabled:r[s].closed,className:"h-4 w-4"}),e.jsx(i,{htmlFor:`split-mobile-${s}`,className:"cursor-pointer text-xs",children:"åˆ†æ®µ"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Z,{id:`closed-mobile-${s}`,checked:r[s].closed,onCheckedChange:n=>S({...r,[s]:{...r[s],closed:n}}),className:"h-4 w-4"}),e.jsx(i,{htmlFor:`closed-mobile-${s}`,className:"cursor-pointer text-xs",children:t("admin.closed")})]})]})]}),!r[s].closed&&e.jsx("div",{className:"space-y-1.5",children:r[s].splitShift?e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"grid grid-cols-[32px_1fr_12px_1fr] gap-1 items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"åˆé¤"}),e.jsx(u,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"}),e.jsx("span",{className:"text-muted-foreground text-xs text-center",children:"-"}),e.jsx(u,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"})]}),e.jsxs("div",{className:"grid grid-cols-[32px_1fr_12px_1fr] gap-1 items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"æ™šé¤"}),e.jsx(u,{type:"time",value:r[s].open2||"19:00",onChange:n=>S({...r,[s]:{...r[s],open2:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"}),e.jsx("span",{className:"text-muted-foreground text-xs text-center",children:"-"}),e.jsx(u,{type:"time",value:r[s].close2||"23:00",onChange:n=>S({...r,[s]:{...r[s],close2:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"})]})]}):e.jsxs("div",{className:"grid grid-cols-[1fr_12px_1fr] gap-1 items-center",children:[e.jsx(u,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"}),e.jsx("span",{className:"text-muted-foreground text-xs text-center",children:"-"}),e.jsx(u,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"})]})})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"grid grid-cols-[120px_1fr_auto] gap-4 items-center",children:[e.jsx(i,{className:"capitalize font-semibold",children:t(`admin.day.${s}`)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{id:`split-${s}`,checked:r[s].splitShift,onCheckedChange:n=>S({...r,[s]:{...r[s],splitShift:n}}),disabled:r[s].closed}),e.jsx(i,{htmlFor:`split-${s}`,className:"cursor-pointer text-sm",children:"åˆ†æ®µè¥ä¸š"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:`closed-${s}`,checked:r[s].closed,onCheckedChange:n=>S({...r,[s]:{...r[s],closed:n}})}),e.jsx(i,{htmlFor:`closed-${s}`,className:"cursor-pointer",children:t("admin.closed")})]})]}),!r[s].closed&&e.jsx("div",{className:"ml-[120px] space-y-2 mt-2",children:r[s].splitShift?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground w-12",children:"åˆé¤"}),e.jsx(u,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"w-32"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(u,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground w-12",children:"æ™šé¤"}),e.jsx(u,{type:"time",value:r[s].open2||"19:00",onChange:n=>S({...r,[s]:{...r[s],open2:n.target.value}}),className:"w-32"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(u,{type:"time",value:r[s].close2||"23:00",onChange:n=>S({...r,[s]:{...r[s],close2:n.target.value}}),className:"w-32"})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"w-32"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(u,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"w-32"})]})})]})]},s))})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t bg-muted/30",children:[e.jsx(q,{type:"button",variant:"outline",onClick:()=>f(!1),children:t("common.cancel")}),e.jsxs(q,{type:"submit",disabled:ce,onClick:Ie(De),className:"gap-2",children:[e.jsx(je,{className:"w-4 h-4"}),t(ce?"common.saving":"common.save")]})]})]})]})}export{lt as R,Os as u};
//# sourceMappingURL=RestaurantFormDialog-rEtWRXbN.js.map
