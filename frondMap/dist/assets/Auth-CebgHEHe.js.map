{"version":3,"file":"Auth-CebgHEHe.js","sources":["../../src/pages/Auth.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport logoFallback from \"@/assets/xiaoxiong-logo-christmas.png\";\r\nimport { useSiteSettings } from \"@/hooks/useSiteSettings\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { toast } from \"sonner\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { InputOTP, InputOTPGroup, InputOTPSlot } from \"@/components/ui/input-otp\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { Eye, EyeOff, ArrowLeft } from \"lucide-react\";\r\n\r\nconst Auth = () => {\r\n  const { signIn, signUp, signInWithGoogle, signInWithPhone, verifyOTP, user, isBanned, isCheckingBanStatus } = useAuth();\r\n  const { settings } = useSiteSettings();\r\n  const logoUrl = settings?.logo_url || logoFallback;\r\n  const logoWidth = settings?.logo_width || 35;\r\n  const logoHeight = settings?.logo_height || 35;\r\n  const navigate = useNavigate();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState(\"login\");\r\n  const [phoneStep, setPhoneStep] = useState<\"phone\" | \"otp\">(\"phone\");\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\r\n  const [countryCode, setCountryCode] = useState(\"+351\");\r\n  const [registerStep, setRegisterStep] = useState<\"info\" | \"verify\">(\"info\");\r\n  const [registerEmail, setRegisterEmail] = useState(\"\");\r\n  const [registerData, setRegisterData] = useState<RegisterFormData | null>(null);\r\n  const [resendCountdown, setResendCountdown] = useState(0);\r\n  const [passwordStrength, setPasswordStrength] = useState<'weak' | 'medium' | 'strong' | null>(null);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showRegisterPassword, setShowRegisterPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [rememberMe, setRememberMe] = useState(() => {\r\n    try {\r\n      return localStorage.getItem(\"rememberMe\") === \"true\";\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  });\r\n  \r\n  // Forgot password states\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n  const [forgotPasswordStep, setForgotPasswordStep] = useState<\"email\" | \"verify\" | \"newPassword\">(\"email\");\r\n  const [forgotPasswordEmail, setForgotPasswordEmail] = useState(\"\");\r\n  const [forgotPasswordCode, setForgotPasswordCode] = useState(\"\");\r\n  const [showNewPassword, setShowNewPassword] = useState(false);\r\n  const [showConfirmNewPassword, setShowConfirmNewPassword] = useState(false);\r\n  const [newPasswordStrength, setNewPasswordStrength] = useState<'weak' | 'medium' | 'strong' | null>(null);\r\n  \r\n  // Login security states\r\n  const [isLoginLocked, setIsLoginLocked] = useState(false);\r\n  const [lockoutSeconds, setLockoutSeconds] = useState(0);\r\n  const [remainingAttempts, setRemainingAttempts] = useState<number | null>(null);\r\n  \r\n  const { t } = useTranslation();\r\n\r\n  const loginSchema = z.object({\r\n    email: z.string().email(t(\"auth.invalidEmail\")),\r\n    password: z.string().min(6, t(\"auth.passwordMin\")),\r\n  });\r\n\r\n  const registerSchema = z.object({\r\n    displayName: z.string().min(2, t(\"auth.displayNameMin\")),\r\n    email: z.string().email(t(\"auth.invalidEmail\")),\r\n    password: z.string().min(6, t(\"auth.passwordMin\")),\r\n    confirmPassword: z.string(),\r\n  }).refine((data) => data.password === data.confirmPassword, {\r\n    message: t(\"auth.passwordsDontMatch\"),\r\n    path: [\"confirmPassword\"],\r\n  });\r\n\r\n  const phoneSchema = z.object({\r\n    phone: z.string().min(6, t(\"auth.phoneMin\")),\r\n  });\r\n\r\n  const otpSchema = z.object({\r\n    otp: z.string().length(6, t(\"auth.otpLength\")),\r\n  });\r\n\r\n  const emailVerifySchema = z.object({\r\n    code: z.string().length(4, \"Verification code must be 4 digits\"),\r\n  });\r\n\r\n  const forgotPasswordEmailSchema = z.object({\r\n    email: z.string().email(t(\"auth.invalidEmail\")),\r\n  });\r\n\r\n  const forgotPasswordVerifySchema = z.object({\r\n    code: z.string().length(4, \"Verification code must be 4 digits\"),\r\n  });\r\n\r\n  const forgotPasswordNewSchema = z.object({\r\n    newPassword: z.string().min(6, t(\"auth.passwordMin\")),\r\n    confirmNewPassword: z.string(),\r\n  }).refine((data) => data.newPassword === data.confirmNewPassword, {\r\n    message: t(\"auth.passwordsDontMatch\"),\r\n    path: [\"confirmNewPassword\"],\r\n  });\r\n\r\n  type LoginFormData = z.infer<typeof loginSchema>;\r\n  type RegisterFormData = z.infer<typeof registerSchema>;\r\n  type PhoneFormData = z.infer<typeof phoneSchema>;\r\n  type OTPFormData = z.infer<typeof otpSchema>;\r\n  type EmailVerifyFormData = z.infer<typeof emailVerifySchema>;\r\n  type ForgotPasswordEmailFormData = z.infer<typeof forgotPasswordEmailSchema>;\r\n  type ForgotPasswordVerifyFormData = z.infer<typeof forgotPasswordVerifySchema>;\r\n  type ForgotPasswordNewFormData = z.infer<typeof forgotPasswordNewSchema>;\r\n\r\n  const loginForm = useForm<LoginFormData>({\r\n    resolver: zodResolver(loginSchema),\r\n  });\r\n\r\n  const registerForm = useForm<RegisterFormData>({\r\n    resolver: zodResolver(registerSchema),\r\n  });\r\n\r\n  const phoneForm = useForm<PhoneFormData>({\r\n    resolver: zodResolver(phoneSchema),\r\n  });\r\n\r\n  const otpForm = useForm<OTPFormData>({\r\n    resolver: zodResolver(otpSchema),\r\n  });\r\n\r\n  const emailVerifyForm = useForm<EmailVerifyFormData>({\r\n    resolver: zodResolver(emailVerifySchema),\r\n  });\r\n\r\n  const forgotPasswordEmailForm = useForm<ForgotPasswordEmailFormData>({\r\n    resolver: zodResolver(forgotPasswordEmailSchema),\r\n  });\r\n\r\n  const forgotPasswordVerifyForm = useForm<ForgotPasswordVerifyFormData>({\r\n    resolver: zodResolver(forgotPasswordVerifySchema),\r\n  });\r\n\r\n  const forgotPasswordNewForm = useForm<ForgotPasswordNewFormData>({\r\n    resolver: zodResolver(forgotPasswordNewSchema),\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Don't navigate if user is banned or ban check is in progress\r\n    if (user && !isBanned && !isCheckingBanStatus) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [user, navigate, isBanned, isCheckingBanStatus]);\r\n\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout;\r\n    if (resendCountdown > 0) {\r\n      timer = setTimeout(() => setResendCountdown(resendCountdown - 1), 1000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [resendCountdown]);\r\n\r\n  // Lockout countdown timer\r\n  useEffect(() => {\r\n    let timer: NodeJS.Timeout;\r\n    if (lockoutSeconds > 0) {\r\n      timer = setTimeout(() => setLockoutSeconds(lockoutSeconds - 1), 1000);\r\n      if (lockoutSeconds <= 1) {\r\n        setIsLoginLocked(false);\r\n        setRemainingAttempts(null);\r\n      }\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [lockoutSeconds]);\r\n\r\n  // Check login security on component mount\r\n  useEffect(() => {\r\n    const checkInitialSecurity = async () => {\r\n      try {\r\n        const { data, error } = await supabase.functions.invoke(\"check-login-security\", {\r\n          body: { action: \"check\" },\r\n        });\r\n        if (!error && data?.isLimited) {\r\n          setIsLoginLocked(true);\r\n          setLockoutSeconds(data.remainingSeconds);\r\n        }\r\n      } catch (e) {\r\n        console.error(\"Failed to check login security:\", e);\r\n      }\r\n    };\r\n    checkInitialSecurity();\r\n  }, []);\r\n\r\n  const checkPasswordStrength = (password: string): 'weak' | 'medium' | 'strong' => {\r\n    let strength = 0;\r\n    \r\n    if (password.length >= 6) strength++;\r\n    if (password.length >= 8) strength++;\r\n    if (/[a-z]/.test(password)) strength++;\r\n    if (/[A-Z]/.test(password)) strength++;\r\n    if (/[0-9]/.test(password)) strength++;\r\n    if (/[^a-zA-Z0-9]/.test(password)) strength++;\r\n    \r\n    if (strength <= 2) return 'weak';\r\n    if (strength <= 4) return 'medium';\r\n    return 'strong';\r\n  };\r\n\r\n  const handleLogin = async (data: LoginFormData) => {\r\n    // Check if currently locked out\r\n    if (isLoginLocked) {\r\n      const minutes = Math.ceil(lockoutSeconds / 60);\r\n      toast.error(t(\"auth.tooManyAttempts\", { minutes }));\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      // First check rate limit\r\n      const { data: securityCheck, error: securityError } = await supabase.functions.invoke(\"check-login-security\", {\r\n        body: { action: \"check\" },\r\n      });\r\n\r\n      if (!securityError && securityCheck?.isLimited) {\r\n        setIsLoginLocked(true);\r\n        setLockoutSeconds(securityCheck.remainingSeconds);\r\n        const minutes = Math.ceil(securityCheck.remainingSeconds / 60);\r\n        toast.error(t(\"auth.tooManyAttempts\", { minutes }));\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n\r\n      const { error } = await signIn(data.email, data.password, rememberMe);\r\n      \r\n      if (error) {\r\n        // Check if user is banned - dialog is shown by AuthContext, just return\r\n        if (error.message === \"ACCOUNT_BANNED\") {\r\n          return;\r\n        }\r\n        \r\n        // Record failed attempt - always show generic error (security best practice)\r\n        await supabase.functions.invoke(\"check-login-security\", {\r\n          body: { action: \"record\", email: data.email, success: false },\r\n        }).then(({ data: recordResult }) => {\r\n          if (recordResult?.isLimited) {\r\n            setIsLoginLocked(true);\r\n            setLockoutSeconds(recordResult.remainingSeconds);\r\n            const minutes = Math.ceil(recordResult.remainingSeconds / 60);\r\n            toast.error(t(\"auth.tooManyAttempts\", { minutes }));\r\n          } else if (recordResult?.attemptCount !== undefined) {\r\n            const remaining = 5 - recordResult.attemptCount;\r\n            setRemainingAttempts(remaining > 0 ? remaining : 0);\r\n            // Always show generic error message for security (prevents account enumeration)\r\n            toast.error(t(\"auth.invalidCredentials\"));\r\n            if (remaining > 0 && remaining <= 3) {\r\n              toast.warning(t(\"auth.remainingAttempts\", { count: remaining }));\r\n            }\r\n          }\r\n        });\r\n        return;\r\n      }\r\n      \r\n      // Record successful login\r\n      await supabase.functions.invoke(\"check-login-security\", {\r\n        body: { action: \"record\", email: data.email, success: true },\r\n      });\r\n      setRemainingAttempts(null);\r\n      \r\n      toast.success(t(\"auth.signInSuccess\"));\r\n    } catch (error: any) {\r\n      // Always show generic error for security\r\n      toast.error(t(\"auth.invalidCredentials\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (data: RegisterFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // First check if email is already registered\r\n      const { data: checkResult, error: checkError } = await supabase.functions.invoke(\r\n        \"check-email-registered\",\r\n        {\r\n          body: { email: data.email },\r\n        }\r\n      );\r\n\r\n      if (checkError) {\r\n        console.error(\"Check email error:\", checkError);\r\n        toast.error(t(\"error.general\"));\r\n        return;\r\n      }\r\n\r\n      // If email is already registered, prompt user to login or reset password\r\n      if (checkResult?.registered) {\r\n        toast.error(t(\"auth.emailAlreadyRegisteredUseLogin\"));\r\n        return;\r\n      }\r\n\r\n      // Store registration data and send verification code\r\n      setRegisterData(data);\r\n      setRegisterEmail(data.email);\r\n      \r\n      const { error } = await supabase.functions.invoke(\"send-verification-code\", {\r\n        body: { email: data.email },\r\n      });\r\n      \r\n      if (error) {\r\n        toast.error(t(\"auth.verificationCodeFailed\"));\r\n        console.error(error);\r\n        return;\r\n      }\r\n      \r\n      setRegisterStep(\"verify\");\r\n      toast.success(t(\"auth.verificationCodeSent\"));\r\n      setResendCountdown(30);\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerifyAndRegister = async (data: EmailVerifyFormData) => {\r\n    if (!registerData) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      // Verify the code first\r\n      const { data: verifyResult, error: verifyError } = await supabase.functions.invoke(\r\n        \"verify-email-code\",\r\n        {\r\n          body: { \r\n            email: registerEmail, \r\n            code: data.code \r\n          },\r\n        }\r\n      );\r\n      \r\n      if (verifyError || !verifyResult?.success) {\r\n        toast.error(verifyResult?.error || t(\"auth.invalidVerificationCode\"));\r\n        return;\r\n      }\r\n      \r\n      // If verification successful, proceed with registration\r\n      const { data: signUpData, error: signUpError } = await signUp(\r\n        registerData.email,\r\n        registerData.password,\r\n        registerData.displayName\r\n      );\r\n      \r\n      if (signUpError) {\r\n        if (signUpError.message.includes(\"already registered\")) {\r\n          toast.error(t(\"auth.emailAlreadyRegisteredUseLogin\"));\r\n        } else {\r\n          toast.error(signUpError.message);\r\n        }\r\n        return;\r\n      }\r\n      \r\n      // Check if identities is empty (indicates existing user - Supabase security feature)\r\n      if (!signUpData?.user?.identities || signUpData.user.identities.length === 0) {\r\n        toast.error(t(\"auth.emailAlreadyRegisteredUseLogin\"));\r\n        return;\r\n      }\r\n      \r\n      toast.success(t(\"auth.signUpSuccess\"));\r\n      setActiveTab(\"login\");\r\n      setRegisterStep(\"info\");\r\n      registerForm.reset();\r\n      emailVerifyForm.reset();\r\n      setRegisterData(null);\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResendCode = async () => {\r\n    if (resendCountdown > 0) return;\r\n    \r\n    setIsLoading(true);\r\n    try {\r\n      const emailToResend = showForgotPassword ? forgotPasswordEmail : registerEmail;\r\n      const { error } = await supabase.functions.invoke(\"send-verification-code\", {\r\n        body: { email: emailToResend },\r\n      });\r\n      \r\n      if (error) {\r\n        toast.error(t(\"toast.resendCodeFailed\"));\r\n        return;\r\n      }\r\n      \r\n      toast.success(t(\"toast.verificationCodeResent\"));\r\n      setResendCountdown(30);\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Failed to resend code\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleSignIn = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const { error } = await signInWithGoogle();\r\n      if (error) {\r\n        toast.error(error.message);\r\n      }\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePhoneLogin = async (data: PhoneFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const fullPhoneNumber = `${countryCode}${data.phone}`;\r\n      const { error } = await signInWithPhone(fullPhoneNumber);\r\n      \r\n      if (error) {\r\n        toast.error(error.message);\r\n        return;\r\n      }\r\n      \r\n      setPhoneNumber(fullPhoneNumber);\r\n      setPhoneStep(\"otp\");\r\n      toast.success(t(\"auth.otpSent\"));\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOTPVerify = async (data: OTPFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const { error } = await verifyOTP(phoneNumber, data.otp);\r\n      \r\n      if (error) {\r\n        toast.error(error.message);\r\n        return;\r\n      }\r\n      \r\n      toast.success(t(\"auth.signInSuccess\"));\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Forgot password handlers\r\n  const handleForgotPasswordEmailSubmit = async (data: ForgotPasswordEmailFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Check if email is registered\r\n      const { data: checkResult, error: checkError } = await supabase.functions.invoke(\r\n        \"check-email-registered\",\r\n        {\r\n          body: { email: data.email },\r\n        }\r\n      );\r\n\r\n      if (checkError) {\r\n        toast.error(t(\"error.general\"));\r\n        return;\r\n      }\r\n\r\n      if (!checkResult?.registered) {\r\n        toast.error(t(\"auth.emailNotRegistered\"));\r\n        return;\r\n      }\r\n\r\n      // Send verification code\r\n      const { error } = await supabase.functions.invoke(\"send-verification-code\", {\r\n        body: { email: data.email },\r\n      });\r\n      \r\n      if (error) {\r\n        toast.error(t(\"auth.verificationCodeFailed\"));\r\n        return;\r\n      }\r\n      \r\n      setForgotPasswordEmail(data.email);\r\n      setForgotPasswordStep(\"verify\");\r\n      toast.success(t(\"auth.verificationCodeSent\"));\r\n      setResendCountdown(30);\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleForgotPasswordVerify = async (data: ForgotPasswordVerifyFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const { data: verifyResult, error: verifyError } = await supabase.functions.invoke(\r\n        \"verify-email-code\",\r\n        {\r\n          body: { \r\n            email: forgotPasswordEmail, \r\n            code: data.code \r\n          },\r\n        }\r\n      );\r\n      \r\n      if (verifyError || !verifyResult?.success) {\r\n        toast.error(verifyResult?.error || t(\"auth.invalidVerificationCode\"));\r\n        return;\r\n      }\r\n      \r\n      // Store the verified code for the next step\r\n      setForgotPasswordCode(data.code);\r\n      setForgotPasswordStep(\"newPassword\");\r\n      toast.success(t(\"auth.codeVerified\"));\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async (data: ForgotPasswordNewFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Call reset-password function with the stored verified code\r\n      const { data: resetResult, error: resetError } = await supabase.functions.invoke(\r\n        \"reset-password\",\r\n        {\r\n          body: { \r\n            email: forgotPasswordEmail, \r\n            code: forgotPasswordCode,\r\n            newPassword: data.newPassword\r\n          },\r\n        }\r\n      );\r\n      \r\n      if (resetError || !resetResult?.success) {\r\n        toast.error(resetResult?.error || t(\"auth.passwordResetFailed\"));\r\n        return;\r\n      }\r\n      \r\n      toast.success(t(\"auth.passwordResetSuccess\"));\r\n      handleBackToLogin();\r\n    } catch (error: any) {\r\n      toast.error(error.message || t(\"error.general\"));\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBackToLogin = () => {\r\n    setShowForgotPassword(false);\r\n    setForgotPasswordStep(\"email\");\r\n    setForgotPasswordEmail(\"\");\r\n    setForgotPasswordCode(\"\");\r\n    forgotPasswordEmailForm.reset();\r\n    forgotPasswordVerifyForm.reset();\r\n    forgotPasswordNewForm.reset();\r\n    setNewPasswordStrength(null);\r\n  };\r\n\r\n  // Forgot password UI\r\n  if (showForgotPassword) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-hero p-4\">\r\n        <Card className=\"w-full max-w-md shadow-large\">\r\n          <CardHeader className=\"text-center\">\r\n            <div className=\"flex justify-center mb-4\">\r\n              <img \r\n                src={logoUrl} \r\n                alt=\"Logo\" \r\n                style={{ width: `${logoWidth}px`, height: `${logoHeight}px` }}\r\n                className=\"object-contain drop-shadow-md\"\r\n              />\r\n            </div>\r\n            <CardTitle className=\"text-2xl\">{t(\"auth.forgotPassword\")}</CardTitle>\r\n            <CardDescription>\r\n              {forgotPasswordStep === \"email\" && t(\"auth.forgotPasswordDescription\")}\r\n              {forgotPasswordStep === \"verify\" && t(\"auth.verifyCodeDescription\")}\r\n              {forgotPasswordStep === \"newPassword\" && t(\"auth.setNewPasswordDescription\")}\r\n            </CardDescription>\r\n          </CardHeader>\r\n\r\n          <CardContent>\r\n            {forgotPasswordStep === \"email\" && (\r\n              <form onSubmit={forgotPasswordEmailForm.handleSubmit(handleForgotPasswordEmailSubmit)} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"forgot-email\">{t(\"auth.email\")}</Label>\r\n                  <Input\r\n                    id=\"forgot-email\"\r\n                    type=\"email\"\r\n                    placeholder=\"you@example.com\"\r\n                    {...forgotPasswordEmailForm.register(\"email\")}\r\n                  />\r\n                  {forgotPasswordEmailForm.formState.errors.email && (\r\n                    <p className=\"text-sm text-destructive\">{forgotPasswordEmailForm.formState.errors.email.message}</p>\r\n                  )}\r\n                </div>\r\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                  {isLoading ? t(\"auth.sendingCode\") : t(\"auth.sendCode\")}\r\n                </Button>\r\n              </form>\r\n            )}\r\n\r\n            {forgotPasswordStep === \"verify\" && (\r\n              <form onSubmit={forgotPasswordVerifyForm.handleSubmit(handleForgotPasswordVerify)} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label>{t(\"auth.verificationCode\")}</Label>\r\n                  <p className=\"text-xs text-muted-foreground mb-2\">\r\n                    {t(\"auth.verificationCodeHint\", { email: forgotPasswordEmail })}\r\n                  </p>\r\n                  <div className=\"flex justify-center\">\r\n                    <InputOTP\r\n                      maxLength={4}\r\n                      {...forgotPasswordVerifyForm.register(\"code\")}\r\n                      onChange={(value) => forgotPasswordVerifyForm.setValue(\"code\", value)}\r\n                    >\r\n                      <InputOTPGroup>\r\n                        <InputOTPSlot index={0} />\r\n                        <InputOTPSlot index={1} />\r\n                        <InputOTPSlot index={2} />\r\n                        <InputOTPSlot index={3} />\r\n                      </InputOTPGroup>\r\n                    </InputOTP>\r\n                  </div>\r\n                  {forgotPasswordVerifyForm.formState.errors.code && (\r\n                    <p className=\"text-sm text-destructive text-center\">{forgotPasswordVerifyForm.formState.errors.code.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button \r\n                    type=\"button\" \r\n                    variant=\"outline\" \r\n                    className=\"w-full\"\r\n                    onClick={() => setForgotPasswordStep(\"email\")}\r\n                  >\r\n                    {t(\"common.back\")}\r\n                  </Button>\r\n                  <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                    {isLoading ? t(\"auth.verifying\") : t(\"auth.verify\")}\r\n                  </Button>\r\n                </div>\r\n                <Button \r\n                  type=\"button\" \r\n                  variant=\"ghost\" \r\n                  className=\"w-full text-sm\"\r\n                  onClick={handleResendCode}\r\n                  disabled={isLoading || resendCountdown > 0}\r\n                >\r\n                  {resendCountdown > 0 \r\n                    ? t(\"auth.resendIn\", { seconds: resendCountdown })\r\n                    : t(\"auth.resendCode\")}\r\n                </Button>\r\n              </form>\r\n            )}\r\n\r\n            {forgotPasswordStep === \"newPassword\" && (\r\n              <form onSubmit={forgotPasswordNewForm.handleSubmit(handleResetPassword)} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"new-password\">{t(\"auth.newPassword\")}</Label>\r\n                  <div className=\"relative\">\r\n                    <Input\r\n                      id=\"new-password\"\r\n                      type={showNewPassword ? \"text\" : \"password\"}\r\n                      placeholder={t(\"auth.passwordPlaceholder\")}\r\n                      {...forgotPasswordNewForm.register(\"newPassword\")}\r\n                      onChange={(e) => {\r\n                        forgotPasswordNewForm.setValue(\"newPassword\", e.target.value);\r\n                        if (e.target.value) {\r\n                          setNewPasswordStrength(checkPasswordStrength(e.target.value));\r\n                        } else {\r\n                          setNewPasswordStrength(null);\r\n                        }\r\n                      }}\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowNewPassword(!showNewPassword)}\r\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\r\n                    >\r\n                      {showNewPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                    </button>\r\n                  </div>\r\n                  {forgotPasswordNewForm.formState.errors.newPassword && (\r\n                    <p className=\"text-sm text-destructive\">{forgotPasswordNewForm.formState.errors.newPassword.message}</p>\r\n                  )}\r\n                  {newPasswordStrength && (\r\n                    <div className=\"space-y-1\">\r\n                      <div className=\"flex gap-1\">\r\n                        <div className={`h-1.5 flex-1 rounded-full transition-colors ${\r\n                          newPasswordStrength === 'weak' ? 'bg-destructive' : \r\n                          newPasswordStrength === 'medium' ? 'bg-warning' : \r\n                          'bg-success'\r\n                        }`} />\r\n                        <div className={`h-1.5 flex-1 rounded-full transition-colors ${\r\n                          newPasswordStrength === 'medium' || newPasswordStrength === 'strong' ? \r\n                          newPasswordStrength === 'medium' ? 'bg-warning' : 'bg-success' : \r\n                          'bg-muted'\r\n                        }`} />\r\n                        <div className={`h-1.5 flex-1 rounded-full transition-colors ${\r\n                          newPasswordStrength === 'strong' ? 'bg-success' : 'bg-muted'\r\n                        }`} />\r\n                      </div>\r\n                      <p className={`text-xs ${\r\n                        newPasswordStrength === 'weak' ? 'text-destructive' : \r\n                        newPasswordStrength === 'medium' ? 'text-warning' : \r\n                        'text-success'\r\n                      }`}>\r\n                        {t(`auth.passwordStrength.${newPasswordStrength}`)}\r\n                      </p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"confirm-new-password\">{t(\"auth.confirmNewPassword\")}</Label>\r\n                  <div className=\"relative\">\r\n                    <Input\r\n                      id=\"confirm-new-password\"\r\n                      type={showConfirmNewPassword ? \"text\" : \"password\"}\r\n                      placeholder={t(\"auth.passwordPlaceholder\")}\r\n                      {...forgotPasswordNewForm.register(\"confirmNewPassword\")}\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowConfirmNewPassword(!showConfirmNewPassword)}\r\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\r\n                    >\r\n                      {showConfirmNewPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                    </button>\r\n                  </div>\r\n                  {forgotPasswordNewForm.formState.errors.confirmNewPassword && (\r\n                    <p className=\"text-sm text-destructive\">{forgotPasswordNewForm.formState.errors.confirmNewPassword.message}</p>\r\n                  )}\r\n                </div>\r\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                  {isLoading ? t(\"common.loading\") : t(\"auth.resetPassword\")}\r\n                </Button>\r\n              </form>\r\n            )}\r\n          </CardContent>\r\n\r\n          <CardFooter>\r\n            <Button \r\n              variant=\"ghost\" \r\n              className=\"w-full\"\r\n              onClick={handleBackToLogin}\r\n            >\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              {t(\"auth.backToLogin\")}\r\n            </Button>\r\n          </CardFooter>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-hero p-4\">\r\n      <Card className=\"w-full max-w-md shadow-large\">\r\n        <CardHeader className=\"text-center\">\r\n          <div className=\"flex justify-center mb-4\">\r\n            <img \r\n              src={logoUrl} \r\n              alt=\"Logo\" \r\n              style={{ width: `${logoWidth}px`, height: `${logoHeight}px` }}\r\n              className=\"object-contain drop-shadow-md\"\r\n            />\r\n          </div>\r\n          <CardTitle className=\"text-2xl\">{t(\"auth.welcome\")}</CardTitle>\r\n          <CardDescription>{t(\"auth.subtitle\")}</CardDescription>\r\n        </CardHeader>\r\n\r\n        <CardContent>\r\n          <Tabs value={activeTab} onValueChange={(value) => {\r\n            setActiveTab(value);\r\n            setPhoneStep(\"phone\");\r\n            setRegisterStep(\"info\");\r\n          }} className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-2\">\r\n              <TabsTrigger value=\"login\">{t(\"auth.login\")}</TabsTrigger>\r\n              {/* <TabsTrigger value=\"phone\">{t(\"auth.phone\")}</TabsTrigger> */}\r\n              <TabsTrigger value=\"register\">{t(\"auth.register\")}</TabsTrigger>\r\n            </TabsList>\r\n\r\n            <TabsContent value=\"login\">\r\n              <form onSubmit={loginForm.handleSubmit(handleLogin)} className=\"space-y-4\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"email\">{t(\"auth.email\")}</Label>\r\n                  <Input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"you@example.com\"\r\n                    {...loginForm.register(\"email\")}\r\n                  />\r\n                  {loginForm.formState.errors.email && (\r\n                    <p className=\"text-sm text-destructive\">{loginForm.formState.errors.email.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"password\">{t(\"auth.password\")}</Label>\r\n                  <div className=\"relative\">\r\n                    <Input\r\n                      id=\"password\"\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\r\n                      {...loginForm.register(\"password\")}\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowPassword(!showPassword)}\r\n                      className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\r\n                    >\r\n                      {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n                    </button>\r\n                  </div>\r\n                  {loginForm.formState.errors.password && (\r\n                    <p className=\"text-sm text-destructive\">{loginForm.formState.errors.password.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <Checkbox\r\n                      id=\"rememberMe\"\r\n                      checked={rememberMe}\r\n                      onCheckedChange={(checked) => {\r\n                        setRememberMe(checked === true);\r\n                        localStorage.setItem(\"rememberMe\", String(checked === true));\r\n                      }}\r\n                    />\r\n                    <Label htmlFor=\"rememberMe\" className=\"text-sm font-normal cursor-pointer\">\r\n                      {t(\"auth.rememberMe\")}\r\n                    </Label>\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"text-sm text-primary hover:underline\"\r\n                    onClick={() => setShowForgotPassword(true)}\r\n                  >\r\n                    {t(\"auth.forgotPassword\")}\r\n                  </button>\r\n                </div>\r\n                \r\n                {/* Lockout warning */}\r\n                {isLoginLocked && (\r\n                  <div className=\"p-3 bg-destructive/10 border border-destructive/20 rounded-md\">\r\n                    <p className=\"text-sm text-destructive font-medium\">\r\n                      {t(\"auth.accountLocked\")}\r\n                    </p>\r\n                    <p className=\"text-xs text-destructive/80 mt-1\">\r\n                      {t(\"auth.tooManyAttempts\", { minutes: Math.ceil(lockoutSeconds / 60) })}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Remaining attempts warning */}\r\n                {!isLoginLocked && remainingAttempts !== null && remainingAttempts <= 3 && remainingAttempts > 0 && (\r\n                  <div className=\"p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-md\">\r\n                    <p className=\"text-sm text-yellow-600 dark:text-yellow-400\">\r\n                      {t(\"auth.remainingAttempts\", { count: remainingAttempts })}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n                \r\n                <Button type=\"submit\" className=\"w-full\" disabled={isLoading || isLoginLocked}>\r\n                  {isLoading ? t(\"auth.signingIn\") : isLoginLocked ? `${t(\"auth.signIn\")} (${Math.ceil(lockoutSeconds / 60)}m)` : t(\"auth.signIn\")}\r\n                </Button>\r\n              </form>\r\n\r\n              {/* Google Sign In - Hidden\r\n              <div className=\"relative my-4\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                  <span className=\"w-full border-t\" />\r\n                </div>\r\n                <div className=\"relative flex justify-center text-xs uppercase\">\r\n                  <span className=\"bg-card px-2 text-muted-foreground\">{t(\"auth.orContinueWith\")}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <Button \r\n                variant=\"outline\" \r\n                className=\"w-full\" \r\n                type=\"button\"\r\n                onClick={handleGoogleSignIn}\r\n                disabled={isLoading}\r\n              >\r\n                <svg className=\"mr-2 h-4 w-4\" viewBox=\"0 0 24 24\">\r\n                  <path\r\n                    d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\r\n                    fill=\"#4285F4\"\r\n                  />\r\n                  <path\r\n                    d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\r\n                    fill=\"#34A853\"\r\n                  />\r\n                  <path\r\n                    d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\r\n                    fill=\"#FBBC05\"\r\n                  />\r\n                  <path\r\n                    d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\r\n                    fill=\"#EA4335\"\r\n                  />\r\n                </svg>\r\n                {t(\"auth.google\")}\r\n              </Button>\r\n              */}\r\n            </TabsContent>\r\n\r\n            {/* Phone Login - Hidden\r\n            <TabsContent value=\"phone\">\r\n              {phoneStep === \"phone\" ? (\r\n                <form onSubmit={phoneForm.handleSubmit(handlePhoneLogin)} className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"phone-number\">{t(\"auth.phoneNumber\")}</Label>\r\n                    <div className=\"flex gap-2\">\r\n                      <Select value={countryCode} onValueChange={setCountryCode}>\r\n                        <SelectTrigger className=\"w-[120px]\">\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"+351\">ðŸ‡µðŸ‡¹ +351</SelectItem>\r\n                          <SelectItem value=\"+86\">ðŸ‡¨ðŸ‡³ +86</SelectItem>\r\n                          <SelectItem value=\"+1\">ðŸ‡ºðŸ‡¸ +1</SelectItem>\r\n                          <SelectItem value=\"+44\">ðŸ‡¬ðŸ‡§ +44</SelectItem>\r\n                          <SelectItem value=\"+33\">ðŸ‡«ðŸ‡· +33</SelectItem>\r\n                          <SelectItem value=\"+49\">ðŸ‡©ðŸ‡ª +49</SelectItem>\r\n                          <SelectItem value=\"+81\">ðŸ‡¯ðŸ‡µ +81</SelectItem>\r\n                          <SelectItem value=\"+82\">ðŸ‡°ðŸ‡· +82</SelectItem>\r\n                          <SelectItem value=\"+55\">ðŸ‡§ðŸ‡· +55</SelectItem>\r\n                          <SelectItem value=\"+34\">ðŸ‡ªðŸ‡¸ +34</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                      <Input\r\n                        id=\"phone-number\"\r\n                        type=\"tel\"\r\n                        placeholder=\"912 345 678\"\r\n                        className=\"flex-1\"\r\n                        {...phoneForm.register(\"phone\")}\r\n                      />\r\n                    </div>\r\n                    {phoneForm.formState.errors.phone && (\r\n                      <p className=\"text-sm text-destructive\">{phoneForm.formState.errors.phone.message}</p>\r\n                    )}\r\n                    <p className=\"text-xs text-muted-foreground\">{t(\"auth.phoneHint\")}</p>\r\n                  </div>\r\n                  <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                    {isLoading ? t(\"auth.sendingCode\") : t(\"auth.sendCode\")}\r\n                  </Button>\r\n                </form>\r\n              ) : (\r\n                <form onSubmit={otpForm.handleSubmit(handleOTPVerify)} className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"otp\">{t(\"auth.verificationCode\")}</Label>\r\n                    <div className=\"flex justify-center\">\r\n                      <InputOTP\r\n                        maxLength={6}\r\n                        {...otpForm.register(\"otp\")}\r\n                        onChange={(value) => otpForm.setValue(\"otp\", value)}\r\n                      >\r\n                        <InputOTPGroup>\r\n                          <InputOTPSlot index={0} />\r\n                          <InputOTPSlot index={1} />\r\n                          <InputOTPSlot index={2} />\r\n                          <InputOTPSlot index={3} />\r\n                          <InputOTPSlot index={4} />\r\n                          <InputOTPSlot index={5} />\r\n                        </InputOTPGroup>\r\n                      </InputOTP>\r\n                    </div>\r\n                    {otpForm.formState.errors.otp && (\r\n                      <p className=\"text-sm text-destructive text-center\">{otpForm.formState.errors.otp.message}</p>\r\n                    )}\r\n                    <p className=\"text-xs text-muted-foreground text-center\">{t(\"auth.otpHint\", { phone: phoneNumber })}</p>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button \r\n                      type=\"button\" \r\n                      variant=\"outline\" \r\n                      className=\"w-full\"\r\n                      onClick={() => setPhoneStep(\"phone\")}\r\n                    >\r\n                      {t(\"common.back\")}\r\n                    </Button>\r\n                    <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                      {isLoading ? t(\"auth.verifying\") : t(\"auth.verify\")}\r\n                    </Button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n            </TabsContent>\r\n            */}\r\n\r\n            <TabsContent value=\"register\">\r\n              {registerStep === \"info\" ? (\r\n                <form onSubmit={registerForm.handleSubmit(handleRegister)} className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"display-name\">{t(\"auth.displayName\")}</Label>\r\n                    <Input\r\n                      id=\"display-name\"\r\n                      placeholder=\"John Doe\"\r\n                      {...registerForm.register(\"displayName\")}\r\n                    />\r\n                    {registerForm.formState.errors.displayName && (\r\n                      <p className=\"text-sm text-destructive\">{registerForm.formState.errors.displayName.message}</p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"register-email\">{t(\"auth.email\")}</Label>\r\n                    <Input\r\n                      id=\"register-email\"\r\n                      type=\"email\"\r\n                      placeholder=\"you@example.com\"\r\n                      {...registerForm.register(\"email\")}\r\n                    />\r\n                    {registerForm.formState.errors.email && (\r\n                      <p className=\"text-sm text-destructive\">{registerForm.formState.errors.email.message}</p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"register-password\">{t(\"auth.password\")}</Label>\r\n                    <Input\r\n                      id=\"register-password\"\r\n                      type=\"password\"\r\n                      placeholder={t(\"auth.passwordPlaceholder\")}\r\n                      {...registerForm.register(\"password\")}\r\n                      onChange={(e) => {\r\n                        registerForm.setValue(\"password\", e.target.value);\r\n                        if (e.target.value) {\r\n                          setPasswordStrength(checkPasswordStrength(e.target.value));\r\n                        } else {\r\n                          setPasswordStrength(null);\r\n                        }\r\n                      }}\r\n                    />\r\n                    {registerForm.formState.errors.password && (\r\n                      <p className=\"text-sm text-destructive\">{registerForm.formState.errors.password.message}</p>\r\n                    )}\r\n                    {passwordStrength && (\r\n                      <div className=\"space-y-1\">\r\n                        <div className=\"flex gap-1\">\r\n                          <div className={`h-1.5 flex-1 rounded-full transition-colors ${\r\n                            passwordStrength === 'weak' ? 'bg-destructive' : \r\n                            passwordStrength === 'medium' ? 'bg-warning' : \r\n                            'bg-success'\r\n                          }`} />\r\n                          <div className={`h-1.5 flex-1 rounded-full transition-colors ${\r\n                            passwordStrength === 'medium' || passwordStrength === 'strong' ? \r\n                            passwordStrength === 'medium' ? 'bg-warning' : 'bg-success' : \r\n                            'bg-muted'\r\n                          }`} />\r\n                          <div className={`h-1.5 flex-1 rounded-full transition-colors ${\r\n                            passwordStrength === 'strong' ? 'bg-success' : 'bg-muted'\r\n                          }`} />\r\n                        </div>\r\n                        <p className={`text-xs ${\r\n                          passwordStrength === 'weak' ? 'text-destructive' : \r\n                          passwordStrength === 'medium' ? 'text-warning' : \r\n                          'text-success'\r\n                        }`}>\r\n                          {t(`auth.passwordStrength.${passwordStrength}`)}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"confirm-password\">{t(\"auth.confirmPassword\")}</Label>\r\n                    <Input\r\n                      id=\"confirm-password\"\r\n                      type=\"password\"\r\n                      placeholder={t(\"auth.passwordPlaceholder\")}\r\n                      {...registerForm.register(\"confirmPassword\")}\r\n                    />\r\n                    {registerForm.formState.errors.confirmPassword && (\r\n                      <p className=\"text-sm text-destructive\">{registerForm.formState.errors.confirmPassword.message}</p>\r\n                    )}\r\n                  </div>\r\n                  <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                    {isLoading ? t(\"auth.sendingCode\") : t(\"auth.sendCode\")}\r\n                  </Button>\r\n                </form>\r\n              ) : (\r\n                <form onSubmit={emailVerifyForm.handleSubmit(handleVerifyAndRegister)} className=\"space-y-4\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"verification-code\">Verification Code</Label>\r\n                    <p className=\"text-xs text-muted-foreground mb-2\">\r\n                      Enter the 4-digit code sent to {registerEmail}\r\n                    </p>\r\n                    <div className=\"flex justify-center\">\r\n                      <InputOTP\r\n                        maxLength={4}\r\n                        {...emailVerifyForm.register(\"code\")}\r\n                        onChange={(value) => emailVerifyForm.setValue(\"code\", value)}\r\n                      >\r\n                        <InputOTPGroup>\r\n                          <InputOTPSlot index={0} />\r\n                          <InputOTPSlot index={1} />\r\n                          <InputOTPSlot index={2} />\r\n                          <InputOTPSlot index={3} />\r\n                        </InputOTPGroup>\r\n                      </InputOTP>\r\n                    </div>\r\n                    {emailVerifyForm.formState.errors.code && (\r\n                      <p className=\"text-sm text-destructive text-center\">{emailVerifyForm.formState.errors.code.message}</p>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <Button \r\n                      type=\"button\" \r\n                      variant=\"outline\" \r\n                      className=\"w-full\"\r\n                      onClick={() => {\r\n                        setRegisterStep(\"info\");\r\n                        emailVerifyForm.reset();\r\n                      }}\r\n                    >\r\n                      {t(\"common.back\")}\r\n                    </Button>\r\n                    <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                      {isLoading ? t(\"auth.verifying\") : \"Verify & Register\"}\r\n                    </Button>\r\n                  </div>\r\n                  <Button \r\n                    type=\"button\" \r\n                    variant=\"ghost\" \r\n                    className=\"w-full text-sm\"\r\n                    onClick={handleResendCode}\r\n                    disabled={isLoading || resendCountdown > 0}\r\n                  >\r\n                    {resendCountdown > 0 \r\n                      ? `Resend Code (${resendCountdown}s)` \r\n                      : \"Resend Code\"}\r\n                  </Button>\r\n                </form>\r\n              )}\r\n            </TabsContent>\r\n          </Tabs>\r\n        </CardContent>\r\n\r\n        <CardFooter>\r\n          <p className=\"text-sm text-muted-foreground text-center w-full\">\r\n            <Link to=\"/\" className=\"text-primary hover:underline\">\r\n              {t(\"auth.backToHome\")}\r\n            </Link>\r\n          </p>\r\n        </CardFooter>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"names":["Auth","signIn","signUp","signInWithGoogle","signInWithPhone","verifyOTP","user","isBanned","isCheckingBanStatus","useAuth","settings","useSiteSettings","logoUrl","logoFallback","logoWidth","logoHeight","navigate","useNavigate","isLoading","setIsLoading","useState","activeTab","setActiveTab","phoneStep","setPhoneStep","registerStep","setRegisterStep","registerEmail","setRegisterEmail","registerData","setRegisterData","resendCountdown","setResendCountdown","passwordStrength","setPasswordStrength","showPassword","setShowPassword","rememberMe","setRememberMe","showForgotPassword","setShowForgotPassword","forgotPasswordStep","setForgotPasswordStep","forgotPasswordEmail","setForgotPasswordEmail","forgotPasswordCode","setForgotPasswordCode","showNewPassword","setShowNewPassword","showConfirmNewPassword","setShowConfirmNewPassword","newPasswordStrength","setNewPasswordStrength","isLoginLocked","setIsLoginLocked","lockoutSeconds","setLockoutSeconds","remainingAttempts","setRemainingAttempts","t","useTranslation","loginSchema","z.object","z.string","registerSchema","data","phoneSchema","otpSchema","emailVerifySchema","forgotPasswordEmailSchema","forgotPasswordVerifySchema","forgotPasswordNewSchema","loginForm","useForm","zodResolver","registerForm","emailVerifyForm","forgotPasswordEmailForm","forgotPasswordVerifyForm","forgotPasswordNewForm","useEffect","timer","error","supabase","e","checkPasswordStrength","password","strength","handleLogin","minutes","toast","securityCheck","securityError","recordResult","remaining","handleRegister","checkResult","checkError","handleVerifyAndRegister","verifyResult","verifyError","signUpData","signUpError","handleResendCode","emailToResend","handleForgotPasswordEmailSubmit","handleForgotPasswordVerify","handleResetPassword","resetResult","resetError","handleBackToLogin","jsxs","Card","CardHeader","jsx","CardTitle","CardDescription","CardContent","Label","Input","Button","InputOTP","value","InputOTPGroup","InputOTPSlot","EyeOff","Eye","CardFooter","ArrowLeft","Tabs","TabsList","TabsTrigger","TabsContent","Checkbox","checked","Link"],"mappings":"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"}