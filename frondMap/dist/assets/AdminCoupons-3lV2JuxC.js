import{r as p,j as e}from"./vendor-react-core-BErlw7p5.js";import{m as Z,D as ee,a as se,b as ie,c as ne,Q as te,B as j,X as F,Y as z,Z as A,$ as L,a0 as x,I as h,a1 as V,s as ae,C as R,h as $,p as K,a2 as W,U as de,R as me,T as ue,j as G,o as J,A as xe,E as he,F as je,G as pe,J as _e,K as ve,L as ge,M as fe}from"./index-kEIDKiMZ.js";import{e as ye,f as Ne,g as we}from"./useCoupons-C-5oBuUI.js";import{u as Ce}from"./useLocalizedContent-DqTgPnyL.js";import{o as be,s as g,e as P,c as M,b as Q,u as Te,t as De}from"./vendor-forms-6GCG0Z6m.js";import{F as Se,a as r,b as o,c,d,f as N,e as m}from"./form-FkVrDj0f.js";import{S as U}from"./switch-DLggLZLa.js";import{a as Ee}from"./vendor-query-BS0wY7WL.js";import{u as le}from"./vendor-i18n-CqcxoxDo.js";import{u as ke}from"./vendor-router-CLK0c9aH.js";import{g as X,M as Fe,o as ze,ac as Y,t as Ae,aS as Le,ae as Me,W as Oe,T as qe}from"./vendor-icons-C2Bicc1E.js";import{C as Ie}from"./vendor-date-fYlqblcl.js";import"./vendor-editor-BdQcs4B3.js";import"./vendor-misc-DH4LiFnZ.js";import"./vendor-ui-other-CPTlx-W2.js";import"./vendor-supabase-Clrw0GhO.js";import"./vendor-ui-dialog-Sv_VEL0d.js";import"./vendor-ui-dropdown-DwTcg2UT.js";const Ve=be({activity_id:g().min(1,"请选择关联活动"),title_zh:g().min(1,"中文标题不能为空"),title_en:g().min(1,"英文标题不能为空"),title_pt:g().min(1,"葡萄牙语标题不能为空"),description_zh:g().optional(),description_en:g().optional(),description_pt:g().optional(),discount_type:P(["percentage","fixed_amount"]).default("percentage"),discount_value:M.number().min(0,"折扣值不能为负数"),min_order_amount:M.number().min(0).optional(),max_discount_amount:M.number().min(0).optional(),valid_from:g().min(1,"开始日期不能为空"),valid_until:g().optional(),duration_days:M.number().min(1).optional(),duration_mode:P(["end_date","duration"]).default("end_date"),refresh_mode:P(["none","weekly","monthly","yearly"]).default("none"),is_active:Q().default(!0),visible:Q().default(!0),auto_link_activities:Q().default(!1)});function Pe({open:n,onOpenChange:w,template:t}){const{t:O}=le(),{toast:C}=Z(),S=ye();console.log("CouponFormDialog opened:",{open:n,hasTemplate:!!t});const{data:f,isLoading:b,error:E}=Ee({queryKey:["activities"],queryFn:async()=>{console.log("Fetching activities...");try{const{data:s,error:a}=await ae.from("activities").select("id, title_zh, title_en, title_pt").eq("visible",!0).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching activities:",a),a;return console.log("Activities fetched:",s?.length,s),s||[]}catch(s){throw console.error("Exception in activities query:",s),s}},enabled:n});p.useEffect(()=>{E&&(console.error("Activities query error in useEffect:",E),C({title:"加载失败",description:"无法加载活动列表，请刷新页面重试",variant:"destructive"}))},[E,C]);const i=Te({resolver:De(Ve),defaultValues:{activity_id:"",title_zh:"",title_en:"",title_pt:"",description_zh:"",description_en:"",description_pt:"",discount_type:"percentage",discount_value:0,min_order_amount:void 0,max_discount_amount:void 0,valid_from:new Date().toISOString().split("T")[0],valid_until:"",duration_days:void 0,duration_mode:"end_date",refresh_mode:"none",is_active:!0,visible:!0,auto_link_activities:!1}});p.useEffect(()=>{if(t){console.log("Setting form for edit mode:",t.id);const s=t.duration_days&&t.duration_days>0;i.reset({activity_id:t.activity_id,title_zh:t.title_zh,title_en:t.title_en,title_pt:t.title_pt,description_zh:t.description_zh||"",description_en:t.description_en||"",description_pt:t.description_pt||"",discount_type:t.discount_type,discount_value:Number(t.discount_value),min_order_amount:t.min_order_amount?Number(t.min_order_amount):void 0,max_discount_amount:t.max_discount_amount?Number(t.max_discount_amount):void 0,valid_from:t.valid_from.split("T")[0],valid_until:t.valid_until?.split("T")[0]||"",duration_days:t.duration_days||void 0,duration_mode:s?"duration":"end_date",refresh_mode:t.refresh_mode||"none",is_active:t.is_active,visible:t.visible,auto_link_activities:t.auto_link_activities||!1})}else n&&!t&&(console.log("Setting form for create mode"),i.reset({activity_id:"",title_zh:"",title_en:"",title_pt:"",description_zh:"",description_en:"",description_pt:"",discount_type:"percentage",discount_value:0,min_order_amount:void 0,max_discount_amount:void 0,valid_from:new Date().toISOString().split("T")[0],valid_until:"",duration_days:void 0,duration_mode:"end_date",refresh_mode:"none",is_active:!0,visible:!0,auto_link_activities:!1}))},[t,n]);const v=i.watch("duration_mode"),y=i.watch("valid_from"),T=i.watch("valid_until"),_=i.watch("duration_days");p.useEffect(()=>{if(v==="duration"&&_&&y){const s=new Date(y),a=new Date(s);a.setDate(a.getDate()+_),i.setValue("valid_until",a.toISOString().split("T")[0])}},[_,y,v,i]),p.useEffect(()=>{if(v==="end_date"&&T&&y){const s=new Date(y),a=new Date(T),u=Math.ceil((a.getTime()-s.getTime())/(1e3*60*60*24));u>0&&i.setValue("duration_days",u)}},[T,y,v,i]);const D=async s=>{try{console.log("Form submitted:",s);const a={activity_id:s.activity_id,title_zh:s.title_zh,title_en:s.title_en,title_pt:s.title_pt,description_zh:s.description_zh||null,description_en:s.description_en||null,description_pt:s.description_pt||null,discount_type:s.discount_type,discount_value:s.discount_value,min_order_amount:s.min_order_amount||null,max_discount_amount:s.max_discount_amount||null,valid_from:s.valid_from,valid_until:s.valid_until||null,duration_days:s.duration_mode==="duration"?s.duration_days:null,refresh_mode:s.refresh_mode,is_active:s.is_active,visible:s.visible,auto_link_activities:s.auto_link_activities};t?.id&&(a.id=t.id),console.log("Saving template data:",a),S.mutate(a,{onSuccess:()=>{console.log("Save successful"),C({title:"保存成功",description:"优惠券模板已保存"}),w(!1),i.reset()},onError:u=>{console.error("Error saving coupon template:",u),C({title:"保存失败",description:u.message||"请检查所有必填字段是否正确填写",variant:"destructive"})}})}catch(a){console.error("Exception in onSubmit:",a),C({title:"提交失败",description:"表单提交时发生错误",variant:"destructive"})}};return e.jsx(ee,{open:n,onOpenChange:w,children:e.jsxs(se,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ie,{children:[e.jsx(ne,{children:t?"编辑优惠券模板":"创建优惠券模板"}),e.jsx(te,{children:t?"修改优惠券模板信息":"创建新的优惠券模板，用户分享后自动生成子优惠券"})]}),E?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("p",{className:"text-destructive mb-4",children:"加载活动列表失败"}),e.jsx(j,{onClick:()=>window.location.reload(),children:"刷新页面"})]}):e.jsx(Se,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(D),className:"space-y-6",children:[e.jsx(r,{control:i.control,name:"activity_id",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"关联活动 *"}),e.jsxs(F,{onValueChange:a=>{console.log("Activity selected:",a),s.onChange(a)},value:s.value,disabled:b,children:[e.jsx(d,{children:e.jsx(z,{children:e.jsx(A,{placeholder:b?"加载中...":"选择活动"})})}),e.jsx(L,{children:b?e.jsx(x,{value:"loading",disabled:!0,children:"加载中..."}):f&&f.length>0?f.map(a=>e.jsx(x,{value:a.id,children:a.title_zh},a.id)):e.jsx(x,{value:"no-activities",disabled:!0,children:"暂无可用活动，请先创建活动"})})]}),e.jsx(N,{children:"选择此优惠券关联的活动"}),e.jsx(m,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{control:i.control,name:"title_zh",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"中文标题 *"}),e.jsx(d,{children:e.jsx(h,{placeholder:"新用户专享",...s})}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"title_en",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"英文标题 *"}),e.jsx(d,{children:e.jsx(h,{placeholder:"New User Exclusive",...s})}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"title_pt",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"葡萄牙语标题 *"}),e.jsx(d,{children:e.jsx(h,{placeholder:"Exclusivo Novo Usuário",...s})}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{control:i.control,name:"description_zh",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"中文描述"}),e.jsx(d,{children:e.jsx(V,{placeholder:"优惠券描述",...s})}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"description_en",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"英文描述"}),e.jsx(d,{children:e.jsx(V,{placeholder:"Coupon description",...s})}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"description_pt",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"葡萄牙语描述"}),e.jsx(d,{children:e.jsx(V,{placeholder:"Descrição do cupom",...s})}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:i.control,name:"discount_type",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"折扣类型 *"}),e.jsxs(F,{onValueChange:s.onChange,value:s.value,children:[e.jsx(d,{children:e.jsx(z,{children:e.jsx(A,{placeholder:"选择折扣类型"})})}),e.jsxs(L,{children:[e.jsx(x,{value:"percentage",children:"百分比折扣 (%)"}),e.jsx(x,{value:"fixed_amount",children:"固定金额折扣 (€)"})]})]}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"discount_value",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"折扣值 *"}),e.jsx(d,{children:e.jsx(h,{type:"number",min:"0",step:"0.01",placeholder:i.watch("discount_type")==="percentage"?"例如: 10 表示10%折扣":"例如: 5 表示5欧元折扣",...s})}),e.jsx(N,{children:i.watch("discount_type")==="percentage"?"输入百分比数值 (0-100)":"输入固定折扣金额 (欧元)"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{control:i.control,name:"min_order_amount",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"最低消费金额 (€)"}),e.jsx(d,{children:e.jsx(h,{type:"number",min:"0",step:"0.01",placeholder:"例如: 20",...s,value:s.value||""})}),e.jsx(N,{children:"留空表示无限制"}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"max_discount_amount",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"最高折扣金额 (€)"}),e.jsx(d,{children:e.jsx(h,{type:"number",min:"0",step:"0.01",placeholder:"例如: 10",...s,value:s.value||""})}),e.jsx(N,{children:"仅对百分比折扣有效，留空表示无上限"}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx("h4",{className:"font-medium text-sm",children:"有效期设置"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(r,{control:i.control,name:"valid_from",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"开始日期 *"}),e.jsx(d,{children:e.jsx(h,{type:"date",...s})}),e.jsx(m,{})]})}),e.jsx(r,{control:i.control,name:"duration_mode",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"有效期模式"}),e.jsxs(F,{onValueChange:s.onChange,value:s.value,children:[e.jsx(d,{children:e.jsx(z,{children:e.jsx(A,{placeholder:"选择模式"})})}),e.jsxs(L,{children:[e.jsx(x,{value:"end_date",children:"指定结束日期"}),e.jsx(x,{value:"duration",children:"指定持续天数"})]})]}),e.jsx(m,{})]})}),i.watch("duration_mode")==="end_date"?e.jsx(r,{control:i.control,name:"valid_until",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"结束日期"}),e.jsx(d,{children:e.jsx(h,{type:"date",...s})}),e.jsx(N,{children:"留空表示无限期"}),e.jsx(m,{})]})}):e.jsx(r,{control:i.control,name:"duration_days",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"持续天数"}),e.jsx(d,{children:e.jsx(h,{type:"number",min:"1",placeholder:"例如: 30",...s,value:s.value||""})}),e.jsx(N,{children:"优惠券领取后有效天数"}),e.jsx(m,{})]})})]}),i.watch("duration_mode")==="duration"&&i.watch("duration_days")&&i.watch("valid_until")&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["自动计算结束日期: ",i.watch("valid_until")]}),i.watch("duration_mode")==="end_date"&&i.watch("valid_until")&&i.watch("duration_days")&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["自动计算持续天数: ",i.watch("duration_days")," 天"]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsx("h4",{className:"font-medium text-sm",children:"刷新周期设置"}),e.jsx(r,{control:i.control,name:"refresh_mode",render:({field:s})=>e.jsxs(o,{children:[e.jsx(c,{children:"刷新周期"}),e.jsxs(F,{onValueChange:s.onChange,value:s.value,children:[e.jsx(d,{children:e.jsx(z,{className:"w-full md:w-[200px]",children:e.jsx(A,{placeholder:"选择刷新周期"})})}),e.jsxs(L,{children:[e.jsx(x,{value:"none",children:"不刷新 (一次性)"}),e.jsx(x,{value:"weekly",children:"每周"}),e.jsx(x,{value:"monthly",children:"每月"}),e.jsx(x,{value:"yearly",children:"每年"})]})]}),e.jsxs(N,{children:[s.value==="none"&&"用户只能领取一次此优惠券",s.value==="weekly"&&"用户每周可以重新领取一次此优惠券",s.value==="monthly"&&"用户每月可以重新领取一次此优惠券",s.value==="yearly"&&"用户每年可以重新领取一次此优惠券"]}),e.jsx(m,{})]})})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx(r,{control:i.control,name:"is_active",render:({field:s})=>e.jsxs(o,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(d,{children:e.jsx(U,{checked:s.value,onCheckedChange:s.onChange})}),e.jsx(c,{className:"!mt-0",children:"激活状态"})]})}),e.jsx(r,{control:i.control,name:"visible",render:({field:s})=>e.jsxs(o,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(d,{children:e.jsx(U,{checked:s.value,onCheckedChange:s.onChange})}),e.jsx(c,{className:"!mt-0",children:"前端可见"})]})}),e.jsx(r,{control:i.control,name:"auto_link_activities",render:({field:s})=>e.jsxs(o,{className:"flex items-center space-x-2 space-y-0",children:[e.jsx(d,{children:e.jsx(U,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(c,{className:"!mt-0",children:"自动关联活动"}),e.jsx(N,{className:"text-xs",children:"开启后，新增活动将自动关联此优惠券"})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>w(!1),disabled:S.isPending,children:O("common.cancel")}),e.jsx(j,{type:"submit",disabled:S.isPending,children:S.isPending?"保存中...":"保存"})]})]})})]})})}const as=()=>{const{t:n}=le(),{toast:w}=Z(),t=ke(),{data:O,isLoading:C}=Ne(),S=we(),{getLocalizedField:f}=Ce(),[b,E]=p.useState(""),[i,v]=p.useState(!1),[y,T]=p.useState(!1),[_,D]=p.useState(null),[s,a]=p.useState(!1),[u,q]=p.useState(""),[B,H]=p.useState(!1),I=O?.filter(l=>{const k=String(f(l,"title")||""),ce=b.toLowerCase();return k.toLowerCase().includes(ce)}),re=()=>{_&&S.mutate(_.id,{onSuccess:()=>{T(!1),D(null)}})},oe=async()=>{if(!u.trim()){w({title:n("common.error"),description:n("admin.clearEmail.enterEmail"),variant:"destructive"});return}H(!0);try{const{data:l,error:k}=await ae.from("user_coupons").delete().eq("claimed_email",u.trim().toLowerCase());if(k)throw k;w({title:n("common.success"),description:n("admin.clearEmail.success",{email:u})}),a(!1),q("")}catch(l){w({title:n("common.error"),description:l.message,variant:"destructive"})}finally{H(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(R,{children:[e.jsx($,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-6 h-6"}),n("admin.couponTemplates.title")]}),e.jsx(W,{children:n("admin.couponTemplates.description")})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(ee,{open:s,onOpenChange:a,children:[e.jsx(de,{asChild:!0,children:e.jsxs(j,{variant:"outline",children:[e.jsx(Fe,{className:"w-4 h-4 mr-2"}),n("admin.clearEmail.title")]})}),e.jsxs(se,{children:[e.jsxs(ie,{children:[e.jsx(ne,{children:n("admin.clearEmail.dialogTitle")}),e.jsx(te,{children:n("admin.clearEmail.dialogDescription")})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(me,{htmlFor:"email-to-clear",children:n("admin.clearEmail.emailLabel")}),e.jsx(h,{id:"email-to-clear",type:"email",placeholder:"example@email.com",value:u,onChange:l=>q(l.target.value)})]})}),e.jsxs(ue,{children:[e.jsx(j,{variant:"outline",onClick:()=>{a(!1),q("")},children:n("common.cancel")}),e.jsxs(j,{variant:"destructive",onClick:oe,disabled:B||!u.trim(),children:[B&&e.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),n("admin.clearEmail.confirm")]})]})]})]}),e.jsxs(j,{onClick:()=>{D(null),v(!0)},children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),n("admin.couponTemplates.create")]})]})]})}),e.jsxs(G,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ae,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(h,{placeholder:n("admin.couponTemplates.search"),value:b,onChange:l=>E(l.target.value),className:"pl-10"})]})}),C?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:n("admin.couponTemplates.loading")}):I&&I.length>0?e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:I.map(l=>e.jsxs(R,{className:"hover:shadow-lg transition-shadow",children:[e.jsx($,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(K,{className:"text-lg mb-1",children:f(l,"title")}),e.jsx(W,{className:"text-sm",children:f(l,"description")})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1 ml-2",children:[e.jsx(J,{variant:l.is_active?"default":"secondary",children:l.is_active?n("admin.couponTemplates.active"):n("admin.couponTemplates.inactive")}),l.auto_link_activities&&e.jsx(J,{variant:"outline",className:"text-xs",children:n("admin.couponTemplates.autoLink")})]})]})}),e.jsx(G,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:n("admin.couponTemplates.discountType")}),e.jsx("div",{className:"flex items-center gap-1",children:l.discount_type==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:[l.discount_value,"%"]})]}):e.jsxs("span",{className:"font-semibold",children:["€",l.discount_value]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:n("admin.couponTemplates.createdAt")}),e.jsx("span",{className:"text-sm",children:Ie(new Date(l.created_at),"yyyy-MM-dd")})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[e.jsxs(j,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>t(`/admin/coupons/${l.id}`),children:[e.jsx(Me,{className:"w-4 h-4 mr-1"}),n("admin.couponTemplates.view")]}),e.jsxs(j,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{D(l),v(!0)},children:[e.jsx(Oe,{className:"w-4 h-4 mr-1"}),n("admin.couponTemplates.edit")]}),e.jsx(j,{variant:"destructive",size:"sm",onClick:()=>{D(l),T(!0)},children:e.jsx(qe,{className:"w-4 h-4"})})]})]})})]},l.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:n(b?"admin.couponTemplates.noMatch":"admin.couponTemplates.empty")}),e.jsxs(j,{onClick:()=>v(!0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),n("admin.couponTemplates.createFirst")]})]})]})]}),e.jsx(Pe,{open:i,onOpenChange:l=>{v(l),l||D(null)},template:_},_?.id||"new"),e.jsx(xe,{open:y,onOpenChange:T,children:e.jsxs(he,{children:[e.jsxs(je,{children:[e.jsx(pe,{children:n("admin.couponTemplates.confirmDelete")}),e.jsx(_e,{children:n("admin.couponTemplates.deleteWarning",{name:_?f(_,"title"):""})})]}),e.jsxs(ve,{children:[e.jsx(ge,{children:n("common.cancel")}),e.jsx(fe,{onClick:re,children:n("admin.couponTemplates.delete")})]})]})})]})};export{as as default};
//# sourceMappingURL=AdminCoupons-3lV2JuxC.js.map
