import{p as f,aN as v,bd as g,bW as N,b7 as w,bY as h,j as e,ap as M,L as c,r as C,ck as L,aL as _}from"./vendor-react-Snp1tga-.js";import{u as q,S as A,a as I,b as u,c as x,d as m,e as b,f as p,g as j,i as R,j as $}from"./sidebar-CZWZdok3.js";import{b as y}from"./index-CEyHsx64.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-Z4kpnli5.js";import"./separator-enqKECXM.js";import"./vendor-supabase-D3137XJ9.js";const P=()=>{const{t:a}=f(),{state:t,setOpenMobile:l}=q(),n=v().pathname,r=y(),k=[{title:a("nav.manageRestaurants"),url:"/merchant-dashboard",icon:g},{title:a("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:N},{title:a("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:w}],S=[{title:a("admin.userManual","使用手册"),url:"/merchant-dashboard/user-manual",icon:h}],o=s=>s==="/merchant-dashboard"?n===s:n.startsWith(s),d=()=>{r&&l(!1)};return e.jsx(A,{className:t==="collapsed"?"w-14":"w-60",children:e.jsxs(I,{children:[e.jsxs(u,{children:[e.jsx(x,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(M,{className:"h-4 w-4"}):a("merchant.management")}),e.jsx(m,{children:e.jsx(b,{className:"mt-[30px]",children:k.map(s=>e.jsx(p,{children:e.jsx(j,{asChild:!0,isActive:o(s.url),children:e.jsxs(c,{to:s.url,onClick:d,children:[e.jsx(s.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:s.title})]})})},s.url))})})]}),e.jsxs(u,{children:[e.jsx(x,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(h,{className:"h-4 w-4"}):a("admin.groups.help","帮助")}),e.jsx(m,{children:e.jsx(b,{children:S.map(s=>e.jsx(p,{children:e.jsx(j,{asChild:!0,isActive:o(s.url),children:e.jsxs(c,{to:s.url,onClick:d,children:[e.jsx(s.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:s.title})]})})},s.url))})})]})]})})},G=()=>{const{t:a}=f(),l=v().pathname,i=[{title:a("nav.manageRestaurants"),url:"/merchant-dashboard",icon:g},{title:a("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:N},{title:a("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:w}],n=r=>r==="/merchant-dashboard"?l===r:l.startsWith(r);return e.jsxs("nav",{className:"fixed bottom-4 left-4 right-4 z-50 bg-white/20 dark:bg-black/25 backdrop-blur-sm border border-white/40 dark:border-white/30 shadow-[0_2px_20px_rgba(0,0,0,0.08)] rounded-[28px] safe-bottom overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 rounded-[28px] bg-gradient-to-b from-white/10 via-transparent to-transparent pointer-events-none"}),e.jsx("div",{className:"relative flex justify-around items-center h-14",children:i.map(r=>e.jsxs(c,{to:r.url,className:`relative flex flex-col items-center justify-center flex-1 h-10 py-1 px-2 mx-0.5 transition-all duration-200 rounded-2xl ${n(r.url)?"text-primary dark:text-white bg-primary/15 dark:bg-white/15":"text-gray-700 dark:text-white/80 active:bg-black/5 dark:active:bg-white/5"}`,children:[e.jsx(r.icon,{className:`h-5 w-5 mb-1 transition-all duration-200 ${n(r.url)?"scale-110 drop-shadow-[0_0_6px_rgba(34,197,94,0.6)] dark:drop-shadow-[0_0_6px_rgba(255,255,255,0.6)]":""}`}),e.jsx("span",{className:`text-xs text-center line-clamp-1 ${n(r.url)?"font-semibold":"font-normal"}`,children:r.title})]},r.url))})]})},W=()=>e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(_,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),D=()=>{const a=y();return e.jsx(R,{children:e.jsxs("div",{className:"min-h-screen flex w-full",children:[!a&&e.jsx(P,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"h-14 border-b border-border flex items-center px-4 bg-background",children:[!a&&e.jsx($,{}),e.jsx("h1",{className:`text-lg font-semibold ${a?"":"ml-4"}`,children:"商家管理后台"})]}),e.jsx("main",{className:`flex-1 p-4 md:p-6 overflow-auto ${a?"pb-24":""}`,children:e.jsx(C.Suspense,{fallback:e.jsx(W,{}),children:e.jsx(L,{})})}),a&&e.jsx(G,{})]})]})})};export{D as default};
//# sourceMappingURL=MerchantLayout-BwZ4KiG2.js.map
