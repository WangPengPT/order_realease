import{u as y,r as t,j as o}from"./vendor-react-DImbKuZP.js";import{u as E,X as L}from"./XiaoxiongChatContent-BJj2c5pi.js";import{b as j}from"./index-_G3CuCzp.js";import"./vendor-i18n-AOdgFpXS.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-vwQGbBim.js";import"./useAIChatHistory-BHmHvjAH.js";import"./LocationPermissionDialog-BDLW4gbZ.js";import"./ExternalLinkConfirmDialog-C_70Xa0h.js";import"./vendor-supabase-CRxszhSs.js";const R=()=>{const i=y(),{settings:n}=j(),a=n?.ai_provider||"xiaoxiong-community",{input:r,setInput:l,messages:c,isLoading:m,isLoadingHistory:d,showLocationDialog:u,setShowLocationDialog:g,pendingMessage:p,setPendingMessage:f,handleSubmit:h,handleKeyDown:x,handleLocationConfirm:b,processMessage:w,abortRequest:e,requestLocation:s,clearChat:v}=E(a);t.useLayoutEffect(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0;const T=setTimeout(()=>{window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},50);return()=>clearTimeout(T)},[]),t.useEffect(()=>{s()},[s]),t.useEffect(()=>()=>{e()},[e]);const C=()=>{e(),i("/")};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-[9999] bg-background"}),o.jsx("div",{className:"fixed inset-0 z-[10000] bg-background flex flex-col overflow-hidden",style:{height:"100%",minHeight:"-webkit-fill-available"},children:o.jsx(L,{messages:c,input:r,setInput:l,isLoading:m,isLoadingHistory:d,showLocationDialog:u,setShowLocationDialog:g,pendingMessage:p,handleSubmit:h,handleKeyDown:x,handleLocationConfirm:b,processMessage:w,setPendingMessage:f,onClose:C,onClearChat:v,showBackButton:!0,className:"flex-1 min-h-0 overflow-hidden"})})]})};export{R as default};
//# sourceMappingURL=AskXiaoxiong-iH-8X8V7.js.map
