import{j as e,r as C}from"./vendor-react-core-BErlw7p5.js";import{u as L,S as k,a as q,b as u,c as m,d as h,e as x,f as p,g as j,i as A,j as I}from"./sidebar-DIx3rC9r.js";import{a as f,L as l,O as R}from"./vendor-router-CLK0c9aH.js";import{q as v}from"./index-CEqKPgls.js";import{u as N}from"./vendor-i18n-CqcxoxDo.js";import{w as g,ax as y,t as S,aE as b,j as P,o as E}from"./vendor-icons-C2Bicc1E.js";import"./vendor-editor-BdQcs4B3.js";import"./vendor-misc-DH4LiFnZ.js";import"./vendor-date-fYlqblcl.js";import"./vendor-ui-other-CPTlx-W2.js";import"./separator-CsrYbTbx.js";import"./vendor-query-BS0wY7WL.js";import"./vendor-supabase-Clrw0GhO.js";import"./vendor-ui-dialog-Sv_VEL0d.js";import"./vendor-ui-dropdown-DwTcg2UT.js";const G=()=>{const{t:s}=N(),{state:t,setOpenMobile:n}=L(),c=f().pathname,a=v(),M=[{title:s("nav.manageRestaurants"),url:"/merchant-dashboard",icon:g},{title:s("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:y},{title:s("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:S}],w=[{title:s("admin.userManual","使用手册"),url:"/merchant-dashboard/user-manual",icon:b}],i=r=>r==="/merchant-dashboard"?c===r:c.startsWith(r),d=()=>{a&&n(!1)};return e.jsx(k,{className:t==="collapsed"?"w-14":"w-60",children:e.jsxs(q,{children:[e.jsxs(u,{children:[e.jsx(m,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(P,{className:"h-4 w-4"}):s("merchant.management")}),e.jsx(h,{children:e.jsx(x,{className:"mt-[30px]",children:M.map(r=>e.jsx(p,{children:e.jsx(j,{asChild:!0,isActive:i(r.url),children:e.jsxs(l,{to:r.url,onClick:d,children:[e.jsx(r.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:r.title})]})})},r.url))})})]}),e.jsxs(u,{children:[e.jsx(m,{className:t==="collapsed"?"text-center":"",children:t==="collapsed"?e.jsx(b,{className:"h-4 w-4"}):s("admin.groups.help","帮助")}),e.jsx(h,{children:e.jsx(x,{children:w.map(r=>e.jsx(p,{children:e.jsx(j,{asChild:!0,isActive:i(r.url),children:e.jsxs(l,{to:r.url,onClick:d,children:[e.jsx(r.icon,{className:"h-4 w-4"}),t!=="collapsed"&&e.jsx("span",{children:r.title})]})})},r.url))})})]})]})})},O=()=>{const{t:s}=N(),n=f().pathname,o=[{title:s("nav.manageRestaurants"),url:"/merchant-dashboard",icon:g},{title:s("merchant.myActivityRequests"),url:"/merchant-dashboard/activity-requests",icon:y},{title:s("nav.couponQuery"),url:"/merchant-dashboard/coupon-query",icon:S}],c=a=>a==="/merchant-dashboard"?n===a:n.startsWith(a);return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border safe-bottom",children:e.jsx("div",{className:"flex justify-around items-center h-16",children:o.map(a=>e.jsxs(l,{to:a.url,className:`flex flex-col items-center justify-center flex-1 h-full py-2 px-1 transition-colors ${c(a.url)?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(a.icon,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs text-center line-clamp-1",children:a.title})]},a.url))})})},$=()=>e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(E,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),_=()=>{const s=v();return e.jsx(A,{children:e.jsxs("div",{className:"min-h-screen flex w-full",children:[!s&&e.jsx(G,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"h-14 border-b border-border flex items-center px-4 bg-background",children:[!s&&e.jsx(I,{}),e.jsx("h1",{className:`text-lg font-semibold ${s?"":"ml-4"}`,children:"商家管理后台"})]}),e.jsx("main",{className:`flex-1 p-4 md:p-6 overflow-auto ${s?"pb-20":""}`,children:e.jsx(C.Suspense,{fallback:e.jsx($,{}),children:e.jsx(R,{})})}),s&&e.jsx(O,{})]})]})})};export{_ as default};
//# sourceMappingURL=MerchantLayout-Cvno8CsG.js.map
