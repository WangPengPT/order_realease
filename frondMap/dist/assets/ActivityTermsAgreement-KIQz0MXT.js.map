{"version":3,"file":"ActivityTermsAgreement-KIQz0MXT.js","sources":["../../src/components/ActivityTermsAgreement.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Loader2, FileText, Check, AlertCircle } from \"lucide-react\";\r\nimport { useActivityRules } from \"@/hooks/useActivityRules\";\r\nimport { useUpdateActivityTermsAgreement } from \"@/hooks/useProfile\";\r\nimport { useMerchantRestaurants } from \"@/hooks/useActivityParticipation\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useUserRole } from \"@/hooks/useUserRole\";\r\nimport { toast } from \"sonner\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\n\r\ninterface ActivityTermsAgreementProps {\r\n  isAgreed: boolean;\r\n  agreedAt: string | null;\r\n  open?: boolean;\r\n  onOpenChange?: (open: boolean) => void;\r\n}\r\n\r\nconst ActivityTermsAgreement = ({ isAgreed, agreedAt, open: controlledOpen, onOpenChange }: ActivityTermsAgreementProps) => {\r\n  const { t, i18n } = useTranslation();\r\n  const { data: rules, isLoading: rulesLoading } = useActivityRules();\r\n  const updateAgreement = useUpdateActivityTermsAgreement();\r\n  const { data: myRestaurants = [] } = useMerchantRestaurants();\r\n  const { isSupervisor } = useUserRole();\r\n  const [pendingState, setPendingState] = useState<boolean | null>(null);\r\n  const [internalOpen, setInternalOpen] = useState(false);\r\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false);\r\n  const [confirmInput, setConfirmInput] = useState(\"\");\r\n\r\n  // Use controlled or internal open state\r\n  const isControlled = controlledOpen !== undefined;\r\n  const open = isControlled ? controlledOpen : internalOpen;\r\n  const setOpen = isControlled ? (onOpenChange || (() => {})) : setInternalOpen;\r\n\r\n  // Confirmation phrase based on language\r\n  const confirmPhrase = useMemo(() => {\r\n    const lang = i18n.language;\r\n    if (lang === \"zh\") return \"退出活动\";\r\n    if (lang === \"pt\") return \"sair das atividades\";\r\n    return \"quit activities\";\r\n  }, [i18n.language]);\r\n\r\n  // For supervisors, get all restaurants under their managed merchants\r\n  const { data: supervisorRestaurantIds = [] } = useQuery({\r\n    queryKey: [\"supervisorManagedRestaurants\"],\r\n    queryFn: async () => {\r\n      // Get all restaurants that the supervisor manages (through merchant_restaurants)\r\n      const { data: managedRestaurants, error } = await supabase\r\n        .from(\"merchant_restaurants\")\r\n        .select(\"restaurant_id\");\r\n      \r\n      if (error || !managedRestaurants) return [];\r\n      return managedRestaurants.map(mr => mr.restaurant_id);\r\n    },\r\n    enabled: isSupervisor,\r\n  });\r\n\r\n  // Determine which restaurant IDs to check for activity participation\r\n  const restaurantIdsToCheck = isSupervisor \r\n    ? supervisorRestaurantIds \r\n    : myRestaurants.map(r => r.id);\r\n\r\n  // Get count of activities merchant's/supervisor's restaurants are participating in\r\n  const { data: participatingActivitiesCount = 0 } = useQuery({\r\n    queryKey: [\"merchantParticipatingActivitiesCount\", restaurantIdsToCheck, isSupervisor],\r\n    queryFn: async () => {\r\n      if (restaurantIdsToCheck.length === 0) return 0;\r\n      \r\n      const { data, error } = await supabase\r\n        .from(\"activity_restaurants\")\r\n        .select(\"activity_id\")\r\n        .in(\"restaurant_id\", restaurantIdsToCheck);\r\n      \r\n      if (error) return 0;\r\n      // Get unique activity IDs\r\n      const uniqueActivityIds = [...new Set(data?.map(ar => ar.activity_id) || [])];\r\n      return uniqueActivityIds.length;\r\n    },\r\n    enabled: restaurantIdsToCheck.length > 0,\r\n  });\r\n\r\n  const hasParticipatingActivities = participatingActivitiesCount > 0;\r\n\r\n  const handleToggle = async (checked: boolean) => {\r\n    setPendingState(checked);\r\n    try {\r\n      await updateAgreement.mutateAsync({ agreed: checked, isSupervisor });\r\n      toast.success(checked \r\n        ? t(\"profile.activityTermsAgreed\") \r\n        : t(\"profile.activityTermsRevoked\")\r\n      );\r\n      setConfirmDialogOpen(false);\r\n    } catch (error) {\r\n      toast.error(t(\"profile.activityTermsUpdateFailed\"));\r\n    } finally {\r\n      setPendingState(null);\r\n    }\r\n  };\r\n\r\n  const handleRevokeClick = () => {\r\n    if (hasParticipatingActivities) {\r\n      // Show confirmation dialog\r\n      setConfirmDialogOpen(true);\r\n    } else {\r\n      // Directly revoke\r\n      handleToggle(false);\r\n    }\r\n  };\r\n\r\n  const getLocalizedContent = () => {\r\n    if (!rules) return \"\";\r\n    const lang = i18n.language;\r\n    if (lang === \"zh\") return rules.content_zh;\r\n    if (lang === \"pt\") return rules.content_pt;\r\n    return rules.content_en;\r\n  };\r\n\r\n  const currentState = pendingState !== null ? pendingState : isAgreed;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button \r\n          variant=\"outline\" \r\n          className=\"w-full justify-between\"\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <FileText className=\"w-4 h-4 text-primary\" />\r\n            <span>{t(\"profile.activityTermsTitle\")}</span>\r\n          </div>\r\n          {isAgreed ? (\r\n            <Badge className=\"bg-green-500/10 text-green-600 hover:bg-green-500/20 ml-2\">\r\n              <Check className=\"w-3 h-3 mr-1\" />\r\n              {t(\"profile.activityTermsAgreedStatus\")}\r\n            </Badge>\r\n          ) : (\r\n            <Badge variant=\"secondary\" className=\"bg-amber-500/10 text-amber-600 ml-2\">\r\n              <AlertCircle className=\"w-3 h-3 mr-1\" />\r\n              {t(\"profile.activityTermsNotAgreed\")}\r\n            </Badge>\r\n          )}\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent className=\"max-w-md max-h-[85vh] overflow-hidden flex flex-col\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <FileText className=\"w-5 h-5 text-primary\" />\r\n            {t(\"profile.activityTermsTitle\")}\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            {t(\"profile.activityTermsDescription\")}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        \r\n        <div className=\"flex-1 overflow-y-auto space-y-4 py-4\">\r\n          {rulesLoading ? (\r\n            <div className=\"flex justify-center py-8\">\r\n              <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"rounded-lg border bg-muted/30 p-4\">\r\n              <div \r\n                className=\"prose prose-sm dark:prose-invert max-w-none text-sm\r\n                  [&_h1]:text-base [&_h1]:font-bold [&_h1]:mb-2\r\n                  [&_h2]:text-sm [&_h2]:font-semibold [&_h2]:mb-2\r\n                  [&_p]:mb-2 [&_p]:text-muted-foreground\r\n                  [&_ul]:list-disc [&_ul]:ml-4 [&_ul]:mb-2\r\n                  [&_li]:mb-0.5\r\n                  [&_span[style*='color']]:!text-inherit\"\r\n                dangerouslySetInnerHTML={{ __html: getLocalizedContent() }}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Agreement button */}\r\n        <div className=\"pt-4 border-t space-y-3\">\r\n          {agreedAt && isAgreed && (\r\n            <p className=\"text-xs text-muted-foreground text-center\">\r\n              {t(\"profile.agreedOn\")}: {formatDistanceToNow(new Date(agreedAt), { addSuffix: true })}\r\n            </p>\r\n          )}\r\n          \r\n          {currentState ? (\r\n            <Button\r\n              variant=\"destructive\"\r\n              className=\"w-full\"\r\n              onClick={handleRevokeClick}\r\n              disabled={updateAgreement.isPending}\r\n            >\r\n              {updateAgreement.isPending ? (\r\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n              ) : (\r\n                <AlertCircle className=\"w-4 h-4 mr-2\" />\r\n              )}\r\n              {hasParticipatingActivities \r\n                ? (isSupervisor \r\n                    ? t(\"profile.revokeTermsAndQuitActivitiesSupervisor\")\r\n                    : t(\"profile.revokeTermsAndQuitActivities\"))\r\n                : t(\"profile.revokeTermsOnly\")\r\n              }\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              variant=\"default\"\r\n              className=\"w-full\"\r\n              onClick={() => handleToggle(true)}\r\n              disabled={updateAgreement.isPending}\r\n            >\r\n              {updateAgreement.isPending ? (\r\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n              ) : (\r\n                <Check className=\"w-4 h-4 mr-2\" />\r\n              )}\r\n              {t(\"profile.agreeToTermsButton\")}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </DialogContent>\r\n\r\n      {/* Confirmation dialog for revoking when participating in activities */}\r\n      <AlertDialog open={confirmDialogOpen} onOpenChange={(open) => {\r\n        setConfirmDialogOpen(open);\r\n        if (!open) setConfirmInput(\"\");\r\n      }}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"flex items-center gap-2 text-destructive\">\r\n              <AlertCircle className=\"w-5 h-5\" />\r\n              {t(\"profile.revokeTermsConfirmTitle\")}\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {isSupervisor \r\n                ? t(\"profile.revokeTermsConfirmDescriptionSupervisor\", { count: participatingActivitiesCount })\r\n                : t(\"profile.revokeTermsConfirmDescription\", { count: participatingActivitiesCount })}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          \r\n          <div className=\"py-4 space-y-2\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {t(\"profile.revokeTermsTypeToConfirm\", { phrase: confirmPhrase })}\r\n            </p>\r\n            <Input\r\n              value={confirmInput}\r\n              onChange={(e) => setConfirmInput(e.target.value)}\r\n              className=\"font-mono\"\r\n            />\r\n          </div>\r\n\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>{t(\"common.cancel\")}</AlertDialogCancel>\r\n            <AlertDialogAction\r\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n              onClick={() => handleToggle(false)}\r\n              disabled={updateAgreement.isPending || confirmInput !== confirmPhrase}\r\n            >\r\n              {updateAgreement.isPending ? (\r\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n              ) : null}\r\n              {t(\"profile.confirmRevokeTerms\")}\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ActivityTermsAgreement;\r\n"],"names":["ActivityTermsAgreement","isAgreed","agreedAt","controlledOpen","onOpenChange","i18n","useTranslation","rules","rulesLoading","useActivityRules","updateAgreement","useUpdateActivityTermsAgreement","myRestaurants","useMerchantRestaurants","isSupervisor","useUserRole","pendingState","setPendingState","useState","internalOpen","setInternalOpen","confirmDialogOpen","setConfirmDialogOpen","confirmInput","setConfirmInput","isControlled","open","setOpen","confirmPhrase","useMemo","lang","supervisorRestaurantIds","useQuery","managedRestaurants","error","supabase","mr","restaurantIdsToCheck","r","participatingActivitiesCount","data","ar","hasParticipatingActivities","handleToggle","checked","toast","handleRevokeClick","getLocalizedContent","currentState","jsxs","Dialog","jsx","DialogTrigger","Button","FileText","Badge","Check","AlertCircle","DialogContent","DialogHeader","DialogTitle","DialogDescription","Loader2","formatDistanceToNow","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","Input","e","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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"}