{"version":3,"file":"DeleteAccountRequest-JZQKuZXJ.js","sources":["../../src/pages/DeleteAccountRequest.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { AlertTriangle, CheckCircle, Trash2, ShieldCheck, Loader2 } from \"lucide-react\";\r\nimport { toast } from \"@/hooks/use-toast\";\r\n\r\nconst DeleteAccountRequest = () => {\r\n  const { i18n } = useTranslation();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [reason, setReason] = useState(\"\");\r\n  const [confirmText, setConfirmText] = useState(\"\");\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isVerifying, setIsVerifying] = useState(false);\r\n  const [verified, setVerified] = useState(false);\r\n  const [submitted, setSubmitted] = useState(false);\r\n\r\n  const lang = i18n.language?.startsWith(\"zh\") ? \"zh\" : i18n.language?.startsWith(\"pt\") ? \"pt\" : \"en\";\r\n\r\n  const texts = {\r\n    zh: {\r\n      title: \"删除账号请求\",\r\n      subtitle: \"请先验证您的身份，然后提交账号删除请求\",\r\n      stepVerify: \"第一步：验证身份\",\r\n      stepVerifyDesc: \"请输入您的注册邮箱和密码来验证身份\",\r\n      stepDelete: \"第二步：确认删除\",\r\n      stepDeleteDesc: \"身份验证通过，请确认删除请求\",\r\n      emailLabel: \"注册邮箱\",\r\n      emailPlaceholder: \"请输入您注册时使用的邮箱\",\r\n      passwordLabel: \"密码\",\r\n      passwordPlaceholder: \"请输入您的登录密码\",\r\n      verifyButton: \"验证身份\",\r\n      verifying: \"验证中...\",\r\n      verifySuccess: \"身份验证成功\",\r\n      verifyFailed: \"邮箱或密码错误，请重试\",\r\n      reasonLabel: \"删除原因（可选）\",\r\n      reasonPlaceholder: \"请告诉我们您为什么想删除账号...\",\r\n      confirmLabel: \"确认删除\",\r\n      confirmHint: \"请输入 DELETE 确认\",\r\n      submitButton: \"提交删除请求\",\r\n      submitting: \"提交中...\",\r\n      successTitle: \"请求已提交\",\r\n      successMessage: \"我们已收到您的账号删除请求。我们会在 3-5 个工作日内处理您的请求，届时将通过邮件通知您。\",\r\n      warningTitle: \"请注意\",\r\n      warningItems: [\r\n        \"您的个人资料和头像将被永久删除\",\r\n        \"您的收藏、评论、评分将被移除\",\r\n        \"您的活动订阅和参与记录将被清除\",\r\n        \"您获得的优惠券将无法使用\",\r\n        \"此操作不可撤销\",\r\n      ],\r\n      dataTitle: \"将被删除的数据\",\r\n      dataItems: [\r\n        \"个人资料（姓名、头像、偏好设置）\",\r\n        \"收藏的餐厅\",\r\n        \"发表的评论和评分\",\r\n        \"活动订阅和分享记录\",\r\n        \"获得的优惠券\",\r\n        \"地址信息\",\r\n        \"通知记录\",\r\n      ],\r\n      emailRequired: \"请输入邮箱地址\",\r\n      passwordRequired: \"请输入密码\",\r\n      confirmRequired: \"请输入 DELETE 确认\",\r\n      submitError: \"提交失败，请稍后重试\",\r\n      identityVerified: \"身份已验证\",\r\n    },\r\n    pt: {\r\n      title: \"Solicitação de Exclusão de Conta\",\r\n      subtitle: \"Verifique sua identidade primeiro e depois envie a solicitação de exclusão\",\r\n      stepVerify: \"Passo 1: Verificar Identidade\",\r\n      stepVerifyDesc: \"Digite seu e-mail e senha para verificar sua identidade\",\r\n      stepDelete: \"Passo 2: Confirmar Exclusão\",\r\n      stepDeleteDesc: \"Identidade verificada, confirme a solicitação de exclusão\",\r\n      emailLabel: \"E-mail registrado\",\r\n      emailPlaceholder: \"Digite o e-mail usado no registro\",\r\n      passwordLabel: \"Senha\",\r\n      passwordPlaceholder: \"Digite sua senha de login\",\r\n      verifyButton: \"Verificar Identidade\",\r\n      verifying: \"Verificando...\",\r\n      verifySuccess: \"Identidade verificada com sucesso\",\r\n      verifyFailed: \"E-mail ou senha incorretos, tente novamente\",\r\n      reasonLabel: \"Motivo da exclusão (opcional)\",\r\n      reasonPlaceholder: \"Diga-nos por que deseja excluir sua conta...\",\r\n      confirmLabel: \"Confirmar exclusão\",\r\n      confirmHint: \"Digite DELETE para confirmar\",\r\n      submitButton: \"Enviar solicitação\",\r\n      submitting: \"Enviando...\",\r\n      successTitle: \"Solicitação enviada\",\r\n      successMessage: \"Recebemos sua solicitação de exclusão de conta. Processaremos em 3-5 dias úteis e notificaremos por e-mail.\",\r\n      warningTitle: \"Atenção\",\r\n      warningItems: [\r\n        \"Seu perfil e avatar serão permanentemente excluídos\",\r\n        \"Seus favoritos, comentários e avaliações serão removidos\",\r\n        \"Suas assinaturas de atividades serão canceladas\",\r\n        \"Seus cupons não poderão mais ser utilizados\",\r\n        \"Esta ação é irreversível\",\r\n      ],\r\n      dataTitle: \"Dados que serão excluídos\",\r\n      dataItems: [\r\n        \"Perfil pessoal (nome, avatar, preferências)\",\r\n        \"Restaurantes favoritos\",\r\n        \"Comentários e avaliações\",\r\n        \"Assinaturas e compartilhamentos de atividades\",\r\n        \"Cupons obtidos\",\r\n        \"Informações de endereço\",\r\n        \"Registros de notificações\",\r\n      ],\r\n      emailRequired: \"Por favor, insira seu e-mail\",\r\n      passwordRequired: \"Por favor, insira sua senha\",\r\n      confirmRequired: \"Por favor, digite DELETE para confirmar\",\r\n      submitError: \"Falha ao enviar, tente novamente mais tarde\",\r\n      identityVerified: \"Identidade verificada\",\r\n    },\r\n    en: {\r\n      title: \"Account Deletion Request\",\r\n      subtitle: \"Verify your identity first, then submit the account deletion request\",\r\n      stepVerify: \"Step 1: Verify Identity\",\r\n      stepVerifyDesc: \"Enter your registered email and password to verify your identity\",\r\n      stepDelete: \"Step 2: Confirm Deletion\",\r\n      stepDeleteDesc: \"Identity verified, please confirm the deletion request\",\r\n      emailLabel: \"Registered Email\",\r\n      emailPlaceholder: \"Enter the email used for registration\",\r\n      passwordLabel: \"Password\",\r\n      passwordPlaceholder: \"Enter your login password\",\r\n      verifyButton: \"Verify Identity\",\r\n      verifying: \"Verifying...\",\r\n      verifySuccess: \"Identity verified successfully\",\r\n      verifyFailed: \"Incorrect email or password, please try again\",\r\n      reasonLabel: \"Reason for deletion (optional)\",\r\n      reasonPlaceholder: \"Tell us why you want to delete your account...\",\r\n      confirmLabel: \"Confirm Deletion\",\r\n      confirmHint: \"Type DELETE to confirm\",\r\n      submitButton: \"Submit Deletion Request\",\r\n      submitting: \"Submitting...\",\r\n      successTitle: \"Request Submitted\",\r\n      successMessage: \"We have received your account deletion request. We will process it within 3-5 business days and notify you via email.\",\r\n      warningTitle: \"Please Note\",\r\n      warningItems: [\r\n        \"Your profile and avatar will be permanently deleted\",\r\n        \"Your favorites, comments, and ratings will be removed\",\r\n        \"Your activity subscriptions will be cancelled\",\r\n        \"Your coupons will no longer be usable\",\r\n        \"This action is irreversible\",\r\n      ],\r\n      dataTitle: \"Data That Will Be Deleted\",\r\n      dataItems: [\r\n        \"Personal profile (name, avatar, preferences)\",\r\n        \"Favorite restaurants\",\r\n        \"Comments and ratings\",\r\n        \"Activity subscriptions and share records\",\r\n        \"Obtained coupons\",\r\n        \"Address information\",\r\n        \"Notification records\",\r\n      ],\r\n      emailRequired: \"Please enter your email\",\r\n      passwordRequired: \"Please enter your password\",\r\n      confirmRequired: \"Please type DELETE to confirm\",\r\n      submitError: \"Submission failed, please try again later\",\r\n      identityVerified: \"Identity verified\",\r\n    },\r\n  };\r\n\r\n  const t2 = texts[lang] || texts.en;\r\n\r\n  const handleVerify = async () => {\r\n    if (!email.trim()) {\r\n      toast({ title: t2.emailRequired, variant: \"destructive\" });\r\n      return;\r\n    }\r\n    if (!password) {\r\n      toast({ title: t2.passwordRequired, variant: \"destructive\" });\r\n      return;\r\n    }\r\n\r\n    setIsVerifying(true);\r\n    try {\r\n      const { error } = await supabase.auth.signInWithPassword({\r\n        email: email.trim(),\r\n        password,\r\n      });\r\n\r\n      if (error) {\r\n        toast({ title: t2.verifyFailed, variant: \"destructive\" });\r\n        return;\r\n      }\r\n\r\n      // Sign out immediately - we only needed to verify identity\r\n      await supabase.auth.signOut();\r\n      setVerified(true);\r\n      toast({ title: t2.verifySuccess });\r\n    } catch {\r\n      toast({ title: t2.verifyFailed, variant: \"destructive\" });\r\n    } finally {\r\n      setIsVerifying(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!verified) return;\r\n    if (confirmText.toUpperCase() !== \"DELETE\") {\r\n      toast({ title: t2.confirmRequired, variant: \"destructive\" });\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const { error } = await supabase.from(\"feedback\").insert({\r\n        email: email.trim(),\r\n        reason: \"account_deletion_request\",\r\n        content: `Account deletion request (identity verified).\\nReason: ${reason || \"Not provided\"}`,\r\n        status: \"pending\",\r\n      });\r\n\r\n      if (error) throw error;\r\n      setSubmitted(true);\r\n    } catch {\r\n      toast({ title: t2.submitError, variant: \"destructive\" });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (submitted) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-12 max-w-lg\">\r\n        <Card>\r\n          <CardContent className=\"pt-6 text-center space-y-4\">\r\n            <CheckCircle className=\"h-16 w-16 text-primary mx-auto\" />\r\n            <h2 className=\"text-xl font-bold\">{t2.successTitle}</h2>\r\n            <p className=\"text-muted-foreground\">{t2.successMessage}</p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8 max-w-lg space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Trash2 className=\"h-5 w-5 text-destructive\" />\r\n            {t2.title}\r\n          </CardTitle>\r\n          <CardDescription>{t2.subtitle}</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {/* Warning */}\r\n          <div className=\"rounded-lg border border-destructive/50 bg-destructive/5 p-4 space-y-2\">\r\n            <div className=\"flex items-center gap-2 font-semibold text-destructive\">\r\n              <AlertTriangle className=\"h-4 w-4\" />\r\n              {t2.warningTitle}\r\n            </div>\r\n            <ul className=\"text-sm text-muted-foreground space-y-1 list-disc list-inside\">\r\n              {t2.warningItems.map((item, i) => (\r\n                <li key={i}>{item}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Data list */}\r\n          <div className=\"rounded-lg border p-4 space-y-2\">\r\n            <h4 className=\"font-semibold text-sm\">{t2.dataTitle}</h4>\r\n            <ul className=\"text-sm text-muted-foreground space-y-1 list-disc list-inside\">\r\n              {t2.dataItems.map((item, i) => (\r\n                <li key={i}>{item}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Step 1: Identity Verification */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <div className={`flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${verified ? 'bg-primary text-primary-foreground' : 'bg-muted text-muted-foreground'}`}>\r\n                {verified ? \"✓\" : \"1\"}\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-semibold text-sm\">{t2.stepVerify}</h4>\r\n                <p className=\"text-xs text-muted-foreground\">{t2.stepVerifyDesc}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {verified ? (\r\n              <div className=\"flex items-center gap-2 p-3 rounded-lg bg-primary/10 text-primary text-sm font-medium\">\r\n                <ShieldCheck className=\"h-4 w-4\" />\r\n                {t2.identityVerified}: {email}\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3 pl-8\">\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">{t2.emailLabel}</label>\r\n                  <Input\r\n                    type=\"email\"\r\n                    placeholder={t2.emailPlaceholder}\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">{t2.passwordLabel}</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    placeholder={t2.passwordPlaceholder}\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  onClick={handleVerify}\r\n                  disabled={isVerifying || !email.trim() || !password}\r\n                  className=\"w-full\"\r\n                >\r\n                  {isVerifying ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      {t2.verifying}\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <ShieldCheck className=\"h-4 w-4 mr-2\" />\r\n                      {t2.verifyButton}\r\n                    </>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Step 2: Confirm Deletion (only shown after verification) */}\r\n          {verified && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"flex items-center justify-center w-6 h-6 rounded-full bg-muted text-muted-foreground text-xs font-bold\">\r\n                  2\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-semibold text-sm\">{t2.stepDelete}</h4>\r\n                  <p className=\"text-xs text-muted-foreground\">{t2.stepDeleteDesc}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-3 pl-8\">\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">{t2.reasonLabel}</label>\r\n                  <Textarea\r\n                    placeholder={t2.reasonPlaceholder}\r\n                    value={reason}\r\n                    onChange={(e) => setReason(e.target.value)}\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"text-sm font-medium\">{t2.confirmLabel}</label>\r\n                  <p className=\"text-xs text-muted-foreground\">{t2.confirmHint}</p>\r\n                  <Input\r\n                    placeholder=\"DELETE\"\r\n                    value={confirmText}\r\n                    onChange={(e) => setConfirmText(e.target.value)}\r\n                  />\r\n                </div>\r\n\r\n                <Button\r\n                  variant=\"destructive\"\r\n                  className=\"w-full\"\r\n                  onClick={handleSubmit}\r\n                  disabled={isSubmitting || confirmText.toUpperCase() !== \"DELETE\"}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      {t2.submitting}\r\n                    </>\r\n                  ) : (\r\n                    t2.submitButton\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeleteAccountRequest;\r\n"],"names":["DeleteAccountRequest","i18n","useTranslation","email","setEmail","useState","password","setPassword","reason","setReason","confirmText","setConfirmText","isSubmitting","setIsSubmitting","isVerifying","setIsVerifying","verified","setVerified","submitted","setSubmitted","lang","texts","t2","handleVerify","toast","error","supabase","handleSubmit","jsx","Card","jsxs","CardContent","CheckCircle","CardHeader","CardTitle","Trash2","CardDescription","AlertTriangle","item","i","ShieldCheck","Input","e","Button","Fragment","Loader2","Textarea"],"mappings":"8VAUA,MAAMA,EAAuB,IAAM,CAC3B,KAAA,CAAE,KAAAC,GAASC,IACX,CAACC,EAAOC,CAAQ,EAAIC,WAAS,EAAE,EAC/B,CAACC,EAAUC,CAAW,EAAIF,WAAS,EAAE,EACrC,CAACG,EAAQC,CAAS,EAAIJ,WAAS,EAAE,EACjC,CAACK,EAAaC,CAAc,EAAIN,WAAS,EAAE,EAC3C,CAACO,EAAcC,CAAe,EAAIR,WAAS,EAAK,EAChD,CAACS,EAAaC,CAAc,EAAIV,WAAS,EAAK,EAC9C,CAACW,EAAUC,CAAW,EAAIZ,WAAS,EAAK,EACxC,CAACa,EAAWC,CAAY,EAAId,WAAS,EAAK,EAE1Ce,EAAOnB,EAAK,UAAU,WAAW,IAAI,EAAI,KAAOA,EAAK,UAAU,WAAW,IAAI,EAAI,KAAO,KAEzFoB,EAAQ,CACZ,GAAI,CACF,MAAO,SACP,SAAU,sBACV,WAAY,WACZ,eAAgB,oBAChB,WAAY,WACZ,eAAgB,iBAChB,WAAY,OACZ,iBAAkB,eAClB,cAAe,KACf,oBAAqB,YACrB,aAAc,OACd,UAAW,SACX,cAAe,SACf,aAAc,cACd,YAAa,WACb,kBAAmB,oBACnB,aAAc,OACd,YAAa,gBACb,aAAc,SACd,WAAY,SACZ,aAAc,QACd,eAAgB,iDAChB,aAAc,MACd,aAAc,CACZ,kBACA,iBACA,kBACA,eACA,SACF,EACA,UAAW,UACX,UAAW,CACT,mBACA,QACA,WACA,YACA,SACA,OACA,MACF,EACA,cAAe,UACf,iBAAkB,QAClB,gBAAiB,gBACjB,YAAa,aACb,iBAAkB,OACpB,EACA,GAAI,CACF,MAAO,mCACP,SAAU,6EACV,WAAY,gCACZ,eAAgB,0DAChB,WAAY,8BACZ,eAAgB,4DAChB,WAAY,oBACZ,iBAAkB,oCAClB,cAAe,QACf,oBAAqB,4BACrB,aAAc,uBACd,UAAW,iBACX,cAAe,oCACf,aAAc,8CACd,YAAa,gCACb,kBAAmB,+CACnB,aAAc,qBACd,YAAa,+BACb,aAAc,qBACd,WAAY,cACZ,aAAc,sBACd,eAAgB,8GAChB,aAAc,UACd,aAAc,CACZ,sDACA,2DACA,kDACA,8CACA,0BACF,EACA,UAAW,4BACX,UAAW,CACT,8CACA,yBACA,2BACA,gDACA,iBACA,0BACA,2BACF,EACA,cAAe,+BACf,iBAAkB,8BAClB,gBAAiB,0CACjB,YAAa,8CACb,iBAAkB,uBACpB,EACA,GAAI,CACF,MAAO,2BACP,SAAU,uEACV,WAAY,0BACZ,eAAgB,mEAChB,WAAY,2BACZ,eAAgB,yDAChB,WAAY,mBACZ,iBAAkB,wCAClB,cAAe,WACf,oBAAqB,4BACrB,aAAc,kBACd,UAAW,eACX,cAAe,iCACf,aAAc,gDACd,YAAa,iCACb,kBAAmB,iDACnB,aAAc,mBACd,YAAa,yBACb,aAAc,0BACd,WAAY,gBACZ,aAAc,oBACd,eAAgB,wHAChB,aAAc,cACd,aAAc,CACZ,sDACA,wDACA,gDACA,wCACA,6BACF,EACA,UAAW,4BACX,UAAW,CACT,+CACA,uBACA,uBACA,2CACA,mBACA,sBACA,sBACF,EACA,cAAe,0BACf,iBAAkB,6BAClB,gBAAiB,gCACjB,YAAa,4CACb,iBAAkB,mBACpB,CAAA,EAGIC,EAAKD,EAAMD,CAAI,GAAKC,EAAM,GAE1BE,EAAe,SAAY,CAC3B,GAAA,CAACpB,EAAM,OAAQ,CACjBqB,EAAM,CAAE,MAAOF,EAAG,cAAe,QAAS,cAAe,EACzD,MACF,CACA,GAAI,CAAChB,EAAU,CACbkB,EAAM,CAAE,MAAOF,EAAG,iBAAkB,QAAS,cAAe,EAC5D,MACF,CAEAP,EAAe,EAAI,EACf,GAAA,CACF,KAAM,CAAE,MAAAU,CAAM,EAAI,MAAMC,EAAS,KAAK,mBAAmB,CACvD,MAAOvB,EAAM,KAAK,EAClB,SAAAG,CAAA,CACD,EAED,GAAImB,EAAO,CACTD,EAAM,CAAE,MAAOF,EAAG,aAAc,QAAS,cAAe,EACxD,MACF,CAGM,MAAAI,EAAS,KAAK,UACpBT,EAAY,EAAI,EAChBO,EAAM,CAAE,MAAOF,EAAG,aAAe,CAAA,CAAA,MAC3B,CACNE,EAAM,CAAE,MAAOF,EAAG,aAAc,QAAS,cAAe,CAAA,QACxD,CACAP,EAAe,EAAK,CACtB,CAAA,EAGIY,EAAe,SAAY,CAC/B,GAAKX,EACD,IAAAN,EAAY,YAAY,IAAM,SAAU,CAC1Cc,EAAM,CAAE,MAAOF,EAAG,gBAAiB,QAAS,cAAe,EAC3D,MACF,CAEAT,EAAgB,EAAI,EAChB,GAAA,CACI,KAAA,CAAE,MAAAY,GAAU,MAAMC,EAAS,KAAK,UAAU,EAAE,OAAO,CACvD,MAAOvB,EAAM,KAAK,EAClB,OAAQ,2BACR,QAAS;AAAA,UAA0DK,GAAU,cAAc,GAC3F,OAAQ,SAAA,CACT,EAED,GAAIiB,EAAa,MAAAA,EACjBN,EAAa,EAAI,CAAA,MACX,CACNK,EAAM,CAAE,MAAOF,EAAG,YAAa,QAAS,cAAe,CAAA,QACvD,CACAT,EAAgB,EAAK,CACvB,EAAA,EAGF,OAAIK,EAEAU,EAAAA,IAAC,OAAI,UAAU,wCACb,eAACC,EACC,CAAA,SAAAC,EAAAA,KAACC,EAAY,CAAA,UAAU,6BACrB,SAAA,CAACH,EAAAA,IAAAI,EAAA,CAAY,UAAU,gCAAiC,CAAA,EACvDJ,EAAA,IAAA,KAAA,CAAG,UAAU,oBAAqB,WAAG,aAAa,EAClDA,EAAA,IAAA,IAAA,CAAE,UAAU,wBAAyB,WAAG,eAAe,CAAA,EAC1D,EACF,CACF,CAAA,EAKDA,EAAA,IAAA,MAAA,CAAI,UAAU,iDACb,gBAACC,EACC,CAAA,SAAA,CAAAC,OAACG,EACC,CAAA,SAAA,CAACH,EAAAA,KAAAI,EAAA,CAAU,UAAU,0BACnB,SAAA,CAACN,EAAAA,IAAAO,EAAA,CAAO,UAAU,0BAA2B,CAAA,EAC5Cb,EAAG,KAAA,EACN,EACAM,EAAAA,IAACQ,EAAiB,CAAA,SAAAd,EAAG,QAAS,CAAA,CAAA,EAChC,EACAQ,EAAAA,KAACC,EAAY,CAAA,UAAU,YAErB,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAI,UAAU,yEACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yDACb,SAAA,CAACF,EAAAA,IAAAS,EAAA,CAAc,UAAU,SAAU,CAAA,EAClCf,EAAG,YAAA,EACN,EACCM,MAAA,KAAA,CAAG,UAAU,gEACX,WAAG,aAAa,IAAI,CAACU,EAAMC,IACzBX,EAAAA,IAAA,KAAA,CAAY,SAAJU,GAAAC,CAAS,CACnB,EACH,CAAA,EACF,EAGAT,EAAAA,KAAC,MAAI,CAAA,UAAU,kCACb,SAAA,CAAAF,EAAA,IAAC,KAAG,CAAA,UAAU,wBAAyB,SAAAN,EAAG,UAAU,EACnDM,MAAA,KAAA,CAAG,UAAU,gEACX,WAAG,UAAU,IAAI,CAACU,EAAMC,IACtBX,EAAAA,IAAA,KAAA,CAAY,SAAJU,GAAAC,CAAS,CACnB,EACH,CAAA,EACF,EAGAT,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAW,2EAA2EZ,EAAW,qCAAuC,gCAAgC,GAC1K,SAAWA,EAAA,IAAM,GACpB,CAAA,SACC,MACC,CAAA,SAAA,CAAAY,EAAA,IAAC,KAAG,CAAA,UAAU,wBAAyB,SAAAN,EAAG,WAAW,EACpDM,EAAA,IAAA,IAAA,CAAE,UAAU,gCAAiC,WAAG,eAAe,CAAA,EAClE,CAAA,EACF,EAECZ,EACCc,EAAA,KAAC,MAAI,CAAA,UAAU,wFACb,SAAA,CAACF,EAAAA,IAAAY,EAAA,CAAY,UAAU,SAAU,CAAA,EAChClB,EAAG,iBAAiB,KAAGnB,CAAA,CAC1B,CAAA,EAEA2B,EAAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAAAF,EAAA,IAAC,QAAM,CAAA,UAAU,sBAAuB,SAAAN,EAAG,WAAW,EACtDM,EAAA,IAACa,EAAA,CACC,KAAK,QACL,YAAanB,EAAG,iBAChB,MAAOnB,EACP,SAAWuC,GAAMtC,EAASsC,EAAE,OAAO,KAAK,CAAA,CAC1C,CAAA,EACF,EACAZ,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAF,EAAA,IAAC,QAAM,CAAA,UAAU,sBAAuB,SAAAN,EAAG,cAAc,EACzDM,EAAA,IAACa,EAAA,CACC,KAAK,WACL,YAAanB,EAAG,oBAChB,MAAOhB,EACP,SAAWoC,GAAMnC,EAAYmC,EAAE,OAAO,KAAK,CAAA,CAC7C,CAAA,EACF,EACAd,EAAA,IAACe,EAAA,CACC,QAASpB,EACT,SAAUT,GAAe,CAACX,EAAM,KAAA,GAAU,CAACG,EAC3C,UAAU,SAET,WAEGwB,EAAAA,KAAAc,EAAA,SAAA,CAAA,SAAA,CAAChB,EAAAA,IAAAiB,EAAA,CAAQ,UAAU,2BAA4B,CAAA,EAC9CvB,EAAG,SAAA,CAAA,CACN,EAGEQ,EAAAA,KAAAc,EAAA,SAAA,CAAA,SAAA,CAAChB,EAAAA,IAAAY,EAAA,CAAY,UAAU,cAAe,CAAA,EACrClB,EAAG,YAAA,EACN,CAAA,CAEJ,CAAA,EACF,CAAA,EAEJ,EAGCN,GACCc,EAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,0BACb,SAAA,CAACF,EAAA,IAAA,MAAA,CAAI,UAAU,yGAAyG,SAExH,IAAA,SACC,MACC,CAAA,SAAA,CAAAA,EAAA,IAAC,KAAG,CAAA,UAAU,wBAAyB,SAAAN,EAAG,WAAW,EACpDM,EAAA,IAAA,IAAA,CAAE,UAAU,gCAAiC,WAAG,eAAe,CAAA,EAClE,CAAA,EACF,EAEAE,EAAAA,KAAC,MAAI,CAAA,UAAU,iBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,YACb,SAAA,CAAAF,EAAA,IAAC,QAAM,CAAA,UAAU,sBAAuB,SAAAN,EAAG,YAAY,EACvDM,EAAA,IAACkB,EAAA,CACC,YAAaxB,EAAG,kBAChB,MAAOd,EACP,SAAWkC,GAAMjC,EAAUiC,EAAE,OAAO,KAAK,EACzC,KAAM,CAAA,CACR,CAAA,EACF,EAEAZ,EAAAA,KAAC,MAAI,CAAA,UAAU,YACb,SAAA,CAAAF,EAAA,IAAC,QAAM,CAAA,UAAU,sBAAuB,SAAAN,EAAG,aAAa,EACvDM,EAAA,IAAA,IAAA,CAAE,UAAU,gCAAiC,WAAG,YAAY,EAC7DA,EAAA,IAACa,EAAA,CACC,YAAY,SACZ,MAAO/B,EACP,SAAWgC,GAAM/B,EAAe+B,EAAE,OAAO,KAAK,CAAA,CAChD,CAAA,EACF,EAEAd,EAAA,IAACe,EAAA,CACC,QAAQ,cACR,UAAU,SACV,QAAShB,EACT,SAAUf,GAAgBF,EAAY,YAAkB,IAAA,SAEvD,WAEGoB,EAAAA,KAAAc,EAAA,SAAA,CAAA,SAAA,CAAChB,EAAAA,IAAAiB,EAAA,CAAQ,UAAU,2BAA4B,CAAA,EAC9CvB,EAAG,UAAA,CACN,CAAA,EAEAA,EAAG,YAAA,CAEP,CAAA,EACF,CAAA,EACF,CAAA,EAEJ,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}