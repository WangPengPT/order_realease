import{s as Ge,q as xe,v as Fe,w as re,p as He,r as d,d5 as is,d6 as qe,j as e,bh as ne,aM as ve,d7 as ls,d8 as os,d9 as cs,da as ds,bM as De,db as ms,dc as ps,cW as us,X as W,dd as hs,de as xs,df as gs,dg as fs,a4 as js,bG as Ns,bK as vs,ba as be,ab as ye,a_ as he,y as bs,dh as ys,b1 as ws,b6 as we,am as Me,bf as _s}from"./vendor-react-DO-hMdHk.js";import{m as _e}from"./vendor-map-CvE3ASYw.js";import{s as v,u as Cs,C as O,p as ks,F as Is,$ as Ss,q as G,B as R,A as Ds,t as Fs,v as As,w as Es,x as Ts,y as Rs,I as p,i as Ps,f as zs,G as qs,D as Ms,W as $s,c as Ls,d as Us,e as Bs,T as Os,S as Gs,U as i,a8 as X}from"./index-KBuYVGMg.js";import{C as Y}from"./checkbox-vNkjNBMb.js";import{S as Hs}from"./switch-b8KdceRP.js";import{R as Ks,a as $e}from"./radio-group-BImDsiYO.js";import{T as Le,a as Ue,b as J,c as ee}from"./tabs-CHgu_pmy.js";import{i as A}from"./vendor-i18n-jtdHZIRR.js";import{R as Ce}from"./RichTextEditor-CvOgkLmp.js";import{N as Vs,O as D,P as ke,T as Be,U as Ie}from"./vendor-utils-Z4kpnli5.js";const Qs=t=>Ge({queryKey:["dish-images",t],queryFn:async()=>{const{data:c,error:a}=await v.from("restaurant_dish_images").select("*").eq("restaurant_id",t).order("sort_order",{ascending:!0});if(a)throw a;return c},enabled:!!t}),Ws=()=>{const{user:t}=Cs(),c=xe();return Fe({mutationFn:async({restaurantId:a,file:g})=>{if(!t)throw new Error("Must be logged in");const{data:f,error:h}=await v.from("restaurant_dish_images").select("id").eq("restaurant_id",a);if(h)throw h;if(f&&f.length>=10)throw new Error("MAX_IMAGES_REACHED");const u=g.name.split(".").pop(),b=`${a}/${Date.now()}-${Math.random().toString(36).substring(7)}.${u}`,{error:j}=await v.storage.from("dish-images").upload(b,g);if(j)throw j;const{data:{publicUrl:N}}=v.storage.from("dish-images").getPublicUrl(b),k=f?f.length:0,{data:_,error:w}=await v.from("restaurant_dish_images").insert({restaurant_id:a,image_url:N,sort_order:k,created_by:t.id}).select().single();if(w)throw w;return _},onSuccess:(a,g)=>{c.invalidateQueries({queryKey:["dish-images",g.restaurantId]}),re.success(A.t("dishImages.uploadSuccess"))},onError:a=>{a.message==="MAX_IMAGES_REACHED"?re.error(A.t("dishImages.maxImagesReached")):re.error(A.t("dishImages.uploadFailed"))}})},Zs=()=>{const t=xe();return Fe({mutationFn:async({imageId:c,restaurantId:a,imageUrl:g})=>{const f=g.split("/dish-images/");f[1]&&await v.storage.from("dish-images").remove([f[1]]);const{error:h}=await v.from("restaurant_dish_images").delete().eq("id",c);if(h)throw h;return{restaurantId:a}},onSuccess:c=>{t.invalidateQueries({queryKey:["dish-images",c.restaurantId]}),re.success(A.t("dishImages.deleteSuccess"))},onError:()=>{re.error(A.t("dishImages.deleteFailed"))}})},Xs=()=>{const t=xe();return Fe({mutationFn:async({images:c,restaurantId:a})=>{const g=c.map(f=>v.from("restaurant_dish_images").update({sort_order:f.sort_order}).eq("id",f.id));return await Promise.all(g),{restaurantId:a}},onSuccess:c=>{t.invalidateQueries({queryKey:["dish-images",c.restaurantId]})}})};function Ys({image:t,index:c,onDelete:a}){const{attributes:g,listeners:f,setNodeRef:h,transform:u,transition:b,isDragging:j}=ms({id:t.id}),N={transform:ps.Transform.toString(u),transition:b,zIndex:j?10:1,opacity:j?.8:1};return e.jsxs("div",{ref:h,style:N,className:`relative group aspect-square rounded-lg overflow-hidden border ${j?"ring-2 ring-primary shadow-lg":""}`,children:[e.jsx("div",{...g,...f,className:"absolute top-1 left-1 z-10 p-1 bg-black/60 rounded cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(us,{className:"w-4 h-4 text-white"})}),e.jsx("img",{src:t.image_url,alt:`Dish ${c+1}`,className:"w-full h-full object-cover",draggable:!1}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(R,{type:"button",variant:"destructive",size:"icon",className:"h-8 w-8",onClick:k=>{k.preventDefault(),k.stopPropagation(),a(t.id,t.image_url)},children:e.jsx(W,{className:"w-4 h-4"})})}),e.jsx("div",{className:"absolute bottom-1 right-1 bg-black/60 text-white text-xs px-1.5 py-0.5 rounded",children:c+1})]})}function Js({restaurantId:t}){const{t:c}=He(),a=d.useRef(null),{data:g=[],isLoading:f}=Qs(t),h=Ws(),u=Zs(),b=Xs(),[j,N]=d.useState(null),[k,_]=d.useState([]),[w,P]=d.useState(!1),o=k.length>0?k:g,F=is(qe(gs,{activationConstraint:{distance:8}}),qe(xs,{coordinateGetter:hs})),se=m=>{const{active:E,over:M}=m;if(M&&E.id!==M.id){const Z=o.findIndex(V=>V.id===E.id),oe=o.findIndex(V=>V.id===M.id),ce=fs(o,Z,oe);_(ce);const de=ce.map((V,me)=>({id:V.id,sort_order:me}));b.mutate({images:de,restaurantId:t},{onSuccess:()=>{_([])},onError:()=>{_([])}})}},ae=async m=>{const E=m.target.files?.[0];E&&(E.size>5*1024*1024||E.type.startsWith("image/")&&(await h.mutateAsync({restaurantId:t,file:E}),a.current&&(a.current.value="")))},ie=async()=>{if(!j||w)return;const{id:m,url:E}=j;P(!0);try{await u.mutateAsync({imageId:m,restaurantId:t,imageUrl:E}),N(null)}catch(M){console.error("Delete failed:",M)}finally{P(!1)}},le=m=>{!m&&!w&&N(null)},te=o.length<10;return e.jsxs(O,{children:[e.jsxs(ks,{className:"pb-3",children:[e.jsxs(Is,{className:"text-lg flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"}),c("dishImages.title")]}),e.jsxs(Ss,{children:[c("dishImages.description",{current:o.length,max:10}),o.length>1&&e.jsx("span",{className:"block mt-1 text-xs",children:c("dishImages.dragToReorder")})]})]}),e.jsxs(G,{children:[f?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ve,{className:"w-6 h-6 animate-spin"})}):e.jsxs("div",{className:"space-y-4",children:[o.length>0&&e.jsx(ls,{sensors:F,collisionDetection:os,onDragEnd:se,children:e.jsx(cs,{items:o.map(m=>m.id),strategy:ds,children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:o.map((m,E)=>e.jsx(Ys,{image:m,index:E,onDelete:(M,Z)=>N({id:M,url:Z})},m.id))})})}),te&&e.jsxs("div",{children:[e.jsx("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:ae,disabled:h.isPending}),e.jsxs(R,{type:"button",variant:"outline",className:"w-full",onClick:()=>a.current?.click(),disabled:h.isPending,children:[h.isPending?e.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(De,{className:"w-4 h-4 mr-2"}),c("dishImages.upload")]})]}),!te&&e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:c("dishImages.maxReached")})]}),e.jsx(Ds,{open:!!j,onOpenChange:le,children:e.jsx(Fs,{onClick:m=>m.stopPropagation(),onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),m.stopPropagation())},children:e.jsxs("form",{onSubmit:m=>m.preventDefault(),children:[e.jsxs(As,{children:[e.jsx(Es,{children:c("dishImages.deleteConfirmTitle")}),e.jsx(Ts,{children:c("dishImages.deleteConfirmDescription")})]}),e.jsxs(Rs,{className:"mt-4",children:[e.jsx(R,{type:"button",variant:"outline",onClick:m=>{m.preventDefault(),m.stopPropagation(),w||N(null)},disabled:w,children:c("common.cancel")}),e.jsxs(R,{type:"button",variant:"destructive",onClick:m=>{m.preventDefault(),m.stopPropagation(),ie()},disabled:w,children:[w?e.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}):null,c("common.delete")]})]})]})})})]})]})}function Se({value:t,onChange:c,suggestions:a,placeholder:g,className:f}){const[h,u]=d.useState(!1),[b,j]=d.useState(t),N=d.useRef(null),k=d.useRef(null),_=a.filter(o=>o.toLowerCase().includes(b.toLowerCase()));d.useEffect(()=>{j(t)},[t]),d.useEffect(()=>{const o=F=>{k.current&&!k.current.contains(F.target)&&N.current&&!N.current.contains(F.target)&&u(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const w=o=>{const F=o.target.value;j(F),c(F),u(!0)},P=o=>{j(o),c(o),u(!1),N.current?.focus()};return e.jsxs("div",{className:"relative",children:[e.jsx(p,{ref:N,value:b,onChange:w,onFocus:()=>u(!0),placeholder:g,className:f}),h&&_.length>0&&e.jsx("div",{ref:k,className:"absolute z-50 mt-1 w-full max-h-48 overflow-auto rounded-md border bg-popover p-1 shadow-md",children:_.map(o=>e.jsxs("div",{onClick:()=>P(o),className:Ps("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",o===b&&"bg-accent"),children:[o===b&&e.jsx(js,{className:"mr-2 h-4 w-4"}),e.jsx("span",{className:o===b?"":"pl-6",children:o})]},o))})]})}const ea=()=>Ge({queryKey:["all-restaurant-types"],queryFn:async()=>{const{data:t,error:c}=await v.from("restaurants").select("type, type_en, type_pt");if(c)throw c;const a=new Map;t.forEach(u=>{const b=u.type||[],j=u.type_en||[],N=u.type_pt||[],k=Math.max(b.length,j.length,N.length);for(let _=0;_<k;_++){const w=b[_]||"",P=j[_]||"",o=N[_]||"",F=`${w}|${P}|${o}`;(w||P||o)&&(a.has(F)||a.set(F,{zh:w,en:P,pt:o}))}});const g=new Set,f=new Set,h=new Set;return a.forEach(u=>{u.zh&&g.add(u.zh),u.en&&f.add(u.en),u.pt&&h.add(u.pt)}),{typeSets:Array.from(a.values()),uniqueZh:Array.from(g).sort(),uniqueEn:Array.from(f).sort(),uniquePt:Array.from(h).sort()}}}),sa=Vs({name:D().min(1,A.t("validation.nameRequired")),name_en:D().min(1,A.t("validation.nameRequired")),name_pt:D().min(1,A.t("validation.nameRequired")),key_id:D().optional(),type:ke(D()).min(1,A.t("validation.typeRequired")).max(3,A.t("validation.typeMaximum")),type_en:ke(D()).min(1,A.t("validation.typeRequired")).max(3,A.t("validation.typeMaximum")),type_pt:ke(D()).min(1,A.t("validation.typeRequired")).max(3,A.t("validation.typeMaximum")),description:D().optional(),description_en:D().optional(),description_pt:D().optional(),announcement_zh:D().optional(),announcement_en:D().optional(),announcement_pt:D().optional(),address:D().min(1,A.t("validation.addressRequired")),lat:Be(),lng:Be(),phone:D().optional(),website_url:D().optional(),visible:Ie().default(!0),show_takeaway_button:Ie().default(!0),show_booking_button:Ie().default(!0)}),Oe=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function ua({restaurant:t,trigger:c}){const{t:a}=He(),{toast:g}=zs(),f=xe(),{isAdmin:h}=qs(),{data:u}=ea(),[b,j]=d.useState(!1),[N,k]=d.useState(null),[_,w]=d.useState(t?.image_url||null),[P,o]=d.useState(null),[F,se]=d.useState(t?.cover_image_url||null),[ae,ie]=d.useState(null),[le,te]=d.useState(t?.owner_avatar_url||null),[m,E]=d.useState(null),[M,Z]=d.useState(t?.banner_url||null),[oe,ce]=d.useState(t?.owner_bio||""),[de,V]=d.useState(t?.owner_bio_en||""),[me,Ke]=d.useState(t?.owner_bio_pt||""),[Ae,Ee]=d.useState(!1),pe=d.useRef(null),I=d.useRef(null),Q=d.useRef(null),[r,S]=d.useState(()=>{const s={};return Oe.forEach(n=>{s[n]={open:"12:00",close:"23:00",closed:!1,splitShift:!1,open2:"19:00",close2:"23:00"}}),t?.opening_hours?{...s,...t.opening_hours}:s}),[$,ge]=d.useState(t?.template||"default"),[L,fe]=d.useState(()=>t?.type&&Array.isArray(t.type)?t.type.map((s,n)=>({zh:s,en:t.type_en?.[n]||"",pt:t.type_pt?.[n]||""})):[{zh:"",en:"",pt:""}]),{register:z,handleSubmit:Te,formState:{errors:y},setValue:T,watch:H,trigger:aa}=Ns({resolver:vs(sa),defaultValues:t?{name:t.name,name_en:t.name_en||"",name_pt:t.name_pt||"",key_id:t.key_id||"",type:Array.isArray(t.type)?t.type:[t.type],type_en:Array.isArray(t.type_en)?t.type_en:t.type_en?[t.type_en]:[""],type_pt:Array.isArray(t.type_pt)?t.type_pt:t.type_pt?[t.type_pt]:[""],description:t.description||"",description_en:t.description_en||"",description_pt:t.description_pt||"",announcement_zh:t.announcement_zh||"",announcement_en:t.announcement_en||"",announcement_pt:t.announcement_pt||"",address:t.address,lat:typeof t.lat=="number"&&!isNaN(t.lat)?t.lat:38.7223,lng:typeof t.lng=="number"&&!isNaN(t.lng)?t.lng:-9.1393,phone:t.phone||"",website_url:t.website_url||"",visible:t.visible??!0,show_takeaway_button:t.show_takeaway_button??!0,show_booking_button:t.show_booking_button??!0}:{name:"",name_en:"",name_pt:"",key_id:"",type:[""],type_en:[""],type_pt:[""],description:"",description_en:"",description_pt:"",announcement_zh:"",announcement_en:"",announcement_pt:"",address:"",lat:38.7223,lng:-9.1393,phone:"",website_url:"",visible:!0,show_takeaway_button:!0,show_booking_button:!0}}),Ve=()=>{const s=[];y.name&&s.push(a("admin.fieldName")+" (ä¸­æ–‡)"),y.name_en&&s.push(a("admin.fieldName")+" (EN)"),y.name_pt&&s.push(a("admin.fieldName")+" (PT)"),y.type&&s.push(a("admin.fieldType")+" (ä¸­æ–‡)"),y.type_en&&s.push(a("admin.fieldType")+" (EN)"),y.type_pt&&s.push(a("admin.fieldType")+" (PT)"),y.address&&s.push(a("admin.fieldAddress")),(y.lat||y.lng)&&s.push(a("admin.fieldLocation")),s.length>0&&g({title:a("admin.validationFailed"),description:a("admin.missingFields")+": "+s.join(", "),variant:"destructive"})},Qe=()=>{L.length<3&&fe([...L,{zh:"",en:"",pt:""}])},We=s=>{L.length>1&&fe(L.filter((n,l)=>l!==s))},je=(s,n,l)=>{const x=[...L];x[s][n]=l,fe(x),T("type",x.map(C=>C.zh).filter(Boolean)),T("type_en",x.map(C=>C.en).filter(Boolean)),T("type_pt",x.map(C=>C.pt).filter(Boolean))},U=H("lat"),B=H("lng"),Ze=H("visible"),Xe=H("show_takeaway_button"),Ye=H("show_booking_button"),ue=(s,n)=>typeof s=="number"&&typeof n=="number"&&!isNaN(s)&&!isNaN(n)&&isFinite(s)&&isFinite(n);d.useEffect(()=>{if(!b){I.current&&(I.current.remove(),I.current=null,Q.current=null);return}if(I.current)return;const s="pk.eyJ1IjoieGlhb3hpb25nMTIzIiwiYSI6ImNtNTFjOXliYjF1Y2IyaXM4bnNzMGxvdnkifQ.mPcWqH7ndIrjEqlWIJVk8g",l=setTimeout(()=>{if(!pe.current){console.error("Map container not found");return}try{_e.accessToken=s;const x=ue(U,B)?B:-9.1393,C=ue(U,B)?U:38.7223;I.current=new _e.Map({container:pe.current,style:"mapbox://styles/mapbox/light-v11",center:[x,C],zoom:15}),I.current.scrollZoom.disable(),I.current.on("load",()=>{I.current&&(ue(U,B)&&(Q.current=new _e.Marker({draggable:!0}).setLngLat([B,U]).addTo(I.current)),Q.current.on("dragend",()=>{const q=Q.current.getLngLat();T("lng",q.lng),T("lat",q.lat)}),setTimeout(()=>{I.current?.resize()},100))});const Ne=q=>{q.ctrlKey||q.metaKey?I.current?.scrollZoom.enable():I.current?.scrollZoom.disable()};pe.current.addEventListener("wheel",Ne),I.current.on("click",q=>{const{lng:K,lat:ze}=q.lngLat;T("lng",K),T("lat",ze),Q.current?.setLngLat([K,ze])}),I.current.on("error",q=>{console.error("Map error:",q)})}catch(x){console.error("Failed to initialize map:",x)}},500);return()=>{clearTimeout(l)}},[b,U,B]),d.useEffect(()=>{Q.current&&I.current&&ue(U,B)&&(Q.current.setLngLat([B,U]),I.current.setCenter([B,U]))},[U,B]);const Je=s=>{const n=s.target.files?.[0];if(n){k(n);const l=new FileReader;l.onloadend=()=>{w(l.result)},l.readAsDataURL(n)}},Re=s=>{const n=s.target.files?.[0];if(n){o(n);const l=new FileReader;l.onloadend=()=>{se(l.result)},l.readAsDataURL(n)}},es=s=>{const n=s.target.files?.[0];if(n){ie(n);const l=new FileReader;l.onloadend=()=>{te(l.result)},l.readAsDataURL(n)}},ss=s=>{const n=s.target.files?.[0];if(n){E(n);const l=new FileReader;l.onloadend=()=>{Z(l.result)},l.readAsDataURL(n)}},as=async()=>{if(!N)return t?.image_url||null;const s=N.name.split(".").pop(),l=`${`${Math.random()}.${s}`}`,{error:x}=await v.storage.from("restaurant-images").upload(l,N);if(x)throw x;const{data:{publicUrl:C}}=v.storage.from("restaurant-images").getPublicUrl(l);return C},ts=async()=>{if(!P)return t?.cover_image_url||null;const s=P.name.split(".").pop(),l=`${`cover_${Math.random()}.${s}`}`,{error:x}=await v.storage.from("restaurant-images").upload(l,P);if(x)throw x;const{data:{publicUrl:C}}=v.storage.from("restaurant-images").getPublicUrl(l);return C},ns=async()=>{if(!ae)return t?.owner_avatar_url||null;const s=ae.name.split(".").pop(),l=`${`owner_${Math.random()}.${s}`}`,{error:x}=await v.storage.from("restaurant-images").upload(l,ae);if(x)throw x;const{data:{publicUrl:C}}=v.storage.from("restaurant-images").getPublicUrl(l);return C},rs=async()=>{if(!m)return t?.banner_url||null;const s=m.name.split(".").pop(),l=`${`banner_${Math.random()}.${s}`}`,{error:x}=await v.storage.from("restaurant-images").upload(l,m);if(x)throw x;const{data:{publicUrl:C}}=v.storage.from("restaurant-images").getPublicUrl(l);return C},Pe=async s=>{Ee(!0);try{const{data:{user:n}}=await v.auth.getUser();if(!n)throw new Error("Not authenticated");const l=await as(),x=await ts(),C=await ns(),Ne=await rs(),q={name:s.name,name_en:s.name_en,name_pt:s.name_pt,key_id:s.key_id||null,type:s.type,type_en:s.type_en,type_pt:s.type_pt,description:s.description||null,description_en:s.description_en||null,description_pt:s.description_pt||null,announcement_zh:s.announcement_zh||null,announcement_en:s.announcement_en||null,announcement_pt:s.announcement_pt||null,address:s.address,lat:$==="ghost"?s.lat||38.7223:s.lat,lng:$==="ghost"?s.lng||-9.1393:s.lng,phone:s.phone||null,website_url:s.website_url||null,visible:s.visible,show_takeaway_button:s.show_takeaway_button,show_booking_button:$==="ghost"?!1:s.show_booking_button,image_url:l,cover_image_url:x,opening_hours:$==="ghost"?null:r,template:$,owner_avatar_url:C,banner_url:Ne,owner_bio:oe||null,owner_bio_en:de||null,owner_bio_pt:me||null};if(t){const{error:K}=await v.from("restaurants").update({...q,updated_by:n.id}).eq("id",t.id);if(K)throw K;g({title:a("common.success"),description:a("admin.restaurantUpdated")})}else{const{error:K}=await v.from("restaurants").insert([{...q,created_by:n.id}]);if(K)throw K;g({title:a("common.success"),description:a("admin.restaurantCreated")})}f.invalidateQueries({queryKey:["restaurants"]}),j(!1)}catch(n){g({title:a("common.error"),description:n.message,variant:"destructive"})}finally{Ee(!1)}};return e.jsxs(Ms,{open:b,onOpenChange:j,children:[e.jsx($s,{asChild:!0,children:c}),e.jsxs(Ls,{className:"max-w-[95vw] sm:max-w-6xl max-h-[95vh] overflow-hidden flex flex-col p-0",children:[e.jsxs(Us,{className:"px-6 pt-6 pb-4 border-b bg-muted/30",children:[e.jsxs(Bs,{className:"text-2xl flex items-center gap-2",children:[e.jsx(be,{className:"w-6 h-6 text-primary"}),a(t?"admin.editRestaurant":"admin.addRestaurant")]}),e.jsx(Os,{className:"text-base",children:a(t?"admin.editRestaurantDetails":"admin.createRestaurantWithInfo")})]}),e.jsx(Gs,{className:"px-6 h-[calc(95vh-220px)]",children:e.jsxs("form",{onSubmit:Te(Pe,Ve),className:"space-y-6 py-6",children:[e.jsx(O,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-background",children:e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(ye,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(i,{className:"text-base font-semibold",children:a("admin.frontendDisplay")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.frontendDisplayDesc")})]})]}),e.jsx(Hs,{checked:Ze,onCheckedChange:s=>T("visible",s)})]})})}),e.jsx(O,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/20",children:e.jsxs(G,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(be,{className:"w-5 h-5 text-primary"}),a("admin.restaurantTemplate")]}),e.jsxs(Ks,{value:$,onValueChange:ge,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>ge("default"),children:[e.jsx($e,{value:"default",id:"template-default",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"template-default",className:"text-sm font-medium cursor-pointer",children:a("admin.templateDefault")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a("admin.templateDefaultDesc")})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg border border-border hover:border-primary/50 transition-colors cursor-pointer",onClick:()=>ge("ghost"),children:[e.jsx($e,{value:"ghost",id:"template-ghost",className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"template-ghost",className:"text-sm font-medium cursor-pointer",children:a("admin.templateGhost")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a("admin.templateGhostDesc")})]})]})]})]})}),e.jsx(O,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/20",children:e.jsxs(G,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(De,{className:"w-5 h-5 text-primary"}),a("admin.restaurantImages")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:a("admin.cardImage")}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",a("admin.cardImageHint"),")"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[_&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:_,alt:"Card Preview",className:"w-32 h-32 object-cover rounded-lg shadow-lg ring-2 ring-primary/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(R,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{k(null),w(null)},children:e.jsx(W,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-primary/30 rounded-lg hover:border-primary hover:bg-primary/5 transition-all duration-200",children:[e.jsx(De,{className:"h-6 w-6 text-primary"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-xs",children:a("admin.uploadImage")})})]}),e.jsx(p,{id:"image-upload",type:"file",accept:"image/*",className:"hidden",onChange:Je})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:a("admin.coverImage")}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",a("admin.coverImageHint"),")"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[F&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:F,alt:"Cover Preview",className:"w-32 h-32 object-cover rounded-lg shadow-lg ring-2 ring-accent/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(R,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{o(null),se(null)},children:e.jsx(W,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"cover-image-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-accent/30 rounded-lg hover:border-accent hover:bg-accent/5 transition-all duration-200",children:[e.jsx(ne,{className:"h-6 w-6 text-accent"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-xs",children:a("admin.uploadImage")})})]}),e.jsx(p,{id:"cover-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:Re})]})]})]})]})]})}),t?.id&&e.jsx(O,{className:"border-primary/20",children:e.jsxs(G,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-primary"}),a("admin.dishGallery")]})}),e.jsx(Js,{restaurantId:t.id})]})}),e.jsx(O,{className:"border-primary/20",children:e.jsxs(G,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(ye,{className:"w-5 h-5 text-primary"}),a("admin.multilingualContent")]}),e.jsxs(Le,{defaultValue:"zh",className:"w-full",children:[e.jsxs(Ue,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(J,{value:"zh",className:"gap-2",children:["ðŸ‡¨ðŸ‡³ ",a("admin.chinese")]}),e.jsxs(J,{value:"en",className:"gap-2",children:["ðŸ‡¬ðŸ‡§ ",a("admin.english")]}),e.jsxs(J,{value:"pt",className:"gap-2",children:["ðŸ‡µðŸ‡¹ ",a("admin.portuguese")]})]}),e.jsxs(ee,{value:"zh",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",className:"text-sm font-medium",children:a("admin.restaurantName")}),e.jsx(p,{id:"name",...z("name"),placeholder:a("admin.enterRestaurantName"),className:"text-base"}),y.name&&e.jsx("p",{className:"text-sm text-destructive",children:y.name.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{className:"text-sm font-medium",children:a("admin.restaurantType")}),L.length<3&&e.jsx(R,{type:"button",variant:"outline",size:"sm",onClick:Qe,children:a("admin.addType")})]}),L.map((s,n)=>e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(Se,{placeholder:a("admin.typeExample"),value:s.zh,onChange:l=>je(n,"zh",l),suggestions:u?.uniqueZh||[]}),e.jsx(R,{type:"button",variant:"ghost",size:"icon",onClick:()=>We(n),disabled:L.length===1,children:e.jsx(W,{className:"h-4 w-4"})})]},n)),y.type&&e.jsx("p",{className:"text-sm text-destructive",children:y.type.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",className:"text-sm font-medium",children:a("admin.description")}),e.jsx(Ce,{value:H("description")||"",onChange:s=>T("description",s),placeholder:a("admin.enterDescription")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"announcement_zh",className:"text-sm font-medium",children:a("admin.announcement")}),e.jsx(X,{id:"announcement_zh",...z("announcement_zh"),rows:2,placeholder:a("admin.enterAnnouncement")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.announcementHint")})]})]}),e.jsxs(ee,{value:"en",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name_en",className:"text-sm font-medium",children:"Restaurant Name"}),e.jsx(p,{id:"name_en",...z("name_en"),placeholder:"Enter restaurant name...",className:"text-base"}),y.name_en&&e.jsx("p",{className:"text-sm text-destructive",children:y.name_en.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{className:"text-sm font-medium",children:"Restaurant Types (1-3 tags)"}),L.map((s,n)=>e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(Se,{placeholder:"e.g. Cantonese",value:s.en,onChange:l=>je(n,"en",l),suggestions:u?.uniqueEn||[]})},n))]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description_en",className:"text-sm font-medium",children:"Description"}),e.jsx(Ce,{value:H("description_en")||"",onChange:s=>T("description_en",s),placeholder:"Enter restaurant description..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"announcement_en",className:"text-sm font-medium",children:"Announcement"}),e.jsx(X,{id:"announcement_en",...z("announcement_en"),rows:2,placeholder:"Enter announcement (optional)..."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Display important notices at top of restaurant page"})]})]}),e.jsxs(ee,{value:"pt",className:"space-y-4 mt-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name_pt",className:"text-sm font-medium",children:"Nome do Restaurante"}),e.jsx(p,{id:"name_pt",...z("name_pt"),placeholder:"Digite o nome do restaurante...",className:"text-base"}),y.name_pt&&e.jsx("p",{className:"text-sm text-destructive",children:y.name_pt.message})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{className:"text-sm font-medium",children:"Tipos de Restaurante (1-3 tags)"}),L.map((s,n)=>e.jsx("div",{className:"flex gap-2 items-center",children:e.jsx(Se,{placeholder:"ex: Cantonesa",value:s.pt,onChange:l=>je(n,"pt",l),suggestions:u?.uniquePt||[]})},n))]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description_pt",className:"text-sm font-medium",children:"DescriÃ§Ã£o"}),e.jsx(Ce,{value:H("description_pt")||"",onChange:s=>T("description_pt",s),placeholder:"Digite a descriÃ§Ã£o do restaurante..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"announcement_pt",className:"text-sm font-medium",children:"AnÃºncio"}),e.jsx(X,{id:"announcement_pt",...z("announcement_pt"),rows:2,placeholder:"Digite o anÃºncio (opcional)..."}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Exibir avisos importantes no topo da pÃ¡gina do restaurante"})]})]})]})]})}),e.jsx(O,{className:"border-primary/20",children:e.jsxs(G,{className:"p-6 space-y-4",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-primary"}),a("admin.locationAndContact")]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"address",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),a("admin.address")]}),e.jsx(p,{id:"address",...z("address"),placeholder:a("admin.enterAddress")}),y.address&&e.jsx("p",{className:"text-sm text-destructive",children:y.address.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"phone",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(bs,{className:"w-4 h-4"}),a("admin.phone")]}),e.jsx(p,{id:"phone",...z("phone"),placeholder:"+351..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"website_url",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ye,{className:"w-4 h-4"}),a("admin.websiteBaseUrl")]}),e.jsx(p,{id:"website_url",...z("website_url"),placeholder:"https://sushi.xiaoxiong.pt:6000",readOnly:!h,disabled:!h,className:h?"":"bg-muted cursor-not-allowed"}),!h&&e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.websiteReadOnly")})]}),h&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"key_id",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ys,{className:"w-4 h-4"}),"Key ID (API)"]}),e.jsx(p,{id:"key_id",...z("key_id"),placeholder:"ä¾‹å¦‚: saldanha01"})]})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsx(i,{className:"text-sm font-medium text-muted-foreground",children:a("admin.displaySettings")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border bg-muted/30",children:[e.jsx(Y,{id:"show_takeaway_button",checked:Xe,onCheckedChange:s=>T("show_takeaway_button",s)}),e.jsxs(i,{htmlFor:"show_takeaway_button",className:"cursor-pointer text-sm flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),a("admin.showTakeawayButton")]})]}),$!=="ghost"&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border bg-muted/30",children:[e.jsx(Y,{id:"show_booking_button",checked:Ye,onCheckedChange:s=>T("show_booking_button",s)}),e.jsxs(i,{htmlFor:"show_booking_button",className:"cursor-pointer text-sm flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),a("admin.showBookingButton")]})]})]})]})]})}),$==="ghost"&&e.jsx(O,{className:"border-primary/20 bg-gradient-to-br from-background to-muted/20",children:e.jsxs(G,{className:"p-6",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2 mb-4",children:[e.jsx(Me,{className:"w-5 h-5 text-primary"}),a("admin.ghostTemplateNote")]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:a("admin.bannerImage","æ¨ªå¹…å›¾ç‰‡")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.bannerImageDesc","æ­¤å›¾ç‰‡å°†æ˜¾ç¤ºåœ¨é¡µé¢é¡¶éƒ¨ä½œä¸ºæ¨ªå¹…èƒŒæ™¯ï¼Œå»ºè®®ä½¿ç”¨å®½å¹…å›¾ç‰‡")}),e.jsxs("div",{className:"flex items-start gap-4",children:[M&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:M,alt:"Banner Preview",className:"w-40 h-16 object-cover rounded-lg shadow-lg ring-2 ring-primary/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(R,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity rounded-full",onClick:()=>{E(null),Z(null)},children:e.jsx(W,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"ghost-banner-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-primary/30 rounded-lg hover:border-primary hover:bg-primary/5 transition-all duration-200",children:[e.jsx(ne,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-xs",children:a("admin.uploadImage")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["21:9 / 16:9 ",a("admin.recommended","æŽ¨è")]})]})]}),e.jsx(p,{id:"ghost-banner-upload",type:"file",accept:"image/*",className:"hidden",onChange:ss})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:a("admin.foodImage","ç¾Žé£Ÿå›¾ç‰‡")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.foodImageDesc","æ­¤å›¾ç‰‡å°†æ˜¾ç¤ºåœ¨è¯¦æƒ…é¡µå·¦ä¾§ï¼Œçªå‡ºå±•ç¤ºæ‚¨çš„æ‹›ç‰Œç¾Žé£Ÿ")}),e.jsxs("div",{className:"flex items-start gap-4",children:[F&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:F,alt:"Food Image Preview",className:"w-32 h-24 object-cover rounded-lg shadow-lg ring-2 ring-primary/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(R,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity rounded-full",onClick:()=>{o(null),se(null)},children:e.jsx(W,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"ghost-cover-image-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-primary/30 rounded-lg hover:border-primary hover:bg-primary/5 transition-all duration-200",children:[e.jsx(we,{className:"h-6 w-6 text-primary"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"font-medium text-xs",children:a("admin.uploadImage")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["16:9 ",a("admin.recommended","æŽ¨è")]})]})]}),e.jsx(p,{id:"ghost-cover-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:Re})]})]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-medium",children:a("admin.ownerAvatar")})}),e.jsxs("div",{className:"flex items-center gap-4",children:[le&&e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:le,alt:"Owner Avatar Preview",className:"w-20 h-20 object-cover rounded-full shadow-lg ring-2 ring-primary/20 transition-transform duration-200 group-hover:scale-105"}),e.jsx(R,{type:"button",variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity rounded-full",onClick:()=>{ie(null),te(null)},children:e.jsx(W,{className:"h-3 w-3"})})]}),e.jsxs(i,{htmlFor:"owner-avatar-upload",className:"cursor-pointer",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 px-6 py-4 border-2 border-dashed border-primary/30 rounded-lg hover:border-primary hover:bg-primary/5 transition-all duration-200",children:[e.jsx(Me,{className:"h-6 w-6 text-primary"}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"font-medium text-xs",children:a("admin.uploadImage")})})]}),e.jsx(p,{id:"owner-avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:es})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{className:"text-sm font-medium",children:a("admin.ownerBio")}),e.jsxs(Le,{defaultValue:"zh",className:"w-full",children:[e.jsxs(Ue,{className:"grid w-full grid-cols-3 mb-4",children:[e.jsx(J,{value:"zh",className:"gap-2 text-xs",children:"ðŸ‡¨ðŸ‡³ ä¸­æ–‡"}),e.jsx(J,{value:"en",className:"gap-2 text-xs",children:"ðŸ‡¬ðŸ‡§ EN"}),e.jsx(J,{value:"pt",className:"gap-2 text-xs",children:"ðŸ‡µðŸ‡¹ PT"})]}),e.jsx(ee,{value:"zh",children:e.jsx(X,{value:oe,onChange:s=>ce(s.target.value),rows:4,placeholder:a("admin.ownerBioPlaceholder")})}),e.jsx(ee,{value:"en",children:e.jsx(X,{value:de,onChange:s=>V(s.target.value),rows:4,placeholder:"Share your story, philosophy and culinary passion..."})}),e.jsx(ee,{value:"pt",children:e.jsx(X,{value:me,onChange:s=>Ke(s.target.value),rows:4,placeholder:"Compartilhe sua histÃ³ria, filosofia e paixÃ£o culinÃ¡ria..."})})]})]})]})}),$!=="ghost"&&e.jsx(O,{className:"border-primary/20",children:e.jsxs(G,{className:"p-6 space-y-4",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5 text-primary"}),a("admin.location")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lat",className:"text-sm font-medium",children:a("admin.latitude")}),e.jsx(p,{id:"lat",type:"number",step:"any",...z("lat",{valueAsNumber:!0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lng",className:"text-sm font-medium",children:a("admin.longitude")}),e.jsx(p,{id:"lng",type:"number",step:"any",...z("lng",{valueAsNumber:!0})})]})]}),e.jsx("div",{ref:pe,className:"h-96 w-full rounded-lg border-2 border-primary/20 shadow-sm",style:{minHeight:"384px"}}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4"}),a("admin.clickOrDragToSetLocation")]})]})}),$!=="ghost"&&e.jsx(O,{className:"border-primary/20 overflow-hidden",children:e.jsxs(G,{className:"p-3 md:p-6 space-y-4",children:[e.jsxs(i,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(_s,{className:"w-5 h-5 text-primary"}),a("admin.openingHours")]}),e.jsx("div",{className:"space-y-2",children:Oe.map(s=>e.jsxs("div",{className:"space-y-2 p-2 md:p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"md:hidden space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"capitalize font-semibold text-sm",children:a(`admin.day.${s}`)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Y,{id:`split-mobile-${s}`,checked:r[s].splitShift,onCheckedChange:n=>S({...r,[s]:{...r[s],splitShift:n}}),disabled:r[s].closed,className:"h-4 w-4"}),e.jsx(i,{htmlFor:`split-mobile-${s}`,className:"cursor-pointer text-xs",children:"åˆ†æ®µ"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Y,{id:`closed-mobile-${s}`,checked:r[s].closed,onCheckedChange:n=>S({...r,[s]:{...r[s],closed:n}}),className:"h-4 w-4"}),e.jsx(i,{htmlFor:`closed-mobile-${s}`,className:"cursor-pointer text-xs",children:a("admin.closed")})]})]})]}),!r[s].closed&&e.jsx("div",{className:"space-y-1.5",children:r[s].splitShift?e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"grid grid-cols-[32px_1fr_12px_1fr] gap-1 items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"åˆé¤"}),e.jsx(p,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"}),e.jsx("span",{className:"text-muted-foreground text-xs text-center",children:"-"}),e.jsx(p,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"})]}),e.jsxs("div",{className:"grid grid-cols-[32px_1fr_12px_1fr] gap-1 items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"æ™šé¤"}),e.jsx(p,{type:"time",value:r[s].open2||"19:00",onChange:n=>S({...r,[s]:{...r[s],open2:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"}),e.jsx("span",{className:"text-muted-foreground text-xs text-center",children:"-"}),e.jsx(p,{type:"time",value:r[s].close2||"23:00",onChange:n=>S({...r,[s]:{...r[s],close2:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"})]})]}):e.jsxs("div",{className:"grid grid-cols-[1fr_12px_1fr] gap-1 items-center",children:[e.jsx(p,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"}),e.jsx("span",{className:"text-muted-foreground text-xs text-center",children:"-"}),e.jsx(p,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"h-8 text-xs px-2 min-w-0"})]})})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"grid grid-cols-[120px_1fr_auto] gap-4 items-center",children:[e.jsx(i,{className:"capitalize font-semibold",children:a(`admin.day.${s}`)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{id:`split-${s}`,checked:r[s].splitShift,onCheckedChange:n=>S({...r,[s]:{...r[s],splitShift:n}}),disabled:r[s].closed}),e.jsx(i,{htmlFor:`split-${s}`,className:"cursor-pointer text-sm",children:"åˆ†æ®µè¥ä¸š"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{id:`closed-${s}`,checked:r[s].closed,onCheckedChange:n=>S({...r,[s]:{...r[s],closed:n}})}),e.jsx(i,{htmlFor:`closed-${s}`,className:"cursor-pointer",children:a("admin.closed")})]})]}),!r[s].closed&&e.jsx("div",{className:"ml-[120px] space-y-2 mt-2",children:r[s].splitShift?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground w-12",children:"åˆé¤"}),e.jsx(p,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"w-32"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(p,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground w-12",children:"æ™šé¤"}),e.jsx(p,{type:"time",value:r[s].open2||"19:00",onChange:n=>S({...r,[s]:{...r[s],open2:n.target.value}}),className:"w-32"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(p,{type:"time",value:r[s].close2||"23:00",onChange:n=>S({...r,[s]:{...r[s],close2:n.target.value}}),className:"w-32"})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{type:"time",value:r[s].open,onChange:n=>S({...r,[s]:{...r[s],open:n.target.value}}),className:"w-32"}),e.jsx("span",{className:"text-muted-foreground",children:"-"}),e.jsx(p,{type:"time",value:r[s].close,onChange:n=>S({...r,[s]:{...r[s],close:n.target.value}}),className:"w-32"})]})})]})]},s))})]})})]})}),e.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t bg-muted/30",children:[e.jsx(R,{type:"button",variant:"outline",onClick:()=>j(!1),children:a("common.cancel")}),e.jsxs(R,{type:"submit",disabled:Ae,onClick:Te(Pe),className:"gap-2",children:[e.jsx(be,{className:"w-4 h-4"}),a(Ae?"common.saving":"common.save")]})]})]})]})}export{ua as R,Qs as u};
//# sourceMappingURL=RestaurantFormDialog-DpBIuwSV.js.map
