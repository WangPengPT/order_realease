{"version":3,"file":"PostGridCard-CW9FFwct.js","sources":["../../src/components/community/PostGridCard.tsx"],"sourcesContent":["import { useState, memo, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Heart, Images, Play, Store, Calendar, Clock, Users, Utensils, MoreHorizontal, Pencil, Trash2 } from \"lucide-react\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { CommunityPost, useLikePost, useDeletePost } from \"@/hooks/useCommunityPosts\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { useLocalizedContent } from \"@/hooks/useLocalizedContent\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport EditPostDialog from \"@/components/community/EditPostDialog\";\r\nimport EditRecipeDialog from \"@/components/community/EditRecipeDialog\";\r\n\r\ninterface PostGridCardProps {\r\n  post: CommunityPost;\r\n  showAssociations?: boolean;\r\n}\r\n\r\ninterface ExtendedPost extends CommunityPost {\r\n  post_type?: string;\r\n  recipe_name?: string;\r\n  cook_time?: number;\r\n  difficulty?: string;\r\n  servings?: number;\r\n}\r\n\r\nconst PostGridCard = ({ post, showAssociations = false }: PostGridCardProps) => {\r\n  const { t } = useTranslation();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { getLocalizedField } = useLocalizedContent();\r\n  const likePost = useLikePost();\r\n  const deletePost = useDeletePost();\r\n  const [imageError, setImageError] = useState(false);\r\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n  const [showEditDialog, setShowEditDialog] = useState(false);\r\n\r\n  const extendedPost = post as ExtendedPost;\r\n  const isRecipe = extendedPost.post_type === 'recipe';\r\n  const isAuthor = user?.id === post.author_id;\r\n\r\n  const handleLike = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (!user) return;\r\n    likePost.mutate({ postId: post.id, liked: post.user_liked || false });\r\n  };\r\n\r\n  const handleCardClick = () => navigate(`/community/${post.id}`);\r\n  const handleRestaurantClick = (e: React.MouseEvent, id: string) => { e.preventDefault(); e.stopPropagation(); navigate(`/restaurant/${id}`); };\r\n  const handleActivityClick = (e: React.MouseEvent) => { e.preventDefault(); e.stopPropagation(); if (post.activity?.id) navigate(`/activity/${post.activity.id}`); };\r\n\r\n  const handleDelete = () => {\r\n    deletePost.mutate(post.id);\r\n    setShowDeleteDialog(false);\r\n  };\r\n\r\n  // Strip HTML tags without DOMParser (much faster)\r\n  const getPlainTextContent = (html: string) => html.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ').replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>');\r\n\r\n  const content = getLocalizedField(post, \"content\");\r\n  const plainContent = useMemo(() => getPlainTextContent(content), [content]);\r\n  const hasImages = post.image_urls && post.image_urls.length > 0;\r\n  const hasVideo = !!post.video_url;\r\n  const hasMedia = hasImages || hasVideo;\r\n  const imageCount = post.image_urls?.length || 0;\r\n\r\n  const allRestaurants = [...(post.restaurants || []), ...(post.restaurant && !post.restaurants?.find(r => r.id === post.restaurant?.id) ? [post.restaurant] : [])];\r\n  const activityTitle = post.activity ? getLocalizedField(post.activity, \"title\") : null;\r\n  const maxVisibleRestaurants = 2;\r\n\r\n  const getDifficultyColor = (d: string) => {\r\n    switch (d) {\r\n      case 'easy': return 'bg-green-500/20 text-green-700 dark:text-green-400';\r\n      case 'medium': return 'bg-yellow-500/20 text-yellow-700 dark:text-yellow-400';\r\n      case 'hard': return 'bg-red-500/20 text-red-700 dark:text-red-400';\r\n      default: return 'bg-muted text-muted-foreground';\r\n    }\r\n  };\r\n\r\n  const getDifficultyLabel = (d: string) => {\r\n    switch (d) {\r\n      case 'easy': return t(\"recipe.difficulty.easy\", \"简单\");\r\n      case 'medium': return t(\"recipe.difficulty.medium\", \"中等\");\r\n      case 'hard': return t(\"recipe.difficulty.hard\", \"困难\");\r\n      default: return d;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"group cursor-pointer rounded-lg overflow-hidden bg-card border border-border/50 hover:shadow-lg transition-all duration-300 hover:-translate-y-1 relative\" onClick={handleCardClick}>\r\n        {/* Author Menu */}\r\n        {isAuthor && (\r\n          <div className=\"absolute top-2 right-2 z-20\" onClick={(e) => e.stopPropagation()}>\r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <button className=\"h-7 w-7 rounded-full bg-black/40 backdrop-blur-sm flex items-center justify-center hover:bg-black/60 transition-colors\">\r\n                  <MoreHorizontal className=\"h-4 w-4 text-white\" />\r\n                </button>\r\n              </DropdownMenuTrigger>\r\n              <DropdownMenuContent align=\"end\" className=\"min-w-[120px]\">\r\n                <DropdownMenuItem onClick={() => setShowEditDialog(true)}>\r\n                  <Pencil className=\"h-4 w-4 mr-2\" />\r\n                  {t(\"common.edit\", \"编辑\")}\r\n                </DropdownMenuItem>\r\n                <DropdownMenuItem className=\"text-destructive focus:text-destructive\" onClick={() => setShowDeleteDialog(true)}>\r\n                  <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                  {t(\"common.delete\", \"删除\")}\r\n                </DropdownMenuItem>\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n          </div>\r\n        )}\r\n\r\n        {/* Media Section */}\r\n        {hasMedia && (\r\n          <div className={`relative ${isRecipe ? 'aspect-[4/3]' : 'aspect-[4/5]'} overflow-hidden`}>\r\n            {hasImages ? (!imageError ? (\r\n              <img src={post.image_urls![0]} alt=\"\" loading=\"lazy\" className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500\" onError={() => setImageError(true)} />\r\n            ) : (\r\n              <div className=\"w-full h-full bg-muted flex items-center justify-center\"><span className=\"text-xs text-muted-foreground\">{t(\"common.imageLoadError\", \"图片加载失败\")}</span></div>\r\n            )) : hasVideo ? (\r\n              <video src={post.video_url} className=\"w-full h-full object-cover\" preload=\"metadata\" muted playsInline />\r\n            ) : null}\r\n            \r\n            {isRecipe && <Badge className=\"absolute top-2 left-2 bg-primary text-primary-foreground gap-1\"><Utensils className=\"h-3 w-3\" />{t(\"recipe.badge\", \"食谱\")}</Badge>}\r\n            {hasVideo && !isRecipe && <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\"><div className=\"w-12 h-12 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center\"><Play className=\"h-5 w-5 text-white fill-white ml-0.5\" /></div></div>}\r\n            {!hasVideo && imageCount > 1 && !isRecipe && <div className={`absolute top-2 ${isAuthor ? 'right-11' : 'right-2'} bg-black/60 text-white text-xs px-2 py-0.5 rounded-full z-10 flex items-center gap-1`}><Images className=\"h-3 w-3\" /><span>{imageCount}</span></div>}\r\n          </div>\r\n        )}\r\n\r\n        {!hasMedia && isRecipe && (\r\n          <div className=\"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center\">\r\n            <Utensils className=\"h-12 w-12 text-primary/40\" />\r\n            <Badge className=\"absolute top-2 left-2 bg-primary text-primary-foreground gap-1\"><Utensils className=\"h-3 w-3\" />{t(\"recipe.badge\", \"食谱\")}</Badge>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-3\">\r\n          {isRecipe && (\r\n            <div className=\"flex items-center gap-3 text-xs text-muted-foreground mb-2\">\r\n              {extendedPost.cook_time && <div className=\"flex items-center gap-1\"><Clock className=\"h-3.5 w-3.5\" /><span>{extendedPost.cook_time}{t(\"recipe.min\", \"分\")}</span></div>}\r\n              {extendedPost.servings && <div className=\"flex items-center gap-1\"><Users className=\"h-3.5 w-3.5\" /><span>{extendedPost.servings}{t(\"recipe.servingsShort\", \"人\")}</span></div>}\r\n              {extendedPost.difficulty && <Badge variant=\"secondary\" className={`text-xs px-1.5 py-0 h-5 ${getDifficultyColor(extendedPost.difficulty)}`}>{getDifficultyLabel(extendedPost.difficulty)}</Badge>}\r\n            </div>\r\n          )}\r\n\r\n          {showAssociations && (allRestaurants.length > 0 || activityTitle) && (\r\n            <div className=\"flex flex-wrap gap-1.5 mb-2\">\r\n              {allRestaurants.slice(0, maxVisibleRestaurants).map((restaurant) => (\r\n                <Badge key={restaurant.id} variant=\"secondary\" className=\"text-xs cursor-pointer hover:bg-secondary/80 gap-1\" onClick={(e) => handleRestaurantClick(e, restaurant.id)}>\r\n                  <Store className=\"h-3 w-3\" /><span className=\"truncate max-w-[120px]\">{getLocalizedField(restaurant, \"name\")}</span>\r\n                </Badge>\r\n              ))}\r\n              {allRestaurants.length > maxVisibleRestaurants && <Badge variant=\"secondary\" className=\"text-xs gap-1\">+{allRestaurants.length - maxVisibleRestaurants}</Badge>}\r\n              {activityTitle && <Badge variant=\"secondary\" className=\"text-xs cursor-pointer hover:bg-secondary/80 gap-1\" onClick={handleActivityClick}><Calendar className=\"h-3 w-3\" /><span className=\"truncate max-w-[120px]\">{activityTitle}</span></Badge>}\r\n            </div>\r\n          )}\r\n\r\n          <p className={`text-sm font-medium line-clamp-2 leading-relaxed ${hasMedia ? '' : 'min-h-[60px]'}`}>{isRecipe ? extendedPost.recipe_name : plainContent}</p>\r\n\r\n          {/* Recipe food introduction */}\r\n          {isRecipe && plainContent && !plainContent.includes(\"主要配料：\") && (\r\n            <p className=\"text-xs text-muted-foreground line-clamp-3 leading-relaxed mt-1\">{plainContent}</p>\r\n          )}\r\n\r\n          <div className=\"flex items-center justify-between mt-3\">\r\n            <div className=\"flex items-center gap-2 min-w-0 flex-1\">\r\n              <Avatar className=\"h-5 w-5 flex-shrink-0\"><AvatarImage src={post.author?.avatar_url || undefined} /><AvatarFallback className=\"text-[10px]\">{post.author?.display_name?.charAt(0) || \"?\"}</AvatarFallback></Avatar>\r\n              <span className=\"text-xs text-muted-foreground truncate\">{post.author?.display_name}</span>\r\n            </div>\r\n            <button className={`flex items-center gap-1 text-xs ${post.user_liked ? \"text-red-500\" : \"text-muted-foreground\"} hover:text-red-500 transition-colors`} onClick={handleLike} disabled={!user}>\r\n              <Heart className={`h-4 w-4 ${post.user_liked ? \"fill-current\" : \"\"}`} /><span>{post.likes_count || 0}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Delete Confirmation */}\r\n      <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>{t(\"community.deleteConfirmTitle\", \"确认删除\")}</AlertDialogTitle>\r\n            <AlertDialogDescription>{t(\"community.deleteConfirmDesc\", \"删除后将无法恢复，确定要删除这篇帖子吗？\")}</AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>{t(\"common.cancel\", \"取消\")}</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\">{t(\"common.delete\", \"删除\")}</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Edit Dialog */}\r\n      {isRecipe ? (\r\n        <EditRecipeDialog post={post} open={showEditDialog} onOpenChange={setShowEditDialog} />\r\n      ) : (\r\n        <EditPostDialog post={post} open={showEditDialog} onOpenChange={setShowEditDialog} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(PostGridCard);\r\n"],"names":["PostGridCard","post","showAssociations","useTranslation","user","useAuth","navigate","useNavigate","getLocalizedField","useLocalizedContent","likePost","useLikePost","deletePost","useDeletePost","imageError","setImageError","useState","showDeleteDialog","setShowDeleteDialog","showEditDialog","setShowEditDialog","extendedPost","isRecipe","isAuthor","handleLike","e","handleCardClick","handleRestaurantClick","id","handleActivityClick","handleDelete","getPlainTextContent","html","content","plainContent","useMemo","hasImages","hasVideo","hasMedia","imageCount","allRestaurants","r","activityTitle","maxVisibleRestaurants","getDifficultyColor","d","getDifficultyLabel","jsxs","Fragment","jsx","DropdownMenu","DropdownMenuTrigger","MoreHorizontal","DropdownMenuContent","DropdownMenuItem","Pencil","Trash2","Badge","Utensils","Play","Images","Clock","Users","restaurant","Store","Calendar","Avatar","AvatarImage","AvatarFallback","Heart","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","EditRecipeDialog","EditPostDialog","memo"],"mappings":"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"}