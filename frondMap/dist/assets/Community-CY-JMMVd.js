import{p as A,u as Ye,r as f,j as e,ed as ae,bm as Ze,cr as es,bf as ie,bD as Ce,ba as ss,b5 as xe,be as ts,bJ as Se,bI as de,ao as as,b4 as me,X as Y,ee as _e,a4 as X,a_ as Re,ef as F,eg as rs,bN as ns,aM as Z,bh as pe,eh as is,ei as Pe,ay as ls,aw as cs,w as C,ak as Ie,bW as re,d0 as os,q as Ue,v as ds,bR as ne,b7 as ms,ej as us,cQ as xs,bc as ps,bb as hs}from"./vendor-react-Dx9aTW_3.js";import{u as gs,g as V,P as fs,Q as js,R as ys,D as vs,W as Ns,c as bs,d as ws,e as ks,a as le,I as q,B as L,i as D,S as Le,U as z,a2 as Cs,a3 as Ss,a4 as _s,a5 as Rs,a6 as Ps,s as R,a8 as Te,G as Is,af as Us,ak as Ls,ag as Ts,al as Es,j as J}from"./index-YQstMq3Q.js";import{c as Ds,d as Fs,e as $s,f as Ms,g as As,h as qs}from"./useCommunityPosts-KlYIBFjc.js";import{u as ce}from"./useLocalizedContent-CmXuRrEu.js";import{c as Os}from"./usePoints-BuU7i2vk.js";import{D as he,b as ge,c as fe,d as je,f as Ee}from"./drawer-D0igjhc6.js";import{P as ye,a as ve,b as Ne}from"./popover-O33avqol.js";import{P as zs}from"./progress-1wSF8fmx.js";import{C as Bs,a as Hs,b as Vs}from"./collapsible-C5LFVTiX.js";import{u as Ks}from"./useActivities-CNrIzr0n.js";import{u as Gs}from"./useRestaurants-5zimfmc1.js";import{P as Qs}from"./PullToRefresh-CqdIJ3fI.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-vwQGbBim.js";import"./vendor-supabase-X8tv2THq.js";const Ws=({post:t,showAssociations:a=!1})=>{const{t:s}=A(),{user:j}=gs(),u=Ye(),{getLocalizedField:d}=ce(),l=Ds(),[m,o]=f.useState(!1),h=t,n=h.post_type==="recipe",g=i=>{i.preventDefault(),i.stopPropagation(),j&&l.mutate({postId:t.id,liked:t.user_liked||!1})},x=()=>u(`/community/${t.id}`),c=(i,y)=>{i.preventDefault(),i.stopPropagation(),u(`/restaurant/${y}`)},v=i=>{i.preventDefault(),i.stopPropagation(),t.activity?.id&&u(`/activity/${t.activity.id}`)},p=i=>new DOMParser().parseFromString(i,"text/html").body.textContent||"",b=d(t,"content"),_=p(b),$=t.image_urls&&t.image_urls.length>0,P=!!t.video_url,T=$||P,B=t.image_urls?.length||0,E=[...t.restaurants||[],...t.restaurant&&!t.restaurants?.find(i=>i.id===t.restaurant?.id)?[t.restaurant]:[]],H=t.activity?d(t.activity,"title"):null,O=2,k=i=>{switch(i){case"easy":return"bg-green-500/20 text-green-700 dark:text-green-400";case"medium":return"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400";case"hard":return"bg-red-500/20 text-red-700 dark:text-red-400";default:return"bg-muted text-muted-foreground"}},r=i=>{switch(i){case"easy":return s("recipe.difficulty.easy","ç®€å•");case"medium":return s("recipe.difficulty.medium","ä¸­ç­‰");case"hard":return s("recipe.difficulty.hard","å›°éš¾");default:return i}};return e.jsxs("div",{className:"group cursor-pointer rounded-lg overflow-hidden bg-card border border-border/50 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",onClick:x,children:[T&&e.jsxs("div",{className:`relative ${n?"aspect-[4/3]":"aspect-[4/5]"} overflow-hidden`,children:[$?m?e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:s("common.imageLoadError","å›¾ç‰‡åŠ è½½å¤±è´¥")})}):e.jsx("img",{src:t.image_urls[0],alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:()=>o(!0)}):P?e.jsx("video",{src:t.video_url,className:"w-full h-full object-cover",preload:"metadata",muted:!0,playsInline:!0}):null,n&&e.jsxs(V,{className:"absolute top-2 left-2 bg-primary text-primary-foreground gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),s("recipe.badge","é£Ÿè°±")]}),P&&!n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center",children:e.jsx(Ze,{className:"h-5 w-5 text-white fill-white ml-0.5"})})}),!P&&B>1&&!n&&e.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full z-10 flex items-center gap-1",children:[e.jsx(es,{className:"h-3 w-3"}),e.jsx("span",{children:B})]})]}),!T&&n&&e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center",children:[e.jsx(ae,{className:"h-12 w-12 text-primary/40"}),e.jsxs(V,{className:"absolute top-2 left-2 bg-primary text-primary-foreground gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),s("recipe.badge","é£Ÿè°±")]})]}),e.jsxs("div",{className:"p-3",children:[n&&e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mb-2",children:[h.cook_time&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[h.cook_time,s("recipe.min","åˆ†")]})]}),h.servings&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[h.servings,s("recipe.servingsShort","äºº")]})]}),h.difficulty&&e.jsx(V,{variant:"secondary",className:`text-xs px-1.5 py-0 h-5 ${k(h.difficulty)}`,children:r(h.difficulty)})]}),a&&(E.length>0||H)&&e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[E.slice(0,O).map(i=>e.jsxs(V,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-secondary/80 gap-1",onClick:y=>c(y,i.id),children:[e.jsx(ss,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[120px]",children:d(i,"name")})]},i.id)),E.length>O&&e.jsxs(V,{variant:"secondary",className:"text-xs gap-1",children:["+",E.length-O]}),H&&e.jsxs(V,{variant:"secondary",className:"text-xs cursor-pointer hover:bg-secondary/80 gap-1",onClick:v,children:[e.jsx(xe,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[120px]",children:H})]})]}),e.jsx("p",{className:`text-sm font-medium line-clamp-2 leading-relaxed ${T?"":"min-h-[60px]"}`,children:n?h.recipe_name:_}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsxs(fs,{className:"h-5 w-5 flex-shrink-0",children:[e.jsx(js,{src:t.author?.avatar_url||void 0}),e.jsx(ys,{className:"text-[10px]",children:t.author?.display_name?.charAt(0)||"?"})]}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:t.author?.display_name})]}),e.jsxs("button",{className:`flex items-center gap-1 text-xs ${t.user_liked?"text-red-500":"text-muted-foreground"} hover:text-red-500 transition-colors`,onClick:g,disabled:!j,children:[e.jsx(ts,{className:`h-4 w-4 ${t.user_liked?"fill-current":""}`}),e.jsx("span",{children:t.likes_count||0})]})]})]})]})},Js=()=>{const{t}=A(),{data:a}=Os(),s=a?.find(d=>d.key==="post_points")?.value||"5",j=a?.find(d=>d.key==="min_post_length")?.value||"10",u=a?.find(d=>d.key==="post_require_media")?.value==="true";return e.jsxs(vs,{children:[e.jsx(Ns,{asChild:!0,children:e.jsx("button",{className:"text-primary hover:underline text-sm whitespace-nowrap",children:t("community.viewPointsRules","æŸ¥çœ‹è¯¦ç»†è§„åˆ™")})}),e.jsxs(bs,{className:"max-w-md",children:[e.jsx(ws,{children:e.jsxs(ks,{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-5 w-5 text-primary"}),t("community.pointsRulesTitle","å‘å¸–ç§¯åˆ†è§„åˆ™")]})}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:t("community.pointsRulesIntro","é€šè¿‡å‘å¸ƒç¤¾åŒºå¸–å­èŽ·å¾—ç§¯åˆ†ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š")}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(de,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:t("community.rulePostPoints",{points:s})})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(de,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:t("community.ruleMinLength",{length:j})})]}),u&&e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(de,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:t("community.ruleRequireMedia","å¸–å­å¿…é¡»åŒ…å«è‡³å°‘ä¸€å¼ å›¾ç‰‡æˆ–ä¸€ä¸ªè§†é¢‘")})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(ie,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),e.jsx("span",{children:t("community.ruleDailyLimit","æ¯å¤©ä»…å¯é€šè¿‡å‘å¸–èŽ·å¾—ä¸€æ¬¡ç§¯åˆ†å¥–åŠ±")})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(as,{className:"h-4 w-4 text-purple-500 mt-0.5 shrink-0"}),e.jsx("span",{children:t("community.ruleModerationRequired","å¸–å­éœ€é€šè¿‡å®¡æ ¸åŽæ‰èƒ½èŽ·å¾—ç§¯åˆ†")})]})]})]})]})]})},Xs=({open:t,onOpenChange:a,value:s,onSelect:j,restaurants:u,required:d=!1,maxDisplay:l=2})=>{const{t:m}=A(),{getLocalizedField:o}=ce(),h=le(),[n,g]=f.useState(""),[x,c]=f.useState(s),[v,p]=f.useState("85vh");f.useEffect(()=>{if(!t||!h)return;const r=window.visualViewport;if(!r){p("85vh");return}const i=()=>{const y=r.height,M=Math.min(y*.85,y-50);p(`${M}px`)};return i(),r.addEventListener("resize",i),()=>{r.removeEventListener("resize",i)}},[t,h]);const b=r=>{r&&(c(s),g("")),a(r)},_=u?.filter(r=>{if(!n)return!0;const i=o(r,"name")?.toLowerCase()||"",y=r.address?.toLowerCase()||"",M=n.toLowerCase();return i.includes(M)||y.includes(M)})||[],$=r=>{c(i=>i.includes(r)?i.filter(y=>y!==r):[...i,r])},P=()=>{j(x),a(!1),g("")},T=r=>{const i=s.includes(r)?s.filter(y=>y!==r):[...s,r];j(i)},E=s.map(r=>{const i=u?.find(y=>y.id===r);return i?o(i,"name"):null}).filter(Boolean),H=()=>{if(E.length===0)return e.jsxs("span",{className:"text-muted-foreground",children:[m("community.linkRestaurants","å…³è”é¤åŽ…"),d&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]});const r=E.slice(0,l),i=E.length-l;return e.jsxs("span",{className:"text-primary flex items-center gap-1 flex-wrap",children:[r.map((y,M)=>e.jsxs("span",{children:[y,M<r.length-1?"ã€":""]},M)),i>0&&e.jsxs(V,{variant:"secondary",className:"text-xs px-1.5 py-0",children:["+",i]})]})},O=e.jsxs("button",{type:"button",className:"flex items-center gap-1 text-sm hover:text-primary transition-colors text-left",onClick:()=>b(!0),children:[e.jsx(H,{}),e.jsx(_e,{className:"h-4 w-4 opacity-50 shrink-0"})]}),k=({restaurant:r,isSelected:i,onToggle:y})=>e.jsxs("div",{className:D("flex items-start gap-3 py-3 px-3 rounded-lg cursor-pointer transition-colors",i?"bg-primary/10":"hover:bg-muted"),onClick:y,children:[e.jsx("div",{className:D("h-5 w-5 shrink-0 mt-0.5 rounded border flex items-center justify-center transition-colors",i?"bg-primary border-primary":"border-muted-foreground/30"),children:i&&e.jsx(X,{className:"h-3 w-3 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:o(r,"name")}),r.address&&e.jsxs("p",{className:"text-sm text-muted-foreground truncate flex items-center gap-1 mt-0.5",children:[e.jsx(Re,{className:"h-3 w-3 shrink-0"}),r.address]})]})]});return h?e.jsxs(e.Fragment,{children:[O,e.jsx(he,{open:t,onOpenChange:b,children:e.jsxs(ge,{className:"flex flex-col",style:{height:v,maxHeight:v,transition:"height 0.15s ease-out, max-height 0.15s ease-out"},children:[e.jsx(fe,{className:"pb-2 shrink-0",children:e.jsxs(je,{children:[m("community.selectRestaurants","é€‰æ‹©é¤åŽ…"),x.length>0&&e.jsx(V,{variant:"secondary",className:"ml-2",children:x.length})]})}),e.jsx("div",{className:"px-4 pb-3 shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(q,{placeholder:m("community.searchRestaurant","æœç´¢é¤åŽ…..."),value:n,onChange:r=>g(r.target.value),className:"pl-9"})]})}),x.length>0&&e.jsx("div",{className:"px-4 pb-3 shrink-0",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.map(r=>{const i=u?.find(y=>y.id===r);return i?e.jsxs(V,{variant:"secondary",className:"gap-1 pr-1",children:[e.jsx("span",{className:"truncate max-w-[120px]",children:o(i,"name")}),e.jsx("button",{type:"button",className:"hover:bg-muted-foreground/20 rounded-full p-0.5",onClick:y=>{y.stopPropagation(),c(M=>M.filter(ee=>ee!==r))},children:e.jsx(Y,{className:"h-3 w-3"})})]},r):null})})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 min-h-0",children:e.jsxs("div",{className:"space-y-1 pb-4",children:[_.map(r=>e.jsx(k,{restaurant:r,isSelected:x.includes(r.id),onToggle:()=>$(r.id)},r.id)),_.length===0&&n&&e.jsx("div",{className:"py-6 text-center text-muted-foreground",children:m("community.noRestaurantFound","æœªæ‰¾åˆ°åŒ¹é…çš„é¤åŽ…")})]})}),e.jsx(Ee,{className:"pt-2",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(L,{variant:"outline",className:"flex-1",onClick:()=>b(!1),children:m("common.cancel","å–æ¶ˆ")}),e.jsxs(L,{className:"flex-1",onClick:P,children:[m("community.confirmSelection","ç¡®è®¤é€‰æ‹©"),x.length>0&&` (${x.length})`]})]})})]})})]}):e.jsxs(ye,{open:t,onOpenChange:b,children:[e.jsx(ve,{asChild:!0,children:O}),e.jsxs(Ne,{className:"w-80 p-0",align:"start",children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(q,{placeholder:m("community.searchRestaurant","æœç´¢é¤åŽ…..."),value:n,onChange:r=>g(r.target.value),className:"pl-9"})]})}),s.length>0&&e.jsx("div",{className:"p-3 border-b",children:e.jsx("div",{className:"flex flex-wrap gap-1.5",children:s.map(r=>{const i=u?.find(y=>y.id===r);return i?e.jsxs(V,{variant:"secondary",className:"gap-1 pr-1",children:[e.jsx("span",{className:"truncate max-w-[100px]",children:o(i,"name")}),e.jsx("button",{type:"button",className:"hover:bg-muted-foreground/20 rounded-full p-0.5",onClick:y=>{y.stopPropagation(),T(r)},children:e.jsx(Y,{className:"h-3 w-3"})})]},r):null})})}),e.jsxs("div",{className:"max-h-64 overflow-y-auto p-2",children:[_.map(r=>e.jsx(k,{restaurant:r,isSelected:s.includes(r.id),onToggle:()=>T(r.id)},r.id)),_.length===0&&n&&e.jsx("div",{className:"py-4 text-center text-muted-foreground text-sm",children:m("community.noRestaurantFound","æœªæ‰¾åˆ°åŒ¹é…çš„é¤åŽ…")})]})]})]})},De=f.forwardRef(({className:t,...a},s)=>e.jsx(F,{ref:s,className:D("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...a}));De.displayName=F.displayName;const Ys=f.forwardRef(({className:t,...a},s)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(me,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(F.Input,{ref:s,className:D("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...a})]}));Ys.displayName=F.Input.displayName;const Fe=f.forwardRef(({className:t,...a},s)=>e.jsx(F.List,{ref:s,className:D("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...a}));Fe.displayName=F.List.displayName;const Zs=f.forwardRef((t,a)=>e.jsx(F.Empty,{ref:a,className:"py-6 text-center text-sm",...t}));Zs.displayName=F.Empty.displayName;const $e=f.forwardRef(({className:t,...a},s)=>e.jsx(F.Group,{ref:s,className:D("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...a}));$e.displayName=F.Group.displayName;const et=f.forwardRef(({className:t,...a},s)=>e.jsx(F.Separator,{ref:s,className:D("-mx-1 h-px bg-border",t),...a}));et.displayName=F.Separator.displayName;const ue=f.forwardRef(({className:t,...a},s)=>e.jsx(F.Item,{ref:s,className:D("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...a}));ue.displayName=F.Item.displayName;const st=({open:t,onOpenChange:a,value:s,onSelect:j,activities:u})=>{const{t:d}=A(),{getLocalizedField:l}=ce(),m=le(),[o,h]=f.useState(s),n=p=>{p&&h(s),a(p)},g=()=>{if(!s)return"";const p=u?.find(b=>b.id===s);return p?l(p,"title"):""},x=()=>{j(o),a(!1)},c=p=>{j(p),a(!1)},v=e.jsxs("button",{type:"button",className:"flex items-center gap-1 text-sm hover:text-primary transition-colors",onClick:()=>n(!0),children:[s?e.jsx("span",{className:"text-primary",children:g()}):e.jsx("span",{className:"text-muted-foreground",children:d("community.linkActivity","å…³è”æ´»åŠ¨")}),e.jsx(_e,{className:"h-4 w-4 opacity-50"})]});return m?e.jsxs(e.Fragment,{children:[v,e.jsx(he,{open:t,onOpenChange:n,children:e.jsxs(ge,{className:"max-h-[85vh] flex flex-col",children:[e.jsx(fe,{className:"pb-2",children:e.jsx(je,{children:d("community.selectActivity","é€‰æ‹©æ´»åŠ¨")})}),e.jsx(Le,{className:"flex-1 px-4",children:e.jsxs("div",{className:"space-y-1 pb-4",children:[e.jsxs("div",{className:D("flex items-center gap-3 py-3 px-3 rounded-lg cursor-pointer transition-colors",o===""?"bg-primary/10":"hover:bg-muted"),onClick:()=>h(""),children:[e.jsx(X,{className:D("h-4 w-4 shrink-0",o===""?"opacity-100 text-primary":"opacity-0")}),e.jsx("span",{className:"text-muted-foreground",children:d("community.noActivity","ä¸å…³è”æ´»åŠ¨")})]}),u.map(p=>e.jsxs("div",{className:D("flex items-center gap-3 py-3 px-3 rounded-lg cursor-pointer transition-colors",o===p.id?"bg-primary/10":"hover:bg-muted"),onClick:()=>h(p.id),children:[e.jsx(X,{className:D("h-4 w-4 shrink-0",o===p.id?"opacity-100 text-primary":"opacity-0")}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground shrink-0"}),e.jsx("span",{className:"font-medium",children:l(p,"title")})]})]},p.id)),u.length===0&&e.jsx("div",{className:"py-6 text-center text-muted-foreground",children:d("activities.noActivities","æš‚æ— å¯ç”¨æ´»åŠ¨")})]})}),e.jsx(Ee,{className:"pt-2",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(L,{variant:"outline",className:"flex-1",onClick:()=>n(!1),children:d("common.cancel","å–æ¶ˆ")}),e.jsx(L,{className:"flex-1",onClick:x,children:d("community.confirmSelection","ç¡®è®¤é€‰æ‹©")})]})})]})})]}):e.jsxs(ye,{open:t,onOpenChange:n,children:[e.jsx(ve,{asChild:!0,children:v}),e.jsx(Ne,{className:"w-72 p-0",align:"start",children:e.jsx(De,{children:e.jsx(Fe,{children:e.jsxs($e,{children:[e.jsxs(ue,{value:"none",onSelect:()=>c(""),children:[e.jsx(X,{className:D("mr-2 h-4 w-4",s?"opacity-0":"opacity-100")}),d("community.noActivity","ä¸å…³è”æ´»åŠ¨")]}),u.map(p=>e.jsxs(ue,{value:p.id,onSelect:()=>c(p.id),children:[e.jsx(X,{className:D("mr-2 h-4 w-4",s===p.id?"opacity-100":"opacity-0")}),l(p,"title")]},p.id))]})})})})]})},ke=[{name:"smileys",emojis:["ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ˜Š","ðŸ˜‡","ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜","ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤¥","ðŸ˜Œ","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¥µ","ðŸ¥¶","ðŸ¥´","ðŸ˜µ","ðŸ¤¯","ðŸ¤ ","ðŸ¥³","ðŸ˜Ž","ðŸ¤“","ðŸ§"]},{name:"gestures",emojis:["ðŸ‘","ðŸ‘Ž","ðŸ‘Œ","ðŸ¤Œ","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ‘‡","â˜ï¸","âœ‹","ðŸ¤š","ðŸ–ï¸","ðŸ––","ðŸ‘‹","ðŸ¤","ðŸ™","ðŸ’ª","ðŸ¦¾","ðŸ¦¿","ðŸ¦µ","ðŸ¦¶","ðŸ‘‚","ðŸ¦»","ðŸ‘ƒ","ðŸ§ ","ðŸ‘€","ðŸ‘ï¸","ðŸ‘…","ðŸ‘„"]},{name:"food",emojis:["ðŸ","ðŸŽ","ðŸ","ðŸŠ","ðŸ‹","ðŸŒ","ðŸ‰","ðŸ‡","ðŸ“","ðŸ«","ðŸˆ","ðŸ’","ðŸ‘","ðŸ¥­","ðŸ","ðŸ¥¥","ðŸ¥","ðŸ…","ðŸ†","ðŸ¥‘","ðŸ¥¦","ðŸ¥¬","ðŸ¥’","ðŸŒ¶ï¸","ðŸ«‘","ðŸŒ½","ðŸ¥•","ðŸ§„","ðŸ§…","ðŸ¥”","ðŸ ","ðŸ¥","ðŸ¥¯","ðŸž","ðŸ¥–","ðŸ¥¨","ðŸ§€","ðŸ¥š","ðŸ³","ðŸ§ˆ","ðŸ¥ž","ðŸ§‡","ðŸ¥“","ðŸ¥©","ðŸ—","ðŸ–","ðŸ¦´","ðŸŒ­","ðŸ”","ðŸŸ","ðŸ•","ðŸ«“","ðŸ¥ª","ðŸ¥™","ðŸ§†","ðŸŒ®","ðŸŒ¯","ðŸ«”","ðŸ¥—","ðŸ¥˜","ðŸ«•","ðŸ¥«","ðŸ","ðŸœ","ðŸ²","ðŸ›","ðŸ£","ðŸ±","ðŸ¥Ÿ","ðŸ¦ª","ðŸ¤","ðŸ™","ðŸš","ðŸ˜","ðŸ¥","ðŸ¥ ","ðŸ¥®","ðŸ¢","ðŸ¡","ðŸ§","ðŸ¨","ðŸ¦","ðŸ¥§","ðŸ§","ðŸ°","ðŸŽ‚","ðŸ®","ðŸ­","ðŸ¬","ðŸ«","ðŸ¿","ðŸ©","ðŸª"]},{name:"hearts",emojis:["â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ–¤","ðŸ¤","ðŸ¤Ž","ðŸ’”","â£ï¸","ðŸ’•","ðŸ’ž","ðŸ’“","ðŸ’—","ðŸ’–","ðŸ’˜","ðŸ’","ðŸ’Ÿ","â™¥ï¸"]},{name:"objects",emojis:["â­","ðŸŒŸ","âœ¨","ðŸ’«","ðŸ”¥","ðŸ’¯","ðŸŽ‰","ðŸŽŠ","ðŸŽˆ","ðŸŽ","ðŸ†","ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰","âš½","ðŸ€","ðŸˆ","âš¾","ðŸŽ¾","ðŸ","ðŸŽ±","ðŸ“","ðŸŽ®","ðŸŽ²","ðŸ§©","ðŸŽ­","ðŸŽ¨","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽµ","ðŸŽ¶","ðŸŽ¹","ðŸŽ¸","ðŸŽº","ðŸŽ»","ðŸ“·","ðŸ“¸","ðŸ“¹","ðŸŽ¥","ðŸ“±","ðŸ’»","âŒ¨ï¸","ðŸ–¥ï¸","ðŸ“º","ðŸ“»","â°","âŒš","ðŸ’¡","ðŸ”¦","ðŸ“š","ðŸ“–","âœï¸","ðŸ“","ðŸ’°","ðŸ’µ","ðŸ’´","ðŸ’¶","ðŸ’·","ðŸ’³","ðŸ›’","ðŸŽ€","ðŸŽ—ï¸"]},{name:"nature",emojis:["ðŸŒ¸","ðŸ’®","ðŸµï¸","ðŸŒ¹","ðŸ¥€","ðŸŒº","ðŸŒ»","ðŸŒ¼","ðŸŒ·","ðŸŒ±","ðŸª´","ðŸŒ²","ðŸŒ³","ðŸŒ´","ðŸŒµ","ðŸŒ¾","ðŸŒ¿","â˜˜ï¸","ðŸ€","ðŸ","ðŸ‚","ðŸƒ","ðŸŒ","ðŸŒŽ","ðŸŒ","ðŸŒ™","â­","â˜€ï¸","ðŸŒ¤ï¸","â›…","ðŸŒ¥ï¸","â˜ï¸","ðŸŒ¦ï¸","ðŸŒ§ï¸","â›ˆï¸","ðŸŒ©ï¸","ðŸŒ¨ï¸","â„ï¸","â˜ƒï¸","â›„","ðŸŒ¬ï¸","ðŸ’¨","ðŸŒŠ","ðŸ’§","ðŸ’¦","â˜”","ðŸŒˆ"]}],tt=({onSelect:t})=>{const{t:a}=A(),s=le(),[j,u]=f.useState(!1),[d,l]=f.useState(0),m=g=>{t(g),s||u(!1)},o={smileys:a("emoji.smileys","è¡¨æƒ…"),gestures:a("emoji.gestures","æ‰‹åŠ¿"),food:a("emoji.food","ç¾Žé£Ÿ"),hearts:a("emoji.hearts","çˆ±å¿ƒ"),objects:a("emoji.objects","ç‰©å“"),nature:a("emoji.nature","è‡ªç„¶")},h=e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-1 overflow-x-auto pb-2 border-b",children:ke.map((g,x)=>e.jsx("button",{type:"button",onClick:()=>l(x),className:`px-3 py-1.5 text-sm rounded-full whitespace-nowrap transition-colors ${d===x?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80 text-muted-foreground"}`,children:o[g.name]},g.name))}),e.jsx("div",{className:"grid grid-cols-8 gap-1",children:ke[d].emojis.map((g,x)=>e.jsx("button",{type:"button",onClick:()=>m(g),className:"w-9 h-9 flex items-center justify-center text-xl hover:bg-muted rounded-md transition-colors",children:g},x))})]}),n=e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(rs,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:a("community.emoji","è¡¨æƒ…")})]});return s?e.jsxs(e.Fragment,{children:[n,e.jsx(he,{open:j,onOpenChange:u,children:e.jsxs(ge,{className:"h-[50vh]",children:[e.jsx(fe,{className:"pb-2",children:e.jsx(je,{children:a("emoji.title","é€‰æ‹©è¡¨æƒ…")})}),e.jsx(Le,{className:"flex-1 px-4 pb-4",children:h})]})})]}):e.jsxs(ye,{open:j,onOpenChange:u,children:[e.jsx(ve,{asChild:!0,children:n}),e.jsx(Ne,{className:"w-80 p-3",align:"start",side:"top",children:h})]})},at=({onSelect:t})=>{const{t:a}=A();return e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:a("community.selectPostType","é€‰æ‹©å‘å¸ƒç±»åž‹")}),e.jsx("p",{className:"text-muted-foreground text-sm mb-8 text-center",children:a("community.selectPostTypeDesc","é€‰æ‹©æ‚¨æƒ³è¦å‘å¸ƒçš„å†…å®¹ç±»åž‹")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm",children:[e.jsxs("button",{onClick:()=>t("post"),className:"flex flex-col items-center gap-3 p-6 rounded-xl border-2 border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 group",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:e.jsx(ns,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium",children:a("community.postType.post","å‘å¸ƒå¸–å­")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a("community.postType.postDesc","åˆ†äº«ç¾Žé£Ÿä½“éªŒå’Œæƒ³æ³•")})]})]}),e.jsxs("button",{onClick:()=>t("recipe"),className:"flex flex-col items-center gap-3 p-6 rounded-xl border-2 border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 group",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:e.jsx(ae,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium",children:a("community.postType.recipe","å‘å¸ƒé£Ÿè°±")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a("community.postType.recipeDesc","åˆ†äº«çƒ¹é¥ªæ•™ç¨‹å’Œèœè°±")})]})]})]})]})},rt=[{value:"easy",labelKey:"recipe.difficulty.easy"},{value:"medium",labelKey:"recipe.difficulty.medium"},{value:"hard",labelKey:"recipe.difficulty.hard"}],nt=["g","kg","ml","L","tsp","tbsp","cup","piece","slice","clove","pinch"],it=({data:t,coverImage:a,nutrition:s,onDataChange:j,onCoverImageChange:u,onNutritionChange:d})=>{const{t:l}=A(),m=f.useRef(null),[o,h]=f.useState(!!(s.calories||s.protein||s.carbs||s.fat)),[n,g]=f.useState(!1),x=async c=>{const v=c.target.files?.[0];if(v){if(v.size>5*1024*1024){C.error(l("common.imageTooLarge","å›¾ç‰‡ä¸èƒ½è¶…è¿‡5MB"));return}g(!0);try{const{data:{user:p}}=await R.auth.getUser();if(!p)throw new Error("Not authenticated");const b=v.name.split(".").pop(),_=`${p.id}/${Date.now()}-recipe-cover.${b}`,{error:$}=await R.storage.from("community-posts").upload(_,v);if($)throw $;const{data:{publicUrl:P}}=R.storage.from("community-posts").getPublicUrl(_);u(P)}catch(p){console.error("Upload error:",p),C.error(l("common.uploadError","ä¸Šä¼ å¤±è´¥"))}finally{g(!1),m.current&&(m.current.value="")}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(z,{children:l("recipe.coverImage","å°é¢å›¾ç‰‡")}),e.jsx("input",{ref:m,type:"file",accept:"image/*",className:"hidden",onChange:x}),a?e.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted",children:[e.jsx("img",{src:a,alt:"",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>u(null),className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsx(Y,{className:"h-4 w-4"})})]}):e.jsx("button",{type:"button",onClick:()=>m.current?.click(),disabled:n,className:"w-full aspect-video rounded-lg border-2 border-dashed border-muted-foreground/30 flex flex-col items-center justify-center gap-2 text-muted-foreground hover:border-primary hover:text-primary transition-colors",children:n?e.jsx(Z,{className:"h-8 w-8 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{className:"h-8 w-8"}),e.jsx("span",{className:"text-sm",children:l("recipe.addCoverImage","æ·»åŠ å°é¢å›¾ç‰‡")})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(z,{htmlFor:"recipe-name",children:[l("recipe.name","é£Ÿè°±åç§°")," *"]}),e.jsx(q,{id:"recipe-name",value:t.recipe_name||"",onChange:c=>j({...t,recipe_name:c.target.value}),placeholder:l("recipe.namePlaceholder","å¦‚ï¼šçº¢çƒ§è‚‰ã€ç•ªèŒ„ç‚’è›‹")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(z,{htmlFor:"cook-time",children:[e.jsx(ie,{className:"h-4 w-4 inline mr-1"}),l("recipe.cookTime","çƒ¹é¥ªæ—¶é—´")," *"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{id:"cook-time",type:"number",min:1,value:t.cook_time||"",onChange:c=>j({...t,cook_time:parseInt(c.target.value)||0}),placeholder:"30",className:"w-24"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:l("recipe.minutes","åˆ†é’Ÿ")})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(z,{children:[e.jsx(is,{className:"h-4 w-4 inline mr-1"}),l("recipe.difficulty","éš¾åº¦")," *"]}),e.jsxs(Cs,{value:t.difficulty||"",onValueChange:c=>j({...t,difficulty:c}),children:[e.jsx(Ss,{children:e.jsx(_s,{placeholder:l("recipe.selectDifficulty","é€‰æ‹©éš¾åº¦")})}),e.jsx(Rs,{children:rt.map(c=>e.jsx(Ps,{value:c.value,children:l(c.labelKey,c.value)},c.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(z,{htmlFor:"servings",children:[e.jsx(Ce,{className:"h-4 w-4 inline mr-1"}),l("recipe.servings","ä»½é‡")," *"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{id:"servings",type:"number",min:1,value:t.servings||"",onChange:c=>j({...t,servings:parseInt(c.target.value)||0}),placeholder:"2",className:"w-24"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:l("recipe.people","äººä»½")})]})]}),e.jsxs(Bs,{open:o,onOpenChange:h,children:[e.jsx(Hs,{asChild:!0,children:e.jsxs(L,{variant:"ghost",type:"button",className:"w-full justify-between px-0 hover:bg-transparent",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(Pe,{className:"h-4 w-4"}),l("recipe.nutritionInfo","è¥å…»ä¿¡æ¯"),e.jsxs("span",{className:"text-xs text-muted-foreground font-normal",children:["(",l("common.optional","å¯é€‰"),")"]})]}),o?e.jsx(ls,{className:"h-4 w-4"}):e.jsx(cs,{className:"h-4 w-4"})]})}),e.jsx(Vs,{className:"space-y-4 pt-2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(z,{htmlFor:"calories",className:"text-xs",children:l("recipe.calories","å¡è·¯é‡Œ")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{id:"calories",type:"number",min:0,value:s.calories||"",onChange:c=>d({...s,calories:parseInt(c.target.value)||void 0}),placeholder:"300",className:"h-8"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"kcal"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(z,{htmlFor:"protein",className:"text-xs",children:l("recipe.protein","è›‹ç™½è´¨")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{id:"protein",type:"number",min:0,value:s.protein||"",onChange:c=>d({...s,protein:parseInt(c.target.value)||void 0}),placeholder:"20",className:"h-8"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"g"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(z,{htmlFor:"carbs",className:"text-xs",children:l("recipe.carbs","ç¢³æ°´")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{id:"carbs",type:"number",min:0,value:s.carbs||"",onChange:c=>d({...s,carbs:parseInt(c.target.value)||void 0}),placeholder:"30",className:"h-8"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"g"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(z,{htmlFor:"fat",className:"text-xs",children:l("recipe.fat","è„‚è‚ª")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{id:"fat",type:"number",min:0,value:s.fat||"",onChange:c=>d({...s,fat:parseInt(c.target.value)||void 0}),placeholder:"10",className:"h-8"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"g"})]})]})]})})]})]})},lt=({ingredients:t,onChange:a})=>{const{t:s}=A(),j=()=>{a([...t,{name:"",amount:"",unit:""}])},u=(l,m,o)=>{const h=[...t];h[l]={...h[l],[m]:o},a(h)},d=l=>{a(t.filter((m,o)=>o!==l))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(z,{className:"text-base font-medium",children:[s("recipe.ingredients","é…æ–™")," *"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.filter(l=>l.name).length," ",s("recipe.items","é¡¹")]})]}),e.jsx("div",{className:"space-y-3",children:t.map((l,m)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(q,{value:l.name,onChange:o=>u(m,"name",o.target.value),placeholder:s("recipe.ingredientName","é…æ–™åç§°")})}),e.jsx("div",{className:"w-20",children:e.jsx(q,{value:l.amount,onChange:o=>u(m,"amount",o.target.value),placeholder:s("recipe.amount","é‡")})}),e.jsxs("div",{className:"w-20",children:[e.jsx(q,{value:l.unit,onChange:o=>u(m,"unit",o.target.value),placeholder:s("recipe.unit","å•ä½"),list:"common-units"}),e.jsx("datalist",{id:"common-units",children:nt.map(o=>e.jsx("option",{value:o},o))})]}),e.jsx(L,{type:"button",variant:"ghost",size:"icon",onClick:()=>d(m),disabled:t.length===1,className:"shrink-0",children:e.jsx(Ie,{className:"h-4 w-4 text-destructive"})})]},m))}),e.jsxs(L,{type:"button",variant:"outline",onClick:j,className:"w-full",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),s("recipe.addIngredient","æ·»åŠ é…æ–™")]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("recipe.unitsHint","å¸¸ç”¨å•ä½ï¼šg, kg, ml, L, å‹º, æ¯, ä¸ª, ç‰‡, é€‚é‡")})]})},ct=({steps:t,onChange:a})=>{const{t:s}=A(),[j,u]=f.useState(null),d=f.useRef([]),l=()=>{const n=t.length+1;a([...t,{order:n,description:"",image_url:void 0}])},m=(n,g,x)=>{const c=[...t];c[n]={...c[n],[g]:x},a(c)},o=n=>{const g=t.filter((x,c)=>c!==n).map((x,c)=>({...x,order:c+1}));a(g)},h=async(n,g)=>{const x=g.target.files?.[0];if(x){if(x.size>5*1024*1024){C.error(s("common.imageTooLarge","å›¾ç‰‡ä¸èƒ½è¶…è¿‡5MB"));return}u(n);try{const{data:{user:c}}=await R.auth.getUser();if(!c)throw new Error("Not authenticated");const v=x.name.split(".").pop(),p=`${c.id}/${Date.now()}-step-${n}.${v}`,{error:b}=await R.storage.from("community-posts").upload(p,x);if(b)throw b;const{data:{publicUrl:_}}=R.storage.from("community-posts").getPublicUrl(p);m(n,"image_url",_)}catch(c){console.error("Upload error:",c),C.error(s("common.uploadError","ä¸Šä¼ å¤±è´¥"))}finally{u(null),d.current[n]&&(d.current[n].value="")}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(z,{className:"text-base font-medium",children:[s("recipe.steps","çƒ¹é¥ªæ­¥éª¤")," *"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.filter(n=>n.description).length," ",s("recipe.stepsCount","æ­¥")]})]}),e.jsx("div",{className:"space-y-4",children:t.map((n,g)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3 bg-card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium text-primary",children:s("recipe.stepNumber","ç¬¬{{n}}æ­¥",{n:g+1})})]}),e.jsx(L,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(g),disabled:t.length===1,children:e.jsx(Ie,{className:"h-4 w-4 text-destructive"})})]}),e.jsx(Te,{value:n.description,onChange:x=>m(g,"description",x.target.value),placeholder:s("recipe.stepDescriptionPlaceholder","æè¿°è¿™ä¸€æ­¥çš„æ“ä½œ..."),className:"min-h-[80px]"}),e.jsxs("div",{children:[e.jsx("input",{ref:x=>d.current[g]=x,type:"file",accept:"image/*",className:"hidden",onChange:x=>h(g,x)}),n.image_url?e.jsxs("div",{className:"relative w-32 h-24 rounded-lg overflow-hidden bg-muted",children:[e.jsx("img",{src:n.image_url,alt:"",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>m(g,"image_url",void 0),className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsx(Y,{className:"h-3 w-3"})})]}):e.jsxs("button",{type:"button",onClick:()=>d.current[g]?.click(),disabled:j===g,className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-primary transition-colors",children:[j===g?e.jsx(Z,{className:"h-4 w-4 animate-spin"}):e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:s("recipe.addStepImage","æ·»åŠ æ­¥éª¤å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰")})]})]})]},g))}),e.jsxs(L,{type:"button",variant:"outline",onClick:l,className:"w-full",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),s("recipe.addStep","æ·»åŠ æ­¥éª¤")]})]})},ot=()=>{const t=Ue(),{t:a}=A();return ds({mutationFn:async s=>{const{data:{user:j}}=await R.auth.getUser();if(!j)throw new Error("Not authenticated");const u=s.ingredients.slice(0,5).map(h=>h.name).join("ã€"),d=`${s.recipe_name}

ä¸»è¦é…æ–™ï¼š${u}${s.ingredients.length>5?"...":""}`,l=[];s.cover_image&&l.push(s.cover_image),s.steps.forEach(h=>{h.image_url&&l.push(h.image_url)});const{data:m,error:o}=await R.from("community_posts").insert({author_id:j.id,post_type:"recipe",content:d,image_urls:l,recipe_name:s.recipe_name,cook_time:s.cook_time,difficulty:s.difficulty,servings:s.servings,ingredients:s.ingredients,steps:s.steps,nutrition:s.nutrition?s.nutrition:null,recipe_tags:s.recipe_tags||null,recipe_category:s.recipe_category||null,status:"pending",moderation_status:"pending"}).select().single();if(o)throw o;try{await R.functions.invoke("moderate-post",{body:{post_id:m.id,content:d,user_id:j.id,image_urls:l}})}catch(h){console.error("Moderation call failed:",h)}return m},onSuccess:()=>{t.invalidateQueries({queryKey:["community-posts"]}),t.invalidateQueries({queryKey:["has-posted-today"]}),C.success(a("recipe.publishSuccess","é£Ÿè°±å‘å¸ƒæˆåŠŸ"))},onError:s=>{console.error("Create recipe error:",s),C.error(a("recipe.publishError","å‘å¸ƒå¤±è´¥"))}})},dt=({onClose:t,onSuccess:a})=>{const{t:s}=A(),j=ot(),[u,d]=f.useState(0),[l,m]=f.useState(null),[o,h]=f.useState({recipe_name:"",cook_time:void 0,difficulty:void 0,servings:void 0}),[n,g]=f.useState([{name:"",amount:"",unit:""}]),[x,c]=f.useState([{order:1,description:""}]),[v,p]=f.useState({}),b=[{key:"basic",title:s("recipe.step.basic","åŸºæœ¬ä¿¡æ¯")},{key:"ingredients",title:s("recipe.step.ingredients","é…æ–™")},{key:"steps",title:s("recipe.step.steps","æ­¥éª¤")}],_=(u+1)/b.length*100,$=()=>o.recipe_name?.trim()?!o.cook_time||o.cook_time<1?(C.error(s("recipe.cookTimeRequired","è¯·è¾“å…¥çƒ¹é¥ªæ—¶é—´")),!1):o.difficulty?!o.servings||o.servings<1?(C.error(s("recipe.servingsRequired","è¯·è¾“å…¥ä»½é‡")),!1):!0:(C.error(s("recipe.difficultyRequired","è¯·é€‰æ‹©éš¾åº¦")),!1):(C.error(s("recipe.nameRequired","è¯·è¾“å…¥é£Ÿè°±åç§°")),!1),P=()=>n.filter(r=>r.name.trim()).length===0?(C.error(s("recipe.ingredientsRequired","è¯·è‡³å°‘æ·»åŠ ä¸€ç§é…æ–™")),!1):!0,T=()=>x.filter(r=>r.description.trim()).length===0?(C.error(s("recipe.stepsRequired","è¯·è‡³å°‘æ·»åŠ ä¸€ä¸ªæ­¥éª¤")),!1):!0,B=()=>{u===0&&!$()||u===1&&!P()||d(k=>Math.min(k+1,b.length-1))},E=()=>{d(k=>Math.max(k-1,0))},H=async()=>{if(!T())return;const k=n.filter(y=>y.name.trim()),r=x.filter(y=>y.description.trim()).map((y,M)=>({...y,order:M+1})),i=v.calories||v.protein||v.carbs||v.fat;try{await j.mutateAsync({recipe_name:o.recipe_name,cook_time:o.cook_time,difficulty:o.difficulty,servings:o.servings,ingredients:k,steps:r,cover_image:l,nutrition:i?v:void 0}),a()}catch{}},O=()=>{switch(u){case 0:return e.jsx(it,{data:o,coverImage:l,nutrition:v,onDataChange:h,onCoverImageChange:m,onNutritionChange:p});case 1:return e.jsx(lt,{ingredients:n,onChange:g});case 2:return e.jsx(ct,{steps:x,onChange:c});default:return null}};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"px-4 py-3 border-b bg-background shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{type:"button",onClick:t,className:"p-1 -ml-1 hover:bg-muted rounded-md transition-colors",children:e.jsx(ne,{className:"h-5 w-5"})}),e.jsx("h2",{className:"font-medium",children:s("recipe.createTitle","åˆ›å»ºé£Ÿè°±")}),e.jsx("div",{className:"w-6"})," "]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(zs,{value:_,className:"h-1"}),e.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:b.map((k,r)=>e.jsx("span",{className:r===u?"text-primary font-medium":"",children:k.title},k.key))})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:O()}),e.jsx("div",{className:"px-4 py-3 pb-[max(1rem,env(safe-area-inset-bottom))] border-t bg-background shrink-0",children:e.jsxs("div",{className:"flex gap-3",children:[u>0&&e.jsxs(L,{type:"button",variant:"outline",onClick:E,className:"flex-1",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),s("common.back","ä¸Šä¸€æ­¥")]}),u<b.length-1?e.jsxs(L,{type:"button",onClick:B,className:"flex-1",children:[s("common.next","ä¸‹ä¸€æ­¥"),e.jsx(ms,{className:"h-4 w-4 ml-2"})]}):e.jsxs(L,{type:"button",onClick:H,disabled:j.isPending,className:"flex-1",children:[j.isPending?e.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(X,{className:"h-4 w-4 mr-2"}),s("recipe.publish","å‘å¸ƒé£Ÿè°±")]})]})})]})},mt=({trigger:t})=>{const{t:a}=A(),{getLocalizedField:s}=ce(),j=Fs(),{data:u}=Ks(),{data:d}=Gs(),{role:l,isMerchant:m,isAdmin:o,isSupervisor:h}=Is(),{data:n}=$s(),{data:g,isLoading:x}=Ms(),[c,v]=f.useState(!1),[p,b]=f.useState("selecting"),[_,$]=f.useState(""),[P,T]=f.useState([]),[B,E]=f.useState(null),[H,O]=f.useState(""),[k,r]=f.useState([]),[i,y]=f.useState(!1),[M,ee]=f.useState(!1),[Me,be]=f.useState(!1),se=f.useRef(null),te=f.useRef(null),we=!m&&!h&&!o;f.useEffect(()=>{m&&n&&c&&r([n.id])},[m,n,c]);const oe=()=>{b("selecting"),$(""),T([]),E(null),O(""),r([]),ee(!1),be(!1)},Ae=w=>{v(w),w||oe()},qe=u?.filter(w=>w.status==="published")||[],Oe=async w=>{const S=w.target.files;if(!(!S||S.length===0)){if(P.length+S.length>9){C.error(a("community.maxImages","æœ€å¤šä¸Šä¼ 9å¼ å›¾ç‰‡"));return}y(!0);try{const{data:{user:U}}=await R.auth.getUser();if(!U)throw new Error("Not authenticated");const N=[];for(const I of Array.from(S)){const W=I.name.split(".").pop(),K=`${U.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${W}`,{error:G}=await R.storage.from("community-posts").upload(K,I);if(G)throw G;const{data:{publicUrl:Q}}=R.storage.from("community-posts").getPublicUrl(K);N.push(Q)}T(I=>[...I,...N])}catch(U){console.error("Upload error:",U),C.error(a("common.uploadError","ä¸Šä¼ å¤±è´¥"))}finally{y(!1),se.current&&(se.current.value="")}}},ze=w=>new Promise((S,U)=>{const N=document.createElement("video"),I=document.createElement("canvas"),W=I.getContext("2d");N.preload="auto",N.muted=!0,N.playsInline=!0;let K=!1;const G=()=>{K||N.videoWidth===0||N.videoHeight===0||(I.width=N.videoWidth,I.height=N.videoHeight,W&&(W.drawImage(N,0,0,I.width,I.height),I.toBlob(Q=>{Q&&Q.size>0?(K=!0,N.pause(),URL.revokeObjectURL(N.src),S(Q)):U(new Error("Failed to create blob"))},"image/jpeg",.85)))};N.onloadedmetadata=()=>{I.width=N.videoWidth,I.height=N.videoHeight,N.currentTime=.1},N.onseeked=()=>{setTimeout(G,100)},N.onerror=()=>{URL.revokeObjectURL(N.src),U(new Error("Failed to load video"))},setTimeout(()=>{K||(URL.revokeObjectURL(N.src),U(new Error("Timeout")))},1e4),N.src=URL.createObjectURL(w),N.load()}),Be=async w=>{const S=w.target.files?.[0];if(S){if(S.size>100*1024*1024){C.error(a("community.videoTooLarge","è§†é¢‘ä¸èƒ½è¶…è¿‡100MB"));return}y(!0);try{const{data:{user:U}}=await R.auth.getUser();if(!U)throw new Error("Not authenticated");const N=S.name.split(".").pop(),I=`${U.id}/${Date.now()}.${N}`,{error:W}=await R.storage.from("community-posts").upload(I,S);if(W)throw W;const{data:{publicUrl:K}}=R.storage.from("community-posts").getPublicUrl(I);E(K);try{C.info(a("community.extractingCover","æ­£åœ¨æå–è§†é¢‘å°é¢..."));const G=await ze(S),Q=`${U.id}/${Date.now()}-cover.jpg`,{error:We}=await R.storage.from("community-posts").upload(Q,G);if(!We){const{data:{publicUrl:Je}}=R.storage.from("community-posts").getPublicUrl(Q);T(Xe=>[Je,...Xe]),C.success(a("community.coverExtracted","å°é¢å·²è‡ªåŠ¨ç”Ÿæˆ"))}}catch(G){console.warn("Cover extraction failed:",G)}}catch(U){console.error("Upload error:",U),C.error(a("common.uploadError","ä¸Šä¼ å¤±è´¥"))}finally{y(!1),te.current&&(te.current.value="")}}},He=w=>{T(S=>S.filter((U,N)=>N!==w))},Ve=()=>{E(null),T(w=>w.length>0&&w[0].includes("-cover.jpg")?w.slice(1):w)},Ke=async()=>{if(!_.trim()){C.error(a("community.contentRequired","è¯·è¾“å…¥å†…å®¹"));return}if(we&&k.length===0){C.error(a("community.restaurantRequired","è¯·é€‰æ‹©é¤åŽ…"));return}await j.mutateAsync({content:_,image_urls:P,video_url:B||void 0,activity_id:H||void 0,restaurant_ids:k.length>0?k:void 0}),oe(),v(!1)},Ge=()=>n?s(n,"name"):a("community.noRestaurant","æœªå…³è”é¤åŽ…"),Qe=()=>{oe(),v(!1)};return e.jsxs(Us,{open:c,onOpenChange:Ae,children:[e.jsx(Ls,{asChild:!0,children:t||e.jsx(L,{children:a("community.createPost","å‘å¸ƒå¸–å­")})}),e.jsxs(Ts,{side:"bottom",className:"h-full flex flex-col p-0 rounded-none border-0 [&>button]:hidden",children:[e.jsx(us,{children:e.jsx(Es,{children:a("community.createPost","å‘å¸ƒå¸–å­")})}),p==="selecting"&&e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-background shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),className:"p-1 -ml-1 hover:bg-muted rounded-md transition-colors",children:e.jsx(ne,{className:"h-5 w-5"})}),e.jsx("span",{className:"font-medium",children:a("community.create","å‘å¸ƒ")}),e.jsx("div",{className:"w-6"})]}),e.jsx(at,{onSelect:b})]}),p==="recipe"&&e.jsx(dt,{onClose:()=>b("selecting"),onSuccess:Qe}),p==="post"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-background shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>b("selecting"),className:"p-1 -ml-1 hover:bg-muted rounded-md transition-colors",children:e.jsx(ne,{className:"h-5 w-5"})}),e.jsxs(L,{size:"sm",onClick:Ke,disabled:j.isPending||!_.trim(),className:"rounded-full px-6",children:[j.isPending&&e.jsx(Z,{className:"h-4 w-4 mr-2 animate-spin"}),a("community.publish","å‘å¸ƒ")]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"px-4 py-4 space-y-4",children:[!x&&!g&&e.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 bg-primary/10 dark:bg-primary/20 border border-primary/30 dark:border-primary/40 rounded-md text-sm text-primary dark:text-primary",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:a("community.dailyPointsHint","æ¯æ—¥å‘å¸ƒé¦–ä¸ªå¸–å­å¯èŽ·å¾—5ç§¯åˆ†ï¼")})]}),e.jsx(Js,{})]}),e.jsx(Te,{value:_,onChange:w=>$(w.target.value),placeholder:a("community.contentPlaceholder","åˆ†äº«ä½ çš„æƒ³æ³•..."),className:"min-h-[150px] border-none shadow-none resize-none focus-visible:ring-0 p-0 text-base whitespace-pre-wrap"}),P.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:P.map((w,S)=>e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted",children:[e.jsx("img",{src:w,alt:"",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>He(S),className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsx(Y,{className:"h-3 w-3"})})]},S))}),B&&e.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[e.jsx("video",{src:B,controls:!0,className:"w-full max-h-48",preload:"metadata"}),e.jsx("button",{type:"button",onClick:Ve,className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsx(Y,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"px-4 py-2 pb-0 bg-background shrink-0 flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Re,{className:"h-5 w-5 text-muted-foreground shrink-0"}),m?e.jsx("span",{className:"text-sm text-muted-foreground",children:Ge()}):e.jsx(Xs,{open:M,onOpenChange:ee,value:k,onSelect:r,restaurants:d||[],required:we})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{className:"h-5 w-5 text-muted-foreground shrink-0"}),e.jsx(st,{open:Me,onOpenChange:be,value:H,onSelect:O,activities:qe})]})]}),e.jsxs("div",{className:"flex items-center gap-6 px-4 pt-0 py-2 pb-[max(2rem,calc(env(safe-area-inset-bottom)+1rem))] bg-background shrink-0",children:[e.jsx("input",{ref:se,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Oe}),e.jsx("input",{ref:te,type:"file",accept:"video/*",className:"hidden",onChange:Be}),e.jsxs("button",{type:"button",onClick:()=>se.current?.click(),disabled:i||P.length>=9,className:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground disabled:opacity-50 transition-colors",children:[e.jsx(pe,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:a("community.photo","ç…§ç‰‡")})]}),e.jsxs("button",{type:"button",onClick:()=>te.current?.click(),disabled:i||!!B,className:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground disabled:opacity-50 transition-colors",children:[e.jsx(xs,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:a("community.video","è§†é¢‘")})]}),e.jsx(tt,{onSelect:w=>$(S=>S+w)}),i&&e.jsx(Z,{className:"h-5 w-5 animate-spin ml-auto"})]})]})]})]})},ut=()=>e.jsxs("div",{className:"rounded-xl overflow-hidden bg-card border border-border/50",children:[e.jsx(J,{className:"aspect-[4/5] w-full"}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(J,{className:"h-4 w-full"}),e.jsx(J,{className:"h-4 w-3/4"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 rounded-full"}),e.jsx(J,{className:"h-3 w-16"})]}),e.jsx(J,{className:"h-4 w-10"})]})]})]}),Pt=()=>{const{t}=A(),a=Ue(),s=le(),[j,u]=f.useState(()=>localStorage.getItem("community-mobile-layout")==="single"?"single":"double"),[d,l]=f.useState(()=>localStorage.getItem("community-sort")==="popular"?"popular":"latest"),{data:m,isLoading:o}=As({status:"approved",sortBy:d}),{data:h}=qs(),n=f.useCallback(async()=>{a.removeQueries({queryKey:["community-posts"]}),a.removeQueries({queryKey:["can-create-post"]}),a.removeQueries({queryKey:["has-posted-today"]}),await Promise.all([a.invalidateQueries({queryKey:["community-posts"]}),a.invalidateQueries({queryKey:["can-create-post"]}),a.invalidateQueries({queryKey:["has-posted-today"]})])},[a]),g=()=>{const v=j==="double"?"single":"double";u(v),localStorage.setItem("community-mobile-layout",v)},x=v=>{const p=v;l(p),localStorage.setItem("community-sort",p)},c=()=>s?j==="single"?"columns-1 gap-4":"columns-2 gap-3":"columns-3 lg:columns-4 gap-4";return e.jsx(Qs,{onRefresh:n,children:e.jsx("div",{className:"min-h-screen bg-secondary/20 py-8 px-4 animate-fade-in",children:e.jsxs("div",{className:"container mx-auto max-w-5xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl mb-2 text-primary font-medium",children:t("community.title","ç¤¾åŒº")}),e.jsx("p",{className:"text-muted-foreground text-base sm:text-lg",children:t("community.description","åˆ†äº«ç¾Žé£Ÿä½“éªŒï¼Œå‘çŽ°æ›´å¤šç²¾å½©")})]}),h&&e.jsx(mt,{trigger:e.jsxs(L,{size:"sm",className:"gap-1.5",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:t("community.createPost","å‘å¸ƒ")})]})})]}),e.jsx("div",{className:"flex items-center mb-4",children:e.jsxs("div",{className:"inline-flex h-9 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",children:[e.jsxs("button",{onClick:()=>x("latest"),className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 gap-1.5 ${d==="latest"?"bg-background text-foreground shadow-sm":""}`,children:[e.jsx(ie,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:t("community.sortLatest","æœ€æ–°")})]}),e.jsxs("button",{onClick:()=>x("popular"),className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 gap-1.5 ${d==="popular"?"bg-background text-foreground shadow-sm":""}`,children:[e.jsx(Pe,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:t("community.sortPopular","çƒ­é—¨")})]}),s&&e.jsx("button",{onClick:g,className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-2.5 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",title:j==="double"?t("community.singleColumn","å•åˆ—å¸ƒå±€"):t("community.doubleColumn","åŒåˆ—å¸ƒå±€"),children:j==="double"?e.jsx(ps,{className:"h-3.5 w-3.5"}):e.jsx(hs,{className:"h-3.5 w-3.5"})})]})}),o?e.jsx("div",{className:c(),children:Array.from({length:8}).map((v,p)=>e.jsx("div",{className:"break-inside-avoid mb-3 sm:mb-4",children:e.jsx(ut,{})},p))}):m&&m.length>0?e.jsx("div",{className:c(),children:m.map(v=>e.jsx("div",{className:"break-inside-avoid mb-3 sm:mb-4",children:e.jsx(Ws,{post:v,showAssociations:s&&j==="single"})},v.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:e.jsx(re,{className:"w-8 h-8 text-muted-foreground/50"})}),e.jsx("p",{className:"text-muted-foreground text-lg",children:t("community.noPosts","æš‚æ— å¸–å­")}),h&&e.jsx("p",{className:"mt-2 text-sm text-muted-foreground/70",children:t("community.beFirst","æˆä¸ºç¬¬ä¸€ä¸ªå‘å¸–çš„äººå§ï¼")})]})]})})})};export{Pt as default};
//# sourceMappingURL=Community-CY-JMMVd.js.map
