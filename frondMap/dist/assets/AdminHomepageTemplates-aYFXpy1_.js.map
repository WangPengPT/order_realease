{"version":3,"file":"AdminHomepageTemplates-aYFXpy1_.js","sources":["../../src/pages/admin/AdminHomepageTemplates.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle, AlertDialogTrigger } from \"@/components/ui/alert-dialog\";\r\nimport { \r\n  useHomepageTemplates, \r\n  useCreateHomepageTemplate, \r\n  useUpdateHomepageTemplate, \r\n  useDeleteHomepageTemplate,\r\n  useUploadTemplateImage,\r\n  useUploadTemplateVideo,\r\n  HomepageTemplate \r\n} from \"@/hooks/useHomepageTemplates\";\r\nimport { Loader2, Upload, Save, Plus, Trash2, Edit, GripVertical, Eye, EyeOff, Clock, Image, Video, RefreshCw, ChevronDown } from \"lucide-react\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { toast } from \"sonner\";\r\n\r\nconst AdminHomepageTemplates = () => {\r\n  const { t } = useTranslation();\r\n  const { data: templates, isLoading } = useHomepageTemplates();\r\n  const createTemplate = useCreateHomepageTemplate();\r\n  const updateTemplate = useUpdateHomepageTemplate();\r\n  const deleteTemplate = useDeleteHomepageTemplate();\r\n  const uploadImage = useUploadTemplateImage();\r\n  const uploadVideo = useUploadTemplateVideo();\r\n\r\n  const [editingTemplate, setEditingTemplate] = useState<HomepageTemplate | null>(null);\r\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\r\n  const [formData, setFormData] = useState<Partial<HomepageTemplate>>({});\r\n  const [activeTab, setActiveTab] = useState(\"images\");\r\n\r\n  const handleCreate = () => {\r\n    setFormData({\r\n      sort_order: templates?.length || 0,\r\n      is_active: true,\r\n      media_type: 'image',\r\n      desktop_media_type: 'image',\r\n      tablet_media_type: 'image',\r\n      mobile_media_type: 'image',\r\n      duration: 5000,\r\n      overlay_opacity: 40,\r\n      overlay_gradient_direction: \"to-b\",\r\n      overlay_gradient_from: \"background\",\r\n      overlay_gradient_from_opacity: 30,\r\n      overlay_gradient_via: \"background\",\r\n      overlay_gradient_via_opacity: 25,\r\n      overlay_gradient_to: \"background\",\r\n      overlay_gradient_to_opacity: 40,\r\n      background_blur: 0,\r\n      title_zh: \"发现您的亚洲美食之旅\",\r\n      title_en: \"Discover Your Asian Food Journey\",\r\n      title_pt: \"Descubra Sua Jornada Gastronômica Asiática\",\r\n      subtitle_zh: \"您的美食之旅从这里开始\",\r\n      subtitle_en: \"Your culinary journey starts here\",\r\n      subtitle_pt: \"Sua jornada culinária começa aqui\",\r\n      description_zh: \"探索里斯本地区最好的亚洲美食\",\r\n      description_en: \"Explore the best Asian cuisine in the Lisbon area\",\r\n      description_pt: \"Explore a melhor cozinha asiática na área de Lisboa\",\r\n      primary_button_text_zh: \"探索餐厅\",\r\n      primary_button_text_en: \"Explore Restaurants\",\r\n      primary_button_text_pt: \"Explorar Restaurantes\",\r\n      primary_button_link: \"/restaurants\",\r\n      primary_button_variant: \"default\",\r\n      secondary_button_text_zh: \"活动\",\r\n      secondary_button_text_en: \"Activities\",\r\n      secondary_button_text_pt: \"Atividades\",\r\n      secondary_button_link: \"/activities\",\r\n      secondary_button_variant: \"outline\",\r\n    });\r\n    setIsCreateDialogOpen(true);\r\n    setActiveTab(\"media\");\r\n  };\r\n\r\n  const handleEdit = (template: HomepageTemplate) => {\r\n    setFormData(template);\r\n    setEditingTemplate(template);\r\n    setActiveTab(\"media\");\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      if (editingTemplate) {\r\n        await updateTemplate.mutateAsync({ id: editingTemplate.id, ...formData });\r\n        setEditingTemplate(null);\r\n      } else {\r\n        await createTemplate.mutateAsync(formData);\r\n        setIsCreateDialogOpen(false);\r\n      }\r\n      setFormData({});\r\n    } catch (error) {\r\n      console.error(\"Save failed:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    try {\r\n      await deleteTemplate.mutateAsync(id);\r\n    } catch (error) {\r\n      console.error(\"Delete failed:\", error);\r\n    }\r\n  };\r\n\r\n  const handleToggleActive = async (template: HomepageTemplate) => {\r\n    try {\r\n      await updateTemplate.mutateAsync({ id: template.id, is_active: !template.is_active });\r\n    } catch (error) {\r\n      console.error(\"Toggle failed:\", error);\r\n    }\r\n  };\r\n\r\n  const handleImageFileChange = async (e: React.ChangeEvent<HTMLInputElement>, type: \"desktop\" | \"tablet\" | \"mobile\") => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    if (!file.type.startsWith(\"image/\")) {\r\n      toast.error(t(\"admin.homepageTemplates.selectImageFile\"));\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const templateId = editingTemplate?.id || \"new\";\r\n      const result = await uploadImage.mutateAsync({ file, type, templateId });\r\n      setFormData((prev) => ({\r\n        ...prev,\r\n        [`${type}_image_url`]: result.url,\r\n      }));\r\n    } catch (error) {\r\n      console.error(\"Upload failed:\", error);\r\n    }\r\n  };\r\n\r\n  // Extract first frame from video as image\r\n  const extractVideoFirstFrame = (videoFile: File): Promise<Blob> => {\r\n    return new Promise((resolve, reject) => {\r\n      const video = document.createElement('video');\r\n      const canvas = document.createElement('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n      \r\n      video.preload = 'auto';\r\n      video.muted = true;\r\n      video.playsInline = true;\r\n      video.crossOrigin = 'anonymous';\r\n      \r\n      let hasResolved = false;\r\n      \r\n      const captureFrame = () => {\r\n        if (hasResolved) return;\r\n        if (video.videoWidth === 0 || video.videoHeight === 0) return;\r\n        \r\n        // Set canvas size to video dimensions\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        \r\n        if (ctx) {\r\n          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n          canvas.toBlob((blob) => {\r\n            if (blob && blob.size > 0) {\r\n              hasResolved = true;\r\n              video.pause();\r\n              URL.revokeObjectURL(video.src);\r\n              resolve(blob);\r\n            } else {\r\n              reject(new Error('Failed to create blob from canvas'));\r\n            }\r\n          }, 'image/jpeg', 0.95);\r\n        } else {\r\n          reject(new Error('Failed to get canvas context'));\r\n        }\r\n      };\r\n      \r\n      // Try multiple approaches to capture the first frame\r\n      video.onloadedmetadata = () => {\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        // Seek to beginning\r\n        video.currentTime = 0.1; // Slight offset to ensure frame is rendered\r\n      };\r\n      \r\n      video.onseeked = () => {\r\n        // Wait a bit for the frame to actually render\r\n        setTimeout(captureFrame, 100);\r\n      };\r\n      \r\n      video.oncanplay = () => {\r\n        // Fallback: try to capture when video can play\r\n        if (!hasResolved && video.currentTime >= 0.1) {\r\n          setTimeout(captureFrame, 100);\r\n        }\r\n      };\r\n      \r\n      video.onerror = (e) => {\r\n        URL.revokeObjectURL(video.src);\r\n        reject(new Error('Failed to load video: ' + (e as any)?.message || 'Unknown error'));\r\n      };\r\n      \r\n      // Set timeout to prevent hanging\r\n      setTimeout(() => {\r\n        if (!hasResolved) {\r\n          URL.revokeObjectURL(video.src);\r\n          reject(new Error('Timeout while extracting video frame'));\r\n        }\r\n      }, 10000);\r\n      \r\n      video.src = URL.createObjectURL(videoFile);\r\n      video.load();\r\n    });\r\n  };\r\n\r\n  // Extract first frame from video URL (for existing videos)\r\n  const extractFirstFrameFromUrl = (videoUrl: string): Promise<Blob> => {\r\n    return new Promise((resolve, reject) => {\r\n      const video = document.createElement('video');\r\n      const canvas = document.createElement('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n      \r\n      video.preload = 'auto';\r\n      video.muted = true;\r\n      video.playsInline = true;\r\n      video.crossOrigin = 'anonymous';\r\n      \r\n      let hasResolved = false;\r\n      \r\n      const captureFrame = () => {\r\n        if (hasResolved) return;\r\n        if (video.videoWidth === 0 || video.videoHeight === 0) return;\r\n        \r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        \r\n        if (ctx) {\r\n          ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n          canvas.toBlob((blob) => {\r\n            if (blob && blob.size > 0) {\r\n              hasResolved = true;\r\n              video.pause();\r\n              resolve(blob);\r\n            } else {\r\n              reject(new Error('Failed to create blob from canvas'));\r\n            }\r\n          }, 'image/jpeg', 0.95);\r\n        } else {\r\n          reject(new Error('Failed to get canvas context'));\r\n        }\r\n      };\r\n      \r\n      video.onloadedmetadata = () => {\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        video.currentTime = 0.1;\r\n      };\r\n      \r\n      video.onseeked = () => {\r\n        setTimeout(captureFrame, 100);\r\n      };\r\n      \r\n      video.oncanplay = () => {\r\n        if (!hasResolved && video.currentTime >= 0.1) {\r\n          setTimeout(captureFrame, 100);\r\n        }\r\n      };\r\n      \r\n      video.onerror = () => {\r\n        reject(new Error('Failed to load video from URL'));\r\n      };\r\n      \r\n      setTimeout(() => {\r\n        if (!hasResolved) {\r\n          reject(new Error('Timeout while extracting video frame from URL'));\r\n        }\r\n      }, 15000);\r\n      \r\n      video.src = videoUrl;\r\n      video.load();\r\n    });\r\n  };\r\n\r\n  // Regenerate poster images from existing videos\r\n  const [isRegenerating, setIsRegenerating] = useState(false);\r\n  \r\n  const regeneratePosters = async (targetType?: \"desktop\" | \"tablet\" | \"mobile\") => {\r\n    const videoTypes: Array<\"desktop\" | \"tablet\" | \"mobile\"> = targetType \r\n      ? [targetType] \r\n      : [\"desktop\", \"tablet\", \"mobile\"];\r\n    const templateId = editingTemplate?.id || \"new\";\r\n    \r\n    const typeLabels = {\r\n      desktop: \"桌面端\",\r\n      tablet: \"平板端\", \r\n      mobile: \"移动端\"\r\n    };\r\n    \r\n    setIsRegenerating(true);\r\n    let successCount = 0;\r\n    let failCount = 0;\r\n    \r\n    for (const type of videoTypes) {\r\n      const videoUrl = formData[`${type}_video_url` as keyof typeof formData] as string | undefined;\r\n      if (!videoUrl) continue;\r\n      \r\n      try {\r\n        toast.info(`正在提取${typeLabels[type]}视频第一帧...`);\r\n        const firstFrameBlob = await extractFirstFrameFromUrl(videoUrl);\r\n        const firstFrameFile = new File([firstFrameBlob], `${type}-poster-${Date.now()}.jpg`, { type: 'image/jpeg' });\r\n        const imageResult = await uploadImage.mutateAsync({ file: firstFrameFile, type, templateId });\r\n        \r\n        setFormData((prev) => ({\r\n          ...prev,\r\n          [`${type}_image_url`]: imageResult.url,\r\n        }));\r\n        successCount++;\r\n      } catch (error) {\r\n        console.error(`Failed to regenerate ${type} poster:`, error);\r\n        failCount++;\r\n      }\r\n    }\r\n    \r\n    setIsRegenerating(false);\r\n    \r\n    if (successCount > 0) {\r\n      const message = targetType \r\n        ? `成功重新生成${typeLabels[targetType]}备用图片`\r\n        : `成功重新生成 ${successCount} 个备用图片`;\r\n      toast.success(message);\r\n    }\r\n    if (failCount > 0) {\r\n      toast.warning(`${failCount} 个视频提取失败，可能是跨域限制`);\r\n    }\r\n    if (successCount === 0 && failCount === 0) {\r\n      const message = targetType\r\n        ? `${typeLabels[targetType]}没有视频需要处理`\r\n        : \"没有找到需要处理的视频\";\r\n      toast.info(message);\r\n    }\r\n  };\r\n\r\n  const handleVideoFileChange = async (e: React.ChangeEvent<HTMLInputElement>, type: \"desktop\" | \"tablet\" | \"mobile\") => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    if (!file.type.startsWith(\"video/\")) {\r\n      toast.error(\"请选择视频文件\");\r\n      return;\r\n    }\r\n\r\n    // Check file size (max 100MB)\r\n    if (file.size > 100 * 1024 * 1024) {\r\n      toast.error(\"视频文件大小不能超过100MB\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const templateId = editingTemplate?.id || \"new\";\r\n      \r\n      // Upload video\r\n      const result = await uploadVideo.mutateAsync({ file, type, templateId });\r\n      \r\n      // Extract first frame and upload as fallback image\r\n      try {\r\n        toast.info(\"正在提取视频第一帧作为备用图片...\");\r\n        const firstFrameBlob = await extractVideoFirstFrame(file);\r\n        const firstFrameFile = new File([firstFrameBlob], `${type}-poster-${Date.now()}.jpg`, { type: 'image/jpeg' });\r\n        const imageResult = await uploadImage.mutateAsync({ file: firstFrameFile, type, templateId });\r\n        \r\n        setFormData((prev) => ({\r\n          ...prev,\r\n          [`${type}_video_url`]: result.url,\r\n          [`${type}_image_url`]: imageResult.url,\r\n        }));\r\n        toast.success(\"视频和备用图片已自动生成\");\r\n      } catch (frameError) {\r\n        console.error(\"Failed to extract first frame:\", frameError);\r\n        // Still set video URL even if frame extraction fails\r\n        setFormData((prev) => ({\r\n          ...prev,\r\n          [`${type}_video_url`]: result.url,\r\n        }));\r\n        toast.warning(\"视频已上传，但无法自动提取第一帧，请手动上传备用图片\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Upload failed:\", error);\r\n    }\r\n  };\r\n\r\n  const handleFieldChange = (field: string, value: any) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const closeDialog = () => {\r\n    setEditingTemplate(null);\r\n    setIsCreateDialogOpen(false);\r\n    setFormData({});\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const renderTemplateForm = () => (\r\n    <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n      <TabsList className=\"grid w-full grid-cols-4\">\r\n        <TabsTrigger value=\"media\">媒体</TabsTrigger>\r\n        <TabsTrigger value=\"overlay\">{t(\"admin.homepageTemplates.tabs.overlay\")}</TabsTrigger>\r\n        <TabsTrigger value=\"content\">{t(\"admin.homepageTemplates.tabs.content\")}</TabsTrigger>\r\n        <TabsTrigger value=\"buttons\">{t(\"admin.homepageTemplates.tabs.buttons\")}</TabsTrigger>\r\n      </TabsList>\r\n\r\n      {/* Media Tab */}\r\n      <TabsContent value=\"media\" className=\"space-y-6 mt-4\">\r\n        <p className=\"text-sm text-muted-foreground\">每个端可以独立选择图片或视频，支持混合配置（如：桌面端视频 + 移动端图片）</p>\r\n        \r\n        {/* Desktop Media */}\r\n        <div className=\"space-y-3 p-4 border rounded-lg\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label className=\"text-base font-medium\">桌面端</Label>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                variant={(formData.desktop_media_type || 'image') === 'image' ? 'default' : 'outline'}\r\n                onClick={() => handleFieldChange('desktop_media_type', 'image')}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Image className=\"w-3 h-3\" />\r\n                图片\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                variant={(formData.desktop_media_type || 'image') === 'video' ? 'default' : 'outline'}\r\n                onClick={() => handleFieldChange('desktop_media_type', 'video')}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Video className=\"w-3 h-3\" />\r\n                视频\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          {(formData.desktop_media_type || 'image') === 'image' ? (\r\n            <div className=\"flex items-center gap-4\">\r\n              {formData.desktop_image_url && (\r\n                <img src={formData.desktop_image_url} alt=\"Desktop\" className=\"w-32 h-20 object-cover rounded border\" />\r\n              )}\r\n              <Input type=\"file\" accept=\"image/*\" onChange={(e) => handleImageFileChange(e, \"desktop\")} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-4\">\r\n                {formData.desktop_video_url && (\r\n                  <video src={formData.desktop_video_url} className=\"w-32 h-20 object-cover rounded border\" muted />\r\n                )}\r\n                <Input type=\"file\" accept=\"video/mp4,video/webm\" onChange={(e) => handleVideoFileChange(e, \"desktop\")} />\r\n              </div>\r\n              {formData.desktop_image_url && (\r\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                  <span>备用图片:</span>\r\n                  <img src={formData.desktop_image_url} alt=\"Desktop poster\" className=\"w-16 h-10 object-cover rounded border\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Tablet Media */}\r\n        <div className=\"space-y-3 p-4 border rounded-lg\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label className=\"text-base font-medium\">平板端</Label>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                variant={(formData.tablet_media_type || 'image') === 'image' ? 'default' : 'outline'}\r\n                onClick={() => handleFieldChange('tablet_media_type', 'image')}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Image className=\"w-3 h-3\" />\r\n                图片\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                variant={(formData.tablet_media_type || 'image') === 'video' ? 'default' : 'outline'}\r\n                onClick={() => handleFieldChange('tablet_media_type', 'video')}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Video className=\"w-3 h-3\" />\r\n                视频\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          {(formData.tablet_media_type || 'image') === 'image' ? (\r\n            <div className=\"flex items-center gap-4\">\r\n              {formData.tablet_image_url && (\r\n                <img src={formData.tablet_image_url} alt=\"Tablet\" className=\"w-32 h-20 object-cover rounded border\" />\r\n              )}\r\n              <Input type=\"file\" accept=\"image/*\" onChange={(e) => handleImageFileChange(e, \"tablet\")} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-4\">\r\n                {formData.tablet_video_url && (\r\n                  <video src={formData.tablet_video_url} className=\"w-32 h-20 object-cover rounded border\" muted />\r\n                )}\r\n                <Input type=\"file\" accept=\"video/mp4,video/webm\" onChange={(e) => handleVideoFileChange(e, \"tablet\")} />\r\n              </div>\r\n              {formData.tablet_image_url && (\r\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                  <span>备用图片:</span>\r\n                  <img src={formData.tablet_image_url} alt=\"Tablet poster\" className=\"w-16 h-10 object-cover rounded border\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Mobile Media */}\r\n        <div className=\"space-y-3 p-4 border rounded-lg\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label className=\"text-base font-medium\">移动端</Label>\r\n            <div className=\"flex gap-2\">\r\n              <Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                variant={(formData.mobile_media_type || 'image') === 'image' ? 'default' : 'outline'}\r\n                onClick={() => handleFieldChange('mobile_media_type', 'image')}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Image className=\"w-3 h-3\" />\r\n                图片\r\n              </Button>\r\n              <Button\r\n                type=\"button\"\r\n                size=\"sm\"\r\n                variant={(formData.mobile_media_type || 'image') === 'video' ? 'default' : 'outline'}\r\n                onClick={() => handleFieldChange('mobile_media_type', 'video')}\r\n                className=\"flex items-center gap-1\"\r\n              >\r\n                <Video className=\"w-3 h-3\" />\r\n                视频\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          {(formData.mobile_media_type || 'image') === 'image' ? (\r\n            <div className=\"flex items-center gap-4\">\r\n              {formData.mobile_image_url && (\r\n                <img src={formData.mobile_image_url} alt=\"Mobile\" className=\"w-32 h-20 object-cover rounded border\" />\r\n              )}\r\n              <Input type=\"file\" accept=\"image/*\" onChange={(e) => handleImageFileChange(e, \"mobile\")} />\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex items-center gap-4\">\r\n                {formData.mobile_video_url && (\r\n                  <video src={formData.mobile_video_url} className=\"w-32 h-20 object-cover rounded border\" muted />\r\n                )}\r\n                <Input type=\"file\" accept=\"video/mp4,video/webm\" onChange={(e) => handleVideoFileChange(e, \"mobile\")} />\r\n              </div>\r\n              {formData.mobile_image_url && (\r\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                  <span>备用图片:</span>\r\n                  <img src={formData.mobile_image_url} alt=\"Mobile poster\" className=\"w-16 h-10 object-cover rounded border\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Regenerate posters button */}\r\n        {(formData.desktop_video_url || formData.tablet_video_url || formData.mobile_video_url) && (\r\n          <div className=\"pt-4 border-t\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <Label className=\"text-sm font-medium\">备用图片管理</Label>\r\n                <p className=\"text-xs text-muted-foreground\">上传视频时会自动截取第一帧作为备用图片</p>\r\n              </div>\r\n              <DropdownMenu>\r\n                <DropdownMenuTrigger asChild>\r\n                  <Button \r\n                    type=\"button\" \r\n                    variant=\"outline\" \r\n                    size=\"sm\"\r\n                    disabled={isRegenerating}\r\n                  >\r\n                    {isRegenerating ? (\r\n                      <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                    ) : (\r\n                      <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                    )}\r\n                    重新生成第一帧\r\n                    <ChevronDown className=\"w-4 h-4 ml-2\" />\r\n                  </Button>\r\n                </DropdownMenuTrigger>\r\n                <DropdownMenuContent align=\"end\">\r\n                  <DropdownMenuItem onClick={() => regeneratePosters()}>\r\n                    全部重新生成\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuSeparator />\r\n                  <DropdownMenuItem \r\n                    onClick={() => regeneratePosters(\"desktop\")}\r\n                    disabled={!formData.desktop_video_url}\r\n                    className={!formData.desktop_video_url ? \"opacity-50 cursor-not-allowed\" : \"\"}\r\n                  >\r\n                    仅桌面端\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuItem \r\n                    onClick={() => regeneratePosters(\"tablet\")}\r\n                    disabled={!formData.tablet_video_url}\r\n                    className={!formData.tablet_video_url ? \"opacity-50 cursor-not-allowed\" : \"\"}\r\n                  >\r\n                    仅平板端\r\n                  </DropdownMenuItem>\r\n                  <DropdownMenuItem \r\n                    onClick={() => regeneratePosters(\"mobile\")}\r\n                    disabled={!formData.mobile_video_url}\r\n                    className={!formData.mobile_video_url ? \"opacity-50 cursor-not-allowed\" : \"\"}\r\n                  >\r\n                    仅移动端\r\n                  </DropdownMenuItem>\r\n                </DropdownMenuContent>\r\n              </DropdownMenu>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.duration\")}</Label>\r\n            <Input\r\n              type=\"number\"\r\n              value={formData.duration || 5000}\r\n              onChange={(e) => handleFieldChange(\"duration\", parseInt(e.target.value) || 5000)}\r\n              min={1000}\r\n              max={30000}\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">{t(\"admin.homepageTemplates.durationHint\")}</p>\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.sortOrder\")}</Label>\r\n            <Input\r\n              type=\"number\"\r\n              value={formData.sort_order || 0}\r\n              onChange={(e) => handleFieldChange(\"sort_order\", parseInt(e.target.value) || 0)}\r\n            />\r\n          </div>\r\n        </div>\r\n      </TabsContent>\r\n\r\n      {/* Overlay Tab */}\r\n      <TabsContent value=\"overlay\" className=\"space-y-4 mt-4\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.baseOverlayOpacity\")}: {formData.overlay_opacity || 40}%</Label>\r\n            <Slider\r\n              value={[formData.overlay_opacity || 40]}\r\n              onValueChange={([value]) => handleFieldChange(\"overlay_opacity\", value)}\r\n              max={100}\r\n              step={1}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.gradientDirection\")}</Label>\r\n            <Select\r\n              value={formData.overlay_gradient_direction || \"to-b\"}\r\n              onValueChange={(value) => handleFieldChange(\"overlay_gradient_direction\", value)}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"to-b\">{t(\"admin.homepageTemplates.gradientDirection.toBottom\")}</SelectItem>\r\n                <SelectItem value=\"to-t\">{t(\"admin.homepageTemplates.gradientDirection.toTop\")}</SelectItem>\r\n                <SelectItem value=\"to-r\">{t(\"admin.homepageTemplates.gradientDirection.toRight\")}</SelectItem>\r\n                <SelectItem value=\"to-l\">{t(\"admin.homepageTemplates.gradientDirection.toLeft\")}</SelectItem>\r\n                <SelectItem value=\"to-br\">{t(\"admin.homepageTemplates.gradientDirection.toBottomRight\")}</SelectItem>\r\n                <SelectItem value=\"to-tr\">{t(\"admin.homepageTemplates.gradientDirection.toTopRight\")}</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-3 gap-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label>{t(\"admin.homepageTemplates.startOpacity\")}</Label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                value={formData.overlay_gradient_from_opacity || 30}\r\n                onChange={(e) => handleFieldChange(\"overlay_gradient_from_opacity\", parseInt(e.target.value) || 0)}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>{t(\"admin.homepageTemplates.middleOpacity\")}</Label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                value={formData.overlay_gradient_via_opacity || 25}\r\n                onChange={(e) => handleFieldChange(\"overlay_gradient_via_opacity\", parseInt(e.target.value) || 0)}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>{t(\"admin.homepageTemplates.endOpacity\")}</Label>\r\n              <Input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                value={formData.overlay_gradient_to_opacity || 40}\r\n                onChange={(e) => handleFieldChange(\"overlay_gradient_to_opacity\", parseInt(e.target.value) || 0)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.backgroundBlur\")}: {formData.background_blur || 0}px</Label>\r\n            <Slider\r\n              value={[formData.background_blur || 0]}\r\n              onValueChange={([value]) => handleFieldChange(\"background_blur\", value)}\r\n              max={50}\r\n              step={1}\r\n            />\r\n          </div>\r\n        </div>\r\n      </TabsContent>\r\n\r\n      {/* Content Tab */}\r\n      <TabsContent value=\"content\" className=\"space-y-4 mt-4\">\r\n        <div className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.titleChinese\")}</Label>\r\n            <Input value={formData.title_zh || \"\"} onChange={(e) => handleFieldChange(\"title_zh\", e.target.value)} />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.titleEnglish\")}</Label>\r\n            <Input value={formData.title_en || \"\"} onChange={(e) => handleFieldChange(\"title_en\", e.target.value)} />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.titlePortuguese\")}</Label>\r\n            <Input value={formData.title_pt || \"\"} onChange={(e) => handleFieldChange(\"title_pt\", e.target.value)} />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.descriptionChinese\")}</Label>\r\n            <Textarea value={formData.description_zh || \"\"} onChange={(e) => handleFieldChange(\"description_zh\", e.target.value)} />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.descriptionEnglish\")}</Label>\r\n            <Textarea value={formData.description_en || \"\"} onChange={(e) => handleFieldChange(\"description_en\", e.target.value)} />\r\n          </div>\r\n          <div className=\"space-y-2\">\r\n            <Label>{t(\"admin.homepageTemplates.descriptionPortuguese\")}</Label>\r\n            <Textarea value={formData.description_pt || \"\"} onChange={(e) => handleFieldChange(\"description_pt\", e.target.value)} />\r\n          </div>\r\n        </div>\r\n      </TabsContent>\r\n\r\n      {/* Buttons Tab */}\r\n      <TabsContent value=\"buttons\" className=\"space-y-4 mt-4\">\r\n        <Card>\r\n          <CardHeader className=\"py-3\">\r\n            <CardTitle className=\"text-lg\">{t(\"admin.homepageTemplates.primaryButton\")}</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.chinese\")}</Label>\r\n                <Input value={formData.primary_button_text_zh || \"\"} onChange={(e) => handleFieldChange(\"primary_button_text_zh\", e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.english\")}</Label>\r\n                <Input value={formData.primary_button_text_en || \"\"} onChange={(e) => handleFieldChange(\"primary_button_text_en\", e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.portuguese\")}</Label>\r\n                <Input value={formData.primary_button_text_pt || \"\"} onChange={(e) => handleFieldChange(\"primary_button_text_pt\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>{t(\"admin.homepageTemplates.link\")}</Label>\r\n              <Input value={formData.primary_button_link || \"\"} onChange={(e) => handleFieldChange(\"primary_button_link\", e.target.value)} />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"py-3\">\r\n            <CardTitle className=\"text-lg\">{t(\"admin.homepageTemplates.secondaryButton\")}</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.chinese\")}</Label>\r\n                <Input value={formData.secondary_button_text_zh || \"\"} onChange={(e) => handleFieldChange(\"secondary_button_text_zh\", e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.english\")}</Label>\r\n                <Input value={formData.secondary_button_text_en || \"\"} onChange={(e) => handleFieldChange(\"secondary_button_text_en\", e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.portuguese\")}</Label>\r\n                <Input value={formData.secondary_button_text_pt || \"\"} onChange={(e) => handleFieldChange(\"secondary_button_text_pt\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>{t(\"admin.homepageTemplates.link\")}</Label>\r\n              <Input value={formData.secondary_button_link || \"\"} onChange={(e) => handleFieldChange(\"secondary_button_link\", e.target.value)} />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"py-3\">\r\n            <CardTitle className=\"text-lg\">{t(\"admin.homepageTemplates.subtitleButton\")}</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div className=\"grid grid-cols-3 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.chinese\")}</Label>\r\n                <Input value={formData.subtitle_button_text_zh || \"\"} onChange={(e) => handleFieldChange(\"subtitle_button_text_zh\", e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.english\")}</Label>\r\n                <Input value={formData.subtitle_button_text_en || \"\"} onChange={(e) => handleFieldChange(\"subtitle_button_text_en\", e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.homepageTemplates.portuguese\")}</Label>\r\n                <Input value={formData.subtitle_button_text_pt || \"\"} onChange={(e) => handleFieldChange(\"subtitle_button_text_pt\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label>{t(\"admin.homepageTemplates.link\")}</Label>\r\n              <Input value={formData.subtitle_button_link || \"\"} onChange={(e) => handleFieldChange(\"subtitle_button_link\", e.target.value)} />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </TabsContent>\r\n    </Tabs>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">{t(\"admin.homepageTemplates\")}</h1>\r\n          <p className=\"text-muted-foreground mt-2\">{t(\"admin.homepageTemplatesDescription\")}</p>\r\n        </div>\r\n        <Button onClick={handleCreate}>\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          {t(\"admin.homepageTemplates.createTemplate\")}\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Template List */}\r\n      <div className=\"grid gap-4\">\r\n        {templates?.map((template) => (\r\n          <Card key={template.id} className={!template.is_active ? \"opacity-60\" : \"\"}>\r\n            <CardContent className=\"p-4\">\r\n              <div className=\"flex items-center gap-4\">\r\n                <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                  <GripVertical className=\"w-5 h-5\" />\r\n                  <span className=\"text-sm font-medium\">#{template.sort_order}</span>\r\n                </div>\r\n                \r\n                {template.desktop_image_url && (\r\n                  <img \r\n                    src={template.desktop_image_url} \r\n                    alt=\"Preview\" \r\n                    className=\"w-24 h-16 object-cover rounded border\"\r\n                  />\r\n                )}\r\n\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <h3 className=\"font-semibold truncate\">{template.title_zh}</h3>\r\n                  <p className=\"text-sm text-muted-foreground truncate\">{template.description_zh}</p>\r\n                  <div className=\"flex items-center gap-2 mt-1\">\r\n                    <Clock className=\"w-3 h-3 text-muted-foreground\" />\r\n                    <span className=\"text-xs text-muted-foreground\">{template.duration / 1000}{t(\"admin.homepageTemplates.seconds\")}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    onClick={() => handleToggleActive(template)}\r\n                    title={template.is_active ? t(\"admin.homepageTemplates.hide\") : t(\"admin.homepageTemplates.show\")}\r\n                  >\r\n                    {template.is_active ? <Eye className=\"w-4 h-4\" /> : <EyeOff className=\"w-4 h-4\" />}\r\n                  </Button>\r\n                  <Button variant=\"ghost\" size=\"icon\" onClick={() => handleEdit(template)}>\r\n                    <Edit className=\"w-4 h-4\" />\r\n                  </Button>\r\n                  <AlertDialog>\r\n                    <AlertDialogTrigger asChild>\r\n                      <Button variant=\"ghost\" size=\"icon\" className=\"text-destructive hover:text-destructive\">\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </Button>\r\n                    </AlertDialogTrigger>\r\n                    <AlertDialogContent>\r\n                      <AlertDialogHeader>\r\n                        <AlertDialogTitle>{t(\"admin.confirmDelete\")}</AlertDialogTitle>\r\n                        <AlertDialogDescription>\r\n                          {t(\"admin.homepageTemplates.deleteTemplateConfirm\")}\r\n                        </AlertDialogDescription>\r\n                      </AlertDialogHeader>\r\n                      <AlertDialogFooter>\r\n                        <AlertDialogCancel>{t(\"common.cancel\")}</AlertDialogCancel>\r\n                        <AlertDialogAction onClick={() => handleDelete(template.id)}>{t(\"common.delete\")}</AlertDialogAction>\r\n                      </AlertDialogFooter>\r\n                    </AlertDialogContent>\r\n                  </AlertDialog>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n\r\n        {(!templates || templates.length === 0) && (\r\n          <Card>\r\n            <CardContent className=\"p-8 text-center text-muted-foreground\">\r\n              {t(\"admin.homepageTemplates.noTemplates\")}\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n      </div>\r\n\r\n      {/* Edit/Create Dialog */}\r\n      <Dialog open={!!editingTemplate || isCreateDialogOpen} onOpenChange={closeDialog}>\r\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>{editingTemplate ? t(\"admin.homepageTemplates.editTemplate\") : t(\"admin.homepageTemplates.createTemplate\")}</DialogTitle>\r\n            <DialogDescription>\r\n              {t(\"admin.homepageTemplates.configureTemplate\")}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {renderTemplateForm()}\r\n\r\n          <div className=\"flex justify-end gap-2 mt-4\">\r\n            <Button variant=\"outline\" onClick={closeDialog}>{t(\"common.cancel\")}</Button>\r\n            <Button onClick={handleSave} disabled={createTemplate.isPending || updateTemplate.isPending}>\r\n              {(createTemplate.isPending || updateTemplate.isPending) && (\r\n                <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n              )}\r\n              <Save className=\"w-4 h-4 mr-2\" />\r\n              {t(\"common.save\")}\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminHomepageTemplates;\r\n"],"names":["AdminHomepageTemplates","t","useTranslation","templates","isLoading","useHomepageTemplates","createTemplate","useCreateHomepageTemplate","updateTemplate","useUpdateHomepageTemplate","deleteTemplate","useDeleteHomepageTemplate","uploadImage","useUploadTemplateImage","uploadVideo","useUploadTemplateVideo","editingTemplate","setEditingTemplate","useState","isCreateDialogOpen","setIsCreateDialogOpen","formData","setFormData","activeTab","setActiveTab","handleCreate","handleEdit","template","handleSave","error","handleDelete","id","handleToggleActive","handleImageFileChange","e","type","file","toast","templateId","result","prev","extractVideoFirstFrame","videoFile","resolve","reject","video","canvas","ctx","hasResolved","captureFrame","blob","extractFirstFrameFromUrl","videoUrl","isRegenerating","setIsRegenerating","regeneratePosters","targetType","videoTypes","typeLabels","successCount","failCount","firstFrameBlob","firstFrameFile","imageResult","message","handleVideoFileChange","frameError","handleFieldChange","field","value","closeDialog","jsx","Loader2","renderTemplateForm","jsxs","Tabs","TabsList","TabsTrigger","TabsContent","Label","Button","Image","Video","Input","DropdownMenu","DropdownMenuTrigger","RefreshCw","ChevronDown","DropdownMenuContent","DropdownMenuItem","DropdownMenuSeparator","Slider","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Textarea","Card","CardHeader","CardTitle","CardContent","Plus","GripVertical","Clock","Eye","EyeOff","Edit","AlertDialog","AlertDialogTrigger","Trash2","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Save"],"mappings":"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"}