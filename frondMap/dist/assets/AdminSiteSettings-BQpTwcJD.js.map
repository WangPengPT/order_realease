{"version":3,"file":"AdminSiteSettings-BQpTwcJD.js","sources":["../../src/pages/admin/AdminSiteSettings.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { useSiteSettings } from \"@/hooks/useSiteSettings\";\r\nimport { Upload, Image, Loader2, Phone, MessageSquare, Mail, Users, Mic, Link2, Info } from \"lucide-react\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\nimport logoFallback from \"@/assets/xiaoxiong-logo-christmas.png\";\r\n\r\nconst AdminSiteSettings = () => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const queryClient = useQueryClient();\r\n  const { settings, isLoading, updateSettings, uploadLogo } = useSiteSettings();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadingFavicon, setUploadingFavicon] = useState(false);\r\n  const logoInputRef = useRef<HTMLInputElement>(null);\r\n  const faviconInputRef = useRef<HTMLInputElement>(null);\r\n  const joinUsRef = useRef<HTMLDivElement>(null);\r\n  const contactInfoRef = useRef<HTMLDivElement>(null);\r\n  \r\n  // Local state for sliders to enable real-time preview\r\n  const [localWidth, setLocalWidth] = useState(35);\r\n  const [localHeight, setLocalHeight] = useState(35);\r\n\r\n  // Local state for join us settings\r\n  const [joinPhone, setJoinPhone] = useState(\"\");\r\n  const [joinTitleZh, setJoinTitleZh] = useState(\"\");\r\n  const [joinTitleEn, setJoinTitleEn] = useState(\"\");\r\n  const [joinTitlePt, setJoinTitlePt] = useState(\"\");\r\n  const [joinMessageZh, setJoinMessageZh] = useState(\"\");\r\n  const [joinMessageEn, setJoinMessageEn] = useState(\"\");\r\n  const [joinMessagePt, setJoinMessagePt] = useState(\"\");\r\n\r\n  // Local state for contact info\r\n  const [contactPhone, setContactPhone] = useState(\"\");\r\n  const [contactEmail, setContactEmail] = useState(\"\");\r\n\r\n  // Sync local state with settings when loaded\r\n  useEffect(() => {\r\n    if (settings) {\r\n      setLocalWidth(settings.logo_width || 35);\r\n      setLocalHeight(settings.logo_height || 35);\r\n      setJoinPhone(settings.join_contact_phone || \"968815050\");\r\n      setJoinTitleZh(settings.join_success_title_zh || \"信息已提交成功！\");\r\n      setJoinTitleEn(settings.join_success_title_en || \"Request Submitted!\");\r\n      setJoinTitlePt(settings.join_success_title_pt || \"Informação Enviada com Sucesso!\");\r\n      setJoinMessageZh(settings.join_success_message_zh || \"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。\");\r\n      setJoinMessageEn(settings.join_success_message_en || \"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours.\");\r\n      setJoinMessagePt(settings.join_success_message_pt || \"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis.\");\r\n      setContactPhone(settings.contact_phone || \"\");\r\n      setContactEmail(settings.contact_email || \"\");\r\n    }\r\n  }, [settings]);\r\n\r\n  // Handle hash navigation for join-us and contact-info sections\r\n  useEffect(() => {\r\n    if (location.hash === \"#join-us\" && joinUsRef.current) {\r\n      setTimeout(() => {\r\n        joinUsRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n      }, 100);\r\n    } else if (location.hash === \"#contact-info\" && contactInfoRef.current) {\r\n      setTimeout(() => {\r\n        contactInfoRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\r\n      }, 100);\r\n    }\r\n  }, [location.hash, isLoading]);\r\n\r\n  const handleLogoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    try {\r\n      const url = await uploadLogo(file);\r\n      if (url) {\r\n        await updateSettings.mutateAsync({ logo_url: url });\r\n      }\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleFaviconUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploadingFavicon(true);\r\n    try {\r\n      const url = await uploadLogo(file);\r\n      if (url) {\r\n        await updateSettings.mutateAsync({ favicon_url: url });\r\n      }\r\n    } finally {\r\n      setUploadingFavicon(false);\r\n    }\r\n  };\r\n\r\n  const handleWidthChange = (value: number[]) => {\r\n    setLocalWidth(value[0]);\r\n  };\r\n\r\n  const handleHeightChange = (value: number[]) => {\r\n    setLocalHeight(value[0]);\r\n  };\r\n\r\n  const handleWidthCommit = async (value: number[]) => {\r\n    await updateSettings.mutateAsync({ logo_width: value[0] });\r\n  };\r\n\r\n  const handleHeightCommit = async (value: number[]) => {\r\n    await updateSettings.mutateAsync({ logo_height: value[0] });\r\n  };\r\n\r\n  const handleWidthInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = parseInt(e.target.value) || 20;\r\n    const clampedValue = Math.min(Math.max(value, 20), 100);\r\n    setLocalWidth(clampedValue);\r\n  };\r\n\r\n  const handleWidthInputBlur = async () => {\r\n    await updateSettings.mutateAsync({ logo_width: localWidth });\r\n  };\r\n\r\n  const handleHeightInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = parseInt(e.target.value) || 20;\r\n    const clampedValue = Math.min(Math.max(value, 20), 100);\r\n    setLocalHeight(clampedValue);\r\n  };\r\n\r\n  const handleHeightInputBlur = async () => {\r\n    await updateSettings.mutateAsync({ logo_height: localHeight });\r\n  };\r\n\r\n  const handleRemoveLogo = async () => {\r\n    await updateSettings.mutateAsync({ logo_url: null });\r\n  };\r\n\r\n  const handleRemoveFavicon = async () => {\r\n    await updateSettings.mutateAsync({ favicon_url: null });\r\n  };\r\n\r\n  const handleSaveJoinSettings = async () => {\r\n    await updateSettings.mutateAsync({\r\n      join_contact_phone: joinPhone,\r\n      join_success_title_zh: joinTitleZh,\r\n      join_success_title_en: joinTitleEn,\r\n      join_success_title_pt: joinTitlePt,\r\n      join_success_message_zh: joinMessageZh,\r\n      join_success_message_en: joinMessageEn,\r\n      join_success_message_pt: joinMessagePt,\r\n    });\r\n  };\r\n\r\n  const handleSaveContactInfo = async () => {\r\n    await updateSettings.mutateAsync({\r\n      contact_phone: contactPhone,\r\n      contact_email: contactEmail,\r\n    });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentLogo = settings?.logo_url || logoFallback;\r\n\r\n  const isCommunityEnabled = settings?.community_enabled !== false;\r\n\r\n  const handleToggleCommunity = async () => {\r\n    const newValue = !isCommunityEnabled;\r\n    \r\n    // 1. 更新网站设置\r\n    await updateSettings.mutateAsync({ community_enabled: newValue });\r\n    \r\n    // 2. 同步更新导航按钮\r\n    const { data: communityButton } = await supabase\r\n      .from(\"navigation_buttons\")\r\n      .select(\"id\")\r\n      .eq(\"link\", \"/community\")\r\n      .single();\r\n    \r\n    if (communityButton) {\r\n      await supabase\r\n        .from(\"navigation_buttons\")\r\n        .update({ enabled: newValue })\r\n        .eq(\"id\", communityButton.id);\r\n      \r\n      // 刷新导航按钮缓存\r\n      queryClient.invalidateQueries({ queryKey: [\"navigation-buttons\"] });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">{t(\"admin.siteSettings\")}</h1>\r\n          <p className=\"text-muted-foreground\">{t(\"admin.siteSettingsDescription\")}</p>\r\n        </div>\r\n\r\n        {/* Feature Toggles */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              {t(\"admin.featureToggles\", \"功能开关\")}\r\n            </CardTitle>\r\n            <CardDescription>\r\n              {t(\"admin.featureTogglesDescription\", \"控制网站功能的显示与隐藏\")}\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            {/* Community Toggle */}\r\n            <div className=\"flex items-center justify-between p-4 bg-muted/30 rounded-lg\">\r\n              <div className=\"space-y-0.5\">\r\n                <Label htmlFor=\"community-enabled\" className=\"text-base font-medium\">\r\n                  {t(\"admin.communityEnabled\", \"社区功能\")}\r\n                </Label>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {isCommunityEnabled \r\n                    ? t(\"admin.communityEnabledDesc\", \"社区入口在导航栏中显示\")\r\n                    : t(\"admin.communityDisabledDesc\", \"社区入口已隐藏\")}\r\n                </p>\r\n                <p className=\"text-xs text-muted-foreground flex items-center gap-1 mt-1\">\r\n                  <Link2 className=\"h-3 w-3\" />\r\n                  {t(\"admin.communitySyncHint\", \"此设置与导航按钮中的社区按钮同步\")}\r\n                </p>\r\n              </div>\r\n              <Switch\r\n                id=\"community-enabled\"\r\n                checked={isCommunityEnabled}\r\n                onCheckedChange={handleToggleCommunity}\r\n                disabled={updateSettings.isPending}\r\n              />\r\n            </div>\r\n\r\n            {/* Mobile About Us Button Toggle */}\r\n            <div className=\"flex items-center justify-between p-4 bg-muted/30 rounded-lg\">\r\n              <div className=\"space-y-0.5\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Info className=\"h-4 w-4 text-primary\" />\r\n                  <Label htmlFor=\"about-us-mobile\" className=\"text-base font-medium\">\r\n                    {t(\"admin.mobileAboutUsButton\", \"移动端关于我们按钮\")}\r\n                  </Label>\r\n                </div>\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  {settings?.about_us_button_mobile !== false\r\n                    ? t(\"admin.mobileAboutUsEnabledDesc\", \"在移动端首页右上角显示\")\r\n                    : t(\"admin.mobileAboutUsDisabledDesc\", \"移动端首页不显示此按钮\")}\r\n                </p>\r\n              </div>\r\n              <Switch\r\n                id=\"about-us-mobile\"\r\n                checked={settings?.about_us_button_mobile !== false}\r\n                onCheckedChange={(checked) => updateSettings.mutateAsync({ about_us_button_mobile: checked })}\r\n                disabled={updateSettings.isPending}\r\n              />\r\n            </div>\r\n\r\n            {/* Voice Input Settings */}\r\n            <div className=\"p-4 bg-muted/30 rounded-lg space-y-4\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Mic className=\"h-4 w-4\" />\r\n                <Label className=\"text-base font-medium\">\r\n                  {t(\"admin.voiceInputSettings\", \"语音输入\")}\r\n                </Label>\r\n              </div>\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                {t(\"admin.voiceInputSettingsDesc\", \"控制AI助手语音输入按钮在不同设备上的显示\")}\r\n              </p>\r\n              <div className=\"grid grid-cols-3 gap-4\">\r\n                <div className=\"flex flex-col items-center gap-2 p-3 bg-background rounded-lg border\">\r\n                  <Label htmlFor=\"voice-mobile\" className=\"text-sm font-medium\">\r\n                    {t(\"admin.mobile\", \"手机\")}\r\n                  </Label>\r\n                  <Switch\r\n                    id=\"voice-mobile\"\r\n                    checked={settings?.voice_input_mobile !== false}\r\n                    onCheckedChange={(checked) => updateSettings.mutateAsync({ voice_input_mobile: checked })}\r\n                    disabled={updateSettings.isPending}\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col items-center gap-2 p-3 bg-background rounded-lg border\">\r\n                  <Label htmlFor=\"voice-tablet\" className=\"text-sm font-medium\">\r\n                    {t(\"admin.tablet\", \"平板\")}\r\n                  </Label>\r\n                  <Switch\r\n                    id=\"voice-tablet\"\r\n                    checked={settings?.voice_input_tablet !== false}\r\n                    onCheckedChange={(checked) => updateSettings.mutateAsync({ voice_input_tablet: checked })}\r\n                    disabled={updateSettings.isPending}\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col items-center gap-2 p-3 bg-background rounded-lg border\">\r\n                  <Label htmlFor=\"voice-desktop\" className=\"text-sm font-medium\">\r\n                    {t(\"admin.desktop\", \"桌面\")}\r\n                  </Label>\r\n                  <Switch\r\n                    id=\"voice-desktop\"\r\n                    checked={settings?.voice_input_desktop !== false}\r\n                    onCheckedChange={(checked) => updateSettings.mutateAsync({ voice_input_desktop: checked })}\r\n                    disabled={updateSettings.isPending}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <div className=\"grid gap-6 md:grid-cols-2\">\r\n          {/* Logo Settings */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Image className=\"h-5 w-5\" />\r\n                {t(\"admin.logoSettings\")}\r\n              </CardTitle>\r\n              <CardDescription>{t(\"admin.logoSettingsDescription\")}</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              {/* Logo Preview */}\r\n              <div className=\"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50\">\r\n                <Label className=\"text-sm text-muted-foreground\">{t(\"admin.logoPreview\")}</Label>\r\n                <div className=\"bg-background p-4 rounded-lg shadow-sm border\">\r\n                  <img\r\n                    src={currentLogo}\r\n                    alt=\"Logo Preview\"\r\n                    style={{ width: `${localWidth}px`, height: `${localHeight}px` }}\r\n                    className=\"object-contain\"\r\n                  />\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  {localWidth}px × {localHeight}px\r\n                </p>\r\n              </div>\r\n\r\n              {/* Upload Logo */}\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.uploadLogo\")}</Label>\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    ref={logoInputRef}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleLogoUpload}\r\n                    className=\"hidden\"\r\n                  />\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={() => logoInputRef.current?.click()}\r\n                    disabled={uploading}\r\n                    className=\"flex-1\"\r\n                  >\r\n                    {uploading ? (\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                    ) : (\r\n                      <Upload className=\"h-4 w-4 mr-2\" />\r\n                    )}\r\n                    {t(\"admin.selectImage\")}\r\n                  </Button>\r\n                  {settings?.logo_url && (\r\n                    <Button\r\n                      variant=\"destructive\"\r\n                      onClick={handleRemoveLogo}\r\n                      disabled={updateSettings.isPending}\r\n                    >\r\n                      {t(\"common.remove\")}\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Logo Width */}\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <Label>{t(\"admin.logoWidth\")}</Label>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={localWidth}\r\n                      onChange={handleWidthInputChange}\r\n                      onBlur={handleWidthInputBlur}\r\n                      min={20}\r\n                      max={100}\r\n                      className=\"w-16 h-8 text-center text-sm\"\r\n                    />\r\n                    <span className=\"text-sm text-muted-foreground\">px</span>\r\n                  </div>\r\n                </div>\r\n                <Slider\r\n                  value={[localWidth]}\r\n                  onValueChange={handleWidthChange}\r\n                  onValueCommit={handleWidthCommit}\r\n                  min={20}\r\n                  max={100}\r\n                  step={1}\r\n                />\r\n              </div>\r\n\r\n              {/* Logo Height */}\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <Label>{t(\"admin.logoHeight\")}</Label>\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={localHeight}\r\n                      onChange={handleHeightInputChange}\r\n                      onBlur={handleHeightInputBlur}\r\n                      min={20}\r\n                      max={100}\r\n                      className=\"w-16 h-8 text-center text-sm\"\r\n                    />\r\n                    <span className=\"text-sm text-muted-foreground\">px</span>\r\n                  </div>\r\n                </div>\r\n                <Slider\r\n                  value={[localHeight]}\r\n                  onValueChange={handleHeightChange}\r\n                  onValueCommit={handleHeightCommit}\r\n                  min={20}\r\n                  max={100}\r\n                  step={1}\r\n                />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Favicon Settings */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Image className=\"h-5 w-5\" />\r\n                {t(\"admin.faviconSettings\")}\r\n              </CardTitle>\r\n              <CardDescription>{t(\"admin.faviconSettingsDescription\")}</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              {/* Favicon Preview */}\r\n              <div className=\"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50\">\r\n                <Label className=\"text-sm text-muted-foreground\">{t(\"admin.faviconPreview\")}</Label>\r\n                <div className=\"bg-background p-4 rounded-lg shadow-sm border\">\r\n                  <img\r\n                    src={settings?.favicon_url || \"/favicon.png\"}\r\n                    alt=\"Favicon Preview\"\r\n                    className=\"w-8 h-8 object-contain\"\r\n                  />\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">32px × 32px</p>\r\n              </div>\r\n\r\n              {/* Upload Favicon */}\r\n              <div className=\"space-y-2\">\r\n                <Label>{t(\"admin.uploadFavicon\")}</Label>\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    ref={faviconInputRef}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleFaviconUpload}\r\n                    className=\"hidden\"\r\n                  />\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={() => faviconInputRef.current?.click()}\r\n                    disabled={uploadingFavicon}\r\n                    className=\"flex-1\"\r\n                  >\r\n                    {uploadingFavicon ? (\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                    ) : (\r\n                      <Upload className=\"h-4 w-4 mr-2\" />\r\n                    )}\r\n                    {t(\"admin.selectImage\")}\r\n                  </Button>\r\n                  {settings?.favicon_url && (\r\n                    <Button\r\n                      variant=\"destructive\"\r\n                      onClick={handleRemoveFavicon}\r\n                      disabled={updateSettings.isPending}\r\n                    >\r\n                      {t(\"common.remove\")}\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n                <p className=\"text-xs text-muted-foreground\">{t(\"admin.faviconHint\")}</p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Join Us Success Message Settings */}\r\n        <Card ref={joinUsRef} id=\"join-us\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <MessageSquare className=\"h-5 w-5\" />\r\n              {t(\"admin.joinUsSettings\")}\r\n            </CardTitle>\r\n            <CardDescription>\r\n              {t(\"admin.joinUsSettingsDescription\")}\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6\">\r\n            {/* Contact Phone */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"flex items-center gap-2\">\r\n                <Phone className=\"h-4 w-4\" />\r\n                {t(\"admin.joinContactPhone\")}\r\n              </Label>\r\n              <Input\r\n                value={joinPhone}\r\n                onChange={(e) => setJoinPhone(e.target.value)}\r\n                placeholder=\"968815050\"\r\n              />\r\n            </div>\r\n\r\n            {/* Success Title - Multilingual */}\r\n            <div className=\"space-y-4\">\r\n              <Label>{t(\"admin.joinSuccessTitle\")}</Label>\r\n              <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-xs text-muted-foreground\">中文</Label>\r\n                  <Input\r\n                    value={joinTitleZh}\r\n                    onChange={(e) => setJoinTitleZh(e.target.value)}\r\n                    placeholder=\"信息已提交成功！\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-xs text-muted-foreground\">English</Label>\r\n                  <Input\r\n                    value={joinTitleEn}\r\n                    onChange={(e) => setJoinTitleEn(e.target.value)}\r\n                    placeholder=\"Request Submitted!\"\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-xs text-muted-foreground\">Português</Label>\r\n                  <Input\r\n                    value={joinTitlePt}\r\n                    onChange={(e) => setJoinTitlePt(e.target.value)}\r\n                    placeholder=\"Informação Enviada com Sucesso!\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Success Message - Multilingual */}\r\n            <div className=\"space-y-4\">\r\n              <Label>{t(\"admin.joinSuccessMessage\")}</Label>\r\n              <div className=\"grid gap-4 md:grid-cols-1\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-xs text-muted-foreground\">中文</Label>\r\n                  <Textarea\r\n                    value={joinMessageZh}\r\n                    onChange={(e) => setJoinMessageZh(e.target.value)}\r\n                    placeholder=\"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-xs text-muted-foreground\">English</Label>\r\n                  <Textarea\r\n                    value={joinMessageEn}\r\n                    onChange={(e) => setJoinMessageEn(e.target.value)}\r\n                    placeholder=\"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours.\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-xs text-muted-foreground\">Português</Label>\r\n                  <Textarea\r\n                    value={joinMessagePt}\r\n                    onChange={(e) => setJoinMessagePt(e.target.value)}\r\n                    placeholder=\"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis.\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <Button \r\n              onClick={handleSaveJoinSettings} \r\n              disabled={updateSettings.isPending}\r\n              className=\"w-full md:w-auto\"\r\n            >\r\n              {updateSettings.isPending && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\r\n              {t(\"common.save\")}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Contact Info Settings */}\r\n        <Card ref={contactInfoRef} id=\"contact-info\">\r\n          <CardHeader>\r\n            <CardTitle className=\"flex items-center gap-2\">\r\n              <Phone className=\"h-5 w-5\" />\r\n              {t(\"admin.contactSettings\")}\r\n            </CardTitle>\r\n            <CardDescription>\r\n              {t(\"admin.contactSettingsDescription\")}\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6\">\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"flex items-center gap-2\">\r\n                  <Phone className=\"h-4 w-4\" />\r\n                  {t(\"admin.contactPhone\")}\r\n                </Label>\r\n                <Input\r\n                  value={contactPhone}\r\n                  onChange={(e) => setContactPhone(e.target.value)}\r\n                  placeholder=\"+351 968 815 050\"\r\n                />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"flex items-center gap-2\">\r\n                  <Mail className=\"h-4 w-4\" />\r\n                  {t(\"admin.contactEmail\")}\r\n                </Label>\r\n                <Input\r\n                  type=\"email\"\r\n                  value={contactEmail}\r\n                  onChange={(e) => setContactEmail(e.target.value)}\r\n                  placeholder=\"comercial@xiaoxiong.pt\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <Button \r\n              onClick={handleSaveContactInfo} \r\n              disabled={updateSettings.isPending}\r\n              className=\"w-full md:w-auto\"\r\n            >\r\n              {updateSettings.isPending && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\r\n              {t(\"common.save\")}\r\n            </Button>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminSiteSettings;\r\n"],"names":["AdminSiteSettings","t","useTranslation","location","useLocation","queryClient","useQueryClient","settings","isLoading","updateSettings","uploadLogo","useSiteSettings","uploading","setUploading","useState","uploadingFavicon","setUploadingFavicon","logoInputRef","useRef","faviconInputRef","joinUsRef","contactInfoRef","localWidth","setLocalWidth","localHeight","setLocalHeight","joinPhone","setJoinPhone","joinTitleZh","setJoinTitleZh","joinTitleEn","setJoinTitleEn","joinTitlePt","setJoinTitlePt","joinMessageZh","setJoinMessageZh","joinMessageEn","setJoinMessageEn","joinMessagePt","setJoinMessagePt","contactPhone","setContactPhone","contactEmail","setContactEmail","useEffect","handleLogoUpload","e","file","url","handleFaviconUpload","handleWidthChange","value","handleHeightChange","handleWidthCommit","handleHeightCommit","handleWidthInputChange","clampedValue","handleWidthInputBlur","handleHeightInputChange","handleHeightInputBlur","handleRemoveLogo","handleRemoveFavicon","handleSaveJoinSettings","handleSaveContactInfo","jsx","Loader2","currentLogo","logoFallback","isCommunityEnabled","handleToggleCommunity","newValue","communityButton","supabase","Fragment","jsxs","Card","CardHeader","CardTitle","Users","CardDescription","CardContent","Label","Link2","Switch","Info","checked","Mic","Image","Button","Upload","Input","Slider","MessageSquare","Phone","Textarea","Mail"],"mappings":"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"}