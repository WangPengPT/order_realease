import{j as e}from"./vendor-ui-DAmPMpEA.js";import{n as j,x as u,L as g,C as o,j as c,i as N,t as v,M as w,P as y,au as b,B as d}from"./index-BcrfGQEh.js";import{u as C}from"./useActivityParticipation-ChrDiqMd.js";import{u as L,r as R,L as k}from"./vendor-react-iAJ0IrSD.js";import{u as z}from"./useLocalizedContent-tJ7i_ycU.js";import{R as D}from"./RestaurantFormDialog-3oDjvZXU.js";import{u as M}from"./vendor-i18n-DxKeo2S1.js";import{S}from"./star-DqKRai6M.js";import{S as P}from"./square-pen-B33wHQe-.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-BlSVl3IQ.js";import"./vendor-supabase-KNAP0qdW.js";import"./index.esm-CVRqJy9l.js";import"./types-CpDVS0Ep.js";import"./vendor-map-BaCLwlqt.js";/* empty css                  */import"./checkbox-4ejPvdP9.js";import"./switch-6XNkJMpb.js";import"./tabs-C_tzE0Ci.js";import"./image-C10sDEfq.js";import"./upload-DGLlOmKj.js";import"./grip-vertical-CMonN56R.js";import"./RichTextEditor--UO8SiL1.js";import"./vendor-editor-BxSQdrX3.js";import"./key-B-h86fwt.js";import"./clock-DGED8Oob.js";const te=()=>{j();const l=L(),{t:a}=M(),{isMerchant:n,isSupervisor:r,isLoading:i}=u(),{data:m=[],isLoading:x}=C(),{localizeRestaurant:p}=z();return R.useEffect(()=>{!i&&!n&&!r&&l("/")},[i,n,r,l]),x||i?e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx(g,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:a("merchant.myRestaurants")}),e.jsx("p",{className:"text-muted-foreground",children:a(r?"merchant.supervisorDescription":"merchant.merchantDescription")})]}),m.length===0?e.jsx(o,{children:e.jsx(c,{className:"py-12 text-center",children:e.jsx("p",{className:"text-muted-foreground mb-4",children:a("merchant.noRestaurants")})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(s=>{const t=p(s);return e.jsxs(o,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"relative h-48 overflow-hidden",children:e.jsx("img",{src:s.image_url||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover"})}),e.jsx(N,{children:e.jsxs(v,{className:"flex items-start justify-between gap-2",children:[e.jsx("span",{className:"line-clamp-1",children:t.name}),s.rating&&e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(S,{className:"w-4 h-4 fill-primary text-primary"}),e.jsx("span",{children:s.rating})]})]})}),e.jsxs(c,{className:"space-y-3",children:[s.type&&s.type.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:t.type.slice(0,3).map((h,f)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded",children:h},f))}),s.address&&e.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(w,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-2",children:s.address})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(y,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:s.phone})]}),s.website_url&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(b,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("a",{href:s.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline line-clamp-1",children:a("restaurant.visitWebsite")})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(d,{asChild:!0,variant:"outline",size:"sm",className:"flex-1",children:e.jsx(k,{to:`/restaurant/${s.id}`,children:a("restaurants.viewDetails")})}),e.jsx(D,{restaurant:s,trigger:e.jsxs(d,{variant:"default",size:"sm",className:"flex-1",children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),a("common.edit")]})})]})]})]},s.id)})})]})};export{te as default};
//# sourceMappingURL=MerchantDashboard-C5XJvR1w.js.map
