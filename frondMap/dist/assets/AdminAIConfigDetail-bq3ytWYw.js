import{j as e}from"./vendor-ui-DmpovMYY.js";import{r as c,a as ke,j as De,L as ne}from"./vendor-react-iAJ0IrSD.js";import{D as Re,c as Te,d as Ie,e as Ae,bw as ie,aB as K,I as V,B as u,b1 as Ee,S as Pe,U as $e,i as Me,aR as le,q as se,P as te,aU as ce,c1 as qe,c0 as Fe,O as de,Z as me,cp as Le,K as z,aP as Oe,aQ as ze,k as M,cJ as Be,aO as Ue,aN as Je,L as re,bg as he,bi as _e,cK as He,a6 as j,b2 as We,X as Xe}from"./index-CcIuifO_.js";import{S as Ge}from"./separator-Di2KbPjp.js";import{T as Ke,a as Ve,b as xe,c as ue}from"./tabs-PQ6AGiBI.js";import{A as Ye,a as W,b as X,c as G}from"./accordion-a315HwqD.js";import{u as pe}from"./vendor-i18n-DxKeo2S1.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-D82cqPtt.js";import"./vendor-supabase-6pZ9VDFn.js";import"./index-Ct2x_E74.js";const Ze=y=>{if(!y)return null;const N=y.split(`
`),m=[];let v=!1,T=[],C="",x=!1,p=[];const f=o=>{const i=[];let s=o,l=0;for(;s.length>0;){const d=s.match(/`([^`]+)`/);if(d&&d.index!==void 0){d.index>0&&i.push(h(s.slice(0,d.index),l++)),i.push(e.jsx("code",{className:"px-1.5 py-0.5 rounded bg-muted-foreground/20 text-sm font-mono",children:d[1]},l++)),s=s.slice(d.index+d[0].length);continue}const r=s.match(/\[([^\]]+)\]\(([^)]+)\)/);if(r&&r.index!==void 0){r.index>0&&i.push(h(s.slice(0,r.index),l++)),i.push(e.jsx("a",{href:r[2],target:"_blank",rel:"noopener noreferrer",className:"text-primary underline hover:text-primary/80",children:r[1]},l++)),s=s.slice(r.index+r[0].length);continue}i.push(h(s,l++));break}return i.length===1?i[0]:e.jsx(e.Fragment,{children:i})},h=(o,i)=>{const s=[];let l=o,d=0;for(;l.length>0;){const r=l.match(/\*\*([^*]+)\*\*/);if(r&&r.index!==void 0){r.index>0&&s.push(e.jsx("span",{children:l.slice(0,r.index)},`${i}-${d++}`)),s.push(e.jsx("strong",{className:"font-semibold",children:r[1]},`${i}-${d++}`)),l=l.slice(r.index+r[0].length);continue}s.push(e.jsx("span",{children:l},`${i}-${d++}`));break}return s.length===1?s[0]:e.jsx(e.Fragment,{children:s})},w=o=>{if(o.length<2)return null;const i=d=>d.split("|").filter(r=>r.trim()).map(r=>r.trim()),s=i(o[0]),l=o.slice(2).filter(d=>!d.match(/^[\s|:-]+$/));return e.jsx("div",{className:"overflow-x-auto my-2",children:e.jsxs("table",{className:"min-w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-border",children:s.map((d,r)=>e.jsx("th",{className:"px-3 py-2 text-left font-semibold bg-muted/50",children:d},r))})}),e.jsx("tbody",{children:l.map((d,r)=>e.jsx("tr",{className:"border-b border-border/50 hover:bg-muted/30",children:i(d).map((Y,q)=>e.jsx("td",{className:"px-3 py-2",children:f(Y)},q))},r))})]})})};for(let o=0;o<N.length;o++){const i=N[o],s=i.trim();if(s.startsWith("```")){v?(m.push(e.jsxs("div",{className:"my-2 rounded-md overflow-hidden",children:[C&&e.jsx("div",{className:"bg-muted-foreground/20 px-3 py-1 text-xs font-mono text-muted-foreground",children:C}),e.jsx("pre",{className:"bg-muted-foreground/10 p-3 overflow-x-auto",children:e.jsx("code",{className:"text-sm font-mono",children:T.join(`
`)})})]},o)),v=!1,C=""):(v=!0,C=s.slice(3).trim(),T=[]);continue}if(v){T.push(i);continue}if(s.startsWith("|")&&s.endsWith("|")){x||(x=!0,p=[]),p.push(s);continue}else x&&(m.push(e.jsx("div",{children:w(p)},`table-${o}`)),x=!1,p=[]);if(!s){m.push(e.jsx("div",{className:"h-2"},o));continue}if(s.startsWith("### ")){m.push(e.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",children:f(s.slice(4))},o));continue}if(s.startsWith("## ")){m.push(e.jsx("h2",{className:"text-lg font-semibold mt-3 mb-1",children:f(s.slice(3))},o));continue}if(s.startsWith("# ")){m.push(e.jsx("h1",{className:"text-xl font-bold mt-3 mb-2",children:f(s.slice(2))},o));continue}if(s==="---"||s==="***"){m.push(e.jsx("hr",{className:"my-3 border-border"},o));continue}if(s.match(/^[-*]\s/)){m.push(e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"â€¢"}),e.jsx("span",{children:f(s.slice(2))})]},o));continue}const l=s.match(/^(\d+)\.\s/);if(l){m.push(e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsxs("span",{className:"text-muted-foreground min-w-[1.5rem]",children:[l[1],"."]}),e.jsx("span",{children:f(s.slice(l[0].length))})]},o));continue}m.push(e.jsx("p",{className:"leading-relaxed",children:f(s)},o))}return x&&p.length>0&&m.push(e.jsx("div",{children:w(p)},"table-final")),e.jsx("div",{className:"space-y-1",children:m})},Qe=({open:y,onOpenChange:N})=>{const{t:m}=pe(),[v,T]=c.useState("T1"),[C,x]=c.useState([]),[p,f]=c.useState(""),[h,w]=c.useState(!1),[o,i]=c.useState(""),[s,l]=c.useState(null),d=c.useRef(null),r=c.useRef(null);c.useEffect(()=>{if(d.current){const n=d.current.querySelector("[data-radix-scroll-area-viewport]");n&&(n.scrollTop=n.scrollHeight)}},[C]);const Y=()=>{r.current&&r.current.abort(),x([]),i(""),l(null),w(!1)},q=()=>{r.current&&r.current.abort(),N(!1)},Z=async()=>{if(!p.trim()||h)return;const n=Date.now();console.log(`[Demoå‰ç«¯] â±ï¸ å¼€å§‹å‘é€è¯·æ±‚: ${new Date().toISOString()}`);const S={id:Date.now().toString(),role:"user",content:p.trim()};x(g=>[...g,S]),f(""),w(!0);const P=(Date.now()+1).toString();l(P),i(""),x(g=>[...g,{id:P,role:"assistant",content:"",isStreaming:!0}]);let B=!1,U=0;try{r.current=new AbortController;const g=await fetch("https://xiaoxiongmarket.com/ai/demo/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:S.content,userId:v}),signal:r.current.signal}),F=Date.now()-n;if(console.log(`[Demoå‰ç«¯] â±ï¸ æ”¶åˆ°å“åº”å¤´: ${new Date().toISOString()}, è€—æ—¶: ${F}ms`),!g.ok)throw new Error(`API error: ${g.status}`);const k=g.body?.getReader(),ee=new TextDecoder;if(k){let $="";for(;;){const{done:J,value:I}=await k.read();if(J){console.log(`[Demoå‰ç«¯] â±ï¸ æµç»“æŸ: ${new Date().toISOString()}, æ€»è€—æ—¶: ${Date.now()-n}ms, å…± ${U} ä¸ªæ•°æ®å—`);break}U++;const _=ee.decode(I,{stream:!0});if($+=_,!B){B=!0;const O=Date.now()-n;console.log(`[Demoå‰ç«¯] â±ï¸ é¦–ä¸ªæ•°æ®å— (TTFB): ${new Date().toISOString()}, è€—æ—¶: ${O}ms, å¤§å°: ${_.length} å­—ç¬¦`)}ke.flushSync(()=>{i($)}),await new Promise(O=>requestAnimationFrame(O))}const L=ee.decode();L&&($+=L),x(J=>J.map(I=>I.id===P?{...I,content:$,isStreaming:!1}:I)),i(""),l(null)}}catch(g){g.name==="AbortError"?console.log("Request aborted"):(console.error("Chat error:",g),x(F=>F.map(k=>k.id===P?{...k,content:m("error.general","å‘ç”Ÿé”™è¯¯ï¼Œè¯·é‡è¯•"),isStreaming:!1}:k))),i(""),l(null)}finally{w(!1),r.current=null}},Q=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),Z())};return e.jsx(Re,{open:y,onOpenChange:q,children:e.jsxs(Te,{className:"sm:max-w-[600px] h-[80vh] flex flex-col",children:[e.jsx(Ie,{children:e.jsxs(Ae,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),m("admin.aiSettings.agentDemo","Agent Demo æµ‹è¯•")]})}),e.jsxs("div",{className:"flex items-center gap-2 py-2",children:[e.jsxs(K,{htmlFor:"demo-user-id",className:"whitespace-nowrap",children:[m("admin.aiSettings.testUserId","æµ‹è¯•ç”¨æˆ·ID"),":"]}),e.jsx(V,{id:"demo-user-id",value:v,onChange:n=>T(n.target.value),className:"flex-1",placeholder:"T1"}),e.jsxs(u,{variant:"outline",size:"sm",onClick:Y,children:[e.jsx(Ee,{className:"h-4 w-4 mr-1"}),m("admin.aiSettings.clearChat","æ¸…ç©º")]})]}),e.jsx(Pe,{ref:d,className:"flex-1 border rounded-md p-4",children:C.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:m("admin.aiSettings.startChat","å‘é€æ¶ˆæ¯å¼€å§‹æµ‹è¯•")}):e.jsx("div",{className:"space-y-4",children:C.map(n=>e.jsxs("div",{className:`flex gap-2 ${n.role==="user"?"justify-end":"justify-start"}`,children:[n.role==="assistant"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(ie,{className:"h-4 w-4 text-primary"})}),e.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${n.role==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:n.role==="user"?e.jsx("p",{className:"whitespace-pre-wrap break-words",children:n.content}):e.jsxs("div",{className:"prose prose-sm dark:prose-invert max-w-none break-words",children:[Ze(n.id===s?o:n.content),n.isStreaming&&e.jsx("span",{className:"inline-block w-2 h-4 ml-1 bg-current animate-pulse"})]})}),n.role==="user"&&e.jsx("div",{className:"w-8 h-8 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:e.jsx($e,{className:"h-4 w-4"})})]},n.id))})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(V,{value:p,onChange:n=>f(n.target.value),onKeyDown:Q,placeholder:m("admin.aiSettings.inputPlaceholder","è¾“å…¥æ¶ˆæ¯..."),disabled:h,className:"flex-1"}),e.jsx(u,{onClick:Z,disabled:h||!p.trim(),children:e.jsx(Me,{className:"h-4 w-4"})})]})]})})},A="https://tzdgqhwyzsxkxnncgzap.supabase.co",E="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZGdxaHd5enN4a3hubmNnemFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTg2ODgsImV4cCI6MjA3OTIzNDY4OH0.D76C4OkjQVWyMxtjjdOofpD8X_hEEoTtrXHqi4XSYUw",hs=()=>{pe();const{provider:y}=De(),[N,m]=c.useState(null),[v,T]=c.useState(!1),[C,x]=c.useState(null),[p,f]=c.useState(!1),[h,w]=c.useState(""),[o,i]=c.useState(""),[s,l]=c.useState(null),[d,r]=c.useState(!1),[Y,q]=c.useState(null),[Z,Q]=c.useState(!1),[n,S]=c.useState({introduction:"",responseProcedure:[],matchRequirements:[],formatRequirements:[],prohibitedContent:[],requiredElements:[]}),[P,B]=c.useState(!1),[U,g]=c.useState(!1),[F,k]=c.useState(!1),[ee,$]=c.useState(!1),[L,J]=c.useState(!1),I=async()=>{T(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=model`,{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch main config");const a=await t.json();a?.success&&a?.data&&m(a.data)}catch(t){console.error("Failed to fetch main model config:",t),j.error("è·å–ä¸»é¡µæ¨¡å‹é…ç½®å¤±è´¥")}finally{T(!1)}},_=async()=>{f(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=model`,{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch demo config");const a=await t.json();a?.success&&a?.data&&(x(a.data),w(a.data.name||""),i(a.data.baseURL||""))}catch(t){console.error("Failed to fetch demo model config:",t),j.error("è·å–Demoæ¨¡å‹é…ç½®å¤±è´¥")}finally{f(!1)}},O=async()=>{r(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=system_prompt`,{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch main system prompt");const a=await t.json();a?.success&&a?.data&&l(a.data)}catch(t){console.error("Failed to fetch main system prompt:",t),j.error("è·å–ä¸»é¡µç³»ç»Ÿæç¤ºè¯å¤±è´¥")}finally{r(!1)}},oe=async()=>{Q(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=system_prompt`,{method:"GET",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch demo system prompt");const a=await t.json();a?.success&&a?.data&&(q(a.data),S(a.data))}catch(t){console.error("Failed to fetch demo system prompt:",t),j.error("è·å–Demoç³»ç»Ÿæç¤ºè¯å¤±è´¥")}finally{Q(!1)}},fe=async()=>{if(!h.trim()||!o.trim()){j.error("è¯·å¡«å†™æ‰€æœ‰å­—æ®µ");return}B(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=model`,{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({name:h.trim(),baseURL:o.trim()})});if(!t.ok)throw new Error("Failed to save demo config");const a=await t.json();if(a?.success)x(a.data),j.success("Demoæ¨¡å‹é…ç½®å·²ä¿å­˜");else throw new Error(a?.error||"Unknown error")}catch(t){console.error("Failed to save demo config:",t),j.error("ä¿å­˜Demoé…ç½®å¤±è´¥")}finally{B(!1)}},ge=async()=>{k(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=demo&endpoint=system_prompt`,{method:"PATCH",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!t.ok)throw new Error("Failed to save demo system prompt");const a=await t.json();if(a?.success)q(a.data),j.success("Demoç³»ç»Ÿæç¤ºè¯å·²ä¿å­˜");else throw new Error(a?.error||"Unknown error")}catch(t){console.error("Failed to save demo system prompt:",t),j.error("ä¿å­˜Demoç³»ç»Ÿæç¤ºè¯å¤±è´¥")}finally{k(!1)}},je=async()=>{if(!h.trim()||!o.trim()){j.error("è¯·å…ˆé…ç½®Demoæ¨¡å‹");return}g(!0);try{const t=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=model`,{method:"POST",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify({name:h.trim(),baseURL:o.trim()})});if(!t.ok)throw new Error("Failed to apply model to main");const a=await t.json();if(!a?.success)throw new Error(a?.error||"Model apply failed");m(a.data);const b=await fetch(`${A}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=system_prompt`,{method:"PATCH",headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!b.ok)throw new Error("Failed to apply system prompt to main");const D=await b.json();if(!D?.success)throw new Error(D?.error||"Prompt apply failed");l(D.data),j.success("ğŸš€ æ¨¡å‹é…ç½®å’Œç³»ç»Ÿæç¤ºè¯å·²å…¨éƒ¨åº”ç”¨åˆ°ä¸»é¡µï¼")}catch(t){console.error("Failed to apply to main:",t),j.error("åº”ç”¨åˆ°ä¸»é¡µå¤±è´¥")}finally{g(!1)}},Ne=()=>{N&&(w(N.name),i(N.baseURL)),s&&S({introduction:s.introduction||"",responseProcedure:s.responseProcedure||[],matchRequirements:s.matchRequirements||[],formatRequirements:s.formatRequirements||[],prohibitedContent:s.prohibitedContent||[],requiredElements:s.requiredElements||[]}),j.success("å·²å¤åˆ¶ä¸»é¡µé…ç½®åˆ°Demo")},ye=()=>{I(),_(),O(),oe()},we=t=>{S(a=>({...a,[t]:[...a[t],""]}))},be=(t,a)=>{S(b=>({...b,[t]:b[t].filter((D,R)=>R!==a)}))},ve=(t,a,b)=>{S(D=>({...D,[t]:D[t].map((R,ae)=>ae===a?b:R)}))};c.useEffect(()=>{y==="xiaoxiong-agent"&&(I(),_(),O(),oe())},[y]);const H=(t,a,b)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(K,{className:"text-sm font-medium",children:t}),e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:()=>we(a),className:"h-7 text-xs",children:[e.jsx(We,{className:"h-3 w-3 mr-1"}),"æ·»åŠ "]})]}),e.jsxs("div",{className:"space-y-2",children:[b.map((D,R)=>e.jsxs("div",{className:"flex gap-2 items-center group",children:[e.jsx("span",{className:"text-xs text-muted-foreground w-6 text-center shrink-0",children:R+1}),e.jsx(V,{value:D,onChange:ae=>ve(a,R,ae.target.value),placeholder:`è¾“å…¥ç¬¬ ${R+1} æ¡å†…å®¹...`,className:"flex-1 h-9"}),e.jsx(u,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:()=>be(a,R),children:e.jsx(Xe,{className:"h-4 w-4 text-destructive"})})]},R)),b.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 bg-muted/30 rounded-md",children:'æš‚æ— å†…å®¹ï¼Œç‚¹å‡»ä¸Šæ–¹"æ·»åŠ "æŒ‰é’®æ·»åŠ '})]})]}),Ce=t=>t?(t.responseProcedure?.length||0)+(t.matchRequirements?.length||0)+(t.formatRequirements?.length||0)+(t.prohibitedContent?.length||0)+(t.requiredElements?.length||0):0,Se={"xiaoxiong-agent":"å°ç†ŠAgent","ask-xiaoxiong":"å°ç†ŠAI"}[y||""]||y;return y!=="xiaoxiong-agent"?e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(u,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(ne,{to:"/admin/ai-config",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"è¿”å›"]})})}),e.jsx(se,{children:e.jsxs(te,{className:"pt-6 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"è¯¥AIæœåŠ¡æ— éœ€é…ç½®"}),e.jsx(u,{className:"mt-4",asChild:!0,children:e.jsx(ne,{to:"/admin/ai-config",children:"è¿”å›é…ç½®åˆ—è¡¨"})})]})})]}):e.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs(ne,{to:"/admin/ai-config",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"è¿”å›"]})}),e.jsx(Ge,{orientation:"vertical",className:"h-6"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[Se," é…ç½®"]}),e.jsx("p",{className:"text-muted-foreground",children:"é…ç½®æ¨¡å‹å’Œç³»ç»Ÿæç¤ºè¯ï¼Œåœ¨Demoç¯å¢ƒæµ‹è¯•ååº”ç”¨åˆ°ä¸»é¡µ"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:ye,children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"åˆ·æ–°"]}),e.jsxs(u,{variant:"outline",size:"sm",onClick:()=>$(!0),children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Demoæµ‹è¯•"]})]})]}),e.jsxs(se,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-transparent",children:[e.jsx(de,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(me,{className:"flex items-center gap-2 text-lg",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"}),"ğŸ“Œ ä¸»é¡µå½“å‰é…ç½®"]}),e.jsxs(u,{variant:"ghost",size:"sm",onClick:Ne,className:"text-xs",children:[e.jsx(Le,{className:"h-3 w-3 mr-1"}),"å¤åˆ¶åˆ°Demo"]})]})}),e.jsxs(te,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"æ¨¡å‹é…ç½®"}),v?e.jsx(z,{className:"h-12 w-full"}):N?e.jsxs("div",{className:"p-3 bg-background rounded-lg space-y-1",children:[e.jsx("p",{className:"font-mono font-medium",children:N.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",title:N.baseURL,children:N.baseURL})]}):e.jsx("p",{className:"text-sm text-muted-foreground p-3 bg-background rounded-lg",children:"æœªé…ç½®"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"ç³»ç»Ÿæç¤ºè¯"}),e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>J(!L),className:"h-6 text-xs",children:L?e.jsx(Oe,{className:"h-3 w-3"}):e.jsx(ze,{className:"h-3 w-3"})})]}),d?e.jsx(z,{className:"h-12 w-full"}):s?e.jsx("div",{className:"p-3 bg-background rounded-lg",children:e.jsxs(M,{variant:"secondary",className:"text-xs",children:[Ce(s)," æ¡è§„åˆ™"]})}):e.jsx("p",{className:"text-sm text-muted-foreground p-3 bg-background rounded-lg",children:"æœªé…ç½®"})]})]}),L&&s&&e.jsxs("div",{className:"mt-4 pt-4 border-t space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"ä»‹ç»: "}),s.introduction||"æœªè®¾ç½®"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-xs",children:[e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.responseProcedure?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"å“åº”æµç¨‹"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.matchRequirements?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"åŒ¹é…è¦æ±‚"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.formatRequirements?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"æ ¼å¼è¦æ±‚"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.prohibitedContent?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"ç¦æ­¢å†…å®¹"})]}),e.jsxs("div",{className:"p-2 bg-background rounded text-center",children:[e.jsx("p",{className:"font-medium",children:s.requiredElements?.length||0}),e.jsx("p",{className:"text-muted-foreground",children:"å¿…éœ€å…ƒç´ "})]})]})]})]})]}),e.jsxs(se,{children:[e.jsxs(de,{className:"pb-4",children:[e.jsxs(me,{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"h-5 w-5 text-orange-500"}),"ğŸ§ª Demo æµ‹è¯•é…ç½®",e.jsx(M,{variant:"outline",className:"text-xs ml-2",children:"å¯ç¼–è¾‘"})]}),e.jsx(Ue,{children:"åœ¨æ­¤ç¼–è¾‘é…ç½®ï¼Œé€šè¿‡Demoæµ‹è¯•éªŒè¯ååº”ç”¨åˆ°ä¸»é¡µ"})]}),e.jsx(te,{className:"space-y-6",children:e.jsxs(Ke,{defaultValue:"model",className:"w-full",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-2 mb-4",children:[e.jsxs(xe,{value:"model",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"æ¨¡å‹é…ç½®"]}),e.jsxs(xe,{value:"prompt",className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4"}),"ç³»ç»Ÿæç¤ºè¯"]})]}),e.jsx(ue,{value:"model",className:"space-y-4",children:p?e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{className:"h-10 w-full"}),e.jsx(z,{className:"h-10 w-full"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"model-name",children:"æ¨¡å‹åç§°"}),e.jsx(V,{id:"model-name",value:h,onChange:t=>w(t.target.value),placeholder:"deepseek-chat"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{htmlFor:"base-url",children:"Base URL"}),e.jsx(V,{id:"base-url",value:o,onChange:t=>i(t.target.value),placeholder:"https://api.deepseek.com"})]})]}),e.jsxs(u,{variant:"secondary",onClick:fe,disabled:P||!h.trim()||!o.trim(),children:[P&&e.jsx(re,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(he,{className:"h-4 w-4 mr-2"}),"ä¿å­˜æ¨¡å‹é…ç½®"]})]})}),e.jsx(ue,{value:"prompt",className:"space-y-4",children:Z?e.jsxs("div",{className:"space-y-3",children:[e.jsx(z,{className:"h-20 w-full"}),e.jsx(z,{className:"h-32 w-full"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(K,{children:"è§’è‰²ä»‹ç» (introduction)"}),e.jsx(_e,{value:n.introduction,onChange:t=>S(a=>({...a,introduction:t.target.value})),placeholder:"ä½ æ˜¯å°ç†ŠaiåŠ©æ‰‹ï¼Œå¸®åŠ©é¡¾å®¢å¯»æ‰¾å¿ƒä»ªçš„é¤å…...",rows:3,className:"resize-none"})]}),e.jsxs(Ye,{type:"multiple",className:"w-full",defaultValue:["responseProcedure"],children:[e.jsxs(W,{value:"responseProcedure",className:"border rounded-lg px-4",children:[e.jsx(X,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["å“åº”æµç¨‹",e.jsx(M,{variant:"secondary",className:"text-xs",children:n.responseProcedure.length})]})}),e.jsx(G,{className:"pt-2",children:H("å“åº”æµç¨‹","responseProcedure",n.responseProcedure)})]}),e.jsxs(W,{value:"matchRequirements",className:"border rounded-lg px-4 mt-2",children:[e.jsx(X,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["åŒ¹é…è¦æ±‚",e.jsx(M,{variant:"secondary",className:"text-xs",children:n.matchRequirements.length})]})}),e.jsx(G,{className:"pt-2",children:H("åŒ¹é…è¦æ±‚","matchRequirements",n.matchRequirements)})]}),e.jsxs(W,{value:"formatRequirements",className:"border rounded-lg px-4 mt-2",children:[e.jsx(X,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["æ ¼å¼è¦æ±‚",e.jsx(M,{variant:"secondary",className:"text-xs",children:n.formatRequirements.length})]})}),e.jsx(G,{className:"pt-2",children:H("æ ¼å¼è¦æ±‚","formatRequirements",n.formatRequirements)})]}),e.jsxs(W,{value:"prohibitedContent",className:"border rounded-lg px-4 mt-2",children:[e.jsx(X,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["ç¦æ­¢å†…å®¹",e.jsx(M,{variant:"secondary",className:"text-xs",children:n.prohibitedContent.length})]})}),e.jsx(G,{className:"pt-2",children:H("ç¦æ­¢å†…å®¹","prohibitedContent",n.prohibitedContent)})]}),e.jsxs(W,{value:"requiredElements",className:"border rounded-lg px-4 mt-2",children:[e.jsx(X,{className:"text-sm hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-2",children:["å¿…éœ€å…ƒç´ ",e.jsx(M,{variant:"secondary",className:"text-xs",children:n.requiredElements.length})]})}),e.jsx(G,{className:"pt-2",children:H("å¿…éœ€å…ƒç´ ","requiredElements",n.requiredElements)})]})]}),e.jsxs(u,{variant:"secondary",onClick:ge,disabled:F,children:[F&&e.jsx(re,{className:"h-4 w-4 mr-2 animate-spin"}),e.jsx(he,{className:"h-4 w-4 mr-2"}),"ä¿å­˜ç³»ç»Ÿæç¤ºè¯"]})]})})]})})]}),e.jsx(se,{className:"border-2 border-dashed border-primary/30",children:e.jsxs(te,{className:"pt-6",children:[e.jsxs(u,{className:"w-full h-12 text-base font-medium",size:"lg",onClick:je,disabled:U||!h.trim()||!o.trim(),children:[U?e.jsx(re,{className:"h-5 w-5 mr-2 animate-spin"}):e.jsx(He,{className:"h-5 w-5 mr-2"}),"ğŸš€ åº”ç”¨å…¨éƒ¨é…ç½®åˆ°ä¸»é¡µ"]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"å°†åŒæ—¶åº”ç”¨æ¨¡å‹é…ç½®å’Œç³»ç»Ÿæç¤ºè¯åˆ°ç”Ÿäº§ç¯å¢ƒ"})]})}),e.jsx(Qe,{open:ee,onOpenChange:$})]})};export{hs as default};
//# sourceMappingURL=AdminAIConfigDetail-bq3ytWYw.js.map
