{"version":3,"file":"AdminCommunityPosts-DF4RsIiJ.js","sources":["../../src/components/admin/PostManagementDialog.tsx","../../src/pages/admin/AdminCommunityPosts.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { zhCN, enUS, pt } from \"date-fns/locale\";\r\nimport { \r\n  Calendar, \r\n  Loader2, \r\n  Clock, \r\n  Heart, \r\n  MessageCircle, \r\n  Share2,\r\n  Weight,\r\n  CheckCircle2,\r\n  XCircle,\r\n  EyeOff,\r\n  AlertTriangle,\r\n  Check,\r\n  AlertCircle,\r\n} from \"lucide-react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { CommunityPost, useUpdatePost } from \"@/hooks/useCommunityPosts\";\r\nimport { useActivities } from \"@/hooks/useActivities\";\r\nimport { useLocalizedContent } from \"@/hooks/useLocalizedContent\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface PostManagementDialogProps {\r\n  post: CommunityPost | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nconst PostManagementDialog = ({\r\n  post,\r\n  open,\r\n  onOpenChange,\r\n}: PostManagementDialogProps) => {\r\n  const { t, i18n } = useTranslation();\r\n  const { getLocalizedField } = useLocalizedContent();\r\n  const updatePost = useUpdatePost();\r\n  const { data: activities } = useActivities();\r\n\r\n  const [weight, setWeight] = useState(0);\r\n  const [status, setStatus] = useState(\"approved\");\r\n  const [moderationStatus, setModerationStatus] = useState(\"pending\");\r\n  const [activityId, setActivityId] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      setWeight(post.weight);\r\n      setStatus(post.status);\r\n      setModerationStatus(post.moderation_status);\r\n      setActivityId(post.activity_id || \"\");\r\n    }\r\n  }, [post]);\r\n\r\n  const getDateLocale = () => {\r\n    switch (i18n.language) {\r\n      case \"zh\":\r\n        return zhCN;\r\n      case \"pt\":\r\n        return pt;\r\n      default:\r\n        return enUS;\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!post) return;\r\n\r\n    await updatePost.mutateAsync({\r\n      id: post.id,\r\n      weight,\r\n      status,\r\n      moderation_status: moderationStatus,\r\n      activity_id: activityId || null,\r\n    });\r\n\r\n    onOpenChange(false);\r\n  };\r\n\r\n  if (!post) return null;\r\n\r\n  const activeActivities = activities?.filter((a) => a.status === \"published\") || [];\r\n\r\n  const getStatusConfig = (s: string) => {\r\n    switch (s) {\r\n      case \"approved\":\r\n        return { icon: CheckCircle2, label: t(\"admin.status.approved\", \"已发布\"), className: \"text-emerald-600\" };\r\n      case \"pending\":\r\n        return { icon: Clock, label: t(\"admin.status.pending\", \"待审核\"), className: \"text-amber-600\" };\r\n      case \"rejected\":\r\n        return { icon: XCircle, label: t(\"admin.status.rejected\", \"已拒绝\"), className: \"text-red-600\" };\r\n      case \"hidden\":\r\n        return { icon: EyeOff, label: t(\"admin.status.hidden\", \"已隐藏\"), className: \"text-gray-500\" };\r\n      default:\r\n        return { icon: AlertCircle, label: s, className: \"text-gray-500\" };\r\n    }\r\n  };\r\n\r\n  const getModerationConfig = (s: string) => {\r\n    switch (s) {\r\n      case \"approved\":\r\n        return { icon: Check, label: t(\"admin.moderation.approved\", \"通过\"), className: \"text-emerald-600\" };\r\n      case \"flagged\":\r\n        return { icon: AlertTriangle, label: t(\"admin.moderation.flagged\", \"标记\"), className: \"text-orange-500\" };\r\n      case \"pending\":\r\n        return { icon: Clock, label: t(\"admin.moderation.pending\", \"待审\"), className: \"text-gray-500\" };\r\n      default:\r\n        return { icon: AlertCircle, label: s, className: \"text-gray-500\" };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n        <DialogHeader className=\"pb-4 border-b\">\r\n          <DialogTitle className=\"text-xl\">{t(\"admin.communityPosts.manage\", \"管理帖子\")}</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-6 py-4\">\r\n          {/* Author Info */}\r\n          <div className=\"flex items-center gap-4 p-4 bg-gradient-to-r from-muted/50 to-muted/30 rounded-xl\">\r\n            <Avatar className=\"h-14 w-14 ring-2 ring-background shadow-md\">\r\n              <AvatarImage src={post.author?.avatar_url || undefined} />\r\n              <AvatarFallback className=\"bg-primary/10 text-primary font-semibold text-lg\">\r\n                {post.author?.display_name?.charAt(0) || \"?\"}\r\n              </AvatarFallback>\r\n            </Avatar>\r\n            <div className=\"flex-1\">\r\n              <p className=\"font-semibold text-lg\">{post.author?.display_name}</p>\r\n              <p className=\"text-sm text-muted-foreground flex items-center gap-1.5\">\r\n                <Clock className=\"h-3.5 w-3.5\" />\r\n                {formatDistanceToNow(new Date(post.created_at), {\r\n                  addSuffix: true,\r\n                  locale: getDateLocale(),\r\n                })}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content Preview */}\r\n          <div className=\"space-y-2\">\r\n            <Label className=\"text-sm font-medium\">{t(\"admin.communityPosts.content\", \"内容\")}</Label>\r\n            <div\r\n              className=\"prose prose-sm max-w-none dark:prose-invert p-4 border rounded-xl bg-muted/20\"\r\n              dangerouslySetInnerHTML={{ __html: getLocalizedField(post, \"content\") }}\r\n            />\r\n          </div>\r\n\r\n          {/* Images Preview */}\r\n          {post.image_urls && post.image_urls.length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">{t(\"admin.communityPosts.images\", \"图片\")}</Label>\r\n              <div className=\"grid grid-cols-4 gap-2\">\r\n                {post.image_urls.map((url, index) => (\r\n                  <div \r\n                    key={index} \r\n                    className=\"aspect-square rounded-xl overflow-hidden border shadow-sm hover:shadow-md transition-shadow\"\r\n                  >\r\n                    <img src={url} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Video Preview */}\r\n          {post.video_url && (\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">{t(\"admin.communityPosts.video\", \"视频\")}</Label>\r\n              <video\r\n                src={post.video_url}\r\n                controls\r\n                className=\"w-full max-h-48 rounded-xl border shadow-sm\"\r\n                preload=\"metadata\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Stats */}\r\n          <div className=\"flex items-center gap-3 p-3 bg-muted/30 rounded-xl\">\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-background rounded-lg shadow-sm\">\r\n              <Heart className=\"h-4 w-4 text-red-500\" />\r\n              <span className=\"font-medium\">{post.likes_count}</span>\r\n              <span className=\"text-xs text-muted-foreground\">{t(\"community.likes\", \"赞\")}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-background rounded-lg shadow-sm\">\r\n              <MessageCircle className=\"h-4 w-4 text-blue-500\" />\r\n              <span className=\"font-medium\">{post.comments_count}</span>\r\n              <span className=\"text-xs text-muted-foreground\">{t(\"community.comments\", \"评论\")}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-background rounded-lg shadow-sm\">\r\n              <Share2 className=\"h-4 w-4 text-green-500\" />\r\n              <span className=\"font-medium\">{post.shares_count}</span>\r\n              <span className=\"text-xs text-muted-foreground\">{t(\"community.shares\", \"分享\")}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <Separator />\r\n\r\n          {/* Settings Grid */}\r\n          <div className=\"grid gap-4 sm:grid-cols-2\">\r\n            {/* Weight */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium flex items-center gap-2\">\r\n                <Weight className=\"h-4 w-4\" />\r\n                {t(\"admin.communityPosts.weight\", \"权重\")}\r\n              </Label>\r\n              <Input\r\n                type=\"number\"\r\n                value={weight}\r\n                onChange={(e) => setWeight(parseInt(e.target.value) || 0)}\r\n                min={0}\r\n                max={1000}\r\n                className=\"h-10\"\r\n              />\r\n              <p className=\"text-xs text-muted-foreground\">\r\n                {t(\"admin.communityPosts.weightHint\", \"权重越高，帖子排序越靠前\")}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Activity Link */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium flex items-center gap-2\">\r\n                <Calendar className=\"h-4 w-4\" />\r\n                {t(\"admin.communityPosts.linkActivity\", \"关联活动\")}\r\n              </Label>\r\n              <Select value={activityId || \"none\"} onValueChange={(val) => setActivityId(val === \"none\" ? \"\" : val)}>\r\n                <SelectTrigger className=\"h-10\">\r\n                  <SelectValue placeholder={t(\"community.selectActivity\", \"选择活动（可选）\")} />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"none\">\r\n                    {t(\"community.noActivity\", \"不关联活动\")}\r\n                  </SelectItem>\r\n                  {activeActivities.map((activity) => (\r\n                    <SelectItem key={activity.id} value={activity.id}>\r\n                      {getLocalizedField(activity, \"title\")}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Status */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">{t(\"admin.communityPosts.status\", \"状态\")}</Label>\r\n              <Select value={status} onValueChange={setStatus}>\r\n                <SelectTrigger className=\"h-10\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {[\"approved\", \"pending\", \"hidden\", \"rejected\"].map((s) => {\r\n                    const config = getStatusConfig(s);\r\n                    const Icon = config.icon;\r\n                    return (\r\n                      <SelectItem key={s} value={s}>\r\n                        <span className={cn(\"flex items-center gap-2\", config.className)}>\r\n                          <Icon className=\"h-4 w-4\" />\r\n                          {config.label}\r\n                        </span>\r\n                      </SelectItem>\r\n                    );\r\n                  })}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            {/* Moderation Status */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-medium\">{t(\"admin.communityPosts.moderation\", \"审核状态\")}</Label>\r\n              <Select value={moderationStatus} onValueChange={setModerationStatus}>\r\n                <SelectTrigger className=\"h-10\">\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {[\"pending\", \"approved\", \"flagged\"].map((s) => {\r\n                    const config = getModerationConfig(s);\r\n                    const Icon = config.icon;\r\n                    return (\r\n                      <SelectItem key={s} value={s}>\r\n                        <span className={cn(\"flex items-center gap-2\", config.className)}>\r\n                          <Icon className=\"h-4 w-4\" />\r\n                          {config.label}\r\n                        </span>\r\n                      </SelectItem>\r\n                    );\r\n                  })}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"flex justify-end gap-3 pt-4 border-t\">\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} className=\"px-6\">\r\n            {t(\"common.cancel\", \"取消\")}\r\n          </Button>\r\n          <Button onClick={handleSave} disabled={updatePost.isPending} className=\"px-6\">\r\n            {updatePost.isPending && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\r\n            {t(\"common.save\", \"保存\")}\r\n          </Button>\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default PostManagementDialog;\r\n","import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { zhCN, enUS, pt } from \"date-fns/locale\";\r\nimport {\r\n  Search,\r\n  Eye,\r\n  Trash2,\r\n  EyeOff,\r\n  Check,\r\n  AlertTriangle,\r\n  Image,\r\n  Video,\r\n  Heart,\r\n  MessageCircle,\r\n  Share2,\r\n  Clock,\r\n  Filter,\r\n  LayoutGrid,\r\n  List,\r\n  CheckCircle2,\r\n  XCircle,\r\n  AlertCircle,\r\n  Link2,\r\n  FileText,\r\n  Ban,\r\n} from \"lucide-react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport {\r\n  useAdminCommunityPosts,\r\n  useUpdatePost,\r\n  useDeletePost,\r\n  CommunityPost,\r\n} from \"@/hooks/useCommunityPosts\";\r\nimport { useLocalizedContent } from \"@/hooks/useLocalizedContent\";\r\nimport PostManagementDialog from \"@/components/admin/PostManagementDialog\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst AdminCommunityPosts = () => {\r\n  const { t, i18n } = useTranslation();\r\n  const { getLocalizedField } = useLocalizedContent();\r\n  const [search, setSearch] = useState(\"\");\r\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\");\r\n  const [moderationFilter, setModerationFilter] = useState<string>(\"all\");\r\n  const [selectedPost, setSelectedPost] = useState<CommunityPost | null>(null);\r\n  const [deletePost, setDeletePost] = useState<CommunityPost | null>(null);\r\n  const [viewMode, setViewMode] = useState<\"grid\" | \"list\">(\"grid\");\r\n\r\n  const { data: posts, isLoading } = useAdminCommunityPosts({\r\n    status: statusFilter !== \"all\" ? statusFilter : undefined,\r\n    moderation_status: moderationFilter !== \"all\" ? moderationFilter : undefined,\r\n    search: search || undefined,\r\n  });\r\n\r\n  const updatePost = useUpdatePost();\r\n  const deletePostMutation = useDeletePost();\r\n\r\n  const getDateLocale = () => {\r\n    switch (i18n.language) {\r\n      case \"zh\":\r\n        return zhCN;\r\n      case \"pt\":\r\n        return pt;\r\n      default:\r\n        return enUS;\r\n    }\r\n  };\r\n\r\n  const getStatusConfig = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return {\r\n          label: t(\"admin.status.approved\", \"已发布\"),\r\n          icon: CheckCircle2,\r\n          className: \"bg-emerald-500/10 text-emerald-600 border-emerald-500/20\",\r\n        };\r\n      case \"pending\":\r\n        return {\r\n          label: t(\"admin.status.pending\", \"待审核\"),\r\n          icon: Clock,\r\n          className: \"bg-amber-500/10 text-amber-600 border-amber-500/20\",\r\n        };\r\n      case \"rejected\":\r\n        return {\r\n          label: t(\"admin.status.rejected\", \"已拒绝\"),\r\n          icon: XCircle,\r\n          className: \"bg-red-500/10 text-red-600 border-red-500/20\",\r\n        };\r\n      case \"hidden\":\r\n        return {\r\n          label: t(\"admin.status.hidden\", \"已隐藏\"),\r\n          icon: EyeOff,\r\n          className: \"bg-gray-500/10 text-gray-600 border-gray-500/20\",\r\n        };\r\n      default:\r\n        return {\r\n          label: status,\r\n          icon: AlertCircle,\r\n          className: \"bg-gray-500/10 text-gray-600 border-gray-500/20\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const getModerationConfig = (status: string) => {\r\n    switch (status) {\r\n      case \"approved\":\r\n        return {\r\n          label: t(\"admin.moderation.approved\", \"通过\"),\r\n          icon: Check,\r\n          className: \"text-emerald-600\",\r\n        };\r\n      case \"flagged\":\r\n        return {\r\n          label: t(\"admin.moderation.flagged\", \"标记\"),\r\n          icon: AlertTriangle,\r\n          className: \"text-orange-500\",\r\n        };\r\n      case \"pending\":\r\n        return {\r\n          label: t(\"admin.moderation.pending\", \"待审\"),\r\n          icon: Clock,\r\n          className: \"text-muted-foreground\",\r\n        };\r\n      default:\r\n        return {\r\n          label: status,\r\n          icon: AlertCircle,\r\n          className: \"text-muted-foreground\",\r\n        };\r\n    }\r\n  };\r\n\r\n  const handleQuickAction = (post: CommunityPost, action: string) => {\r\n    switch (action) {\r\n      case \"approve\":\r\n        updatePost.mutate({ id: post.id, status: \"approved\" });\r\n        break;\r\n      case \"hide\":\r\n        updatePost.mutate({ id: post.id, status: \"hidden\" });\r\n        break;\r\n      case \"unhide\":\r\n        updatePost.mutate({ id: post.id, status: \"approved\" });\r\n        break;\r\n      case \"delete\":\r\n        setDeletePost(post);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const confirmDelete = () => {\r\n    if (deletePost) {\r\n      deletePostMutation.mutate(deletePost.id);\r\n      setDeletePost(null);\r\n    }\r\n  };\r\n\r\n  const stripHtml = (html: string) => {\r\n    const tmp = document.createElement(\"div\");\r\n    tmp.innerHTML = html;\r\n    return tmp.textContent || tmp.innerText || \"\";\r\n  };\r\n\r\n  const PostCard = ({ post }: { post: CommunityPost }) => {\r\n    const statusConfig = getStatusConfig(post.status);\r\n    const moderationConfig = getModerationConfig(post.moderation_status);\r\n    const StatusIcon = statusConfig.icon;\r\n    const ModerationIcon = moderationConfig.icon;\r\n\r\n    return (\r\n      <Card className=\"group overflow-hidden hover:shadow-md transition-all duration-200 border-border/60\">\r\n        <CardContent className=\"p-0\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-4 border-b border-border/40\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <Avatar className=\"h-10 w-10 ring-2 ring-background shadow-sm\">\r\n                <AvatarImage src={post.author?.avatar_url || undefined} />\r\n                <AvatarFallback className=\"bg-primary/10 text-primary font-medium\">\r\n                  {post.author?.display_name?.charAt(0) || \"?\"}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n              <div>\r\n                <p className=\"font-medium text-sm\">{post.author?.display_name}</p>\r\n                <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\r\n                  <Clock className=\"h-3 w-3\" />\r\n                  {formatDistanceToNow(new Date(post.created_at), {\r\n                    addSuffix: true,\r\n                    locale: getDateLocale(),\r\n                  })}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <TooltipProvider>\r\n                <Tooltip>\r\n                  <TooltipTrigger asChild>\r\n                    <div className={cn(\"p-1.5 rounded-full\", moderationConfig.className)}>\r\n                      <ModerationIcon className=\"h-3.5 w-3.5\" />\r\n                    </div>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent side=\"left\">\r\n                    <p>{moderationConfig.label}</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              </TooltipProvider>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"p-4 space-y-3\">\r\n            <p className=\"text-sm line-clamp-3 text-foreground/90\">\r\n              {stripHtml(post.content)}\r\n            </p>\r\n\r\n            {/* Media Preview */}\r\n            {(post.image_urls?.length > 0 || post.video_url) && (\r\n              <div className=\"flex items-center gap-3\">\r\n                {post.image_urls && post.image_urls.length > 0 && (\r\n                  <div className=\"flex -space-x-2\">\r\n                    {post.image_urls.slice(0, 3).map((url, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"h-12 w-12 rounded-lg overflow-hidden border-2 border-background shadow-sm\"\r\n                      >\r\n                        <img src={url} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                      </div>\r\n                    ))}\r\n                    {post.image_urls.length > 3 && (\r\n                      <div className=\"h-12 w-12 rounded-lg bg-muted/80 border-2 border-background flex items-center justify-center shadow-sm\">\r\n                        <span className=\"text-xs font-medium text-muted-foreground\">\r\n                          +{post.image_urls.length - 3}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                {post.video_url && (\r\n                  <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground bg-muted/50 px-2 py-1 rounded-full\">\r\n                    <Video className=\"h-3.5 w-3.5\" />\r\n                    <span>{t(\"admin.communityPosts.hasVideo\", \"视频\")}</span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Activity Link */}\r\n            {post.activity && (\r\n              <div className=\"flex items-center gap-1.5\">\r\n                <Link2 className=\"h-3.5 w-3.5 text-primary\" />\r\n                <Badge variant=\"secondary\" className=\"text-xs font-normal\">\r\n                  {getLocalizedField(post.activity, \"title\")}\r\n                </Badge>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Stats & Status */}\r\n          <div className=\"px-4 py-3 bg-muted/30 border-t border-border/40\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-4 text-muted-foreground\">\r\n                <span className=\"flex items-center gap-1 text-xs\">\r\n                  <Heart className=\"h-3.5 w-3.5\" />\r\n                  {post.likes_count}\r\n                </span>\r\n                <span className=\"flex items-center gap-1 text-xs\">\r\n                  <MessageCircle className=\"h-3.5 w-3.5\" />\r\n                  {post.comments_count}\r\n                </span>\r\n                <span className=\"flex items-center gap-1 text-xs\">\r\n                  <Share2 className=\"h-3.5 w-3.5\" />\r\n                  {post.shares_count}\r\n                </span>\r\n              </div>\r\n              <Badge \r\n                variant=\"outline\" \r\n                className={cn(\"text-xs border\", statusConfig.className)}\r\n              >\r\n                <StatusIcon className=\"h-3 w-3 mr-1\" />\r\n                {statusConfig.label}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Actions */}\r\n          <div className=\"flex items-center gap-1 p-2 border-t border-border/40 bg-background\">\r\n            <TooltipProvider>\r\n              <Tooltip>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"flex-1 h-8 text-blue-600 hover:text-blue-700 hover:bg-blue-50\"\r\n                    onClick={() => setSelectedPost(post)}\r\n                  >\r\n                    <FileText className=\"h-4 w-4\" />\r\n                    <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"common.details\", \"详情\")}</span>\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{t(\"common.viewDetails\", \"查看详情\")}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </TooltipProvider>\r\n\r\n            {/* 只有 pending/flagged 状态显示发布按钮，hidden 状态用下面的显示/隐藏按钮 */}\r\n            {post.status === \"pending\" || post.status === \"flagged\" ? (\r\n              <TooltipProvider>\r\n                <Tooltip>\r\n                  <TooltipTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      className=\"flex-1 h-8 text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50\"\r\n                      onClick={() => handleQuickAction(post, \"approve\")}\r\n                    >\r\n                      <CheckCircle2 className=\"h-4 w-4\" />\r\n                      <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"admin.action.approve\", \"发布\")}</span>\r\n                    </Button>\r\n                  </TooltipTrigger>\r\n                  <TooltipContent>\r\n                    <p>{t(\"admin.action.approve\", \"发布\")}</p>\r\n                  </TooltipContent>\r\n                </Tooltip>\r\n              </TooltipProvider>\r\n            ) : null}\r\n\r\n            <TooltipProvider>\r\n              <Tooltip>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className={cn(\r\n                      \"flex-1 h-8\",\r\n                      post.status === \"hidden\"\r\n                        ? \"text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50\"\r\n                        : \"text-amber-600 hover:text-amber-700 hover:bg-amber-50\"\r\n                    )}\r\n                    onClick={() => handleQuickAction(post, post.status === \"hidden\" ? \"unhide\" : \"hide\")}\r\n                  >\r\n                    {post.status === \"hidden\" ? (\r\n                      <>\r\n                        <Eye className=\"h-4 w-4\" />\r\n                        <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"admin.action.unhide\", \"显示\")}</span>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Ban className=\"h-4 w-4\" />\r\n                        <span className=\"ml-1.5 text-xs hidden sm:inline\">{t(\"admin.action.hide\", \"隐藏\")}</span>\r\n                      </>\r\n                    )}\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{post.status === \"hidden\" ? t(\"admin.action.unhide\", \"显示\") : t(\"admin.action.hide\", \"隐藏\")}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </TooltipProvider>\r\n\r\n            <TooltipProvider>\r\n              <Tooltip>\r\n                <TooltipTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"flex-1 h-8 text-destructive hover:text-destructive hover:bg-destructive/10\"\r\n                    onClick={() => handleQuickAction(post, \"delete\")}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </TooltipTrigger>\r\n                <TooltipContent>\r\n                  <p>{t(\"common.delete\", \"删除\")}</p>\r\n                </TooltipContent>\r\n              </Tooltip>\r\n            </TooltipProvider>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const PostSkeleton = () => (\r\n    <Card className=\"overflow-hidden\">\r\n      <CardContent className=\"p-0\">\r\n        <div className=\"flex items-center gap-3 p-4 border-b\">\r\n          <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n          <div className=\"space-y-2\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-3 w-16\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"p-4 space-y-3\">\r\n          <Skeleton className=\"h-4 w-full\" />\r\n          <Skeleton className=\"h-4 w-3/4\" />\r\n          <div className=\"flex gap-2\">\r\n            <Skeleton className=\"h-12 w-12 rounded-lg\" />\r\n            <Skeleton className=\"h-12 w-12 rounded-lg\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"px-4 py-3 bg-muted/30 border-t\">\r\n          <div className=\"flex justify-between\">\r\n            <Skeleton className=\"h-4 w-24\" />\r\n            <Skeleton className=\"h-5 w-16 rounded-full\" />\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold\">\r\n            {t(\"admin.communityPosts.title\", \"帖子管理\")}\r\n          </h1>\r\n          <p className=\"text-muted-foreground text-sm mt-1\">\r\n            {t(\"admin.communityPosts.subtitle\", \"管理和审核社区帖子\")}\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button\r\n            variant={viewMode === \"grid\" ? \"secondary\" : \"ghost\"}\r\n            size=\"icon\"\r\n            className=\"h-9 w-9\"\r\n            onClick={() => setViewMode(\"grid\")}\r\n          >\r\n            <LayoutGrid className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button\r\n            variant={viewMode === \"list\" ? \"secondary\" : \"ghost\"}\r\n            size=\"icon\"\r\n            className=\"h-9 w-9\"\r\n            onClick={() => setViewMode(\"list\")}\r\n          >\r\n            <List className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"border-border/60\">\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col sm:flex-row gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder={t(\"admin.communityPosts.searchPlaceholder\", \"搜索内容...\")}\r\n                value={search}\r\n                onChange={(e) => setSearch(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Filter className=\"h-4 w-4 text-muted-foreground hidden sm:block\" />\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger className=\"w-[140px]\">\r\n                  <SelectValue placeholder={t(\"admin.status.all\", \"所有状态\")} />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">{t(\"admin.status.all\", \"所有状态\")}</SelectItem>\r\n                  <SelectItem value=\"approved\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <CheckCircle2 className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                      {t(\"admin.status.approved\", \"已发布\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"pending\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Clock className=\"h-3.5 w-3.5 text-amber-600\" />\r\n                      {t(\"admin.status.pending\", \"待审核\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"hidden\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <EyeOff className=\"h-3.5 w-3.5 text-gray-500\" />\r\n                      {t(\"admin.status.hidden\", \"已隐藏\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"rejected\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <XCircle className=\"h-3.5 w-3.5 text-red-600\" />\r\n                      {t(\"admin.status.rejected\", \"已拒绝\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n\r\n              <Select value={moderationFilter} onValueChange={setModerationFilter}>\r\n                <SelectTrigger className=\"w-[130px]\">\r\n                  <SelectValue placeholder={t(\"admin.moderation.all\", \"所有审核\")} />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">{t(\"admin.moderation.all\", \"所有审核\")}</SelectItem>\r\n                  <SelectItem value=\"pending\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Clock className=\"h-3.5 w-3.5 text-gray-500\" />\r\n                      {t(\"admin.moderation.pending\", \"待审\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"approved\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <Check className=\"h-3.5 w-3.5 text-emerald-600\" />\r\n                      {t(\"admin.moderation.approved\", \"通过\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                  <SelectItem value=\"flagged\">\r\n                    <span className=\"flex items-center gap-2\">\r\n                      <AlertTriangle className=\"h-3.5 w-3.5 text-orange-500\" />\r\n                      {t(\"admin.moderation.flagged\", \"标记\")}\r\n                    </span>\r\n                  </SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Posts Count */}\r\n      {posts && (\r\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n          <span>{t(\"admin.communityPosts.total\", \"共\")} {posts.length} {t(\"admin.communityPosts.posts\", \"篇帖子\")}</span>\r\n        </div>\r\n      )}\r\n\r\n      {/* Posts Grid/List */}\r\n      {isLoading ? (\r\n        <div className={cn(\r\n          \"grid gap-4\",\r\n          viewMode === \"grid\" \r\n            ? \"grid-cols-1 md:grid-cols-2 lg:grid-cols-3\" \r\n            : \"grid-cols-1\"\r\n        )}>\r\n          {Array.from({ length: 6 }).map((_, i) => (\r\n            <PostSkeleton key={i} />\r\n          ))}\r\n        </div>\r\n      ) : posts && posts.length > 0 ? (\r\n        <div className={cn(\r\n          \"grid gap-4\",\r\n          viewMode === \"grid\" \r\n            ? \"grid-cols-1 md:grid-cols-2 lg:grid-cols-3\" \r\n            : \"grid-cols-1\"\r\n        )}>\r\n          {posts.map((post) => (\r\n            <PostCard key={post.id} post={post} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Card className=\"border-dashed\">\r\n          <CardContent className=\"py-16 text-center\">\r\n            <div className=\"mx-auto w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4\">\r\n              <Image className=\"h-8 w-8 text-muted-foreground\" />\r\n            </div>\r\n            <h3 className=\"font-medium text-lg mb-1\">\r\n              {t(\"admin.communityPosts.noPosts\", \"暂无帖子\")}\r\n            </h3>\r\n            <p className=\"text-muted-foreground text-sm\">\r\n              {t(\"admin.communityPosts.noPostsDesc\", \"当前筛选条件下没有帖子\")}\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Post Management Dialog */}\r\n      <PostManagementDialog\r\n        post={selectedPost}\r\n        open={!!selectedPost}\r\n        onOpenChange={(open) => !open && setSelectedPost(null)}\r\n      />\r\n\r\n      {/* Delete Confirmation */}\r\n      <AlertDialog open={!!deletePost} onOpenChange={(open) => !open && setDeletePost(null)}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"flex items-center gap-2\">\r\n              <Trash2 className=\"h-5 w-5 text-destructive\" />\r\n              {t(\"common.confirmDelete\", \"确认删除\")}\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {t(\"admin.communityPosts.deleteWarning\", \"删除后无法恢复，确定要删除这篇帖子吗？\")}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>{t(\"common.cancel\", \"取消\")}</AlertDialogCancel>\r\n            <AlertDialogAction \r\n              onClick={confirmDelete}\r\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n            >\r\n              {t(\"common.delete\", \"删除\")}\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminCommunityPosts;\r\n"],"names":["PostManagementDialog","post","open","onOpenChange","t","i18n","useTranslation","getLocalizedField","useLocalizedContent","updatePost","useUpdatePost","activities","useActivities","weight","setWeight","useState","status","setStatus","moderationStatus","setModerationStatus","activityId","setActivityId","useEffect","getDateLocale","zhCN","pt","enUS","handleSave","activeActivities","a","getStatusConfig","s","CheckCircle2","Clock","XCircle","EyeOff","AlertCircle","getModerationConfig","Check","AlertTriangle","Dialog","jsxs","DialogContent","jsx","DialogHeader","DialogTitle","Avatar","AvatarImage","AvatarFallback","formatDistanceToNow","Label","url","index","Heart","MessageCircle","Share2","Separator","Weight","Input","e","Calendar","Select","val","SelectTrigger","SelectValue","SelectContent","SelectItem","activity","config","Icon","cn","Button","Loader2","AdminCommunityPosts","search","setSearch","statusFilter","setStatusFilter","moderationFilter","setModerationFilter","selectedPost","setSelectedPost","deletePost","setDeletePost","viewMode","setViewMode","posts","isLoading","useAdminCommunityPosts","deletePostMutation","useDeletePost","handleQuickAction","action","confirmDelete","stripHtml","html","tmp","PostCard","statusConfig","moderationConfig","StatusIcon","ModerationIcon","Card","CardContent","TooltipProvider","Tooltip","TooltipTrigger","TooltipContent","Video","Link2","Badge","FileText","Fragment","Eye","Ban","Trash2","PostSkeleton","Skeleton","LayoutGrid","List","Search","Filter","_","i","Image","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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"}