{"version":3,"file":"MerchantLayout-DyT-AxYZ.js","sources":["../../src/components/merchant/MerchantSidebar.tsx","../../src/components/merchant/MerchantBottomNav.tsx","../../src/components/merchant/MerchantLayout.tsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Store, ClipboardList, Search, Menu, HelpCircle } from \"lucide-react\";\r\nimport { Sidebar, SidebarContent, SidebarGroup, SidebarGroupContent, SidebarGroupLabel, SidebarMenu, SidebarMenuButton, SidebarMenuItem, useSidebar } from \"@/components/ui/sidebar\";\r\nimport { useIsMobile } from \"@/hooks/use-mobile\";\r\n\r\nconst MerchantSidebar = () => {\r\n  const { t } = useTranslation();\r\n  const { state, setOpenMobile } = useSidebar();\r\n  const location = useLocation();\r\n  const currentPath = location.pathname;\r\n  const isMobile = useIsMobile();\r\n\r\n  const menuItems = [\r\n    {\r\n      title: t(\"nav.manageRestaurants\"),\r\n      url: \"/merchant-dashboard\",\r\n      icon: Store,\r\n    },\r\n    {\r\n      title: t(\"merchant.myActivityRequests\"),\r\n      url: \"/merchant-dashboard/activity-requests\",\r\n      icon: ClipboardList,\r\n    },\r\n    {\r\n      title: t(\"nav.couponQuery\"),\r\n      url: \"/merchant-dashboard/coupon-query\",\r\n      icon: Search,\r\n    },\r\n  ];\r\n\r\n  const helpItems = [\r\n    {\r\n      title: t(\"admin.userManual\", \"使用手册\"),\r\n      url: \"/merchant-dashboard/user-manual\",\r\n      icon: HelpCircle,\r\n    },\r\n  ];\r\n\r\n  const isActive = (path: string) => {\r\n    if (path === \"/merchant-dashboard\") {\r\n      return currentPath === path;\r\n    }\r\n    return currentPath.startsWith(path);\r\n  };\r\n\r\n  const handleMenuClick = () => {\r\n    if (isMobile) {\r\n      setOpenMobile(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Sidebar className={state === \"collapsed\" ? \"w-14\" : \"w-60\"}>\r\n      <SidebarContent>\r\n        <SidebarGroup>\r\n          <SidebarGroupLabel className={state === \"collapsed\" ? \"text-center\" : \"\"}>\r\n            {state === \"collapsed\" ? <Menu className=\"h-4 w-4\" /> : t(\"merchant.management\")}\r\n          </SidebarGroupLabel>\r\n          <SidebarGroupContent>\r\n            <SidebarMenu className=\"mt-[30px]\">\r\n              {menuItems.map((item) => (\r\n                <SidebarMenuItem key={item.url}>\r\n                  <SidebarMenuButton asChild isActive={isActive(item.url)}>\r\n                    <Link to={item.url} onClick={handleMenuClick}>\r\n                      <item.icon className=\"h-4 w-4\" />\r\n                      {state !== \"collapsed\" && <span>{item.title}</span>}\r\n                    </Link>\r\n                  </SidebarMenuButton>\r\n                </SidebarMenuItem>\r\n              ))}\r\n            </SidebarMenu>\r\n          </SidebarGroupContent>\r\n        </SidebarGroup>\r\n\r\n        {/* Help Group */}\r\n        <SidebarGroup>\r\n          <SidebarGroupLabel className={state === \"collapsed\" ? \"text-center\" : \"\"}>\r\n            {state === \"collapsed\" ? <HelpCircle className=\"h-4 w-4\" /> : t(\"admin.groups.help\", \"帮助\")}\r\n          </SidebarGroupLabel>\r\n          <SidebarGroupContent>\r\n            <SidebarMenu>\r\n              {helpItems.map((item) => (\r\n                <SidebarMenuItem key={item.url}>\r\n                  <SidebarMenuButton asChild isActive={isActive(item.url)}>\r\n                    <Link to={item.url} onClick={handleMenuClick}>\r\n                      <item.icon className=\"h-4 w-4\" />\r\n                      {state !== \"collapsed\" && <span>{item.title}</span>}\r\n                    </Link>\r\n                  </SidebarMenuButton>\r\n                </SidebarMenuItem>\r\n              ))}\r\n            </SidebarMenu>\r\n          </SidebarGroupContent>\r\n        </SidebarGroup>\r\n      </SidebarContent>\r\n    </Sidebar>\r\n  );\r\n};\r\n\r\nexport default MerchantSidebar;\r\n","import { Link, useLocation } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Store, ClipboardList, Search } from \"lucide-react\";\r\n\r\nconst MerchantBottomNav = () => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const currentPath = location.pathname;\r\n\r\n  const menuItems = [\r\n    {\r\n      title: t(\"nav.manageRestaurants\"),\r\n      url: \"/merchant-dashboard\",\r\n      icon: Store,\r\n    },\r\n    {\r\n      title: t(\"merchant.myActivityRequests\"),\r\n      url: \"/merchant-dashboard/activity-requests\",\r\n      icon: ClipboardList,\r\n    },\r\n    {\r\n      title: t(\"nav.couponQuery\"),\r\n      url: \"/merchant-dashboard/coupon-query\",\r\n      icon: Search,\r\n    },\r\n  ];\r\n\r\n  const isActive = (path: string) => {\r\n    if (path === \"/merchant-dashboard\") {\r\n      return currentPath === path;\r\n    }\r\n    return currentPath.startsWith(path);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"fixed bottom-4 left-4 right-4 z-50 bg-white/20 dark:bg-black/25 backdrop-blur-sm border border-white/40 dark:border-white/30 shadow-[0_2px_20px_rgba(0,0,0,0.08)] rounded-[28px] safe-bottom overflow-hidden\">\r\n      {/* 顶部柔和高光渐变 */}\r\n      <div className=\"absolute inset-0 rounded-[28px] bg-gradient-to-b from-white/10 via-transparent to-transparent pointer-events-none\" />\r\n      <div className=\"relative flex justify-around items-center h-14\">\r\n        {menuItems.map((item) => (\r\n          <Link\r\n            key={item.url}\r\n            to={item.url}\r\n            className={`relative flex flex-col items-center justify-center flex-1 h-10 py-1 px-2 mx-0.5 transition-all duration-200 rounded-2xl ${\r\n              isActive(item.url)\r\n                ? \"text-primary dark:text-white bg-primary/15 dark:bg-white/15\"\r\n                : \"text-gray-700 dark:text-white/80 active:bg-black/5 dark:active:bg-white/5\"\r\n            }`}\r\n          >\r\n            <item.icon \r\n              className={`h-5 w-5 mb-1 transition-all duration-200 ${\r\n                isActive(item.url) \r\n                  ? \"scale-110 drop-shadow-[0_0_6px_rgba(34,197,94,0.6)] dark:drop-shadow-[0_0_6px_rgba(255,255,255,0.6)]\" \r\n                  : \"\"\r\n              }`} \r\n            />\r\n            <span className={`text-xs text-center line-clamp-1 ${isActive(item.url) ? \"font-semibold\" : \"font-normal\"}`}>\r\n              {item.title}\r\n            </span>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MerchantBottomNav;\r\n","import { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\r\nimport MerchantSidebar from \"./MerchantSidebar\";\r\nimport MerchantBottomNav from \"./MerchantBottomNav\";\r\nimport { Outlet } from \"react-router-dom\";\r\nimport { Suspense } from \"react\";\r\nimport { useIsMobile } from \"@/hooks/use-mobile\";\r\nimport { Loader2 } from \"lucide-react\";\r\n\r\n// Lightweight loading spinner for merchant page transitions\r\nconst MerchantPageLoader = () => (\r\n  <div className=\"flex items-center justify-center h-64\">\r\n    <Loader2 className=\"h-8 w-8 animate-spin text-muted-foreground\" />\r\n  </div>\r\n);\r\n\r\nconst MerchantLayout = () => {\r\n  const isMobile = useIsMobile();\r\n\r\n  return (\r\n    <SidebarProvider>\r\n      <div className=\"min-h-screen flex w-full\">\r\n        {!isMobile && <MerchantSidebar />}\r\n        <div className=\"flex-1 flex flex-col\">\r\n          <header className=\"h-14 border-b border-border flex items-center px-4 bg-background\">\r\n            {!isMobile && <SidebarTrigger />}\r\n            <h1 className={`text-lg font-semibold ${isMobile ? '' : 'ml-4'}`}>商家管理后台</h1>\r\n          </header>\r\n          <main className={`flex-1 p-4 md:p-6 overflow-auto ${isMobile ? 'pb-24' : ''}`}>\r\n            <Suspense fallback={<MerchantPageLoader />}>\r\n              <Outlet />\r\n            </Suspense>\r\n          </main>\r\n          {isMobile && <MerchantBottomNav />}\r\n        </div>\r\n      </div>\r\n    </SidebarProvider>\r\n  );\r\n};\r\n\r\nexport default MerchantLayout;\r\n"],"names":["MerchantSidebar","t","useTranslation","state","setOpenMobile","useSidebar","currentPath","useLocation","isMobile","useIsMobile","menuItems","Store","ClipboardList","Search","helpItems","HelpCircle","isActive","path","handleMenuClick","jsx","Sidebar","SidebarContent","jsxs","SidebarGroup","SidebarGroupLabel","Menu","SidebarGroupContent","SidebarMenu","item","SidebarMenuItem","SidebarMenuButton","Link","MerchantBottomNav","MerchantPageLoader","Loader2","MerchantLayout","SidebarProvider","SidebarTrigger","Suspense","Outlet"],"mappings":"2cAMA,MAAMA,EAAkB,IAAM,CACtB,KAAA,CAAE,EAAAC,GAAMC,IACR,CAAE,MAAAC,EAAO,cAAAC,CAAc,EAAIC,EAAW,EAEtCC,EADWC,IACY,SACvBC,EAAWC,IAEXC,EAAY,CAChB,CACE,MAAOT,EAAE,uBAAuB,EAChC,IAAK,sBACL,KAAMU,CACR,EACA,CACE,MAAOV,EAAE,6BAA6B,EACtC,IAAK,wCACL,KAAMW,CACR,EACA,CACE,MAAOX,EAAE,iBAAiB,EAC1B,IAAK,mCACL,KAAMY,CACR,CAAA,EAGIC,EAAY,CAChB,CACE,MAAOb,EAAE,mBAAoB,MAAM,EACnC,IAAK,kCACL,KAAMc,CACR,CAAA,EAGIC,EAAYC,GACZA,IAAS,sBACJX,IAAgBW,EAElBX,EAAY,WAAWW,CAAI,EAG9BC,EAAkB,IAAM,CACxBV,GACFJ,EAAc,EAAK,CACrB,EAIA,OAAAe,EAAA,IAACC,GAAQ,UAAWjB,IAAU,YAAc,OAAS,OACnD,gBAACkB,EACC,CAAA,SAAA,CAAAC,OAACC,EACC,CAAA,SAAA,CAAAJ,MAACK,EAAkB,CAAA,UAAWrB,IAAU,YAAc,cAAgB,GACnE,SAAAA,IAAU,YAAcgB,EAAA,IAACM,GAAK,UAAU,SAAA,CAAU,EAAKxB,EAAE,qBAAqB,EACjF,EACAkB,EAAA,IAACO,EACC,CAAA,SAAAP,EAAA,IAACQ,EAAY,CAAA,UAAU,YACpB,SAAAjB,EAAU,IAAKkB,GACdT,EAAA,IAACU,EACC,CAAA,SAAAV,EAAA,IAACW,EAAkB,CAAA,QAAO,GAAC,SAAUd,EAASY,EAAK,GAAG,EACpD,SAACN,EAAA,KAAAS,EAAA,CAAK,GAAIH,EAAK,IAAK,QAASV,EAC3B,SAAA,CAAAC,EAAAA,IAACS,EAAK,KAAL,CAAU,UAAU,SAAU,CAAA,EAC9BzB,IAAU,aAAgBgB,MAAA,OAAA,CAAM,WAAK,MAAM,CAAA,CAC9C,CAAA,CACF,CAAA,GANoBS,EAAK,GAO3B,CACD,CACH,CAAA,EACF,CAAA,EACF,SAGCL,EACC,CAAA,SAAA,CAAAJ,MAACK,GAAkB,UAAWrB,IAAU,YAAc,cAAgB,GACnE,SAAUA,IAAA,YAAegB,MAAAJ,EAAA,CAAW,UAAU,SAAU,CAAA,EAAKd,EAAE,oBAAqB,IAAI,EAC3F,EACAkB,EAAA,IAACO,EACC,CAAA,SAAAP,EAAAA,IAACQ,EACE,CAAA,SAAAb,EAAU,IAAKc,GACbT,EAAA,IAAAU,EAAA,CACC,SAACV,EAAAA,IAAAW,EAAA,CAAkB,QAAO,GAAC,SAAUd,EAASY,EAAK,GAAG,EACpD,SAACN,EAAAA,KAAAS,EAAA,CAAK,GAAIH,EAAK,IAAK,QAASV,EAC3B,SAAA,CAAAC,EAAAA,IAACS,EAAK,KAAL,CAAU,UAAU,SAAU,CAAA,EAC9BzB,IAAU,aAAgBgB,MAAA,OAAA,CAAM,WAAK,MAAM,CAAA,CAC9C,CAAA,CACF,CAAA,GANoBS,EAAK,GAO3B,CACD,CACH,CAAA,EACF,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,EC9FMI,EAAoB,IAAM,CACxB,KAAA,CAAE,EAAA/B,GAAMC,IAERI,EADWC,IACY,SAEvBG,EAAY,CAChB,CACE,MAAOT,EAAE,uBAAuB,EAChC,IAAK,sBACL,KAAMU,CACR,EACA,CACE,MAAOV,EAAE,6BAA6B,EACtC,IAAK,wCACL,KAAMW,CACR,EACA,CACE,MAAOX,EAAE,iBAAiB,EAC1B,IAAK,mCACL,KAAMY,CACR,CAAA,EAGIG,EAAYC,GACZA,IAAS,sBACJX,IAAgBW,EAElBX,EAAY,WAAWW,CAAI,EAIlC,OAAAK,EAAA,KAAC,MAAI,CAAA,UAAU,+MAEb,SAAA,CAACH,EAAAA,IAAA,MAAA,CAAI,UAAU,mHAAoH,CAAA,QAClI,MAAI,CAAA,UAAU,iDACZ,SAAUT,EAAA,IAAKkB,GACdN,EAAA,KAACS,EAAA,CAEC,GAAIH,EAAK,IACT,UAAW,2HACTZ,EAASY,EAAK,GAAG,EACb,8DACA,2EACN,GAEA,SAAA,CAAAT,EAAA,IAACS,EAAK,KAAL,CACC,UAAW,4CACTZ,EAASY,EAAK,GAAG,EACb,uGACA,EACN,EAAA,CACF,EACCT,EAAA,IAAA,OAAA,CAAK,UAAW,oCAAoCH,EAASY,EAAK,GAAG,EAAI,gBAAkB,aAAa,GACtG,SAAAA,EAAK,MACR,CAAA,CAAA,EAjBKA,EAAK,GAmBb,CAAA,EACH,CACF,CAAA,CAAA,CAEJ,ECvDMK,EAAqB,IACzBd,EAAA,IAAC,MAAI,CAAA,UAAU,wCACb,SAACA,EAAA,IAAAe,EAAA,CAAQ,UAAU,4CAA6C,CAAA,CAClE,CAAA,EAGIC,EAAiB,IAAM,CAC3B,MAAM3B,EAAWC,IAEjB,OACGU,EAAA,IAAAiB,EAAA,CACC,SAACd,EAAAA,KAAA,MAAA,CAAI,UAAU,2BACZ,SAAA,CAAC,CAAAd,SAAaR,EAAgB,EAAA,EAC/BsB,EAAAA,KAAC,MAAI,CAAA,UAAU,uBACb,SAAA,CAACA,EAAAA,KAAA,SAAA,CAAO,UAAU,mEACf,SAAA,CAAC,CAAAd,SAAa6B,EAAe,EAAA,EAC9BlB,EAAAA,IAAC,MAAG,UAAW,yBAAyBX,EAAW,GAAK,MAAM,GAAI,SAAM,QAAA,CAAA,CAAA,EAC1E,QACC,OAAK,CAAA,UAAW,mCAAmCA,EAAW,QAAU,EAAE,GACzE,SAACW,EAAA,IAAAmB,WAAA,CAAS,SAAWnB,EAAAA,IAAAc,EAAA,EAAmB,EACtC,SAACd,EAAAA,IAAAoB,EAAA,EAAO,EACV,CACF,CAAA,EACC/B,SAAawB,EAAkB,EAAA,CAAA,EAClC,CAAA,CACF,CAAA,CACF,CAAA,CAEJ"}