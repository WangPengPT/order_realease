import{j as e}from"./vendor-ui-DmpovMYY.js";import{j as u,u as c,r as i}from"./vendor-react-iAJ0IrSD.js";import{L as l,s as m}from"./index-C_NQhAgt.js";import"./vendor-i18n-DxKeo2S1.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-D82cqPtt.js";import"./vendor-supabase-6pZ9VDFn.js";const g=()=>{const{keyId:t}=u(),r=c(),[a,s]=i.useState(null);return i.useEffect(()=>{(async()=>{if(!t){s("Key ID not provided");return}const{data:n,error:o}=await m.from("restaurants").select("id").eq("key_id",t).maybeSingle();if(o){s("Failed to find restaurant");return}if(!n){s("Restaurant not found");return}r(`/restaurant/${n.id}`,{replace:!0})})()},[t,r]),a?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("p",{className:"text-lg text-destructive",children:a}),e.jsx("button",{onClick:()=>r("/restaurants"),className:"text-primary hover:underline",children:"Browse all restaurants"})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(l,{className:"h-8 w-8 animate-spin text-muted-foreground"})})};export{g as default};
//# sourceMappingURL=RestaurantRedirect-B3bje98B.js.map
