{"version":3,"file":"MobileBottomNav-BR6Os4qD.js","sources":["../../src/components/layout/MobileBottomNav.tsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Home, Store, Calendar, Users } from \"lucide-react\";\r\nimport { useEnvironment } from \"@/hooks/useEnvironment\";\r\nimport { useSiteSettings } from \"@/hooks/useSiteSettings\";\r\nimport { useNavigationSettings } from \"@/hooks/useNavigationSettings\";\r\n\r\nconst MobileBottomNav = () => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const { isWebView } = useEnvironment();\r\n  const { settings } = useSiteSettings();\r\n  const { buttons } = useNavigationSettings();\r\n\r\n  // Only show in webview on mobile\r\n  if (!isWebView) {\r\n    return null;\r\n  }\r\n\r\n  const isCommunityEnabled = settings?.community_enabled !== false;\r\n\r\n  // Check if a specific link is enabled in navigation buttons\r\n  const isLinkEnabled = (link: string) => {\r\n    const button = buttons?.find((btn) => btn.link === link);\r\n    // If no button found, assume enabled\r\n    if (!button) return true;\r\n    // Check if the button is enabled (enabled=false means completely disabled)\r\n    return button.enabled !== false;\r\n  };\r\n\r\n  const baseMenuItems = [\r\n    { title: t(\"nav.map\"), url: \"/\", icon: Home },\r\n    { title: t(\"nav.restaurants\"), url: \"/restaurants\", icon: Store },\r\n    { title: t(\"nav.activities\"), url: \"/activities\", icon: Calendar },\r\n  ];\r\n\r\n  // Add community if enabled\r\n  if (isCommunityEnabled) {\r\n    baseMenuItems.push({ title: t(\"nav.community\"), url: \"/community\", icon: Users });\r\n  }\r\n\r\n  // Filter out disabled links\r\n  const menuItems = baseMenuItems.filter((item) => isLinkEnabled(item.url));\r\n\r\n  const isActive = (path: string) => {\r\n    if (path === \"/\") return location.pathname === path;\r\n    return location.pathname.startsWith(path);\r\n  };\r\n\r\n  return (\r\n    <nav className=\"fixed bottom-0 left-0 right-0 z-50 bg-gradient-to-t from-background via-background to-background/95 backdrop-blur-sm border-t border-primary/10 shadow-[0_-2px_10px_rgba(0,0,0,0.08)] safe-bottom lg:hidden dark:border-primary/20 dark:shadow-[0_-2px_10px_rgba(0,0,0,0.3)]\">\r\n      <div className=\"flex justify-around items-center h-16 px-2\">\r\n        {menuItems.map((item) => (\r\n          <Link\r\n            key={item.url}\r\n            to={item.url}\r\n            className={`relative flex flex-col items-center justify-center flex-1 h-full py-2 px-3 mx-1 transition-all duration-200 ${\r\n              isActive(item.url)\r\n                ? \"text-primary bg-primary/10 rounded-xl\"\r\n                : \"text-muted-foreground hover:text-primary hover:bg-primary/5 rounded-xl\"\r\n            }`}\r\n          >\r\n            <item.icon className={`h-5 w-5 mb-1 transition-transform duration-200 ${isActive(item.url) ? \"scale-110\" : \"\"}`} />\r\n            <span className={`text-xs text-center line-clamp-1 ${isActive(item.url) ? \"font-medium\" : \"\"}`}>\r\n              {item.title}\r\n            </span>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MobileBottomNav;\r\n"],"names":["MobileBottomNav","t","useTranslation","location","useLocation","isWebView","useEnvironment","settings","useSiteSettings","buttons","useNavigationSettings","isCommunityEnabled","isLinkEnabled","link","button","btn","baseMenuItems","Home","Store","Calendar","Users","menuItems","item","isActive","path","jsx","jsxs","Link"],"mappings":"mVAOA,MAAMA,EAAkB,IAAM,CACtB,KAAA,CAAE,EAAAC,GAAMC,IACRC,EAAWC,IACX,CAAE,UAAAC,GAAcC,IAChB,CAAE,SAAAC,GAAaC,IACf,CAAE,QAAAC,GAAYC,IAGpB,GAAI,CAACL,EACI,OAAA,KAGH,MAAAM,EAAqBJ,GAAU,oBAAsB,GAGrDK,EAAiBC,GAAiB,CACtC,MAAMC,EAASL,GAAS,KAAMM,GAAQA,EAAI,OAASF,CAAI,EAEnD,OAACC,EAEEA,EAAO,UAAY,GAFN,EAEM,EAGtBE,EAAgB,CACpB,CAAE,MAAOf,EAAE,SAAS,EAAG,IAAK,IAAK,KAAMgB,CAAK,EAC5C,CAAE,MAAOhB,EAAE,iBAAiB,EAAG,IAAK,eAAgB,KAAMiB,CAAM,EAChE,CAAE,MAAOjB,EAAE,gBAAgB,EAAG,IAAK,cAAe,KAAMkB,CAAS,CAAA,EAI/DR,GACYK,EAAA,KAAK,CAAE,MAAOf,EAAE,eAAe,EAAG,IAAK,aAAc,KAAMmB,CAAO,CAAA,EAI5E,MAAAC,EAAYL,EAAc,OAAQM,GAASV,EAAcU,EAAK,GAAG,CAAC,EAElEC,EAAYC,GACZA,IAAS,IAAYrB,EAAS,WAAaqB,EACxCrB,EAAS,SAAS,WAAWqB,CAAI,EAIxC,OAAAC,EAAAA,IAAC,MAAI,CAAA,UAAU,+QACb,SAAAA,MAAC,MAAI,CAAA,UAAU,6CACZ,SAAAJ,EAAU,IAAKC,GACdI,EAAA,KAACC,EAAA,CAEC,GAAIL,EAAK,IACT,UAAW,+GACTC,EAASD,EAAK,GAAG,EACb,wCACA,wEACN,GAEA,SAAA,CAACG,EAAAA,IAAAH,EAAK,KAAL,CAAU,UAAW,kDAAkDC,EAASD,EAAK,GAAG,EAAI,YAAc,EAAE,EAAI,CAAA,EAChHG,EAAA,IAAA,OAAA,CAAK,UAAW,oCAAoCF,EAASD,EAAK,GAAG,EAAI,cAAgB,EAAE,GACzF,SAAAA,EAAK,MACR,CAAA,CAAA,EAXKA,EAAK,GAAA,CAab,EACH,CACF,CAAA,CAEJ"}