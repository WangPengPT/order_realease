import{p as H,u as Ae,r as o,j as e,cg as Te,L as De,b0 as ue,bg as Fe,bB as xe,bA as Y,bh as Oe,an as $e,e3 as d,b7 as Me,e4 as qe,bJ as ze,aL as ne,X as ie,e5 as oe,a4 as G,b8 as Be,bj as Ge,cG as He,e6 as Ve,w as v,q as We,bO as le}from"./vendor-react-Snp1tga-.js";import{u as Qe,k as Je,A as Ke,h as Xe,i as Ye,D as Ze,Y as es,d as ss,e as ts,f as as,g as h,N as rs,ag as ns,ak as is,B as Z,ah as os,al as ls,a8 as cs,s as N,n as U}from"./index-sfQV7kES.js";import{c as ds,d as ms,e as us,f as xs,g as hs,h as ps}from"./useCommunityPosts-BWO1DT8_.js";import{u as he}from"./useLocalizedContent-Ei9FcTeq.js";import{c as fs}from"./usePoints-DfPIb5ss.js";import{P as ce,a as de,b as me}from"./popover-DdBMi9Zm.js";import{u as gs}from"./useActivities-CqAy2-Il.js";import{u as js}from"./useRestaurants-Sgb1c0yo.js";import{P as ys}from"./PullToRefresh-CGU9Lz6E.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-utils-Z4kpnli5.js";import"./vendor-supabase-D3137XJ9.js";const vs=({post:s})=>{const{t}=H(),{user:n}=Qe(),p=Ae(),{getLocalizedField:x}=he(),m=ds(),[R,f]=o.useState(!1),A=u=>{u.preventDefault(),u.stopPropagation(),n&&m.mutate({postId:s.id,liked:s.user_liked||!1})},T=()=>{p(`/community/${s.id}`)},b=u=>new DOMParser().parseFromString(u,"text/html").body.textContent||"",V=x(s,"content"),W=b(V),P=s.image_urls&&s.image_urls.length>0,S=!!s.video_url,w=P||S,E=s.image_urls?.length||0;return e.jsxs("div",{className:"group cursor-pointer rounded-lg overflow-hidden bg-card border border-border/50 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",onClick:T,children:[w&&e.jsx("div",{className:"relative",children:P?e.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden",children:[R?e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:t("common.imageLoadError","图片加载失败")})}):e.jsx("img",{src:s.image_urls[0],alt:"",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:()=>f(!0)}),E>1&&e.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded-full z-10 flex items-center gap-1",children:[e.jsx(Te,{className:"h-3 w-3"}),e.jsx("span",{children:E})]})]}):S?e.jsxs("div",{className:"relative aspect-[4/5] overflow-hidden bg-gray-900",children:[e.jsx("video",{src:s.video_url,...s.image_urls?.length?{poster:s.image_urls[0]}:{},className:"w-full h-full object-cover",preload:"metadata",muted:!0,playsInline:!0}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/30 backdrop-blur-sm flex items-center justify-center",children:e.jsx("div",{className:"w-0 h-0 border-l-[16px] border-l-white border-y-[10px] border-y-transparent ml-1"})})})]}):null}),e.jsxs("div",{className:"p-3",children:[s.restaurant&&e.jsx(De,{to:`/restaurant/${s.restaurant.id}`,onClick:u=>u.stopPropagation(),className:"inline-block mb-2",children:e.jsxs(Je,{variant:"outline",className:"text-xs gap-1 hover:bg-accent transition-colors",children:[e.jsx(ue,{className:"h-3 w-3"}),x(s.restaurant,"name")]})}),e.jsx("p",{className:`text-sm font-medium line-clamp-2 leading-relaxed ${w?"":"min-h-[60px]"}`,children:W}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[e.jsxs(Ke,{className:"h-5 w-5 flex-shrink-0",children:[e.jsx(Xe,{src:s.author?.avatar_url||void 0}),e.jsx(Ye,{className:"text-[10px]",children:s.author?.display_name?.charAt(0)||"?"})]}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:s.author?.display_name})]}),e.jsxs("button",{className:`flex items-center gap-1 text-xs ${s.user_liked?"text-red-500":"text-muted-foreground"} hover:text-red-500 transition-colors`,onClick:A,disabled:!n,children:[e.jsx(Fe,{className:`h-4 w-4 ${s.user_liked?"fill-current":""}`}),e.jsx("span",{children:s.likes_count||0})]})]})]})]})},Ns=()=>{const{t:s}=H(),{data:t}=fs(),n=t?.find(m=>m.key==="post_points")?.value||"5",p=t?.find(m=>m.key==="min_post_length")?.value||"10",x=t?.find(m=>m.key==="post_require_media")?.value==="true";return e.jsxs(Ze,{children:[e.jsx(es,{asChild:!0,children:e.jsx("button",{className:"text-primary hover:underline text-sm whitespace-nowrap",children:s("community.viewPointsRules","查看详细规则")})}),e.jsxs(ss,{className:"max-w-md",children:[e.jsx(ts,{children:e.jsxs(as,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5 text-primary"}),s("community.pointsRulesTitle","发帖积分规则")]})}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:s("community.pointsRulesIntro","通过发布社区帖子获得积分，具体规则如下：")}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Y,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:s("community.rulePostPoints",{points:n})})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Y,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:s("community.ruleMinLength",{length:p})})]}),x&&e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Y,{className:"h-4 w-4 text-green-500 mt-0.5 shrink-0"}),e.jsx("span",{children:s("community.ruleRequireMedia","帖子必须包含至少一张图片或一个视频")})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Oe,{className:"h-4 w-4 text-blue-500 mt-0.5 shrink-0"}),e.jsx("span",{children:s("community.ruleDailyLimit","每天仅可通过发帖获得一次积分奖励")})]}),e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx($e,{className:"h-4 w-4 text-purple-500 mt-0.5 shrink-0"}),e.jsx("span",{children:s("community.ruleModerationRequired","帖子需通过审核后才能获得积分")})]})]})]})]})]})},ee=o.forwardRef(({className:s,...t},n)=>e.jsx(d,{ref:n,className:h("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",s),...t}));ee.displayName=d.displayName;const pe=o.forwardRef(({className:s,...t},n)=>e.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[e.jsx(Me,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e.jsx(d.Input,{ref:n,className:h("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",s),...t})]}));pe.displayName=d.Input.displayName;const se=o.forwardRef(({className:s,...t},n)=>e.jsx(d.List,{ref:n,className:h("max-h-[300px] overflow-y-auto overflow-x-hidden",s),...t}));se.displayName=d.List.displayName;const fe=o.forwardRef((s,t)=>e.jsx(d.Empty,{ref:t,className:"py-6 text-center text-sm",...s}));fe.displayName=d.Empty.displayName;const te=o.forwardRef(({className:s,...t},n)=>e.jsx(d.Group,{ref:n,className:h("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s),...t}));te.displayName=d.Group.displayName;const bs=o.forwardRef(({className:s,...t},n)=>e.jsx(d.Separator,{ref:n,className:h("-mx-1 h-px bg-border",s),...t}));bs.displayName=d.Separator.displayName;const I=o.forwardRef(({className:s,...t},n)=>e.jsx(d.Item,{ref:n,className:h("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",s),...t}));I.displayName=d.Item.displayName;const ws=({trigger:s})=>{const{t}=H(),{getLocalizedField:n}=he(),p=ms(),{data:x}=gs(),{data:m}=js(),{role:R,isMerchant:f,isAdmin:A,isSupervisor:T}=rs(),{data:b}=us(),{data:V,isLoading:W}=xs(),[P,S]=o.useState(!1),[w,E]=o.useState(""),[u,L]=o.useState([]),[D,Q]=o.useState(null),[_,J]=o.useState(""),[k,F]=o.useState(""),[K,O]=o.useState(!1),[ge,$]=o.useState(!1),[X,M]=o.useState(""),[je,q]=o.useState(!1),z=o.useRef(null),B=o.useRef(null),ae=!f&&!T&&!A;o.useEffect(()=>{f&&b&&P&&F(b.id)},[f,b,P]);const re=()=>{E(""),L([]),Q(null),J(""),F(""),M(""),$(!1),q(!1)},ye=a=>{S(a),a||re()},ve=m?.filter(a=>{if(!X)return!0;const i=n(a,"name")?.toLowerCase()||"",l=a.address?.toLowerCase()||"",r=X.toLowerCase();return i.includes(r)||l.includes(r)})||[],Ne=()=>{if(!k)return"";const a=m?.find(i=>i.id===k);return a?n(a,"name"):""},be=()=>{if(!_)return"";const a=x?.find(i=>i.id===_);return a?n(a,"title"):""},we=async a=>{const i=a.target.files;if(!(!i||i.length===0)){if(u.length+i.length>9){v.error(t("community.maxImages","最多上传9张图片"));return}O(!0);try{const{data:{user:l}}=await N.auth.getUser();if(!l)throw new Error("Not authenticated");const r=[];for(const c of Array.from(i)){const C=c.name.split(".").pop(),g=`${l.id}/${Date.now()}-${Math.random().toString(36).substring(7)}.${C}`,{error:j}=await N.storage.from("community-posts").upload(g,c);if(j)throw j;const{data:{publicUrl:y}}=N.storage.from("community-posts").getPublicUrl(g);r.push(y)}L(c=>[...c,...r])}catch(l){console.error("Upload error:",l),v.error(t("common.uploadError","上传失败"))}finally{O(!1),z.current&&(z.current.value="")}}},ke=a=>new Promise((i,l)=>{const r=document.createElement("video"),c=document.createElement("canvas"),C=c.getContext("2d");r.preload="auto",r.muted=!0,r.playsInline=!0;let g=!1;const j=()=>{g||r.videoWidth===0||r.videoHeight===0||(c.width=r.videoWidth,c.height=r.videoHeight,C&&(C.drawImage(r,0,0,c.width,c.height),c.toBlob(y=>{y&&y.size>0?(g=!0,r.pause(),URL.revokeObjectURL(r.src),i(y)):l(new Error("Failed to create blob"))},"image/jpeg",.85)))};r.onloadedmetadata=()=>{c.width=r.videoWidth,c.height=r.videoHeight,r.currentTime=.1},r.onseeked=()=>{setTimeout(j,100)},r.onerror=()=>{URL.revokeObjectURL(r.src),l(new Error("Failed to load video"))},setTimeout(()=>{g||(URL.revokeObjectURL(r.src),l(new Error("Timeout")))},1e4),r.src=URL.createObjectURL(a),r.load()}),Ce=async a=>{const i=a.target.files?.[0];if(i){if(i.size>100*1024*1024){v.error(t("community.videoTooLarge","视频不能超过100MB"));return}O(!0);try{const{data:{user:l}}=await N.auth.getUser();if(!l)throw new Error("Not authenticated");const r=i.name.split(".").pop(),c=`${l.id}/${Date.now()}.${r}`,{error:C}=await N.storage.from("community-posts").upload(c,i);if(C)throw C;const{data:{publicUrl:g}}=N.storage.from("community-posts").getPublicUrl(c);Q(g);try{v.info(t("community.extractingCover","正在提取视频封面..."));const j=await ke(i),y=`${l.id}/${Date.now()}-cover.jpg`,{error:Ue}=await N.storage.from("community-posts").upload(y,j);if(!Ue){const{data:{publicUrl:Ee}}=N.storage.from("community-posts").getPublicUrl(y);L(Ie=>[Ee,...Ie]),v.success(t("community.coverExtracted","封面已自动生成"))}}catch(j){console.warn("Cover extraction failed:",j)}}catch(l){console.error("Upload error:",l),v.error(t("common.uploadError","上传失败"))}finally{O(!1),B.current&&(B.current.value="")}}},Re=a=>{L(i=>i.filter((l,r)=>r!==a))},Pe=()=>{Q(null),L(a=>a.length>0&&a[0].includes("-cover.jpg")?a.slice(1):a)},Se=async()=>{if(!w.trim()){v.error(t("community.contentRequired","请输入内容"));return}if(ae&&!k){v.error(t("community.restaurantRequired","请选择餐厅"));return}await p.mutateAsync({content:w,image_urls:u,video_url:D||void 0,activity_id:_||void 0,restaurant_id:k||void 0}),re(),S(!1)},Le=x?.filter(a=>a.status==="published")||[],_e=()=>b?n(b,"name"):t("community.noRestaurant","未关联餐厅");return e.jsxs(ns,{open:P,onOpenChange:ye,children:[e.jsx(is,{asChild:!0,children:s||e.jsx(Z,{children:t("community.createPost","发布帖子")})}),e.jsxs(os,{side:"bottom",className:"h-full flex flex-col p-0 rounded-none border-0 [&>button]:hidden",children:[e.jsx(qe,{children:e.jsx(ls,{children:t("community.createPost","发布帖子")})}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-background shrink-0",children:[e.jsx("button",{type:"button",onClick:()=>S(!1),className:"p-1 -ml-1 hover:bg-muted rounded-md transition-colors",children:e.jsx(ze,{className:"h-5 w-5"})}),e.jsxs(Z,{size:"sm",onClick:Se,disabled:p.isPending||!w.trim(),className:"rounded-full px-6",children:[p.isPending&&e.jsx(ne,{className:"h-4 w-4 mr-2 animate-spin"}),t("community.publish","发布")]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"px-4 py-4 space-y-4",children:[!W&&!V&&e.jsxs("div",{className:"flex items-center justify-between gap-2 px-3 py-2 bg-primary/10 dark:bg-primary/20 border border-primary/30 dark:border-primary/40 rounded-md text-sm text-primary dark:text-primary",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:t("community.dailyPointsHint","每日发布首个帖子可获得5积分！")})]}),e.jsx(Ns,{})]}),e.jsx(cs,{value:w,onChange:a=>E(a.target.value),placeholder:t("community.contentPlaceholder","分享你的想法..."),className:"min-h-[150px] border-none shadow-none resize-none focus-visible:ring-0 p-0 text-base"}),u.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-2",children:u.map((a,i)=>e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden",children:[e.jsx("img",{src:a,alt:"",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>Re(i),className:"absolute top-1 right-1 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsx(ie,{className:"h-3 w-3"})})]},i))}),D&&e.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[e.jsx("video",{src:D,controls:!0,className:"w-full max-h-48",preload:"metadata"}),e.jsx("button",{type:"button",onClick:Pe,className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsx(ie,{className:"h-4 w-4"})})]})]})}),e.jsxs("div",{className:"px-4 py-3 bg-background shrink-0 flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ue,{className:"h-5 w-5 text-muted-foreground shrink-0"}),f?e.jsx("span",{className:"text-sm text-muted-foreground",children:_e()}):e.jsxs(ce,{open:ge,onOpenChange:$,children:[e.jsx(de,{asChild:!0,children:e.jsxs("button",{type:"button",className:"flex items-center gap-1 text-sm hover:text-primary transition-colors",children:[k?e.jsx("span",{className:"text-primary",children:Ne()}):e.jsxs("span",{className:"text-muted-foreground",children:[t("community.linkRestaurant","关联餐厅"),ae&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsx(oe,{className:"h-4 w-4 opacity-50"})]})}),e.jsx(me,{className:"w-72 p-0",align:"start",children:e.jsxs(ee,{shouldFilter:!1,children:[e.jsx(pe,{placeholder:t("community.searchRestaurant","搜索餐厅..."),value:X,onValueChange:M}),e.jsxs(se,{children:[e.jsx(fe,{children:t("community.noRestaurantFound","未找到匹配的餐厅")}),e.jsxs(te,{children:[(T||A)&&e.jsxs(I,{value:"none",onSelect:()=>{F(""),$(!1),M("")},children:[e.jsx(G,{className:h("mr-2 h-4 w-4",k?"opacity-0":"opacity-100")}),t("community.noRestaurantLink","不关联餐厅")]}),ve.map(a=>e.jsxs(I,{value:a.id,onSelect:()=>{F(a.id),$(!1),M("")},children:[e.jsx(G,{className:h("mr-2 h-4 w-4",k===a.id?"opacity-100":"opacity-0")}),n(a,"name")]},a.id))]})]})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{className:"h-5 w-5 text-muted-foreground shrink-0"}),e.jsxs(ce,{open:je,onOpenChange:q,children:[e.jsx(de,{asChild:!0,children:e.jsxs("button",{type:"button",className:"flex items-center gap-1 text-sm hover:text-primary transition-colors",children:[_?e.jsx("span",{className:"text-primary",children:be()}):e.jsx("span",{className:"text-muted-foreground",children:t("community.linkActivity","关联活动")}),e.jsx(oe,{className:"h-4 w-4 opacity-50"})]})}),e.jsx(me,{className:"w-72 p-0",align:"start",children:e.jsx(ee,{children:e.jsx(se,{children:e.jsxs(te,{children:[e.jsxs(I,{value:"none",onSelect:()=>{J(""),q(!1)},children:[e.jsx(G,{className:h("mr-2 h-4 w-4",_?"opacity-0":"opacity-100")}),t("community.noActivity","不关联活动")]}),Le.map(a=>e.jsxs(I,{value:a.id,onSelect:()=>{J(a.id),q(!1)},children:[e.jsx(G,{className:h("mr-2 h-4 w-4",_===a.id?"opacity-100":"opacity-0")}),n(a,"title")]},a.id))]})})})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6 px-4 py-3 bg-background shrink-0 safe-area-inset-bottom",children:[e.jsx("input",{ref:z,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:we}),e.jsx("input",{ref:B,type:"file",accept:"video/*",className:"hidden",onChange:Ce}),e.jsxs("button",{type:"button",onClick:()=>z.current?.click(),disabled:K||u.length>=9,className:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground disabled:opacity-50 transition-colors",children:[e.jsx(Ge,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:t("community.photo","照片")})]}),e.jsxs("button",{type:"button",onClick:()=>B.current?.click(),disabled:K||!!D,className:"flex items-center gap-1.5 text-muted-foreground hover:text-foreground disabled:opacity-50 transition-colors",children:[e.jsx(He,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:t("community.video","视频")})]}),e.jsxs("button",{type:"button",disabled:!0,className:"flex items-center gap-1.5 text-muted-foreground opacity-50 cursor-not-allowed",children:[e.jsx(Ve,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:t("community.emoji","表情")})]}),K&&e.jsx(ne,{className:"h-5 w-5 animate-spin ml-auto"})]})]})]})},ks=()=>e.jsxs("div",{className:"rounded-xl overflow-hidden bg-card border border-border/50",children:[e.jsx(U,{className:"aspect-[4/5] w-full"}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{className:"h-4 w-full"}),e.jsx(U,{className:"h-4 w-3/4"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5 rounded-full"}),e.jsx(U,{className:"h-3 w-16"})]}),e.jsx(U,{className:"h-4 w-10"})]})]})]}),Os=()=>{const{t:s}=H(),t=We(),{data:n,isLoading:p}=hs({status:"approved"}),{data:x}=ps(),m=o.useCallback(async()=>{await t.invalidateQueries({queryKey:["community-posts"]})},[t]);return e.jsx(ys,{onRefresh:m,children:e.jsx("div",{className:"min-h-screen bg-secondary/20 py-8 px-4 animate-fade-in",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl sm:text-4xl mb-2 text-primary font-medium",children:s("community.title","社区")}),e.jsx("p",{className:"text-muted-foreground text-base sm:text-lg",children:s("community.description","分享美食体验，发现更多精彩")})]}),x&&e.jsx(ws,{trigger:e.jsxs(Z,{size:"sm",className:"gap-1.5",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:s("community.createPost","发布")})]})})]}),p?e.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-3 sm:gap-4",children:Array.from({length:6}).map((R,f)=>e.jsx("div",{className:"break-inside-avoid mb-3 sm:mb-4",children:e.jsx(ks,{})},f))}):n&&n.length>0?e.jsx("div",{className:"columns-2 sm:columns-3 lg:columns-4 xl:columns-5 gap-3 sm:gap-4",children:n.map(R=>e.jsx("div",{className:"break-inside-avoid mb-3 sm:mb-4",children:e.jsx(vs,{post:R})},R.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:e.jsx(le,{className:"w-8 h-8 text-muted-foreground/50"})}),e.jsx("p",{className:"text-muted-foreground text-lg",children:s("community.noPosts","暂无帖子")}),x&&e.jsx("p",{className:"mt-2 text-sm text-muted-foreground/70",children:s("community.beFirst","成为第一个发帖的人吧！")})]})]})})})};export{Os as default};
//# sourceMappingURL=Community-CMK1AP9H.js.map
