import{r as n,j as t}from"./vendor-react-core-BErlw7p5.js";import{s as m}from"./index-CEqKPgls.js";import{c as u,u as c}from"./vendor-router-CLK0c9aH.js";import{o as l}from"./vendor-icons-C2Bicc1E.js";import"./vendor-editor-BdQcs4B3.js";import"./vendor-misc-DH4LiFnZ.js";import"./vendor-date-fYlqblcl.js";import"./vendor-ui-other-CPTlx-W2.js";import"./vendor-query-BS0wY7WL.js";import"./vendor-supabase-Clrw0GhO.js";import"./vendor-ui-dialog-Sv_VEL0d.js";import"./vendor-i18n-CqcxoxDo.js";import"./vendor-ui-dropdown-DwTcg2UT.js";const w=()=>{const{keyId:e}=u(),r=c(),[a,s]=n.useState(null);return n.useEffect(()=>{(async()=>{if(!e){s("Key ID not provided");return}const{data:i,error:o}=await m.from("restaurants").select("id").eq("key_id",e).maybeSingle();if(o){s("Failed to find restaurant");return}if(!i){s("Restaurant not found");return}r(`/restaurant/${i.id}`,{replace:!0})})()},[e,r]),a?t.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[t.jsx("p",{className:"text-lg text-destructive",children:a}),t.jsx("button",{onClick:()=>r("/restaurants"),className:"text-primary hover:underline",children:"Browse all restaurants"})]}):t.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:t.jsx(l,{className:"h-8 w-8 animate-spin text-muted-foreground"})})};export{w as default};
//# sourceMappingURL=RestaurantRedirect-qHyaHelV.js.map
