import{j as e}from"./vendor-ui-DmpovMYY.js";import{r as i,L as r}from"./vendor-react-iAJ0IrSD.js";import{bu as I,aS as l,v as d,i as m,w as b,R as A,aM as w,B as x,a1 as g,x as h,J as o,aG as u,bb as y}from"./index-CLDmU-vQ.js";import{u as S}from"./vendor-i18n-DxKeo2S1.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-D82cqPtt.js";import"./vendor-supabase-6pZ9VDFn.js";const v="https://tzdgqhwyzsxkxnncgzap.supabase.co",k="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZGdxaHd5enN4a3hubmNnemFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTg2ODgsImV4cCI6MjA3OTIzNDY4OH0.D76C4OkjQVWyMxtjjdOofpD8X_hEEoTtrXHqi4XSYUw",L=()=>{const{t:a}=S(),[c,f]=i.useState(null),[j,N]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const t=await fetch(`${v}/functions/v1/xiaoxiong-agent-model?type=main&endpoint=model`,{method:"GET",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(t.ok){const n=await t.json();n?.success&&n?.data&&f(n.data)}}catch(t){console.error("Failed to fetch agent config:",t)}finally{N(!1)}})()},[]);const p=[{id:"ask-xiaoxiong",name:a("admin.aiSettings.providers.askXiaoxiong","小熊AI"),description:a("admin.aiSettings.providers.askXiaoxiongDesc","原有AI接口，直接问答"),icon:I,iconColor:"text-primary",configurable:!1,status:"no-config-needed"},{id:"xiaoxiong-agent",name:a("admin.aiSettings.providers.xiaoxiongAgent","小熊Agent"),description:a("admin.aiSettings.providers.xiaoxiongAgentDesc","新AI接口，支持模型配置"),icon:l,iconColor:"text-orange-500",configurable:!0,configPath:"/admin/ai-config/xiaoxiong-agent",status:c?.name?"configured":"not-configured",modelName:c?.name}],C=s=>s.status==="no-config-needed"?e.jsxs(o,{variant:"secondary",className:"text-xs",children:[e.jsx(u,{className:"h-3 w-3 mr-1"}),"无需配置"]}):s.status==="configured"?e.jsxs(o,{variant:"default",className:"text-xs bg-green-500",children:[e.jsx(u,{className:"h-3 w-3 mr-1"}),"已配置"]}):e.jsxs(o,{variant:"outline",className:"text-xs text-orange-500 border-orange-500",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"待配置"]});return e.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:a("admin.aiConfig.title","AI配置管理")}),e.jsx("p",{className:"text-muted-foreground",children:a("admin.aiConfig.subtitle","管理和配置各个AI服务的模型和参数")})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:j?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"h-32 w-full"}),e.jsx(d,{className:"h-32 w-full"})]}):p.map(s=>e.jsxs(m,{className:`transition-all ${s.configurable?"hover:border-primary/50 cursor-pointer":""}`,children:[e.jsx(b,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg bg-muted ${s.iconColor}`,children:e.jsx(s.icon,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs(A,{className:"text-lg flex items-center gap-2",children:[s.name,C(s)]}),e.jsx(w,{className:"mt-1",children:s.description})]})]}),s.configurable&&s.configPath&&e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(r,{to:s.configPath,children:["配置",e.jsx(g,{className:"h-4 w-4 ml-1"})]})})]})}),s.configurable&&e.jsx(h,{className:"pt-0",children:e.jsx("div",{className:"bg-muted/30 rounded-lg p-3 text-sm",children:s.modelName?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"当前模型:"}),e.jsx("code",{className:"px-2 py-0.5 bg-background rounded text-xs font-mono",children:s.modelName})]}):e.jsx("p",{className:"text-muted-foreground",children:'尚未配置模型，点击右侧"配置"按钮进行设置'})})})]},s.id))}),e.jsx(m,{className:"bg-muted/30",children:e.jsx(h,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"需要更改主页使用的AI接口？"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"前往AI管理页面切换主页使用的AI服务提供商"})]}),e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(r,{to:"/admin/ai-settings",children:["前往AI管理",e.jsx(g,{className:"h-4 w-4 ml-1"})]})})]})})})]})};export{L as default};
//# sourceMappingURL=AdminAIConfigList-CjFCSQ13.js.map
