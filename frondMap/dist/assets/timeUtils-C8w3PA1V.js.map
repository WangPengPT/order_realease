{"version":3,"file":"timeUtils-C8w3PA1V.js","sources":["../../src/components/NavigationConfirmDialog.tsx","../../src/lib/timeUtils.ts"],"sourcesContent":["import {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Navigation } from \"lucide-react\";\r\n\r\ninterface NavigationConfirmDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: () => void;\r\n  destinationName: string;\r\n}\r\n\r\nconst getNavigationAppName = (): string => {\r\n  const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);\r\n  const isAndroid = /Android/.test(navigator.userAgent);\r\n  \r\n  if (isIOS) {\r\n    return \"Apple Maps\";\r\n  } else if (isAndroid) {\r\n    return \"Google Maps\";\r\n  } else {\r\n    return \"Google Maps\";\r\n  }\r\n};\r\n\r\nconst NavigationConfirmDialog = ({\r\n  open,\r\n  onOpenChange,\r\n  onConfirm,\r\n  destinationName,\r\n}: NavigationConfirmDialogProps) => {\r\n  const { t } = useTranslation();\r\n  const appName = getNavigationAppName();\r\n\r\n  return (\r\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\r\n      <AlertDialogContent className=\"max-w-md\">\r\n        <AlertDialogHeader>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"p-2 rounded-full bg-primary/10\">\r\n              <Navigation className=\"w-5 h-5 text-primary\" />\r\n            </div>\r\n            <AlertDialogTitle>{t(\"navigation.confirmTitle\")}</AlertDialogTitle>\r\n          </div>\r\n          <AlertDialogDescription className=\"text-left\">\r\n            {t(\"navigation.confirmDescription\", { appName, destination: destinationName })}\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        <AlertDialogFooter className=\"flex-col sm:flex-row gap-2\">\r\n          <AlertDialogCancel className=\"w-full sm:w-auto\">\r\n            {t(\"common.cancel\")}\r\n          </AlertDialogCancel>\r\n          <AlertDialogAction onClick={onConfirm} className=\"w-full sm:w-auto\">\r\n            {t(\"navigation.openApp\", { appName })}\r\n          </AlertDialogAction>\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};\r\n\r\nexport default NavigationConfirmDialog;\r\n","// Utility functions for time formatting\r\n\r\nexport interface DayHours {\r\n  open: string;\r\n  close: string;\r\n  closed?: boolean;\r\n  splitShift?: boolean; // 分段营业模式\r\n  open2?: string; // 第二时段开门时间\r\n  close2?: string; // 第二时段关门时间\r\n}\r\n\r\nexport type OpeningHours = Record<string, DayHours>;\r\n\r\n/**\r\n * Format opening hours for display\r\n * Returns the current day's hours or a summary\r\n */\r\nexport const formatOpeningHours = (openingHours: OpeningHours | string): string => {\r\n  if (typeof openingHours === 'string') {\r\n    return openingHours;\r\n  }\r\n\r\n  const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\r\n  const currentDay = days[new Date().getDay()];\r\n  \r\n  const todayHours = openingHours[currentDay];\r\n  \r\n  if (!todayHours) {\r\n    return 'Hours not available';\r\n  }\r\n\r\n  if (todayHours.closed) {\r\n    return 'Closed today';\r\n  }\r\n\r\n  if (todayHours.splitShift) {\r\n    return `${todayHours.open} - ${todayHours.close}, ${todayHours.open2} - ${todayHours.close2}`;\r\n  }\r\n\r\n  return `${todayHours.open} - ${todayHours.close}`;\r\n};\r\n\r\n/**\r\n * Get all opening hours formatted as a list\r\n */\r\nexport const formatAllOpeningHours = (openingHours: OpeningHours | string): string[] => {\r\n  if (typeof openingHours === 'string') {\r\n    return [openingHours];\r\n  }\r\n\r\n  const dayNames: Record<string, string> = {\r\n    monday: 'Mon',\r\n    tuesday: 'Tue',\r\n    wednesday: 'Wed',\r\n    thursday: 'Thu',\r\n    friday: 'Fri',\r\n    saturday: 'Sat',\r\n    sunday: 'Sun'\r\n  };\r\n\r\n  const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];\r\n  \r\n  return days.map(day => {\r\n    const hours = openingHours[day];\r\n    if (!hours) return `${dayNames[day]}: N/A`;\r\n    if (hours.closed) return `${dayNames[day]}: Closed`;\r\n    if (hours.splitShift) {\r\n      return `${dayNames[day]}: ${hours.open} - ${hours.close}, ${hours.open2} - ${hours.close2}`;\r\n    }\r\n    return `${dayNames[day]}: ${hours.open} - ${hours.close}`;\r\n  });\r\n};\r\n"],"names":["getNavigationAppName","isIOS","isAndroid","NavigationConfirmDialog","open","onOpenChange","onConfirm","destinationName","t","useTranslation","appName","AlertDialog","jsxs","AlertDialogContent","AlertDialogHeader","jsx","Navigation","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","formatOpeningHours","openingHours","currentDay","todayHours"],"mappings":"kMAoBA,MAAMA,EAAuB,IAAc,CACzC,MAAMC,EAAQ,mBAAmB,KAAK,UAAU,SAAS,EACnDC,EAAY,UAAU,KAAK,UAAU,SAAS,EAEpD,OAAID,EACK,aAEA,aAIX,EAEME,EAA0B,CAAC,CAC/B,KAAAC,EACA,aAAAC,EACA,UAAAC,EACA,gBAAAC,CACF,IAAoC,CAC5B,KAAA,CAAE,EAAAC,GAAMC,IACRC,EAAUV,IAEhB,aACGW,EAAY,CAAA,KAAAP,EAAY,aAAAC,EACvB,SAACO,EAAA,KAAAC,EAAA,CAAmB,UAAU,WAC5B,SAAA,CAAAD,OAACE,EACC,CAAA,SAAA,CAACF,EAAAA,KAAA,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAG,EAAAA,IAAC,OAAI,UAAU,iCACb,eAACC,EAAW,CAAA,UAAU,uBAAuB,CAC/C,CAAA,EACCD,EAAA,IAAAE,EAAA,CAAkB,SAAET,EAAA,yBAAyB,CAAE,CAAA,CAAA,EAClD,EACAO,EAAAA,IAACG,EAAuB,CAAA,UAAU,YAC/B,SAAAV,EAAE,gCAAiC,CAAE,QAAAE,EAAS,YAAaH,CAAgB,CAAC,CAC/E,CAAA,CAAA,EACF,EACAK,EAAAA,KAACO,EAAkB,CAAA,UAAU,6BAC3B,SAAA,CAAAJ,MAACK,EAAkB,CAAA,UAAU,mBAC1B,SAAAZ,EAAE,eAAe,EACpB,EACAO,EAAAA,IAACM,EAAkB,CAAA,QAASf,EAAW,UAAU,mBAC9C,SAAAE,EAAE,qBAAsB,CAAE,QAAAE,CAAQ,CAAC,CACtC,CAAA,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,EClDaY,EAAsBC,GAAgD,CAC7E,GAAA,OAAOA,GAAiB,SACnB,OAAAA,EAIT,MAAMC,EADO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,UAAU,EAClE,IAAI,KAAK,EAAE,QAAQ,EAErCC,EAAaF,EAAaC,CAAU,EAE1C,OAAKC,EAIDA,EAAW,OACN,eAGLA,EAAW,WACN,GAAGA,EAAW,IAAI,MAAMA,EAAW,KAAK,KAAKA,EAAW,KAAK,MAAMA,EAAW,MAAM,GAGtF,GAAGA,EAAW,IAAI,MAAMA,EAAW,KAAK,GAXtC,qBAYX"}