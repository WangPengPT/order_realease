{"version":3,"file":"AdminActivityStatsList-CGbVnL2C.js","sources":["../../src/pages/admin/AdminActivityStatsList.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { BarChart3, Users, Share2, Eye, TrendingUp, Calendar } from \"lucide-react\";\r\nimport { useLocalizedContent } from \"@/hooks/useLocalizedContent\";\r\nimport { subDays, startOfDay } from \"date-fns\";\r\n\r\ntype TimeRange = \"today\" | \"7days\" | \"30days\" | \"all\";\r\n\r\nconst AdminActivityStatsList = () => {\r\n  const { t } = useTranslation();\r\n  const navigate = useNavigate();\r\n  const { getLocalizedField } = useLocalizedContent();\r\n  const [timeRange, setTimeRange] = useState<TimeRange>(\"30days\");\r\n\r\n  const getDateFilter = () => {\r\n    const now = new Date();\r\n    switch (timeRange) {\r\n      case \"today\":\r\n        return startOfDay(now).toISOString();\r\n      case \"7days\":\r\n        return startOfDay(subDays(now, 6)).toISOString();\r\n      case \"30days\":\r\n        return startOfDay(subDays(now, 29)).toISOString();\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // Fetch all published activities (exclude drafts)\r\n  const { data: activities, isLoading: activitiesLoading } = useQuery({\r\n    queryKey: ['admin-activities-stats-list'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('activities')\r\n        .select('*')\r\n        .neq('status', 'draft')\r\n        .order('created_at', { ascending: false });\r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n  });\r\n\r\n  const dateFilter = getDateFilter();\r\n\r\n  // Fetch all subscriptions count per activity\r\n  const { data: subscriptionCounts } = useQuery({\r\n    queryKey: ['admin-all-subscription-counts', timeRange],\r\n    queryFn: async () => {\r\n      let query = supabase.from('subscriptions').select('activity_id, created_at');\r\n      if (dateFilter) {\r\n        query = query.gte('created_at', dateFilter);\r\n      }\r\n      const { data, error } = await query;\r\n      if (error) throw error;\r\n      const counts: Record<string, number> = {};\r\n      data.forEach(sub => {\r\n        counts[sub.activity_id] = (counts[sub.activity_id] || 0) + 1;\r\n      });\r\n      return counts;\r\n    },\r\n  });\r\n\r\n  // Fetch all shares count per activity\r\n  const { data: shareCounts } = useQuery({\r\n    queryKey: ['admin-all-share-counts', timeRange],\r\n    queryFn: async () => {\r\n      let query = supabase.from('activity_shares').select('activity_id, created_at');\r\n      if (dateFilter) {\r\n        query = query.gte('created_at', dateFilter);\r\n      }\r\n      const { data, error } = await query;\r\n      if (error) throw error;\r\n      const counts: Record<string, number> = {};\r\n      data.forEach(share => {\r\n        counts[share.activity_id] = (counts[share.activity_id] || 0) + 1;\r\n      });\r\n      return counts;\r\n    },\r\n  });\r\n\r\n  // Fetch total page views count using exact count\r\n  const { data: totalViewsCount } = useQuery({\r\n    queryKey: ['admin-total-activity-views', timeRange],\r\n    queryFn: async () => {\r\n      let query = supabase\r\n        .from('page_views')\r\n        .select('*', { count: 'exact', head: true })\r\n        .eq('page_type', 'activity');\r\n      \r\n      if (dateFilter) {\r\n        query = query.gte('created_at', dateFilter);\r\n      }\r\n      \r\n      const { count, error } = await query;\r\n      if (error) throw error;\r\n      return count || 0;\r\n    },\r\n  });\r\n\r\n  // Fetch view counts per activity for the list\r\n  const { data: viewCounts } = useQuery({\r\n    queryKey: ['admin-all-activity-view-counts', timeRange, activities],\r\n    enabled: !!activities && activities.length > 0,\r\n    queryFn: async () => {\r\n      const counts: Record<string, number> = {};\r\n      \r\n      await Promise.all(\r\n        activities!.map(async (activity) => {\r\n          let query = supabase\r\n            .from('page_views')\r\n            .select('*', { count: 'exact', head: true })\r\n            .eq('page_type', 'activity')\r\n            .eq('target_id', activity.id);\r\n          \r\n          if (dateFilter) {\r\n            query = query.gte('created_at', dateFilter);\r\n          }\r\n          \r\n          const { count } = await query;\r\n          counts[activity.id] = count || 0;\r\n        })\r\n      );\r\n      \r\n      return counts;\r\n    },\r\n  });\r\n\r\n  // Fetch participating restaurants count\r\n  const { data: totalRestaurantsCount } = useQuery({\r\n    queryKey: ['admin-total-restaurant-count'],\r\n    queryFn: async () => {\r\n      const { count, error } = await supabase\r\n        .from('activity_restaurants')\r\n        .select('*', { count: 'exact', head: true });\r\n      if (error) throw error;\r\n      return count || 0;\r\n    },\r\n  });\r\n\r\n  // Fetch restaurant counts per activity for the list\r\n  const { data: restaurantCounts } = useQuery({\r\n    queryKey: ['admin-all-activity-restaurant-counts'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('activity_restaurants')\r\n        .select('activity_id');\r\n      if (error) throw error;\r\n      const counts: Record<string, number> = {};\r\n      data.forEach(ar => {\r\n        counts[ar.activity_id] = (counts[ar.activity_id] || 0) + 1;\r\n      });\r\n      return counts;\r\n    },\r\n  });\r\n\r\n  // Calculate total stats - use direct count queries for accuracy\r\n  const totalViews = totalViewsCount || 0;\r\n  const totalSubscribers = subscriptionCounts ? Object.values(subscriptionCounts).reduce((a, b) => a + b, 0) : 0;\r\n  const totalShares = shareCounts ? Object.values(shareCounts).reduce((a, b) => a + b, 0) : 0;\r\n  const totalRestaurants = totalRestaurantsCount || 0;\r\n\r\n  if (activitiesLoading) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <Skeleton className=\"h-8 w-48\" />\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          {[1, 2, 3, 4].map(i => <Skeleton key={i} className=\"h-24\" />)}\r\n        </div>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {[1, 2, 3, 4, 5, 6].map(i => <Skeleton key={i} className=\"h-40\" />)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <TrendingUp className=\"h-6 w-6 text-primary\" />\r\n          <h1 className=\"text-2xl font-bold\">{t('admin.activityStatistics')}</h1>\r\n        </div>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n          <Select value={timeRange} onValueChange={(v) => setTimeRange(v as TimeRange)}>\r\n            <SelectTrigger className=\"w-[140px]\">\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"today\">{t('analytics.today', '今日')}</SelectItem>\r\n              <SelectItem value=\"7days\">{t('analytics.last7Days', '近7天')}</SelectItem>\r\n              <SelectItem value=\"30days\">{t('analytics.last30Days', '近30天')}</SelectItem>\r\n              <SelectItem value=\"all\">{t('analytics.allTime', '所有时间')}</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overview Stats */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-primary/10 rounded-lg\">\r\n                <Eye className=\"h-5 w-5 text-primary\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.totalViews')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalViews}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-red-500/10 rounded-lg\">\r\n                <Users className=\"h-5 w-5 text-red-500\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.totalSubscribers')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalSubscribers}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-green-500/10 rounded-lg\">\r\n                <Share2 className=\"h-5 w-5 text-green-500\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.totalShares')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalShares}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-amber-500/10 rounded-lg\">\r\n                <BarChart3 className=\"h-5 w-5 text-amber-500\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-muted-foreground\">{t('admin.participatingRestaurants')}</p>\r\n                <p className=\"text-2xl font-bold\">{totalRestaurants}</p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Activity List */}\r\n      <div>\r\n        <h2 className=\"text-lg font-semibold mb-4\">{t('admin.allActivities')}</h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {activities?.map(activity => {\r\n            const title = getLocalizedField(activity, 'title');\r\n            const views = viewCounts?.[activity.id] || 0;\r\n            const subscribers = subscriptionCounts?.[activity.id] || 0;\r\n            const shares = shareCounts?.[activity.id] || 0;\r\n            const restaurants = restaurantCounts?.[activity.id] || 0;\r\n\r\n            return (\r\n              <Card \r\n                key={activity.id} \r\n                className=\"cursor-pointer hover:shadow-md transition-shadow\"\r\n                onClick={() => navigate(`/admin/activity-stats/${activity.id}`)}\r\n              >\r\n                <CardHeader className=\"pb-2\">\r\n                  <CardTitle className=\"text-base line-clamp-2\">{title}</CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"grid grid-cols-2 gap-3 text-sm\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{views} {t('admin.views')}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{subscribers} {t('admin.subscribers')}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Share2 className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{shares} {t('admin.shares')}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <BarChart3 className=\"h-4 w-4 text-muted-foreground\" />\r\n                      <span>{restaurants} {t('admin.restaurants')}</span>\r\n                    </div>\r\n                  </div>\r\n                  <Button variant=\"outline\" size=\"sm\" className=\"w-full mt-4\">\r\n                    {t('admin.viewDetails')}\r\n                  </Button>\r\n                </CardContent>\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminActivityStatsList;\r\n"],"names":["AdminActivityStatsList","t","useTranslation","navigate","useNavigate","getLocalizedField","useLocalizedContent","timeRange","setTimeRange","useState","getDateFilter","now","startOfDay","subDays","activities","activitiesLoading","useQuery","data","error","supabase","dateFilter","subscriptionCounts","query","counts","sub","shareCounts","share","totalViewsCount","count","viewCounts","activity","totalRestaurantsCount","restaurantCounts","ar","totalViews","totalSubscribers","a","b","totalShares","totalRestaurants","jsxs","jsx","Skeleton","i","TrendingUp","Calendar","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","Card","CardContent","Eye","Users","Share2","BarChart3","title","views","subscribers","shares","restaurants","CardHeader","CardTitle","Button"],"mappings":"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"}