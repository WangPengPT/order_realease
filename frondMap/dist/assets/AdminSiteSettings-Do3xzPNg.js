import{d as pe,w as fe,ao as ve,r as n,j as e,J as x,ap as Ne,C as g,a as j,m as p,aq as f,b as v,aa as c,B as d,I as r,ax as ye,P as S,an as b,at as _e}from"./index-BFidtWYN.js";import{S as Y}from"./slider-BE9Qx2j_.js";import{I as ee}from"./image-B8hIdkwh.js";import{U as se}from"./upload-DoDgKf96.js";const Pe=()=>{const{t:a}=pe(),N=fe(),{settings:t,isLoading:P,updateSettings:i,uploadLogo:I}=ve(),[k,E]=n.useState(!1),[T,M]=n.useState(!1),R=n.useRef(null),L=n.useRef(null),y=n.useRef(null),_=n.useRef(null),[m,w]=n.useState(35),[h,C]=n.useState(35),[A,H]=n.useState(""),[J,U]=n.useState(""),[F,V]=n.useState(""),[W,B]=n.useState(""),[D,q]=n.useState(""),[z,O]=n.useState(""),[Z,$]=n.useState(""),[G,K]=n.useState(""),[Q,X]=n.useState("");n.useEffect(()=>{t&&(w(t.logo_width||35),C(t.logo_height||35),H(t.join_contact_phone||"968815050"),U(t.join_success_title_zh||"信息已提交成功！"),V(t.join_success_title_en||"Request Submitted!"),B(t.join_success_title_pt||"Informação Enviada com Sucesso!"),q(t.join_success_message_zh||"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。"),O(t.join_success_message_en||"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours."),$(t.join_success_message_pt||"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis."),K(t.contact_phone||""),X(t.contact_email||""))},[t]),n.useEffect(()=>{N.hash==="#join-us"&&y.current?setTimeout(()=>{var s;(s=y.current)==null||s.scrollIntoView({behavior:"smooth",block:"start"})},100):N.hash==="#contact-info"&&_.current&&setTimeout(()=>{var s;(s=_.current)==null||s.scrollIntoView({behavior:"smooth",block:"start"})},100)},[N.hash,P]);const ae=async s=>{var o;const l=(o=s.target.files)==null?void 0:o[0];if(l){E(!0);try{const u=await I(l);u&&await i.mutateAsync({logo_url:u})}finally{E(!1)}}},te=async s=>{var o;const l=(o=s.target.files)==null?void 0:o[0];if(l){M(!0);try{const u=await I(l);u&&await i.mutateAsync({favicon_url:u})}finally{M(!1)}}},ne=s=>{w(s[0])},ce=s=>{C(s[0])},ie=async s=>{await i.mutateAsync({logo_width:s[0]})},le=async s=>{await i.mutateAsync({logo_height:s[0]})},oe=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);w(o)},re=async()=>{await i.mutateAsync({logo_width:m})},de=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);C(o)},me=async()=>{await i.mutateAsync({logo_height:h})},he=async()=>{await i.mutateAsync({logo_url:null})},ue=async()=>{await i.mutateAsync({favicon_url:null})},xe=async()=>{await i.mutateAsync({join_contact_phone:A,join_success_title_zh:J,join_success_title_en:F,join_success_title_pt:W,join_success_message_zh:D,join_success_message_en:z,join_success_message_pt:Z})},ge=async()=>{await i.mutateAsync({contact_phone:G,contact_email:Q})};if(P)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(x,{className:"h-8 w-8 animate-spin text-primary"})});const je=(t==null?void 0:t.logo_url)||Ne;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:a("admin.siteSettings")}),e.jsx("p",{className:"text-muted-foreground",children:a("admin.siteSettingsDescription")})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(g,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),a("admin.logoSettings")]}),e.jsx(f,{children:a("admin.logoSettingsDescription")})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(c,{className:"text-sm text-muted-foreground",children:a("admin.logoPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:je,alt:"Logo Preview",style:{width:`${m}px`,height:`${h}px`},className:"object-contain"})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m,"px × ",h,"px"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:a("admin.uploadLogo")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:ae,className:"hidden"}),e.jsxs(d,{variant:"outline",onClick:()=>{var s;return(s=R.current)==null?void 0:s.click()},disabled:k,className:"flex-1",children:[k?e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(se,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),(t==null?void 0:t.logo_url)&&e.jsx(d,{variant:"destructive",onClick:he,disabled:i.isPending,children:a("common.remove")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(c,{children:a("admin.logoWidth")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{type:"number",value:m,onChange:oe,onBlur:re,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(Y,{value:[m],onValueChange:ne,onValueCommit:ie,min:20,max:100,step:1})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(c,{children:a("admin.logoHeight")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{type:"number",value:h,onChange:de,onBlur:me,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(Y,{value:[h],onValueChange:ce,onValueCommit:le,min:20,max:100,step:1})]})]})]}),e.jsxs(g,{children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),a("admin.faviconSettings")]}),e.jsx(f,{children:a("admin.faviconSettingsDescription")})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(c,{className:"text-sm text-muted-foreground",children:a("admin.faviconPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:(t==null?void 0:t.favicon_url)||"/favicon.png",alt:"Favicon Preview",className:"w-8 h-8 object-contain"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"32px × 32px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:a("admin.uploadFavicon")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:L,type:"file",accept:"image/*",onChange:te,className:"hidden"}),e.jsxs(d,{variant:"outline",onClick:()=>{var s;return(s=L.current)==null?void 0:s.click()},disabled:T,className:"flex-1",children:[T?e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(se,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),(t==null?void 0:t.favicon_url)&&e.jsx(d,{variant:"destructive",onClick:ue,disabled:i.isPending,children:a("common.remove")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.faviconHint")})]})]})]})]}),e.jsxs(g,{ref:y,id:"join-us",children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-5 w-5"}),a("admin.joinUsSettings")]}),e.jsx(f,{children:a("admin.joinUsSettingsDescription")})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),a("admin.joinContactPhone")]}),e.jsx(r,{value:A,onChange:s=>H(s.target.value),placeholder:"968815050"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:a("admin.joinSuccessTitle")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(r,{value:J,onChange:s=>U(s.target.value),placeholder:"信息已提交成功！"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(r,{value:F,onChange:s=>V(s.target.value),placeholder:"Request Submitted!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(r,{value:W,onChange:s=>B(s.target.value),placeholder:"Informação Enviada com Sucesso!"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{children:a("admin.joinSuccessMessage")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(b,{value:D,onChange:s=>q(s.target.value),placeholder:"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(b,{value:z,onChange:s=>O(s.target.value),placeholder:"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours.",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(b,{value:Z,onChange:s=>$(s.target.value),placeholder:"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis.",rows:2})]})]})]}),e.jsxs(d,{onClick:xe,disabled:i.isPending,className:"w-full md:w-auto",children:[i.isPending&&e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]}),e.jsxs(g,{ref:_,id:"contact-info",children:[e.jsxs(j,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),a("admin.contactSettings")]}),e.jsx(f,{children:a("admin.contactSettingsDescription")})]}),e.jsxs(v,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),a("admin.contactPhone")]}),e.jsx(r,{value:G,onChange:s=>K(s.target.value),placeholder:"+351 968 815 050"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),a("admin.contactEmail")]}),e.jsx(r,{type:"email",value:Q,onChange:s=>X(s.target.value),placeholder:"comercial@xiaoxiong.pt"})]})]}),e.jsxs(d,{onClick:ge,disabled:i.isPending,className:"w-full md:w-auto",children:[i.isPending&&e.jsx(x,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]})]})})};export{Pe as default};
