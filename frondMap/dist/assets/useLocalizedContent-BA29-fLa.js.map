{"version":3,"file":"useLocalizedContent-BA29-fLa.js","sources":["../../src/hooks/useLocalizedContent.ts"],"sourcesContent":["import { useTranslation } from \"react-i18next\";\r\n\r\nexport const useLocalizedContent = () => {\r\n  const { i18n } = useTranslation();\r\n  const currentLang = i18n.language;\r\n\r\n  const getLocalizedField = <T extends Record<string, any>>(\r\n    item: T,\r\n    fieldName: string\r\n  ): any => {\r\n    // Determine field suffix based on language\r\n    let value;\r\n    \r\n    // Try with language-specific suffix first\r\n    if (currentLang === \"zh\") {\r\n      const zhField = `${fieldName}_zh`;\r\n      // For activities, use _zh suffix; for restaurants, use base field\r\n      value = item[zhField] || item[fieldName];\r\n    } else if (currentLang === \"pt\") {\r\n      const ptField = `${fieldName}_pt`;\r\n      value = item[ptField] || item[`${fieldName}_en`] || item[fieldName];\r\n    } else {\r\n      // English\r\n      const enField = `${fieldName}_en`;\r\n      value = item[enField] || item[fieldName];\r\n    }\r\n    \r\n    // For name and title fields, if it's an array, join it\r\n    if ((fieldName === \"name\" || fieldName === \"title\" || fieldName.startsWith(\"title_\")) && Array.isArray(value)) {\r\n      return value.join(\", \");\r\n    }\r\n    \r\n    // Return type arrays as-is - they should be handled by the component\r\n    // Use getLocalizedTypeString for string display when needed\r\n    \r\n    // Return as-is if it's already an array or other type\r\n    return value || \"\";\r\n  };\r\n\r\n  const localizeRestaurant = (restaurant: any) => {\r\n    return {\r\n      ...restaurant,\r\n      name: getLocalizedField(restaurant, \"name\"),\r\n      type: getLocalizedField(restaurant, \"type\"),\r\n      description: getLocalizedField(restaurant, \"description\"),\r\n    };\r\n  };\r\n\r\n  const localizeActivity = (activity: any) => {\r\n    return {\r\n      ...activity,\r\n      title: getLocalizedField(activity, \"title\"),\r\n      content: getLocalizedField(activity, \"content\"),\r\n      usage_instructions: getLocalizedField(activity, \"usage_instructions\"),\r\n    };\r\n  };\r\n\r\n  const localizePost = (post: any) => {\r\n    return {\r\n      ...post,\r\n      content: getLocalizedField(post, \"content\"),\r\n    };\r\n  };\r\n\r\n  // Helper to format type array as string for display\r\n  const getLocalizedTypeString = (restaurant: any): string => {\r\n    const typeValue = restaurant.type;\r\n    if (Array.isArray(typeValue)) {\r\n      return typeValue.join(\" Â· \");\r\n    }\r\n    return typeValue || \"\";\r\n  };\r\n\r\n  return {\r\n    getLocalizedField,\r\n    localizeRestaurant,\r\n    localizeActivity,\r\n    localizePost,\r\n    getLocalizedTypeString,\r\n    currentLang,\r\n  };\r\n};\r\n"],"names":["useLocalizedContent","i18n","useTranslation","currentLang","getLocalizedField","item","fieldName","value","zhField","ptField","enField","restaurant","activity","post","typeValue"],"mappings":"+CAEO,MAAMA,EAAsB,IAAM,CACjC,KAAA,CAAE,KAAAC,GAASC,IACXC,EAAcF,EAAK,SAEnBG,EAAoB,CACxBC,EACAC,IACQ,CAEJ,IAAAC,EAGJ,GAAIJ,IAAgB,KAAM,CAClB,MAAAK,EAAU,GAAGF,CAAS,MAE5BC,EAAQF,EAAKG,CAAO,GAAKH,EAAKC,CAAS,CAAA,SAC9BH,IAAgB,KAAM,CACzB,MAAAM,EAAU,GAAGH,CAAS,MACpBC,EAAAF,EAAKI,CAAO,GAAKJ,EAAK,GAAGC,CAAS,KAAK,GAAKD,EAAKC,CAAS,CAAA,KAC7D,CAEC,MAAAI,EAAU,GAAGJ,CAAS,MAC5BC,EAAQF,EAAKK,CAAO,GAAKL,EAAKC,CAAS,CACzC,CAGK,OAAAA,IAAc,QAAUA,IAAc,SAAWA,EAAU,WAAW,QAAQ,IAAM,MAAM,QAAQC,CAAK,EACnGA,EAAM,KAAK,IAAI,EAOjBA,GAAS,EAAA,EAqCX,MAAA,CACL,kBAAAH,EACA,mBApC0BO,IACnB,CACL,GAAGA,EACH,KAAMP,EAAkBO,EAAY,MAAM,EAC1C,KAAMP,EAAkBO,EAAY,MAAM,EAC1C,YAAaP,EAAkBO,EAAY,aAAa,CAAA,GAgC1D,iBA5BwBC,IACjB,CACL,GAAGA,EACH,MAAOR,EAAkBQ,EAAU,OAAO,EAC1C,QAASR,EAAkBQ,EAAU,SAAS,EAC9C,mBAAoBR,EAAkBQ,EAAU,oBAAoB,CAAA,GAwBtE,aApBoBC,IACb,CACL,GAAGA,EACH,QAAST,EAAkBS,EAAM,SAAS,CAAA,GAkB5C,uBAb8BF,GAA4B,CAC1D,MAAMG,EAAYH,EAAW,KACzB,OAAA,MAAM,QAAQG,CAAS,EAClBA,EAAU,KAAK,KAAK,EAEtBA,GAAa,EAAA,EASpB,YAAAX,CAAA,CAEJ"}