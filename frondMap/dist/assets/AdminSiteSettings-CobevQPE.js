import{j as e}from"./vendor-ui-DmpovMYY.js";import{f as ve,r as c}from"./vendor-react-iAJ0IrSD.js";import{a as Ne,L as u,l as ye,q as x,O as g,Z as j,at as be,aO as p,P as f,aB as n,h as _e,$ as ee,B as r,aV as se,I as d,bd as we,W as S,bi as k,a$ as Ce}from"./index-DFxKlyPh.js";import{S as ae}from"./slider-BtNz26So.js";import{S as v}from"./switch-CEZAnJwh.js";import{u as Se}from"./vendor-i18n-DxKeo2S1.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-D82cqPtt.js";import"./vendor-supabase-6pZ9VDFn.js";const Fe=()=>{const{t:a}=Se(),N=ve(),{settings:i,isLoading:P,updateSettings:t,uploadLogo:I}=Ne(),[E,T]=c.useState(!1),[A,M]=c.useState(!1),L=c.useRef(null),R=c.useRef(null),y=c.useRef(null),b=c.useRef(null),[m,_]=c.useState(35),[h,w]=c.useState(35),[F,D]=c.useState(""),[H,U]=c.useState(""),[V,J]=c.useState(""),[W,B]=c.useState(""),[O,Z]=c.useState(""),[q,z]=c.useState(""),[$,G]=c.useState(""),[K,Q]=c.useState(""),[X,Y]=c.useState("");c.useEffect(()=>{i&&(_(i.logo_width||35),w(i.logo_height||35),D(i.join_contact_phone||"968815050"),U(i.join_success_title_zh||"信息已提交成功！"),J(i.join_success_title_en||"Request Submitted!"),B(i.join_success_title_pt||"Informação Enviada com Sucesso!"),Z(i.join_success_message_zh||"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。"),z(i.join_success_message_en||"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours."),G(i.join_success_message_pt||"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis."),Q(i.contact_phone||""),Y(i.contact_email||""))},[i]),c.useEffect(()=>{N.hash==="#join-us"&&y.current?setTimeout(()=>{y.current?.scrollIntoView({behavior:"smooth",block:"start"})},100):N.hash==="#contact-info"&&b.current&&setTimeout(()=>{b.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},[N.hash,P]);const te=async s=>{const l=s.target.files?.[0];if(l){T(!0);try{const o=await I(l);o&&await t.mutateAsync({logo_url:o})}finally{T(!1)}}},ne=async s=>{const l=s.target.files?.[0];if(l){M(!0);try{const o=await I(l);o&&await t.mutateAsync({favicon_url:o})}finally{M(!1)}}},ie=s=>{_(s[0])},ce=s=>{w(s[0])},le=async s=>{await t.mutateAsync({logo_width:s[0]})},oe=async s=>{await t.mutateAsync({logo_height:s[0]})},de=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);_(o)},re=async()=>{await t.mutateAsync({logo_width:m})},me=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);w(o)},he=async()=>{await t.mutateAsync({logo_height:h})},ue=async()=>{await t.mutateAsync({logo_url:null})},xe=async()=>{await t.mutateAsync({favicon_url:null})},ge=async()=>{await t.mutateAsync({join_contact_phone:F,join_success_title_zh:H,join_success_title_en:V,join_success_title_pt:W,join_success_message_zh:O,join_success_message_en:q,join_success_message_pt:$})},je=async()=>{await t.mutateAsync({contact_phone:K,contact_email:X})};if(P)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})});const pe=i?.logo_url||ye,C=i?.community_enabled!==!1,fe=async()=>{await t.mutateAsync({community_enabled:!C})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:a("admin.siteSettings")}),e.jsx("p",{className:"text-muted-foreground",children:a("admin.siteSettingsDescription")})]}),e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5"}),a("admin.featureToggles","功能开关")]}),e.jsx(p,{children:a("admin.featureTogglesDescription","控制网站功能的显示与隐藏")})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(n,{htmlFor:"community-enabled",className:"text-base font-medium",children:a("admin.communityEnabled","社区功能")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:C?a("admin.communityEnabledDesc","社区入口在导航栏中显示"):a("admin.communityDisabledDesc","社区入口已隐藏")})]}),e.jsx(v,{id:"community-enabled",checked:C,onCheckedChange:fe,disabled:t.isPending})]}),e.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx(n,{className:"text-base font-medium",children:a("admin.voiceInputSettings","语音输入")})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a("admin.voiceInputSettingsDesc","控制AI助手语音输入按钮在不同设备上的显示")}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-background rounded-lg border",children:[e.jsx(n,{htmlFor:"voice-mobile",className:"text-sm font-medium",children:a("admin.mobile","手机")}),e.jsx(v,{id:"voice-mobile",checked:i?.voice_input_mobile!==!1,onCheckedChange:s=>t.mutateAsync({voice_input_mobile:s}),disabled:t.isPending})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-background rounded-lg border",children:[e.jsx(n,{htmlFor:"voice-tablet",className:"text-sm font-medium",children:a("admin.tablet","平板")}),e.jsx(v,{id:"voice-tablet",checked:i?.voice_input_tablet!==!1,onCheckedChange:s=>t.mutateAsync({voice_input_tablet:s}),disabled:t.isPending})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 bg-background rounded-lg border",children:[e.jsx(n,{htmlFor:"voice-desktop",className:"text-sm font-medium",children:a("admin.desktop","桌面")}),e.jsx(v,{id:"voice-desktop",checked:i?.voice_input_desktop!==!1,onCheckedChange:s=>t.mutateAsync({voice_input_desktop:s}),disabled:t.isPending})]})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),a("admin.logoSettings")]}),e.jsx(p,{children:a("admin.logoSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:a("admin.logoPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:pe,alt:"Logo Preview",style:{width:`${m}px`,height:`${h}px`},className:"object-contain"})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m,"px × ",h,"px"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:a("admin.uploadLogo")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:L,type:"file",accept:"image/*",onChange:te,className:"hidden"}),e.jsxs(r,{variant:"outline",onClick:()=>L.current?.click(),disabled:E,className:"flex-1",children:[E?e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(se,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),i?.logo_url&&e.jsx(r,{variant:"destructive",onClick:ue,disabled:t.isPending,children:a("common.remove")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{children:a("admin.logoWidth")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{type:"number",value:m,onChange:de,onBlur:re,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(ae,{value:[m],onValueChange:ie,onValueCommit:le,min:20,max:100,step:1})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(n,{children:a("admin.logoHeight")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{type:"number",value:h,onChange:me,onBlur:he,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(ae,{value:[h],onValueChange:ce,onValueCommit:oe,min:20,max:100,step:1})]})]})]}),e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),a("admin.faviconSettings")]}),e.jsx(p,{children:a("admin.faviconSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(n,{className:"text-sm text-muted-foreground",children:a("admin.faviconPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:i?.favicon_url||"/favicon.png",alt:"Favicon Preview",className:"w-8 h-8 object-contain"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"32px × 32px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{children:a("admin.uploadFavicon")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:ne,className:"hidden"}),e.jsxs(r,{variant:"outline",onClick:()=>R.current?.click(),disabled:A,className:"flex-1",children:[A?e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(se,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),i?.favicon_url&&e.jsx(r,{variant:"destructive",onClick:xe,disabled:t.isPending,children:a("common.remove")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.faviconHint")})]})]})]})]}),e.jsxs(x,{ref:y,id:"join-us",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),a("admin.joinUsSettings")]}),e.jsx(p,{children:a("admin.joinUsSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),a("admin.joinContactPhone")]}),e.jsx(d,{value:F,onChange:s=>D(s.target.value),placeholder:"968815050"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{children:a("admin.joinSuccessTitle")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(d,{value:H,onChange:s=>U(s.target.value),placeholder:"信息已提交成功！"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(d,{value:V,onChange:s=>J(s.target.value),placeholder:"Request Submitted!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(d,{value:W,onChange:s=>B(s.target.value),placeholder:"Informação Enviada com Sucesso!"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{children:a("admin.joinSuccessMessage")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(k,{value:O,onChange:s=>Z(s.target.value),placeholder:"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(k,{value:q,onChange:s=>z(s.target.value),placeholder:"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours.",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(k,{value:$,onChange:s=>G(s.target.value),placeholder:"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis.",rows:2})]})]})]}),e.jsxs(r,{onClick:ge,disabled:t.isPending,className:"w-full md:w-auto",children:[t.isPending&&e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]}),e.jsxs(x,{ref:b,id:"contact-info",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),a("admin.contactSettings")]}),e.jsx(p,{children:a("admin.contactSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),a("admin.contactPhone")]}),e.jsx(d,{value:K,onChange:s=>Q(s.target.value),placeholder:"+351 968 815 050"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-4 w-4"}),a("admin.contactEmail")]}),e.jsx(d,{type:"email",value:X,onChange:s=>Y(s.target.value),placeholder:"comercial@xiaoxiong.pt"})]})]}),e.jsxs(r,{onClick:je,disabled:t.isPending,className:"w-full md:w-auto",children:[t.isPending&&e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]})]})})};export{Fe as default};
//# sourceMappingURL=AdminSiteSettings-CobevQPE.js.map
