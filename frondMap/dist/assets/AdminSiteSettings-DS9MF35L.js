import{j as e}from"./vendor-ui-DAmPMpEA.js";import{f as je,r as t}from"./vendor-react-iAJ0IrSD.js";import{u as pe,L as u,l as fe,g as x,t as g,T as j,Y as Q,aT as p,v as f,az as i,B as d,a$ as X,I as r,be as ve,P as C,aR as S,b0 as Ne}from"./index-CWo17YGZ.js";import{S as ee}from"./slider-B9U779fC.js";import{u as ye}from"./vendor-i18n-DxKeo2S1.js";import"./vendor-charts-Bz7hPIBd.js";import"./vendor-query-BlSVl3IQ.js";import"./vendor-supabase-KNAP0qdW.js";const ke=()=>{const{t:a}=ye(),v=je(),{settings:n,isLoading:b,updateSettings:c,uploadLogo:P}=pe(),[I,T]=t.useState(!1),[k,E]=t.useState(!1),R=t.useRef(null),L=t.useRef(null),N=t.useRef(null),y=t.useRef(null),[m,_]=t.useState(35),[h,w]=t.useState(35),[M,A]=t.useState(""),[H,F]=t.useState(""),[J,U]=t.useState(""),[V,W]=t.useState(""),[B,D]=t.useState(""),[z,O]=t.useState(""),[Z,q]=t.useState(""),[$,Y]=t.useState(""),[G,K]=t.useState("");t.useEffect(()=>{n&&(_(n.logo_width||35),w(n.logo_height||35),A(n.join_contact_phone||"968815050"),F(n.join_success_title_zh||"信息已提交成功！"),U(n.join_success_title_en||"Request Submitted!"),W(n.join_success_title_pt||"Informação Enviada com Sucesso!"),D(n.join_success_message_zh||"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。"),O(n.join_success_message_en||"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours."),q(n.join_success_message_pt||"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis."),Y(n.contact_phone||""),K(n.contact_email||""))},[n]),t.useEffect(()=>{v.hash==="#join-us"&&N.current?setTimeout(()=>{N.current?.scrollIntoView({behavior:"smooth",block:"start"})},100):v.hash==="#contact-info"&&y.current&&setTimeout(()=>{y.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},[v.hash,b]);const se=async s=>{const l=s.target.files?.[0];if(l){T(!0);try{const o=await P(l);o&&await c.mutateAsync({logo_url:o})}finally{T(!1)}}},ae=async s=>{const l=s.target.files?.[0];if(l){E(!0);try{const o=await P(l);o&&await c.mutateAsync({favicon_url:o})}finally{E(!1)}}},te=s=>{_(s[0])},ne=s=>{w(s[0])},ie=async s=>{await c.mutateAsync({logo_width:s[0]})},ce=async s=>{await c.mutateAsync({logo_height:s[0]})},le=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);_(o)},oe=async()=>{await c.mutateAsync({logo_width:m})},re=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);w(o)},de=async()=>{await c.mutateAsync({logo_height:h})},me=async()=>{await c.mutateAsync({logo_url:null})},he=async()=>{await c.mutateAsync({favicon_url:null})},ue=async()=>{await c.mutateAsync({join_contact_phone:M,join_success_title_zh:H,join_success_title_en:J,join_success_title_pt:V,join_success_message_zh:B,join_success_message_en:z,join_success_message_pt:Z})},xe=async()=>{await c.mutateAsync({contact_phone:$,contact_email:G})};if(b)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})});const ge=n?.logo_url||fe;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:a("admin.siteSettings")}),e.jsx("p",{className:"text-muted-foreground",children:a("admin.siteSettingsDescription")})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),a("admin.logoSettings")]}),e.jsx(p,{children:a("admin.logoSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(i,{className:"text-sm text-muted-foreground",children:a("admin.logoPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:ge,alt:"Logo Preview",style:{width:`${m}px`,height:`${h}px`},className:"object-contain"})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m,"px × ",h,"px"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:a("admin.uploadLogo")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:se,className:"hidden"}),e.jsxs(d,{variant:"outline",onClick:()=>R.current?.click(),disabled:I,className:"flex-1",children:[I?e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(X,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),n?.logo_url&&e.jsx(d,{variant:"destructive",onClick:me,disabled:c.isPending,children:a("common.remove")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{children:a("admin.logoWidth")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{type:"number",value:m,onChange:le,onBlur:oe,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(ee,{value:[m],onValueChange:te,onValueCommit:ie,min:20,max:100,step:1})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{children:a("admin.logoHeight")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{type:"number",value:h,onChange:re,onBlur:de,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(ee,{value:[h],onValueChange:ne,onValueCommit:ce,min:20,max:100,step:1})]})]})]}),e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),a("admin.faviconSettings")]}),e.jsx(p,{children:a("admin.faviconSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(i,{className:"text-sm text-muted-foreground",children:a("admin.faviconPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:n?.favicon_url||"/favicon.png",alt:"Favicon Preview",className:"w-8 h-8 object-contain"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"32px × 32px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:a("admin.uploadFavicon")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:L,type:"file",accept:"image/*",onChange:ae,className:"hidden"}),e.jsxs(d,{variant:"outline",onClick:()=>L.current?.click(),disabled:k,className:"flex-1",children:[k?e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(X,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),n?.favicon_url&&e.jsx(d,{variant:"destructive",onClick:he,disabled:c.isPending,children:a("common.remove")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.faviconHint")})]})]})]})]}),e.jsxs(x,{ref:N,id:"join-us",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-5 w-5"}),a("admin.joinUsSettings")]}),e.jsx(p,{children:a("admin.joinUsSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),a("admin.joinContactPhone")]}),e.jsx(r,{value:M,onChange:s=>A(s.target.value),placeholder:"968815050"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{children:a("admin.joinSuccessTitle")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(r,{value:H,onChange:s=>F(s.target.value),placeholder:"信息已提交成功！"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(r,{value:J,onChange:s=>U(s.target.value),placeholder:"Request Submitted!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(r,{value:V,onChange:s=>W(s.target.value),placeholder:"Informação Enviada com Sucesso!"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{children:a("admin.joinSuccessMessage")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(S,{value:B,onChange:s=>D(s.target.value),placeholder:"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(S,{value:z,onChange:s=>O(s.target.value),placeholder:"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours.",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(S,{value:Z,onChange:s=>q(s.target.value),placeholder:"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis.",rows:2})]})]})]}),e.jsxs(d,{onClick:ue,disabled:c.isPending,className:"w-full md:w-auto",children:[c.isPending&&e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]}),e.jsxs(x,{ref:y,id:"contact-info",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),a("admin.contactSettings")]}),e.jsx(p,{children:a("admin.contactSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),a("admin.contactPhone")]}),e.jsx(r,{value:$,onChange:s=>Y(s.target.value),placeholder:"+351 968 815 050"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-4 w-4"}),a("admin.contactEmail")]}),e.jsx(r,{type:"email",value:G,onChange:s=>K(s.target.value),placeholder:"comercial@xiaoxiong.pt"})]})]}),e.jsxs(d,{onClick:xe,disabled:c.isPending,className:"w-full md:w-auto",children:[c.isPending&&e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]})]})})};export{ke as default};
//# sourceMappingURL=AdminSiteSettings-DS9MF35L.js.map
