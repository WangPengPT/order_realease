import{p as ke,u as Oe,r,j as e,am as vt,aM as Fe,aW as jt,aX as Nt,aN as kt,aY as Pe,aZ as _e,a_ as St,a$ as _t,b0 as Ct,aw as We,ay as He,b1 as Ce,b2 as qe,b3 as At,L as Ye,al as Rt,b4 as Re,b5 as Ze,b6 as Ge,b7 as et,b8 as Lt,b9 as Xe,ba as Tt,q as Dt,bb as It,bc as Mt,bd as zt}from"./vendor-react-D8EXe6Pj.js";import{u as $t,a as Be,D as Et,b as Ot,c as Bt,d as Vt,S as tt,e as H,B as J,I as st,o as at,f as Ft,g as V,C as Le,s as Pt,h as Wt,i as Me,j as Ht,k as qt,H as Xt,l as rt,m as nt,n as Ut}from"./index-Flvc7LYa.js";import{c as Jt,g as Kt,m as ot}from"./geolocation-DRm3QMsJ.js";import{a as Qt,g as Yt}from"./app-store-badge-CyCtXXOt.js";import{u as it}from"./useHomepageTemplates-DIoitWto.js";import{u as Zt}from"./usePageView-D5XXLBF9.js";import{L as lt}from"./LocationPermissionDialog--DEKQgxz.js";import{E as ct}from"./ExternalLinkConfirmDialog-bhsHOT09.js";import{P as Gt}from"./PullToRefresh-BbyXgC5p.js";import{P as es,a as ts,b as ss}from"./popover-Bafg368u.js";import{u as as,a as rs}from"./useRestaurants-D4SUPVOp.js";import{u as ns,R as os,l as is}from"./xiaoxiong-logo-clean-DHGTtmop.js";import{u as dt}from"./useLocalizedContent-Dnd9g27T.js";import{u as mt}from"./useActivities-77tU6bJN.js";import{a as Ue,f as ze,K as ls,L as Je,M as cs,i as ds}from"./vendor-utils-Z4kpnli5.js";import"./vendor-i18n-jtdHZIRR.js";import"./vendor-editor-B1vH4T8i.js";import"./vendor-supabase-BzOCmhQX.js";import"./vendor-map-CvE3ASYw.js";const ms=()=>!!(window.webkit?.messageHandlers?.VoiceBridge||window.VoiceBridge),Ke={start:()=>{const s=JSON.stringify({action:"start"});window.webkit?.messageHandlers?.VoiceBridge?window.webkit.messageHandlers.VoiceBridge.postMessage(s):window.VoiceBridge&&window.VoiceBridge.postMessage(s)},stop:()=>{const s=JSON.stringify({action:"stop"});window.webkit?.messageHandlers?.VoiceBridge?window.webkit.messageHandlers.VoiceBridge.postMessage(s):window.VoiceBridge&&window.VoiceBridge.postMessage(s)}},$e="https://tzdgqhwyzsxkxnncgzap.supabase.co",Ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR6ZGdxaHd5enN4a3hubmNnemFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM2NTg2ODgsImV4cCI6MjA3OTIzNDY4OH0.D76C4OkjQVWyMxtjjdOofpD8X_hEEoTtrXHqi4XSYUw",us=["最近","附近","离我","距离","远近","近的","周边","周围","最近的","附近的","nearest","closest","nearby","near me","close to me","distance","around me","mais perto","próximo","perto de mim","distância","mais próximo"],hs=()=>{const s="xiaoxiong_anonymous_user_id";let a=localStorage.getItem(s);return a||(a=`anon_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem(s,a)),a},xs=({open:s,onOpenChange:a,provider:i="ask-xiaoxiong"})=>{const{i18n:c}=ke(),o=Oe(),{user:w}=$t(),{settings:p}=Be(),g=p?.logo_url,[d,h]=r.useState(""),[j,u]=r.useState([]),[S,R]=r.useState(!1),[_,A]=r.useState(null),[ee,$]=r.useState(!1),[F,O]=r.useState(null),[K,I]=r.useState(!1),[ae,Q]=r.useState(!1),[B,Y]=r.useState(!1),[te,f]=r.useState(!1),[L,oe]=r.useState(null),Z=r.useRef(null),ie=r.useRef(null),P=r.useRef(null),he=r.useRef(null),le=()=>ae||B,ve=()=>w?.id?w.id:hs();r.useEffect(()=>{const n=window.SpeechRecognition||window.webkitSpeechRecognition;return Q(!!n),Y(ms()),window.onSpeechResult=x=>{h(x),I(!1)},()=>{window.onSpeechResult=void 0}},[]),r.useEffect(()=>{s&&!_&&navigator.geolocation?.getCurrentPosition(n=>{A({lat:n.coords.latitude,lng:n.coords.longitude})},n=>{console.log("Unable to get user location:",n.message)},{enableHighAccuracy:!1,timeout:5e3,maximumAge:3e5})},[s,_]),r.useEffect(()=>{!s&&P.current&&(P.current.stop(),I(!1))},[s]),r.useEffect(()=>{he.current?.scrollIntoView({behavior:"smooth"})},[j]);const xe=async(n,x)=>{const l=await fetch(`${$e}/functions/v1/ask-xiaoxiong`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`,apikey:Ne},body:JSON.stringify({text:n.content,stream:!0,lat:_?.lat,lng:_?.lng}),signal:Z.current?.signal});if(!l.ok)throw new Error(`Request failed with status: ${l.status}`);if(!l.body)throw new Error("No response body");const v=l.body.getReader(),m=new TextDecoder;let N="";for(;;){const{done:C,value:M}=await v.read();if(C)break;const ye=m.decode(M,{stream:!0});N+=ye;let z=N;z.startsWith('"')&&(z=z.slice(1)),z.endsWith('"')&&(z=z.slice(0,-1)),z=z.replace(/\\n/g,`
`),u(se=>se.map(U=>U.id===x?{...U,content:z}:U))}let k=N;k.startsWith('"')&&(k=k.slice(1)),k.endsWith('"')&&(k=k.slice(0,-1)),k=k.replace(/\\n/g,`
`),u(C=>C.map(M=>M.id===x?{...M,content:k,isStreaming:!1}:M))},pe=async(n,x)=>{const l=ve(),v=Date.now();console.log(`[前端-Agent] ⏱️ 开始发送请求: ${new Date().toISOString()}`);const m=await fetch(`${$e}/functions/v1/xiaoxiong-agent`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`,apikey:Ne},body:JSON.stringify({message:n.content,userId:l}),signal:Z.current?.signal}),N=Date.now()-v;if(console.log(`[前端-Agent] ⏱️ 收到响应头: ${new Date().toISOString()}, 耗时: ${N}ms`),!m.ok)throw new Error(`Request failed with status: ${m.status}`);if(!m.body)throw new Error("No response body");const k=m.body.getReader(),C=new TextDecoder;let M="",ye=!1,z=0;for(;;){const{done:se,value:U}=await k.read();if(se){console.log(`[前端-Agent] ⏱️ 流结束: ${new Date().toISOString()}, 总耗时: ${Date.now()-v}ms, 共 ${z} 个数据块`);break}z++;const G=C.decode(U,{stream:!0});if(M+=G,!ye){ye=!0;const ue=Date.now()-v;console.log(`[前端-Agent] ⏱️ 首个数据块 (TTFB): ${new Date().toISOString()}, 耗时: ${ue}ms, 大小: ${G.length} 字符`)}Pe.flushSync(()=>{u(ue=>ue.map(Se=>Se.id===x?{...Se,content:M}:Se))}),await new Promise(ue=>requestAnimationFrame(ue))}u(se=>se.map(U=>U.id===x?{...U,isStreaming:!1}:U))},ge=async(n,x)=>{const l=Date.now();console.log(`[前端-LovableAI] ⏱️ 开始发送请求: ${new Date().toISOString()}`);const v=await fetch(`${$e}/functions/v1/lovable-chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`,apikey:Ne},body:JSON.stringify({message:n.content,lat:_?.lat,lng:_?.lng,language:c.language}),signal:Z.current?.signal}),m=Date.now()-l;if(console.log(`[前端-LovableAI] ⏱️ 收到响应头: ${new Date().toISOString()}, 耗时: ${m}ms`),!v.ok){const z=await v.json().catch(()=>({}));throw new Error(z.error||`Request failed with status: ${v.status}`)}if(!v.body)throw new Error("No response body");const N=v.body.getReader(),k=new TextDecoder;let C="",M="",ye=!1;for(;;){const{done:z,value:se}=await N.read();if(z){console.log(`[前端-LovableAI] ⏱️ 流结束: ${new Date().toISOString()}, 总耗时: ${Date.now()-l}ms`);break}if(M+=k.decode(se,{stream:!0}),!ye){ye=!0;const G=Date.now()-l;console.log(`[前端-LovableAI] ⏱️ 首个数据块 (TTFB): ${new Date().toISOString()}, 耗时: ${G}ms`)}let U;for(;(U=M.indexOf(`
`))!==-1;){let G=M.slice(0,U);if(M=M.slice(U+1),G.endsWith("\r")&&(G=G.slice(0,-1)),G.startsWith(":")||G.trim()===""||!G.startsWith("data: "))continue;const ue=G.slice(6).trim();if(ue==="[DONE]")break;try{const Ve=JSON.parse(ue).choices?.[0]?.delta?.content;Ve&&(C+=Ve,Pe.flushSync(()=>{u(De=>De.map(Ie=>Ie.id===x?{...Ie,content:C}:Ie))}),await new Promise(De=>requestAnimationFrame(De)))}catch{}}}u(z=>z.map(se=>se.id===x?{...se,isStreaming:!1}:se))},y=n=>{const x=n.toLowerCase();return us.some(l=>x.includes(l))},T=async n=>{const x={id:Date.now().toString(),role:"user",content:n},l=(Date.now()+1).toString(),v={id:l,role:"assistant",content:"",isStreaming:!0};u(m=>[...m,x,v]),h(""),R(!0),Z.current&&Z.current.abort(),Z.current=new AbortController;try{i==="lovable-ai"?await ge(x,l):i==="xiaoxiong-agent"?await pe(x,l):await xe(x,l)}catch(m){if(m instanceof Error&&m.name==="AbortError"){console.log("Request aborted");return}console.error("Ask API error:",m);const N=c.language==="zh"?"抱歉，暂时无法获取结果，请稍后再试":c.language==="pt"?"Desculpe, não foi possível obter resultados. Tente novamente mais tarde.":"Sorry, unable to get results. Please try again later.";u(k=>k.map(C=>C.id===l?{...C,content:N,isStreaming:!1}:C))}finally{R(!1)}},q=()=>{$(!1),navigator.geolocation?.getCurrentPosition(n=>{A({lat:n.coords.latitude,lng:n.coords.longitude}),F&&setTimeout(()=>{T(F),O(null)},100)},n=>{console.log("Location permission denied:",n.message),F&&(T(F),O(null))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},D=async()=>{if(!d.trim()||S)return;const n=d.trim();if(!_&&y(n)){O(n),$(!0),h("");return}await T(n)},fe=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),D())},ce=()=>{if(B){Ke.start(),I(!0);return}const n=window.SpeechRecognition||window.webkitSpeechRecognition;if(!n){console.log("Speech recognition not supported");return}P.current&&P.current.stop();const x=new n;P.current=x;const l={zh:"zh-CN",en:"en-US",pt:"pt-BR"};x.lang=l[c.language]||"zh-CN",x.continuous=!1,x.interimResults=!0,x.onstart=()=>{I(!0)},x.onresult=v=>{const m=Array.from(v.results).map(N=>N[0].transcript).join("");h(m)},x.onerror=v=>{console.log("Speech recognition error:",v.error),I(!1)},x.onend=()=>{I(!1)},x.start()},be=()=>{if(B){Ke.stop(),I(!1);return}P.current&&(P.current.stop(),I(!1))},re=()=>{K?be():ce()},we=()=>{Z.current&&Z.current.abort(),a(!1)},de=n=>{we(),o(n)},me=n=>{oe(n),f(!0)},X=()=>{L&&at(L),f(!1),oe(null)},E=n=>{const x=/\[([^\]]+)\]\(([^)]+)\)/g,l=[];let v=0,m,N=0;for(;(m=x.exec(n))!==null;){m.index>v&&l.push(e.jsx("span",{children:n.slice(v,m.index)},N++));const k=m[1],C=m[2];if(C.startsWith("/"))l.push(e.jsx("button",{onClick:()=>de(C),className:"text-primary hover:underline font-medium cursor-pointer",children:k},N++));else if(C.startsWith("!external:")){const M=C.slice(10);l.push(e.jsx("button",{onClick:()=>me(M),className:"text-primary hover:underline font-medium cursor-pointer",children:k},N++))}else C.startsWith("http://")||C.startsWith("https://")?l.push(e.jsx("button",{onClick:()=>me(C),className:"text-primary hover:underline font-medium cursor-pointer",children:k},N++)):l.push(e.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:k},N++));v=m.index+m[0].length}return v<n.length&&l.push(e.jsx("span",{children:n.slice(v)},N++)),l.length>0?l:[e.jsx("span",{children:n},"0")]},ne=n=>n.replace(/\*\*(.*?)\*\*/g,"$1"),je=(n,x=20)=>n.length<=x?n:n.slice(0,x)+"...",t=(n,x)=>{const l=N=>N.split("|").slice(1,-1).map(k=>ne(k.trim())),v=l(n[0]),m=n.slice(2).map(l);return e.jsx("div",{className:"overflow-x-auto my-2 max-w-full",children:e.jsxs("table",{className:"w-full text-xs border border-border rounded-md overflow-hidden table-fixed",children:[e.jsx("thead",{className:"bg-muted/60",children:e.jsx("tr",{children:v.map((N,k)=>e.jsx("th",{className:"px-2 py-2 text-left font-semibold border-b border-border truncate max-w-[100px]",title:N,children:E(je(N,15))},k))})}),e.jsx("tbody",{children:m.map((N,k)=>e.jsx("tr",{className:"border-b border-border last:border-0 hover:bg-muted/30 transition-colors",children:N.map((C,M)=>e.jsx("td",{className:"px-2 py-2 truncate max-w-[100px]",title:C,children:E(je(C,18))},M))},k))})]})},x)},b=n=>{const x=n.split(`
`),l=[];let v=0;for(;v<x.length;){const m=x[v];if(m.trim().startsWith("|")&&m.split("|").length>2){const N=[];for(;v<x.length&&x[v].trim().startsWith("|");)N.push(x[v]),v++;N.length>=2&&l.push(t(N,l.length));continue}if(m.startsWith("### "))l.push(e.jsx("h3",{className:"text-base font-semibold mt-3 mb-1",children:E(m.slice(4))},l.length));else if(m.startsWith("## "))l.push(e.jsx("h2",{className:"text-lg font-bold mt-4 mb-2",children:E(m.slice(3))},l.length));else if(m.startsWith("# "))l.push(e.jsx("h1",{className:"text-xl font-bold mt-4 mb-2",children:E(m.slice(2))},l.length));else if(m.includes("**")){const N=m.split(/\*\*(.*?)\*\*/g);l.push(e.jsx("p",{className:"mb-1 leading-relaxed",children:N.map((k,C)=>C%2===1?e.jsx("strong",{className:"font-semibold",children:E(k)},C):E(k))},l.length))}else m.startsWith("- ")||m.startsWith("* ")?l.push(e.jsx("li",{className:"ml-4 mb-0.5 list-disc",children:E(m.slice(2))},l.length)):/^\d+\.\s/.test(m)?l.push(e.jsx("li",{className:"ml-4 mb-0.5 list-decimal",children:E(m.replace(/^\d+\.\s/,""))},l.length)):m.match(/^[-*_]{3,}$/)?l.push(e.jsx("hr",{className:"my-3 border-border"},l.length)):m.trim()===""?l.push(e.jsx("div",{className:"h-1"},l.length)):l.push(e.jsx("p",{className:"mb-1 leading-relaxed",children:E(m)},l.length));v++}return l},W=()=>c.language==="zh"?"小熊AI助手":c.language==="pt"?"Assistente IA Xiaoxiong":"Xiaoxiong AI Assistant",Te=()=>c.language==="zh"?"告诉小熊，你想吃什么...":c.language==="pt"?"Diga ao Xiaoxiong o que você quer comer...":"Tell Xiaoxiong what you want to eat...",yt=()=>c.language==="zh"?"你好，我是小熊，我来帮你推荐餐厅；比如：「我附近的寿司餐厅」":c.language==="pt"?"Olá, eu sou o Xiaoxiong, vou te ajudar a encontrar restaurantes; por exemplo: 「restaurantes de sushi perto de mim」":`Hi, I'm Xiaoxiong, I'll help you find restaurants; for example: "sushi restaurants near me"`;return e.jsx(Et,{open:s,onOpenChange:we,children:e.jsxs(Ot,{className:"sm:max-w-2xl sm:h-[90vh] sm:max-h-[90vh] flex flex-col p-0 gap-0 overflow-hidden",children:[e.jsx(Bt,{className:"px-4 py-3 shrink-0 border-b",children:e.jsxs(Vt,{className:"text-base font-semibold flex items-center gap-2",children:[g&&e.jsx("img",{src:g,alt:"Logo",className:"w-8 h-8 rounded-full object-cover"}),W()]})}),e.jsx(tt,{className:"flex-1 min-h-0 overflow-hidden",ref:ie,children:e.jsxs("div",{className:"p-4 space-y-4",children:[j.length===0&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center shrink-0 overflow-hidden",children:g&&e.jsx("img",{src:g,alt:"Xiaoxiong",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1 bg-muted rounded-lg px-3 py-2 text-sm",children:yt()})]}),j.map(n=>e.jsxs("div",{className:H("flex gap-3",n.role==="user"&&"flex-row-reverse"),children:[n.role==="user"?e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center shrink-0",children:e.jsx(vt,{className:"h-4 w-4"})}):e.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center shrink-0 overflow-hidden",children:g&&e.jsx("img",{src:g,alt:"Xiaoxiong",className:"w-full h-full object-cover"})}),e.jsx("div",{className:H("flex-1 max-w-[85%] rounded-lg px-3 py-2 text-sm",n.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:n.role==="assistant"?e.jsxs(e.Fragment,{children:[n.content?e.jsx("div",{className:"prose-sm",children:b(n.content)}):e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Fe,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:c.language==="zh"?"思考中...":c.language==="pt"?"Pensando...":"Thinking..."})]}),n.isStreaming&&n.content&&e.jsx("span",{className:"inline-block w-1.5 h-4 bg-primary/50 animate-pulse ml-0.5 align-middle"})]}):n.content})]},n.id)),e.jsx("div",{ref:he})]})}),e.jsx("div",{className:"px-2 py-1.5 pb-[max(1.5rem,calc(env(safe-area-inset-bottom)+1rem))] md:pb-4 shrink-0",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1.5 rounded-full backdrop-blur-md border border-border/50 bg-muted/80 dark:bg-muted/60",children:[le()&&e.jsx(J,{variant:"ghost",size:"icon",onClick:re,disabled:S,className:H("bg-transparent hover:bg-transparent",K&&"text-destructive"),children:K?e.jsx(jt,{className:"h-4 w-4"}):e.jsx(Nt,{className:"h-4 w-4"})}),e.jsx(st,{value:d,onChange:n=>h(n.target.value),onKeyDown:fe,placeholder:K?c.language==="zh"?"正在聆听...":"Listening...":Te(),disabled:S,className:"flex-1 bg-transparent border-0 shadow-none focus-visible:ring-0 focus-visible:ring-offset-0"}),e.jsx(J,{onClick:D,disabled:!d.trim()||S,size:"icon",variant:"ghost",className:"bg-transparent hover:bg-white/50 rounded-full",children:S?e.jsx(Fe,{className:"h-4 w-4 animate-spin"}):e.jsx(kt,{className:"h-4 w-4"})})]})}),e.jsx(lt,{open:ee,onOpenChange:n=>{$(n),!n&&F&&(T(F),O(null))},onConfirm:q}),e.jsx(ct,{open:te,onOpenChange:f,onConfirm:X,url:L||void 0})]})})},Qe=({restaurant:s,language:a})=>{const[i,c]=r.useState(999),o=r.useRef(null),w=s.type.slice(0,3).map((d,h)=>({key:`type-${h}`,label:d,variant:"secondary",color:void 0}));r.useEffect(()=>{const d=()=>{if(!o.current)return;const j=o.current,u=Array.from(j.querySelectorAll(".tag-badge"));if(u.length===0){setTimeout(d,50);return}const S=u[0]?.offsetTop;let R=u.length;for(let _=0;_<u.length;_++)if(u[_].offsetTop>S){R=_;break}R<u.length&&(R=Math.max(1,R-1)),c(R)};c(999);const h=setTimeout(d,100);return window.addEventListener("resize",d),()=>{clearTimeout(h),window.removeEventListener("resize",d)}},[w.length,s.id]);const p=w.slice(0,i),g=w.length>i;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{ref:o,className:"flex gap-1.5 flex-wrap flex-1",children:p.map(d=>e.jsx(V,{variant:d.variant,className:"text-xs font-medium whitespace-nowrap tag-badge",style:d.color?{backgroundColor:d.color,color:"white"}:void 0,children:d.label},d.key))}),g&&e.jsxs(es,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(J,{variant:"ghost",size:"sm",className:"h-6 px-2 text-muted-foreground hover:text-foreground flex-shrink-0",children:e.jsx(At,{className:"h-4 w-4"})})}),e.jsx(ss,{className:"w-80",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(d=>e.jsx(V,{variant:d.variant,className:"text-xs font-medium",style:d.color?{backgroundColor:d.color,color:"white"}:void 0,children:d.label},d.key))})})]})]})},ps=()=>{const s=Oe(),{t:a,i18n:i}=ke(),{toast:c}=Ft(),{localizeRestaurant:o}=dt(),[w,p]=r.useState(""),[g,d]=r.useState([]),[h,j]=r.useState(null),[u,S]=r.useState([]),[R,_]=r.useState(null),[A,ee]=r.useState(null),[$,F]=r.useState(!1),[O,K]=r.useState(!1),[I,ae]=r.useState(!1),Q=r.useRef(null),B=r.useRef(null),Y=r.useRef({}),[te,f]=r.useState(null),[L,oe]=r.useState(!1),[Z,ie]=r.useState(!1),[P,he]=r.useState(!1),[le,ve]=r.useState(!1),xe=4,{data:pe,isLoading:ge}=as(w,g.length>0?g.join(","):void 0),{data:y=[]}=rs(),{data:T=[]}=mt(),{data:q={}}=ns(),D=T.filter(t=>(q[t.id]||0)>0),fe=t=>{d(b=>b.includes(t)?b.filter(W=>W!==t):[...b,t])},ce=()=>{ie(!0)},be=async()=>{ie(!1);try{const t=await Kt();ee({lat:t.coords.latitude,lng:t.coords.longitude}),c({title:a("restaurants.locationEnabled"),description:a("restaurants.sortByDistance")})}catch(t){console.error("Location error:",t)}},re=t=>{_(t),t&&!A&&ce()},we=async t=>{if(h===t)j(null),S([]);else{j(t);const{data:b,error:W}=await Pt.from("activity_restaurants").select("restaurant_id").eq("activity_id",t);W?(console.error("Error fetching activity restaurants:",W),S([])):S(b.map(Te=>Te.restaurant_id))}},de=pe?.map(t=>{const b=o(t);if(A){const W=Jt(A.lat,A.lng,t.lat,t.lng);return{...b,distance:W}}return b})||[],me=h?de.filter(t=>u.includes(t.id)):de,X=R&&A?me.filter(t=>t.distance&&t.distance<=R).sort((t,b)=>(t.distance||0)-(b.distance||0)):A?me.sort((t,b)=>(t.distance||0)-(b.distance||0)):me.sort((t,b)=>(b.rating||0)-(t.rating||0)),E=t=>{s(`/restaurant/${t.id}`)},ne=t=>{f(t.id);const b=Y.current[t.id];b&&b.scrollIntoView({behavior:"smooth",block:"center"})},je=()=>{const t=document.getElementById("home-map-container");if(t)if($)document.exitFullscreen&&document.exitFullscreen();else{if(Q.current){const b=Q.current.getCenter(),W=Q.current.getZoom();B.current={center:[b.lng,b.lat],zoom:W}}t.requestFullscreen&&t.requestFullscreen()}};return r.useEffect(()=>{const t=()=>{const b=!!document.fullscreenElement;F(b),!b&&B.current&&Q.current&&setTimeout(()=>{Q.current?.jumpTo({center:B.current.center,zoom:B.current.zoom})},100)};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[]),e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"text-left mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground mb-2 sm:mb-3",children:a("nav.mapView")}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:a("map.subtitle")})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsx(st,{placeholder:a("restaurants.search"),value:w,onChange:t=>p(t.target.value),className:"h-11 bg-background/60 backdrop-blur-sm border-primary/20 focus:border-primary"})}),e.jsxs("div",{className:"flex gap-2 md:contents",children:[e.jsxs(J,{variant:A?"default":"outline",onClick:A?void 0:ce,className:"flex-1 md:flex-initial gap-2 h-11 md:px-6",children:[e.jsx(_e,{className:`w-4 h-4 ${A?"animate-pulse":""}`}),e.jsx("span",{className:"md:hidden",children:a("restaurants.getLocationMobile")}),e.jsx("span",{className:"hidden md:inline",children:a(A?"restaurants.locationEnabled":"restaurants.getLocation")})]}),e.jsxs(J,{variant:L?"default":"outline",onClick:()=>oe(!L),className:"flex-1 md:flex-initial gap-2 h-11 md:px-6",children:[e.jsx(St,{className:"w-4 h-4"}),a("restaurants.filter")]})]})]}),L&&e.jsxs("div",{className:"space-y-3 bg-card/50 backdrop-blur-sm rounded-lg p-4 border border-border/50 animate-fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[a("restaurants.restaurantTypes"),":"]}),g.length>0&&e.jsx(V,{variant:"outline",className:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground hover:scale-105 transition-all duration-200 px-2 py-0 text-xs h-5",onClick:()=>d([]),children:a("common.actions.clearFilter")}),y.length>8&&e.jsx(J,{variant:"ghost",size:"sm",className:"h-5 px-2 text-xs text-primary hover:text-primary/80 ml-auto hidden sm:flex transition-all duration-200",onClick:()=>K(!O),children:a(O?"common.showLess":"common.showMore")})]}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:`hidden sm:flex gap-2 flex-wrap transition-all duration-300 ease-out ${O?"animate-expand-height":""}`,children:(O?y:y.slice(0,8)).map((t,b)=>e.jsx(V,{variant:g.includes(t)?"default":"secondary",className:`cursor-pointer transition-all duration-200 px-3 py-1.5 text-xs whitespace-nowrap hover:scale-105 active:animate-tag-select ${g.includes(t)?"ring-2 ring-primary/30 shadow-sm":""}`,style:{animationDelay:`${b*30}ms`},onClick:()=>fe(t),children:t},t))}),e.jsxs("div",{className:"sm:hidden relative -mx-1 px-1",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory scroll-smooth",children:y.map((t,b)=>e.jsx(V,{variant:g.includes(t)?"default":"secondary",className:`cursor-pointer transition-all duration-200 px-3 py-1.5 text-xs whitespace-nowrap flex-shrink-0 snap-start hover:scale-105 active:animate-tag-select ${g.includes(t)?"ring-2 ring-primary/30 shadow-sm":""}`,style:{animationDelay:`${b*30}ms`},onClick:()=>fe(t),children:t},t))}),e.jsx("div",{className:"absolute left-0 top-0 bottom-2 w-4 bg-gradient-to-r from-card via-card/60 to-transparent pointer-events-none"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-2 w-4 bg-gradient-to-l from-card via-card/60 to-transparent pointer-events-none"})]})]})]}),D.length>0&&e.jsxs("div",{className:"space-y-2 pt-1 border-t border-border/30",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-sm font-semibold text-foreground",children:[a("nav.activities"),":"]}),h&&e.jsx(V,{variant:"outline",className:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground hover:scale-105 transition-all duration-200 px-2 py-0 text-xs h-5",onClick:()=>{j(null),S([])},children:a("common.actions.clearFilter")}),D.length>8&&e.jsx(J,{variant:"ghost",size:"sm",className:"h-5 px-2 text-xs text-primary hover:text-primary/80 ml-auto hidden sm:flex transition-all duration-200",onClick:()=>ae(!I),children:a(I?"common.showLess":"common.showMore")})]}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:`hidden sm:flex gap-2 flex-wrap transition-all duration-300 ease-out ${I?"animate-expand-height":""}`,children:(I?D:D.slice(0,8)).map((t,b)=>{const W=i.language==="zh"?t.badge_text_zh||t.title_zh:i.language==="pt"?t.badge_text_pt||t.title_pt:t.badge_text_en||t.title_en;return e.jsx(V,{variant:h===t.id?"default":"secondary",className:`cursor-pointer transition-all duration-200 px-3 py-1.5 text-xs whitespace-nowrap hover:scale-105 active:animate-tag-select ${h===t.id?"ring-2 ring-primary/30 shadow-sm":""}`,style:{animationDelay:`${b*30}ms`},onClick:()=>we(t.id),children:W},t.id)})}),e.jsxs("div",{className:"sm:hidden relative -mx-1 px-1",children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory scroll-smooth",children:D.map((t,b)=>{const W=i.language==="zh"?t.badge_text_zh||t.title_zh:i.language==="pt"?t.badge_text_pt||t.title_pt:t.badge_text_en||t.title_en;return e.jsx(V,{variant:h===t.id?"default":"secondary",className:`cursor-pointer transition-all duration-200 px-3 py-1.5 text-xs whitespace-nowrap flex-shrink-0 snap-start hover:scale-105 active:animate-tag-select ${h===t.id?"ring-2 ring-primary/30 shadow-sm":""}`,style:{animationDelay:`${b*30}ms`},onClick:()=>we(t.id),children:W},t.id)})}),e.jsx("div",{className:"absolute left-0 top-0 bottom-2 w-4 bg-gradient-to-r from-card via-card/60 to-transparent pointer-events-none"}),e.jsx("div",{className:"absolute right-0 top-0 bottom-2 w-4 bg-gradient-to-l from-card via-card/60 to-transparent pointer-events-none"})]})]})]})]}),A&&e.jsxs("div",{className:"flex gap-2 flex-wrap items-center bg-muted/30 backdrop-blur-sm rounded-lg p-3 border border-primary/10",children:[e.jsxs("span",{className:"text-sm font-semibold text-primary",children:[a("restaurants.radius"),":"]}),e.jsx(V,{variant:R===null?"default":"secondary",className:"cursor-pointer hover:scale-105 transition-transform",onClick:()=>re(null),children:a("restaurants.allRestaurants")}),e.jsx(V,{variant:R===5?"default":"secondary",className:"cursor-pointer hover:scale-105 transition-transform",onClick:()=>re(5),children:a("restaurants.radius5km")}),e.jsx(V,{variant:R===10?"default":"secondary",className:"cursor-pointer hover:scale-105 transition-transform",onClick:()=>re(10),children:a("restaurants.radius10km")}),e.jsx(V,{variant:R===20?"default":"secondary",className:"cursor-pointer hover:scale-105 transition-transform",onClick:()=>re(20),children:a("restaurants.radius20km")})]})]}),!ge&&X&&e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:`w-full lg:flex-1 transition-all duration-300 ease-in-out ${P?"h-0 overflow-hidden lg:h-[500px]":"h-[400px] lg:h-[500px]"}`,children:e.jsxs("div",{id:"home-map-container",className:`${$?"fixed inset-0 z-50 bg-background":"w-full h-full"} rounded-xl overflow-hidden shadow-2xl border border-primary/10 relative group`,children:[e.jsx(J,{variant:"secondary",size:"icon",className:"absolute bottom-4 right-4 z-10 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",onClick:je,children:$?e.jsx(_t,{className:"w-5 h-5"}):e.jsx(Ct,{className:"w-5 h-5"})}),e.jsxs("div",{className:"h-full relative",children:[e.jsx(os,{restaurants:X,onRestaurantClick:E,userLocation:A,radiusFilter:R,onMarkerClick:ne,showViewDetailsButton:!0,onMapInit:t=>{Q.current=t}}),e.jsxs("div",{className:"absolute bottom-4 left-4 z-10 pointer-events-none flex items-center gap-2 bg-background/80 backdrop-blur-sm px-3 py-2 rounded-full shadow-lg",children:[e.jsx("img",{src:is,alt:"Xiaoxiong Market Logo",className:"h-6 w-6 object-contain"}),e.jsx("span",{className:"text-sm font-semibold text-foreground whitespace-nowrap",children:i.language==="zh"?"小熊市场":"Xiaoxiong Market"})]})]})]})}),e.jsx(J,{variant:"outline",size:"sm",className:"lg:hidden flex items-center justify-center gap-2 -mt-3 mb-1",onClick:()=>he(!P),children:P?e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4"}),a("map.showMap")]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4"}),a("map.hideMap")]})}),e.jsxs("div",{className:"w-full lg:w-[420px] flex flex-col",children:[e.jsxs("div",{className:"mb-4 pb-4 border-b border-border",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-foreground flex items-center gap-2",children:[e.jsx(Ce,{className:"w-6 h-6 text-primary"}),a("restaurants.title"),e.jsx(V,{variant:"secondary",className:"ml-2",children:X.length})]}),A&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex items-center gap-1.5",children:[e.jsx(_e,{className:"w-4 h-4"}),a("restaurants.sortedByDistance")]})]}),X.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx(Ce,{className:"w-16 h-16 text-muted-foreground/40 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:a("restaurants.noResults")}),e.jsx("p",{className:"text-muted-foreground max-w-xs",children:a("restaurants.noResultsDesc")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lg:hidden space-y-3 pb-4",children:[(le?X:X.slice(0,xe)).map(t=>e.jsx(Le,{ref:b=>Y.current[t.id]=b,className:`p-5 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:border-primary/40 border-2 bg-gradient-to-br from-card to-card/50 backdrop-blur-sm ${te===t.id?"border-primary ring-2 ring-primary ring-offset-2":"border-transparent"}`,onClick:()=>E(t),children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-1 flex-1",children:t.name}),t.distance!==void 0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-primary/10 px-2.5 py-1 rounded-full w-fit",children:[e.jsx(_e,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-bold text-sm text-primary",children:t.distance<1?`${(t.distance*1e3).toFixed(0)} m`:`${t.distance.toFixed(1)} km`})]})]}),t.rating>0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-primary/10 px-2.5 py-1 rounded-full flex-shrink-0",children:[e.jsx(qe,{className:"w-4 h-4",style:{fill:"#016450",color:"#016450"}}),e.jsx("span",{className:"font-bold text-sm text-primary",children:t.rating})]})]}),t.type&&t.type.length>0&&e.jsx(Qe,{restaurant:t,language:i.language}),e.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(Ce,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-primary/60"}),e.jsx("span",{className:"line-clamp-2",children:t.address})]})]})},t.id)),X.length>xe&&e.jsx(J,{variant:"outline",className:"w-full mt-2 gap-2",onClick:()=>ve(!le),children:le?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"w-4 h-4"}),a("map.collapseList")]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-4 h-4"}),a("map.showAllRestaurants",{count:X.length})]})})]}),e.jsx(tt,{className:"hidden lg:block h-[420px] pr-4",children:e.jsx("div",{className:"space-y-3 pb-4",children:X.map(t=>e.jsx(Le,{ref:b=>Y.current[t.id]=b,className:`p-5 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:border-primary/40 border-2 bg-gradient-to-br from-card to-card/50 backdrop-blur-sm ${te===t.id?"border-primary ring-2 ring-primary ring-offset-2":"border-transparent"}`,onClick:()=>E(t),children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"font-bold text-lg text-foreground line-clamp-1 flex-1",children:t.name}),t.distance!==void 0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-primary/10 px-2.5 py-1 rounded-full w-fit",children:[e.jsx(_e,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"font-bold text-sm text-primary",children:t.distance<1?`${(t.distance*1e3).toFixed(0)} m`:`${t.distance.toFixed(1)} km`})]})]}),t.rating>0&&e.jsxs("div",{className:"flex items-center gap-1.5 bg-primary/10 px-2.5 py-1 rounded-full flex-shrink-0",children:[e.jsx(qe,{className:"w-4 h-4",style:{fill:"#016450",color:"#016450"}}),e.jsx("span",{className:"font-bold text-sm text-primary",children:t.rating})]})]}),t.type&&t.type.length>0&&e.jsx(Qe,{restaurant:t,language:i.language}),e.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(Ce,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-primary/60"}),e.jsx("span",{className:"line-clamp-2",children:t.address})]})]})},t.id))})})]})]})]}),e.jsx(lt,{open:Z,onOpenChange:ie,onConfirm:be})]})},ut=r.memo(({stats:s,onAskXiaoxiong:a})=>{const{t:i,i18n:c}=ke(),{data:o}=it(),{buttons:w}=Wt(),{settings:p}=Be(),g=c.language,[d,h]=r.useState(!1),j=p?.about_us_button_mobile!==!1,u=w?.find($=>$.label_zh==="演示"||$.link?.includes("v.xiaoxiong.pt"));u&&u.enabled!==!1&&u.visible!==!1&&u.show_on_mobile;const S=$=>!o||o.length===0?"":o[0][`${$}${g==="zh"?"_zh":g==="pt"?"_pt":"_en"}`]||"",R=S("title")||i("home.hero.title"),_=S("description")||i("home.hero.description"),A=S("subtitle_button_text")||i("home.hero.subtitle"),ee=()=>{u?.link&&at(u.link),h(!1)};return e.jsxs("section",{className:"min-h-[55vh] flex flex-col bg-secondary/20",children:[e.jsxs("div",{className:"pt-20 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl font-bold text-foreground",children:i("home.hero.brandName")}),e.jsx("img",{src:ot,alt:"map icon",width:28,height:28,loading:"eager",decoding:"async",className:"w-7 h-7 object-contain flex-shrink-0"})]}),j&&e.jsxs(Ye,{to:"/about-us",className:"flex items-center gap-1.5 px-3 py-1.5 text-sm bg-background/80 backdrop-blur-sm rounded-full border border-border/50 shadow-sm hover:bg-background transition-colors",children:[e.jsx(Rt,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-foreground/80",children:i("nav.aboutUs","关于我们")})]})]}),s&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Re,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i("home.stats.delivery")}),e.jsx("span",{className:"font-bold text-foreground text-sm",children:s.order_count})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ze,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i("home.stats.reservation")}),e.jsx("span",{className:"font-bold text-foreground text-sm",children:s.reserve_count})]})]})]}),e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"max-w-md mx-auto text-center space-y-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground leading-tight",children:R}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground max-w-sm mx-auto",children:_}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{onClick:a,className:"group flex items-center gap-3 bg-secondary/50 backdrop-blur-sm text-foreground px-5 py-3.5 rounded-full shadow-sm hover:shadow-md hover:bg-secondary/70 transition-all duration-300 cursor-text border border-border/50 mx-auto",children:[e.jsx(Ge,{className:"w-5 h-5 text-primary group-hover:text-primary/80 transition-colors"}),e.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:A}),e.jsx(et,{className:"w-4 h-4 text-muted-foreground/60 ml-2"})]})})]})}),e.jsx(ct,{open:d,onOpenChange:h,onConfirm:ee,url:u?.link})]})});ut.displayName="MobileHeroSection";const gs=s=>!s||!Array.isArray(s)?!1:s.every(a=>typeof a=="object"&&a!==null&&"start"in a&&"end"in a&&typeof a.start=="number"&&typeof a.end=="number"),fs=(s,a)=>{const i=ze(new Date(s.start_date)),c=s.end_date?ze(new Date(s.end_date)):null,o=ze(a);if(o<i||c&&o>c)return!1;switch(s.repeat_mode||"none"){case"none":return ds(i,o);case"daily":return!0;case"weekly":const p=cs(o);return s.repeat_weekday===p;case"monthly":const d=Je(o),h=s.repeat_month_day;return gs(h)?h.some(_=>d>=_.start&&d<=_.end):!1;case"yearly":const j=ls(o)+1,u=Je(o),S=s.repeat_yearly_month,R=s.repeat_yearly_day;return S===j&&R===u;default:return!1}},Ae=s=>{switch(s.repeat_mode||"none"){case"none":return 0;case"weekly":return 1;case"monthly":return 2;case"yearly":return 3;case"daily":return 4;default:return 5}},bs=()=>{const{data:s,isLoading:a}=mt(),i=r.useMemo(()=>{if(!s)return{today:[],tomorrow:[],dayAfterTomorrow:[]};const o=new Date,w=Ue(o,1),p=Ue(o,2),g=d=>s.filter(h=>h.visible&&h.status==="published").filter(h=>fs(h,d)).sort((h,j)=>{const u=Ae(h)-Ae(j);return u!==0?u:h.pinned!==j.pinned?h.pinned?-1:1:(h.sort_order||0)-(j.sort_order||0)});return{today:g(o),tomorrow:g(w),dayAfterTomorrow:g(p)}},[s]),c=r.useMemo(()=>{const o=new Set,w=[];return i.today.forEach(p=>{o.has(p.id)||(o.add(p.id),w.push({...p,dayLabel:"today"}))}),i.tomorrow.forEach(p=>{o.has(p.id)||(o.add(p.id),w.push({...p,dayLabel:"tomorrow"}))}),i.dayAfterTomorrow.forEach(p=>{o.has(p.id)||(o.add(p.id),w.push({...p,dayLabel:"dayAfterTomorrow"}))}),w.sort((p,g)=>{const d=Ae(p)-Ae(g);return d!==0?d:p.pinned!==g.pinned?p.pinned?-1:1:(p.sort_order||0)-(g.sort_order||0)})},[i]);return{recentActivities:i,allRecentActivities:c,isLoading:a,hasActivities:c.length>0}},ht=()=>{const[s,a]=r.useState(4);return r.useEffect(()=>{const i=()=>{const c=window.innerWidth;c<640?a(2):c<1024?a(3):a(4)};return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),s},xt=r.memo(({activity:s,dayLabel:a})=>{const i=Oe(),{t:c}=ke(),{getLocalizedField:o}=dt(),w=o(s,"title"),p=r.useMemo(()=>{switch(s.service_type){case"dine_in":return c("activities.serviceType.dine_in");case"takeaway":return c("activities.serviceType.takeaway");case"both":return c("activities.serviceType.both");default:return""}},[s.service_type,c]),g=()=>{i(`/activity/${s.id}`)};return e.jsxs(Le,{className:"group cursor-pointer overflow-hidden hover:shadow-lg transition-all duration-300 border-border/50 bg-card",onClick:g,children:[e.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden bg-muted",children:[s.image_url?e.jsx("img",{src:s.image_url,alt:w,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary/5",children:e.jsx(Lt,{className:"w-12 h-12 text-primary/40"})}),e.jsx(V,{className:H("absolute top-2 left-2 text-xs font-medium",a===c("home.recentActivities.today")?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"),children:a}),s.pinned&&e.jsx(V,{className:"absolute top-2 right-2 text-xs bg-accent text-accent-foreground",children:c("activities.pinned")})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("h3",{className:"font-medium text-sm leading-tight line-clamp-2 text-foreground group-hover:text-primary transition-colors",children:w}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[s.service_type==="dine_in"&&e.jsx(Xe,{className:"w-3 h-3 flex-shrink-0"}),s.service_type==="takeaway"&&e.jsx(Re,{className:"w-3 h-3 flex-shrink-0"}),s.service_type==="both"&&e.jsxs(e.Fragment,{children:[e.jsx(Xe,{className:"w-3 h-3 flex-shrink-0"}),e.jsx(Re,{className:"w-3 h-3 flex-shrink-0"})]}),e.jsx("span",{className:"truncate",children:p})]})]})]})});xt.displayName="ActivityCard";const pt=r.memo(()=>{const s=ht();return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:s}).map((a,i)=>e.jsxs(Le,{className:"overflow-hidden",children:[e.jsx(Me,{className:"aspect-[16/10] w-full"}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx(Me,{className:"h-4 w-full"}),e.jsx(Me,{className:"h-3 w-2/3"})]})]},i))})});pt.displayName="LoadingSkeleton";const gt=r.memo(()=>{const{t:s}=ke(),{allRecentActivities:a,isLoading:i,hasActivities:c}=bs(),o=ht(),[w,p]=r.useState(!1),g=j=>{switch(j){case"today":return s("home.recentActivities.today");case"tomorrow":return s("home.recentActivities.tomorrow");case"dayAfterTomorrow":return s("home.recentActivities.dayAfterTomorrow");default:return""}},d=r.useMemo(()=>w?a:a.slice(0,o),[a,o,w]),h=a.length>o;return!i&&!c?null:e.jsx("section",{className:"py-8 sm:py-12 px-4 bg-secondary/20",children:e.jsxs("div",{className:"container mx-auto max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground",children:s("home.recentActivities.title")}),h&&!w&&e.jsx(J,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary/80",onClick:()=>p(!0),children:e.jsxs("span",{className:"flex items-center gap-1",children:[s("home.recentActivities.viewAll"),e.jsx(Tt,{className:"w-4 h-4"})]})}),w&&e.jsx(J,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",onClick:()=>p(!1),children:e.jsx("span",{className:"flex items-center gap-1",children:s("home.recentActivities.collapse")})})]}),i?e.jsx(pt,{}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map(j=>e.jsx(xt,{activity:j,dayLabel:g(j.dayLabel)},j.id))})]})})});gt.displayName="RecentActivitiesSection";const Ee="/images/sushi-ramen-hero.jpg",ft="/images/sushi-ramen-mobile.jpg",bt=r.memo(({stats:s,t:a})=>e.jsx("div",{className:"absolute top-16 sm:top-20 left-3 z-20",children:e.jsxs("div",{className:"gap-4 w-fit flex-col flex items-start justify-start",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"w-4 h-4 text-primary"}),e.jsx("span",{className:"text-sm text-white/90 drop-shadow-md",children:a("home.stats.delivery")}),e.jsx("span",{className:"font-bold text-white text-sm drop-shadow-md",children:s.order_count})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-accent"}),e.jsx("span",{className:"text-sm text-white/90 drop-shadow-md",children:a("home.stats.reservation")}),e.jsx("span",{className:"font-bold text-white text-sm drop-shadow-md",children:s.reserve_count})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl sm:text-2xl font-bold text-white drop-shadow-md",children:a("home.hero.brandName")}),e.jsx("img",{src:ot,alt:"map icon",width:32,height:32,loading:"eager",decoding:"async",className:"w-7 sm:w-8 h-7 sm:h-8 object-contain flex-shrink-0"})]})]})}));bt.displayName="StatsDisplay";const ws=()=>{const s=window.innerWidth<640,a=window.innerWidth>=1024,i=navigator.connection,c=nt(),o=rt();return a?!!i?.saveData:!!(o&&!c||i&&(i.saveData||i.effectiveType==="2g"||i.effectiveType==="slow-2g")||s&&navigator.deviceMemory&&navigator.deviceMemory<2)},wt=r.memo(({template:s,isActive:a,currentLang:i,t:c,onContentReady:o,onAskXiaoxiong:w})=>{const[p,g]=r.useState({}),[d,h]=r.useState({}),[j,u]=r.useState({}),[S,R]=r.useState({mobile:!0,tablet:!0,desktop:!0}),[_,A]=r.useState(!1),ee=ws(),$=r.useRef(null),F=r.useRef(null),O=r.useRef(null),K=y=>s[`${y}${i==="zh"?"_zh":i==="pt"?"_pt":"_en"}`]||"",I=()=>window.innerWidth<640?"mobile":window.innerWidth<1024?"tablet":"desktop",ae=()=>{const y=I();return y==="mobile"&&s.mobile_overlay_opacity!==null?s.mobile_overlay_opacity:y==="tablet"&&s.tablet_overlay_opacity!==null?s.tablet_overlay_opacity:y==="desktop"&&s.desktop_overlay_opacity!==null?s.desktop_overlay_opacity:s.overlay_opacity??30},Q=()=>{const y=ae(),T=s.overlay_gradient_direction||"to-b",q=(ne,je)=>ne==null?je/100:ne>1?ne/100:ne,D=y>1?y/100:y,fe=q(s.overlay_gradient_from_opacity,30)*D,ce=q(s.overlay_gradient_via_opacity,25)*D,be=q(s.overlay_gradient_to_opacity,40)*D,we={"to-t":"to top","to-b":"to bottom","to-l":"to left","to-r":"to right","to-tl":"to top left","to-tr":"to top right","to-bl":"to bottom left","to-br":"to bottom right"}[T]||"to bottom",de={black:"0, 0, 0",white:"255, 255, 255",background:"0, 0, 0",foreground:"255, 255, 255",primary:"1, 100, 80",secondary:"240, 240, 240"},me=de[s.overlay_gradient_from||"black"]||"0, 0, 0",X=de[s.overlay_gradient_via||"black"]||"0, 0, 0",E=de[s.overlay_gradient_to||"black"]||"0, 0, 0";return{background:`linear-gradient(${we}, rgba(${me}, ${fe}), rgba(${X}, ${ce}), rgba(${E}, ${be}))`}},B=s.mobile_image_url||ft,Y=s.tablet_image_url||s.desktop_image_url||Ee,te=s.desktop_image_url||Ee,f=s.background_blur||0,L=s.desktop_media_type||s.media_type||"image",oe=s.tablet_media_type||s.media_type||"image",Z=s.mobile_media_type||s.media_type||"image",ie=L==="video"&&!ee,P=oe==="video"&&!ee,he=Z==="video"&&!ee,le=he?s.mobile_video_url:null,ve=P?s.tablet_video_url||s.desktop_video_url:null,xe=ie?s.desktop_video_url:null;r.useEffect(()=>{const y=I(),T=y==="mobile"?B:y==="tablet"?Y:te;if(T){const q=new Image;q.onload=()=>{g(D=>({...D,[y]:!0})),R(D=>({...D,[y]:!0})),a&&(o?.(),setTimeout(()=>A(!0),100))},q.src=T}},[B,Y,te,a,o]),r.useEffect(()=>{a&&p[I()]&&A(!0)},[a,p]);const pe=y=>{h(T=>({...T,[y]:!0}))},ge=(y,T)=>{console.error(`[HeroSlide] Video error on ${y}:`,T),u(q=>({...q,[y]:!0}))};return r.useEffect(()=>{if(!_||!a||!Ut())return;const T=I(),D=(T==="mobile"?$:T==="tablet"?F:O).current;if(!D)return;const ce=setTimeout(async()=>{try{D.muted=!0,D.playsInline=!0,D.setAttribute("webkit-playsinline","true"),await D.play(),console.log(`[HeroSlide] iOS video play successful on ${T}`)}catch(be){console.error(`[HeroSlide] iOS video play failed on ${T}:`,be),u(re=>({...re,[T]:!0}))}},150);return()=>clearTimeout(ce)},[_,a]),e.jsxs("div",{className:H("absolute inset-0 w-full h-full transition-opacity duration-1000",a?"opacity-100 z-10":"opacity-0 z-0"),children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full sm:hidden",children:[!S.mobile&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),he&&le?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:B,alt:"Background",className:H("absolute inset-0 w-full h-full object-cover object-center z-10 transition-opacity duration-500",d.mobile&&!j.mobile?"opacity-0 pointer-events-none":"opacity-100"),style:{filter:f>0?`blur(${f}px)`:void 0}}),_&&!j.mobile&&e.jsx("video",{ref:$,src:le,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",onCanPlay:()=>pe("mobile"),onError:y=>ge("mobile",y),className:"absolute inset-0 w-full h-full object-cover object-center",style:{filter:f>0?`blur(${f}px)`:void 0}})]}):e.jsx("img",{src:B,alt:"Background",className:H("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",S.mobile?"opacity-100":"opacity-0"),style:{filter:f>0?`blur(${f}px)`:void 0}})]}),e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden sm:block lg:hidden",children:[!S.tablet&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),P&&ve?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:Y,alt:"Background",className:H("absolute inset-0 w-full h-full object-cover object-center z-10 transition-opacity duration-500",d.tablet&&!j.tablet?"opacity-0 pointer-events-none":"opacity-100"),style:{filter:f>0?`blur(${f}px)`:void 0}}),_&&!j.tablet&&e.jsx("video",{ref:F,src:ve,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",onCanPlay:()=>pe("tablet"),onError:y=>ge("tablet",y),className:"absolute inset-0 w-full h-full object-cover object-center",style:{filter:f>0?`blur(${f}px)`:void 0}})]}):e.jsx("img",{src:Y,alt:"Background",className:H("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",S.tablet?"opacity-100":"opacity-0"),style:{filter:f>0?`blur(${f}px)`:void 0}})]}),e.jsxs("div",{className:"absolute inset-0 w-full h-full hidden lg:block",children:[!S.desktop&&e.jsx("div",{className:"absolute inset-0 w-full h-full bg-muted animate-pulse z-20"}),ie&&xe?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:te,alt:"Background",className:H("absolute inset-0 w-full h-full object-cover object-center z-10 transition-opacity duration-500",d.desktop&&!j.desktop?"opacity-0 pointer-events-none":"opacity-100"),style:{filter:f>0?`blur(${f}px)`:void 0}}),_&&!j.desktop&&e.jsx("video",{ref:O,src:xe,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",onCanPlay:()=>pe("desktop"),onError:y=>ge("desktop",y),className:"absolute inset-0 w-full h-full object-cover object-center",style:{filter:f>0?`blur(${f}px)`:void 0}})]}):e.jsx("img",{src:te,alt:"Background",fetchPriority:"high",loading:"eager",decoding:"async",className:H("absolute inset-0 w-full h-full object-cover object-center transition-opacity duration-500",S.desktop?"opacity-100":"opacity-0"),style:{filter:f>0?`blur(${f}px)`:void 0}})]}),e.jsx("div",{className:"absolute inset-0 w-full h-full",style:Q()})]}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-8 animate-fade-in w-full",children:[e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-white leading-tight px-4 drop-shadow-[0_2px_8px_rgba(0,0,0,0.8)]",children:K("title")||c("home.hero.title")}),e.jsx("p",{className:"text-sm sm:text-xl md:text-2xl text-white/95 max-w-2xl mx-auto px-4 drop-shadow-[0_2px_6px_rgba(0,0,0,0.7)]",children:K("description")||c("home.hero.description")}),s.subtitle_button_text_zh&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:w,className:"group flex items-center gap-3 bg-white/20 backdrop-blur-xl text-white px-5 sm:px-7 py-3.5 sm:py-4 rounded-full shadow-[0_8px_32px_rgba(0,0,0,0.12)] hover:shadow-[0_16px_48px_rgba(0,0,0,0.2)] hover:bg-white/30 transition-all duration-300 cursor-text border border-white/40",children:[e.jsx(Ge,{className:"w-5 h-5 text-white/90 group-hover:text-white transition-colors drop-shadow-sm"}),e.jsx("span",{className:"text-sm sm:text-base text-primary group-hover:text-primary/80 transition-colors drop-shadow-sm font-medium",children:K("subtitle_button_text")||c("home.hero.subtitle")}),e.jsx(et,{className:"w-4 h-4 text-white/60 ml-2 drop-shadow-sm"})]})})]})})]})});wt.displayName="HeroSlide";const Bs=()=>{const{t:s,i18n:a}=ke(),i=Dt(),{settings:c}=Be(),{data:o,isLoading:w,refetch:p}=it(),[g,d]=r.useState(0),[h,j]=r.useState(null),u=r.useRef(null),[S,R]=r.useState(!1),[_,A]=r.useState(!1),ee=Ht(),{isWebView:$}=qt(),F=ee||$,O=c?.ai_assistant_enabled!==!1,K=c?.ai_provider||"ask-xiaoxiong",I=r.useCallback(()=>{R(!0)},[]);Zt({pageType:"home"});const ae=r.useCallback(async()=>{try{const L=await(await fetch("https://v.xiaoxiong.pt/api/get_info")).json();L&&j({order_count:L.order_count||0,reserve_count:L.reserve_count||0})}catch(f){console.error("Failed to fetch stats:",f)}},[]);r.useEffect(()=>{ae()},[ae]);const Q=r.useCallback(async()=>{await Promise.all([p(),ae(),i.invalidateQueries({queryKey:["restaurants"]}),i.invalidateQueries({queryKey:["activities"]})])},[p,ae,i]);r.useEffect(()=>{if(!o||o.length<=1)return;const L=o[g]?.duration||5e3;return u.current=setTimeout(()=>{d(oe=>(oe+1)%o.length)},L),()=>{u.current&&clearTimeout(u.current)}},[o,g]);const B=r.useCallback(f=>{u.current&&clearTimeout(u.current),d(f)},[]);r.useCallback(()=>{o&&(u.current&&clearTimeout(u.current),d(f=>(f-1+o.length)%o.length))},[o]),r.useCallback(()=>{o&&(u.current&&clearTimeout(u.current),d(f=>(f+1)%o.length))},[o]);const Y=a.language,te=o&&o.length>1;return e.jsx(Gt,{onRefresh:Q,children:e.jsxs("div",{className:"min-h-screen",children:[F?e.jsx(ut,{stats:h,onAskXiaoxiong:()=>A(!0)}):e.jsxs("section",{className:"relative h-screen flex items-start overflow-hidden bg-background",children:[h&&e.jsx(bt,{stats:h,t:s}),e.jsx("div",{className:H("absolute inset-0 w-full h-full transition-opacity duration-500",S?"opacity-100":"opacity-0"),children:o?.map((f,L)=>e.jsx(wt,{template:f,isActive:L===g,currentLang:Y,t:s,onContentReady:L===0?I:void 0,onAskXiaoxiong:()=>A(!0)},f.id))}),e.jsx("div",{className:H("absolute inset-0 w-full h-full z-20 transition-opacity duration-500",w||!S?"opacity-100":"opacity-0 pointer-events-none"),children:e.jsx(Xt,{})}),!w&&(!o||o.length===0)&&e.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[e.jsx("img",{src:ft,alt:"Background",fetchPriority:"high",loading:"eager",decoding:"async",className:"absolute inset-0 w-full h-full object-cover object-center sm:hidden"}),e.jsx("img",{src:Ee,alt:"Background",fetchPriority:"high",loading:"eager",decoding:"async",className:"absolute inset-0 w-full h-full object-cover object-center hidden sm:block"}),e.jsx("div",{className:"absolute inset-0 w-full h-full bg-gradient-to-b from-black/30 via-black/25 to-black/40"}),e.jsx("div",{className:"relative z-10 container mx-auto px-4 sm:px-6 flex items-center min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 sm:space-y-8 animate-fade-in w-full",children:[e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-7xl font-bold text-white leading-tight px-4 drop-shadow-[0_2px_8px_rgba(0,0,0,0.8)]",children:s("home.hero.title")}),e.jsx("p",{className:"text-sm sm:text-xl md:text-2xl text-white/95 max-w-2xl mx-auto px-4 drop-shadow-[0_2px_6px_rgba(0,0,0,0.7)]",children:s("home.hero.description")})]})})]}),te&&e.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30 flex gap-2",children:o.map((f,L)=>e.jsx("button",{onClick:()=>B(L),className:H("w-3 h-3 rounded-full transition-all duration-300",L===g?"bg-white w-8":"bg-white/50 hover:bg-white/70"),"aria-label":`Go to slide ${L+1}`},L))})]}),e.jsx(gt,{}),e.jsx("section",{className:"py-12 sm:py-20 px-4 bg-secondary/20",children:e.jsx("div",{className:"container mx-auto max-w-7xl",children:e.jsx(ps,{})})}),!rt()&&!nt()&&e.jsxs("section",{className:"py-16 sm:py-24 px-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-primary/3 to-primary/8",style:{maskImage:"radial-gradient(ellipse 80% 70% at 50% 50%, black 40%, transparent 100%)",WebkitMaskImage:"radial-gradient(ellipse 80% 70% at 50% 50%, black 40%, transparent 100%)"}}),e.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-primary/8 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl"}),e.jsx("div",{className:"container mx-auto max-w-5xl relative z-10",children:e.jsx("div",{className:"flex flex-col items-center justify-center gap-8",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary/10 text-primary text-sm font-medium px-4 py-2 rounded-full mb-4",children:[e.jsx(It,{className:"w-4 h-4"}),e.jsx("span",{children:"Mobile App"})]}),e.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-foreground mb-4",children:s("home.app.title")}),e.jsx("p",{className:"text-base sm:text-lg text-muted-foreground mb-8 leading-relaxed",children:s("home.app.description")}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs("a",{href:"https://apps.apple.com/cn/app/xiaoxiong/id6755481369",target:"_blank",rel:"noopener noreferrer",className:"relative group",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary via-primary-glow to-primary rounded-2xl blur-lg opacity-40 group-hover:opacity-70 transition-opacity"}),e.jsx("div",{className:"relative bg-black hover:bg-gray-900 h-[52px] sm:h-[56px] w-[160px] sm:w-[180px] rounded-xl transition-all hover:scale-105 shadow-2xl hover:shadow-primary/30 border border-white/10 flex items-center justify-center",children:e.jsx("img",{src:Qt,alt:"Download on the App Store",className:"h-8 sm:h-9"})})]}),e.jsxs("a",{href:"https://play.google.com/store/apps/details?id=com.xiaoxiong.market",target:"_blank",rel:"noopener noreferrer",className:"relative group",children:[e.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary via-primary-glow to-primary rounded-2xl blur-lg opacity-40 group-hover:opacity-70 transition-opacity"}),e.jsx("div",{className:"relative bg-black hover:bg-gray-900 h-[52px] sm:h-[56px] w-[160px] sm:w-[180px] rounded-xl transition-all hover:scale-105 shadow-2xl hover:shadow-primary/30 border border-white/10 flex items-center justify-center",children:e.jsx("img",{src:Yt,alt:"Get it on Google Play",className:"h-12 sm:h-14"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Mt,{className:"w-4 h-4 animate-bounce"}),e.jsx("span",{children:s("home.app.downloadNow")})]})]})]})})})]}),e.jsxs("section",{className:"py-16 sm:py-20 px-4 bg-gradient-to-r from-primary/90 to-primary relative overflow-hidden rounded-3xl mx-4 sm:mx-8 lg:mx-16 mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 sm:w-96 h-64 sm:h-96 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 sm:w-96 h-64 sm:h-96 bg-white/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"container mx-auto max-w-4xl text-center relative z-10",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-primary-foreground mb-4 sm:mb-6 px-4",children:s("home.cta.title")}),e.jsx("p",{className:"text-base sm:text-xl text-primary-foreground/90 mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:s("home.cta.description")}),e.jsx("div",{className:"flex justify-center",children:e.jsx(J,{size:"lg",variant:"secondary",asChild:!0,className:"text-base sm:text-lg shadow-xl hover:shadow-2xl",children:e.jsxs(Ye,{to:"/join-us",children:[e.jsx(zt,{className:"mr-2 w-4 sm:w-5 h-4 sm:h-5"}),s("home.cta.button")]})})})]})]}),O&&e.jsx(xs,{open:_,onOpenChange:A,provider:K})]})})};export{Bs as default};
//# sourceMappingURL=Home-DJtzNyKV.js.map
