import{G as c,a as o,r as i,j as e,L as l,y as d}from"./index-tBrG_sQo.js";const x=()=>{const{keyId:t}=c(),r=o(),[s,a]=i.useState(null);return i.useEffect(()=>{(async()=>{if(!t){a("Key ID not provided");return}const{data:n,error:u}=await d.from("restaurants").select("id").eq("key_id",t).maybeSingle();if(u){a("Failed to find restaurant");return}if(!n){a("Restaurant not found");return}r(`/restaurant/${n.id}`,{replace:!0})})()},[t,r]),s?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[e.jsx("p",{className:"text-lg text-destructive",children:s}),e.jsx("button",{onClick:()=>r("/restaurants"),className:"text-primary hover:underline",children:"Browse all restaurants"})]}):e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx(l,{className:"h-8 w-8 animate-spin text-muted-foreground"})})};export{x as default};
