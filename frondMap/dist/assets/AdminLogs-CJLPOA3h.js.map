{"version":3,"file":"AdminLogs-CJLPOA3h.js","sources":["../../src/pages/admin/AdminLogs.tsx"],"sourcesContent":["import { useState, useMemo } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { useOperationLogs } from \"@/hooks/useAdmin\";\r\nimport { usePagination } from \"@/hooks/usePagination\";\r\nimport { Pagination, PaginationContent, PaginationItem, PaginationLink, PaginationNext, PaginationPrevious } from \"@/components/ui/pagination\";\r\n\r\nimport { format } from \"date-fns\";\r\nimport { ChevronDown, ChevronRight, Search, Database, Clock, User, Filter, FileText } from \"lucide-react\";\r\n\r\nconst AdminLogs = () => {\r\n  const { t } = useTranslation();\r\n  const { data: logs, isLoading } = useOperationLogs();\r\n  const [expandedLogs, setExpandedLogs] = useState<Set<string>>(new Set());\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [actionFilter, setActionFilter] = useState<string>(\"all\");\r\n  const [tableFilter, setTableFilter] = useState<string>(\"all\");\r\n\r\n  // Get unique table names for filter\r\n  const tableNames = useMemo(() => {\r\n    if (!logs) return [];\r\n    const names = [...new Set(logs.map(log => log.table_name))];\r\n    return names.sort();\r\n  }, [logs]);\r\n\r\n  // Filter logs\r\n  const filteredLogs = useMemo(() => {\r\n    if (!logs) return [];\r\n    return logs.filter(log => {\r\n      const matchesSearch = searchTerm === \"\" || \r\n        log.user_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.table_name.toLowerCase().includes(searchTerm.toLowerCase());\r\n      const matchesAction = actionFilter === \"all\" || log.action === actionFilter;\r\n      const matchesTable = tableFilter === \"all\" || log.table_name === tableFilter;\r\n      return matchesSearch && matchesAction && matchesTable;\r\n    });\r\n  }, [logs, searchTerm, actionFilter, tableFilter]);\r\n\r\n  const {\r\n    currentPage,\r\n    totalPages,\r\n    paginatedData,\r\n    goToPage,\r\n    canGoNext,\r\n    canGoPrevious,\r\n    startIndex,\r\n    endIndex,\r\n    totalItems,\r\n  } = usePagination({ data: filteredLogs, itemsPerPage: 15 });\r\n\r\n  const toggleLog = (logId: string) => {\r\n    setExpandedLogs(prev => {\r\n      const newSet = new Set(prev);\r\n      if (newSet.has(logId)) {\r\n        newSet.delete(logId);\r\n      } else {\r\n        newSet.add(logId);\r\n      }\r\n      return newSet;\r\n    });\r\n  };\r\n\r\n  const getActionBadge = (action: string) => {\r\n    const config: Record<string, { variant: \"default\" | \"secondary\" | \"destructive\" | \"outline\", className: string }> = {\r\n      INSERT: { variant: \"default\", className: \"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20 hover:bg-emerald-500/20\" },\r\n      UPDATE: { variant: \"secondary\", className: \"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/20 hover:bg-amber-500/20\" },\r\n      DELETE: { variant: \"destructive\", className: \"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20 hover:bg-red-500/20\" },\r\n    };\r\n    return config[action] || { variant: \"outline\" as const, className: \"\" };\r\n  };\r\n\r\n  const formatJsonData = (data: any) => {\r\n    if (!data) return null;\r\n    try {\r\n      return JSON.stringify(data, null, 2);\r\n    } catch {\r\n      return String(data);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[400px]\">\r\n        <div className=\"flex flex-col items-center gap-3\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n          <span className=\"text-muted-foreground\">{t(\"common.loading\")}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col gap-2\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"p-2 rounded-lg bg-primary/10\">\r\n            <FileText className=\"h-6 w-6 text-primary\" />\r\n          </div>\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold\">{t(\"admin.operationLogs\")}</h1>\r\n            <p className=\"text-sm text-muted-foreground\">{t(\"admin.viewSystemLogs\")}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <Card className=\"border-none shadow-sm bg-gradient-to-br from-emerald-500/5 to-emerald-500/10 dark:from-emerald-500/10 dark:to-emerald-500/20\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 rounded-full bg-emerald-500/10 dark:bg-emerald-500/20\">\r\n                <Database className=\"h-4 w-4 text-emerald-600 dark:text-emerald-400\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-muted-foreground\">INSERT</p>\r\n                <p className=\"text-xl font-bold text-emerald-600 dark:text-emerald-400\">\r\n                  {logs?.filter(l => l.action === 'INSERT').length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"border-none shadow-sm bg-gradient-to-br from-amber-500/5 to-amber-500/10 dark:from-amber-500/10 dark:to-amber-500/20\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 rounded-full bg-amber-500/10 dark:bg-amber-500/20\">\r\n                <Database className=\"h-4 w-4 text-amber-600 dark:text-amber-400\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-muted-foreground\">UPDATE</p>\r\n                <p className=\"text-xl font-bold text-amber-600 dark:text-amber-400\">\r\n                  {logs?.filter(l => l.action === 'UPDATE').length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"border-none shadow-sm bg-gradient-to-br from-red-500/5 to-red-500/10 dark:from-red-500/10 dark:to-red-500/20\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 rounded-full bg-red-500/10 dark:bg-red-500/20\">\r\n                <Database className=\"h-4 w-4 text-red-600 dark:text-red-400\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-muted-foreground\">DELETE</p>\r\n                <p className=\"text-xl font-bold text-red-600 dark:text-red-400\">\r\n                  {logs?.filter(l => l.action === 'DELETE').length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"border-none shadow-sm bg-gradient-to-br from-primary/5 to-primary/10\">\r\n          <CardContent className=\"p-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 rounded-full bg-primary/10\">\r\n                <FileText className=\"h-4 w-4 text-primary\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-xs text-muted-foreground\">{t(\"common.total\")}</p>\r\n                <p className=\"text-xl font-bold text-primary\">\r\n                  {logs?.length || 0}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"border-none shadow-sm\">\r\n        <CardContent className=\"p-4\">\r\n          <div className=\"flex flex-col sm:flex-row gap-3\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n              <Input\r\n                placeholder={t(\"common.search\")}\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-9\"\r\n              />\r\n            </div>\r\n            <Select value={actionFilter} onValueChange={setActionFilter}>\r\n              <SelectTrigger className=\"w-full sm:w-[140px]\">\r\n                <Filter className=\"h-4 w-4 mr-2\" />\r\n                <SelectValue placeholder={t(\"admin.action\")} />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">{t(\"common.all\")}</SelectItem>\r\n                <SelectItem value=\"INSERT\">INSERT</SelectItem>\r\n                <SelectItem value=\"UPDATE\">UPDATE</SelectItem>\r\n                <SelectItem value=\"DELETE\">DELETE</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n            <Select value={tableFilter} onValueChange={setTableFilter}>\r\n              <SelectTrigger className=\"w-full sm:w-[180px]\">\r\n                <Database className=\"h-4 w-4 mr-2\" />\r\n                <SelectValue placeholder={t(\"admin.table\")} />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"all\">{t(\"common.all\")}</SelectItem>\r\n                {tableNames.map(name => (\r\n                  <SelectItem key={name} value={name}>{name}</SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Results Info */}\r\n      {filteredLogs.length > 0 && (\r\n        <div className=\"text-sm text-muted-foreground\">\r\n          {t(\"common.showing\")} {startIndex}-{endIndex} {t(\"common.of\")} {totalItems} {t(\"common.results\")}\r\n        </div>\r\n      )}\r\n\r\n      {/* Logs Table */}\r\n      {paginatedData && paginatedData.length > 0 ? (\r\n        <Card className=\"border-none shadow-sm overflow-hidden\">\r\n          <ScrollArea className=\"w-full\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow className=\"bg-muted/30 hover:bg-muted/30\">\r\n                  <TableHead className=\"w-[50px]\"></TableHead>\r\n                  <TableHead className=\"min-w-[120px]\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <User className=\"h-4 w-4\" />\r\n                      {t(\"admin.user\")}\r\n                    </div>\r\n                  </TableHead>\r\n                  <TableHead className=\"min-w-[120px]\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Database className=\"h-4 w-4\" />\r\n                      {t(\"admin.table\")}\r\n                    </div>\r\n                  </TableHead>\r\n                  <TableHead className=\"min-w-[100px]\">{t(\"admin.action\")}</TableHead>\r\n                  <TableHead className=\"min-w-[160px]\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Clock className=\"h-4 w-4\" />\r\n                      {t(\"admin.time\")}\r\n                    </div>\r\n                  </TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {paginatedData.map((log) => {\r\n                  const isExpanded = expandedLogs.has(log.id);\r\n                  const hasData = log.old_data || log.new_data;\r\n                  const actionConfig = getActionBadge(log.action);\r\n                  \r\n                  return (\r\n                    <>\r\n                      <TableRow \r\n                        key={log.id} \r\n                        className={`cursor-pointer transition-colors ${hasData ? 'hover:bg-muted/50' : ''}`}\r\n                        onClick={() => hasData && toggleLog(log.id)}\r\n                      >\r\n                        <TableCell className=\"w-[50px]\">\r\n                          {hasData && (\r\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\r\n                              {isExpanded ? (\r\n                                <ChevronDown className=\"h-4 w-4\" />\r\n                              ) : (\r\n                                <ChevronRight className=\"h-4 w-4\" />\r\n                              )}\r\n                            </Button>\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <span className=\"font-medium\">{log.user_name || '-'}</span>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Badge variant=\"outline\" className=\"font-mono text-xs\">\r\n                            {log.table_name}\r\n                          </Badge>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Badge variant={actionConfig.variant} className={actionConfig.className}>\r\n                            {log.action}\r\n                          </Badge>\r\n                        </TableCell>\r\n                        <TableCell className=\"text-muted-foreground text-sm\">\r\n                          {format(new Date(log.created_at), 'yyyy-MM-dd HH:mm:ss')}\r\n                        </TableCell>\r\n                      </TableRow>\r\n                      {isExpanded && hasData && (\r\n                        <TableRow key={`${log.id}-expanded`}>\r\n                          <TableCell colSpan={5} className=\"bg-muted/20 p-0\">\r\n                            <div className=\"p-4 space-y-4\">\r\n                              <div className=\"grid md:grid-cols-2 gap-4\">\r\n                                {log.old_data && (\r\n                                  <div className=\"space-y-2\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                      <div className=\"h-2 w-2 rounded-full bg-red-500 dark:bg-red-400\"></div>\r\n                                      <span className=\"font-semibold text-sm text-red-600 dark:text-red-400\">{t(\"admin.oldData\")}</span>\r\n                                    </div>\r\n                                    <ScrollArea className=\"h-[200px] rounded-lg border border-red-500/20 dark:border-red-400/30 bg-red-500/5 dark:bg-red-500/10\">\r\n                                      <pre className=\"p-3 text-xs font-mono whitespace-pre-wrap break-all text-foreground\">\r\n                                        {formatJsonData(log.old_data)}\r\n                                      </pre>\r\n                                    </ScrollArea>\r\n                                  </div>\r\n                                )}\r\n                                {log.new_data && (\r\n                                  <div className=\"space-y-2\">\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                      <div className=\"h-2 w-2 rounded-full bg-emerald-500 dark:bg-emerald-400\"></div>\r\n                                      <span className=\"font-semibold text-sm text-emerald-600 dark:text-emerald-400\">{t(\"admin.newData\")}</span>\r\n                                    </div>\r\n                                    <ScrollArea className=\"h-[200px] rounded-lg border border-emerald-500/20 dark:border-emerald-400/30 bg-emerald-500/5 dark:bg-emerald-500/10\">\r\n                                      <pre className=\"p-3 text-xs font-mono whitespace-pre-wrap break-all text-foreground\">\r\n                                        {formatJsonData(log.new_data)}\r\n                                      </pre>\r\n                                    </ScrollArea>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      )}\r\n                    </>\r\n                  );\r\n                })}\r\n              </TableBody>\r\n            </Table>\r\n          </ScrollArea>\r\n        </Card>\r\n      ) : (\r\n        <Card className=\"border-none shadow-sm\">\r\n          <CardContent className=\"py-16 text-center\">\r\n            <div className=\"flex flex-col items-center gap-3\">\r\n              <div className=\"p-4 rounded-full bg-muted\">\r\n                <FileText className=\"h-8 w-8 text-muted-foreground\" />\r\n              </div>\r\n              <p className=\"text-muted-foreground\">{t(\"admin.noLogs\")}</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Pagination */}\r\n      {totalPages > 1 && (\r\n        <Pagination>\r\n          <PaginationContent>\r\n            <PaginationItem>\r\n              <PaginationPrevious \r\n                onClick={() => canGoPrevious && goToPage(currentPage - 1)}\r\n                className={!canGoPrevious ? \"pointer-events-none opacity-50\" : \"cursor-pointer\"}\r\n              />\r\n            </PaginationItem>\r\n            {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\r\n              let pageNum;\r\n              if (totalPages <= 5) {\r\n                pageNum = i + 1;\r\n              } else if (currentPage <= 3) {\r\n                pageNum = i + 1;\r\n              } else if (currentPage >= totalPages - 2) {\r\n                pageNum = totalPages - 4 + i;\r\n              } else {\r\n                pageNum = currentPage - 2 + i;\r\n              }\r\n              return (\r\n                <PaginationItem key={pageNum}>\r\n                  <PaginationLink\r\n                    onClick={() => goToPage(pageNum)}\r\n                    isActive={currentPage === pageNum}\r\n                    className=\"cursor-pointer\"\r\n                  >\r\n                    {pageNum}\r\n                  </PaginationLink>\r\n                </PaginationItem>\r\n              );\r\n            })}\r\n            <PaginationItem>\r\n              <PaginationNext \r\n                onClick={() => canGoNext && goToPage(currentPage + 1)}\r\n                className={!canGoNext ? \"pointer-events-none opacity-50\" : \"cursor-pointer\"}\r\n              />\r\n            </PaginationItem>\r\n          </PaginationContent>\r\n        </Pagination>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLogs;\r\n"],"names":["AdminLogs","t","useTranslation","logs","isLoading","useOperationLogs","expandedLogs","setExpandedLogs","useState","searchTerm","setSearchTerm","actionFilter","setActionFilter","tableFilter","setTableFilter","tableNames","useMemo","log","filteredLogs","matchesSearch","matchesAction","matchesTable","currentPage","totalPages","paginatedData","goToPage","canGoNext","canGoPrevious","startIndex","endIndex","totalItems","usePagination","toggleLog","logId","prev","newSet","getActionBadge","action","formatJsonData","data","jsxs","jsx","FileText","Card","CardContent","Database","l","Search","Input","e","Select","SelectTrigger","Filter","SelectValue","SelectContent","SelectItem","name","ScrollArea","Table","TableHeader","TableRow","TableHead","User","Clock","TableBody","isExpanded","hasData","actionConfig","Fragment","TableCell","Button","ChevronDown","ChevronRight","Badge","format","Pagination","PaginationContent","PaginationItem","PaginationPrevious","_","i","pageNum","PaginationLink","PaginationNext"],"mappings":"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"}