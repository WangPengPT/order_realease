import{r as t,j as e}from"./vendor-react-core-BErlw7p5.js";import{u as je,l as pe,C as x,h as g,p as j,a2 as p,j as f,R as i,B as d,I as r,a1 as C}from"./index-kEIDKiMZ.js";import{S as X}from"./slider-BPimTjM9.js";import{u as fe}from"./vendor-i18n-CqcxoxDo.js";import{a as ve}from"./vendor-router-CLK0c9aH.js";import{o as u,z as Y,ai as ee,n as Ne,P as S,M as ye}from"./vendor-icons-C2Bicc1E.js";import"./vendor-editor-BdQcs4B3.js";import"./vendor-misc-DH4LiFnZ.js";import"./vendor-date-fYlqblcl.js";import"./vendor-ui-other-CPTlx-W2.js";import"./vendor-query-BS0wY7WL.js";import"./vendor-supabase-Clrw0GhO.js";import"./vendor-ui-dialog-Sv_VEL0d.js";import"./vendor-ui-dropdown-DwTcg2UT.js";const He=()=>{const{t:a}=fe(),v=ve(),{settings:n,isLoading:b,updateSettings:c,uploadLogo:P}=je(),[I,k]=t.useState(!1),[E,M]=t.useState(!1),R=t.useRef(null),T=t.useRef(null),N=t.useRef(null),y=t.useRef(null),[m,_]=t.useState(35),[h,w]=t.useState(35),[L,A]=t.useState(""),[H,F]=t.useState(""),[J,U]=t.useState(""),[V,W]=t.useState(""),[B,D]=t.useState(""),[z,O]=t.useState(""),[Z,q]=t.useState(""),[$,G]=t.useState(""),[K,Q]=t.useState("");t.useEffect(()=>{n&&(_(n.logo_width||35),w(n.logo_height||35),A(n.join_contact_phone||"968815050"),F(n.join_success_title_zh||"信息已提交成功！"),U(n.join_success_title_en||"Request Submitted!"),W(n.join_success_title_pt||"Informação Enviada com Sucesso!"),D(n.join_success_message_zh||"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。"),O(n.join_success_message_en||"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours."),q(n.join_success_message_pt||"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis."),G(n.contact_phone||""),Q(n.contact_email||""))},[n]),t.useEffect(()=>{v.hash==="#join-us"&&N.current?setTimeout(()=>{N.current?.scrollIntoView({behavior:"smooth",block:"start"})},100):v.hash==="#contact-info"&&y.current&&setTimeout(()=>{y.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)},[v.hash,b]);const se=async s=>{const l=s.target.files?.[0];if(l){k(!0);try{const o=await P(l);o&&await c.mutateAsync({logo_url:o})}finally{k(!1)}}},ae=async s=>{const l=s.target.files?.[0];if(l){M(!0);try{const o=await P(l);o&&await c.mutateAsync({favicon_url:o})}finally{M(!1)}}},te=s=>{_(s[0])},ne=s=>{w(s[0])},ie=async s=>{await c.mutateAsync({logo_width:s[0]})},ce=async s=>{await c.mutateAsync({logo_height:s[0]})},le=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);_(o)},oe=async()=>{await c.mutateAsync({logo_width:m})},re=s=>{const l=parseInt(s.target.value)||20,o=Math.min(Math.max(l,20),100);w(o)},de=async()=>{await c.mutateAsync({logo_height:h})},me=async()=>{await c.mutateAsync({logo_url:null})},he=async()=>{await c.mutateAsync({favicon_url:null})},ue=async()=>{await c.mutateAsync({join_contact_phone:L,join_success_title_zh:H,join_success_title_en:J,join_success_title_pt:V,join_success_message_zh:B,join_success_message_en:z,join_success_message_pt:Z})},xe=async()=>{await c.mutateAsync({contact_phone:$,contact_email:K})};if(b)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(u,{className:"h-8 w-8 animate-spin text-primary"})});const ge=n?.logo_url||pe;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:a("admin.siteSettings")}),e.jsx("p",{className:"text-muted-foreground",children:a("admin.siteSettingsDescription")})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),a("admin.logoSettings")]}),e.jsx(p,{children:a("admin.logoSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(i,{className:"text-sm text-muted-foreground",children:a("admin.logoPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:ge,alt:"Logo Preview",style:{width:`${m}px`,height:`${h}px`},className:"object-contain"})}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m,"px × ",h,"px"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:a("admin.uploadLogo")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:se,className:"hidden"}),e.jsxs(d,{variant:"outline",onClick:()=>R.current?.click(),disabled:I,className:"flex-1",children:[I?e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ee,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),n?.logo_url&&e.jsx(d,{variant:"destructive",onClick:me,disabled:c.isPending,children:a("common.remove")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{children:a("admin.logoWidth")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{type:"number",value:m,onChange:le,onBlur:oe,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(X,{value:[m],onValueChange:te,onValueCommit:ie,min:20,max:100,step:1})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(i,{children:a("admin.logoHeight")}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{type:"number",value:h,onChange:re,onBlur:de,min:20,max:100,className:"w-16 h-8 text-center text-sm"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"px"})]})]}),e.jsx(X,{value:[h],onValueChange:ne,onValueCommit:ce,min:20,max:100,step:1})]})]})]}),e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),a("admin.faviconSettings")]}),e.jsx(p,{children:a("admin.faviconSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4 p-6 border rounded-lg bg-muted/50",children:[e.jsx(i,{className:"text-sm text-muted-foreground",children:a("admin.faviconPreview")}),e.jsx("div",{className:"bg-background p-4 rounded-lg shadow-sm border",children:e.jsx("img",{src:n?.favicon_url||"/favicon.png",alt:"Favicon Preview",className:"w-8 h-8 object-contain"})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"32px × 32px"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:a("admin.uploadFavicon")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:T,type:"file",accept:"image/*",onChange:ae,className:"hidden"}),e.jsxs(d,{variant:"outline",onClick:()=>T.current?.click(),disabled:E,className:"flex-1",children:[E?e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ee,{className:"h-4 w-4 mr-2"}),a("admin.selectImage")]}),n?.favicon_url&&e.jsx(d,{variant:"destructive",onClick:he,disabled:c.isPending,children:a("common.remove")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("admin.faviconHint")})]})]})]})]}),e.jsxs(x,{ref:N,id:"join-us",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),a("admin.joinUsSettings")]}),e.jsx(p,{children:a("admin.joinUsSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),a("admin.joinContactPhone")]}),e.jsx(r,{value:L,onChange:s=>A(s.target.value),placeholder:"968815050"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{children:a("admin.joinSuccessTitle")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(r,{value:H,onChange:s=>F(s.target.value),placeholder:"信息已提交成功！"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(r,{value:J,onChange:s=>U(s.target.value),placeholder:"Request Submitted!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(r,{value:V,onChange:s=>W(s.target.value),placeholder:"Informação Enviada com Sucesso!"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(i,{children:a("admin.joinSuccessMessage")}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"中文"}),e.jsx(C,{value:B,onChange:s=>D(s.target.value),placeholder:"感谢您的信任！我们的专属顾问将在24小时工作日内通过电话与您联系。",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"English"}),e.jsx(C,{value:z,onChange:s=>O(s.target.value),placeholder:"Thank you for your trust! Our dedicated consultant will contact you by phone within 24 business hours.",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{className:"text-xs text-muted-foreground",children:"Português"}),e.jsx(C,{value:Z,onChange:s=>q(s.target.value),placeholder:"Obrigado pela sua confiança! Nosso consultor dedicado entrará em contato por telefone dentro de 24 horas úteis.",rows:2})]})]})]}),e.jsxs(d,{onClick:ue,disabled:c.isPending,className:"w-full md:w-auto",children:[c.isPending&&e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]}),e.jsxs(x,{ref:y,id:"contact-info",children:[e.jsxs(g,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),a("admin.contactSettings")]}),e.jsx(p,{children:a("admin.contactSettingsDescription")})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),a("admin.contactPhone")]}),e.jsx(r,{value:$,onChange:s=>G(s.target.value),placeholder:"+351 968 815 050"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4"}),a("admin.contactEmail")]}),e.jsx(r,{type:"email",value:K,onChange:s=>Q(s.target.value),placeholder:"comercial@xiaoxiong.pt"})]})]}),e.jsxs(d,{onClick:xe,disabled:c.isPending,className:"w-full md:w-auto",children:[c.isPending&&e.jsx(u,{className:"h-4 w-4 mr-2 animate-spin"}),a("common.save")]})]})]})]})})};export{He as default};
//# sourceMappingURL=AdminSiteSettings-B373Bvr1.js.map
