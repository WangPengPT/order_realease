import{s as k}from"./index-CvFlJEb_.js";import{s as x}from"./index-DjlUnGdd.js";import{b as S}from"./index-DYNmNny4.js";import{q as B,aD as T,h as f,s as E,i as V,c as u,a,d as m,w as i,e as F,F as v,E as j,n as I,j as J,o as d,C as O,l as P,t as _,p as R}from"./index-o69WxluX.js";import"./index-BTfBiVkT.js";import"./index-B5o_wBIN.js";import"./index-78Aa1u3w.js";import"./index-DjgY_FDZ.js";const $={class:"fixed top-0 right-0 left-0 h-full w-full"},q={class:"flex justify-content-between"},A={class:"flex flex-column"},Z={__name:"EditCustomDish",setup(L){const D=J(),{t:p}=B(),y=T().params.dishId,t=f(void 0),w=E(()=>{var e;return((e=t.value)==null?void 0:e.name)||""}),g=f([{label:p("common.delete"),icon:"pi pi-times"}]);function b(){D.push(R.mainPath.editableCustomeDish.path)}function C(){console.log("save datas: ",selectedSellType.value)}function N(e=5e3,s=100){return new Promise((n,r)=>{const c=Date.now(),l=()=>{const o=I.customDishApi.customDishes.value;o&&o.length>0?n(o):Date.now()-c>e?r(new Error("customDishes 超时未加载")):setTimeout(l,s)};l()})}return V(async()=>{try{const s=(await N()).find(n=>String(n.id)===y);s&&(t.value=JSON.parse(JSON.stringify(s)),console.log("customDish.value dish:",t.value),selectedSellType.value=t.value.sellType)}catch(e){console.error(e)}}),(e,s)=>{var l,o,h;const n=S,r=x,c=k;return d(),u(v,null,[a("div",$,[m(c,null,{start:i(()=>[m(n,{icon:"pi pi-arrow-left",onClick:b})]),center:i(()=>[a("span",null,_(w.value),1)]),end:i(()=>[a("div",q,[m(r,{label:P(p)("topBar.save"),model:g.value,onClick:C},null,8,["label","model"])])]),default:i(()=>[s[0]||(s[0]=O(" 2 ",-1))]),_:1,__:[0]})]),a("div",null,[((l=t.value)==null?void 0:l.value)!==void 0?(d(!0),u(v,{key:0},j((h=(o=t.value)==null?void 0:o.value)==null?void 0:h.types,z=>(d(),u("div",null,[a("div",A,[a("span",null,_(e.typeName),1)])]))),256)):F("",!0)])],64)}}};export{Z as default};
