import{g as le,p as te,u as N,r as c,P as ue,t as T,Q as oe,R as se,f as o,m as W,h as k,n as z,i as q,F as J,o as ne,L as R,J as ie,E as d,H as y,I as L,M as re,D as h,N as S,O as C}from"./index-UMjGVMiU.js";import{u as de,c as E,f as me,m as ve,V as D,a as m,b as ce}from"./VTextField-DH4vsLrH.js";import{b as O,m as fe,V as Ve,a as ke}from"./VDialog-rI4KEimM.js";import{v as ye,a as pe,s as ge,w as we,x as be,L as he,y as Se,V as H}from"./scopeId-DOqiFFyj.js";import{V as Ce}from"./VForm-C1-h4WEz.js";import"./VList-DyWM5fp9.js";const _e=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ve(),...fe()},"VSwitch"),xe=le()({name:"VSwitch",inheritAttrs:!1,props:_e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,v){let{attrs:f,slots:n}=v;const i=N(t,"indeterminate"),s=N(t,"modelValue"),{loaderClasses:u}=ye(t),{isFocused:_,focus:x,blur:P}=de(t),l=c(),e=c(),a=ue&&window.matchMedia("(forced-colors: active)").matches,p=T(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),I=oe(),Q=T(()=>t.id||`switch-${I}`);function Y(){i.value&&(i.value=!1)}function $(g){var w,b;g.stopPropagation(),g.preventDefault(),(b=(w=l.value)==null?void 0:w.input)==null||b.click()}return pe(()=>{const[g,w]=se(f),b=E.filterProps(t),j=O.filterProps(t);return o(E,W({ref:e,class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":i.value},u.value,t.class]},g,b,{modelValue:s.value,"onUpdate:modelValue":U=>s.value=U,id:Q.value,focused:_.value,style:t.style}),{...n,default:U=>{let{id:G,messagesId:K,isDisabled:X,isReadonly:Z,isValid:M}=U;const B={model:s,isValid:M};return o(O,W({ref:l},j,{modelValue:s.value,"onUpdate:modelValue":[V=>s.value=V,Y],id:G.value,"aria-describedby":K.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:X.value,readonly:Z.value,onFocus:x,onBlur:P},w),{...n,default:V=>{let{backgroundColorClasses:A,backgroundColorStyles:r}=V;return k("div",{class:q(["v-switch__track",a?void 0:A.value]),style:z(r.value),onClick:$},[n["track-true"]&&k("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](B)]),n["track-false"]&&k("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](B)])])},input:V=>{let{inputNode:A,icon:r,backgroundColorClasses:ee,backgroundColorStyles:ae}=V;return k(J,null,[A,k("div",{class:q(["v-switch__thumb",{"v-switch__thumb--filled":r||t.loading},t.inset||a?void 0:ee.value]),style:z(t.inset?void 0:ae.value)},[n.thumb?o(ge,{defaults:{VIcon:{icon:r,size:"x-small"}}},{default:()=>[n.thumb({...B,icon:r})]}):o(we,null,{default:()=>[t.loading?o(he,{name:"v-switch",active:!0,color:M.value===!1?void 0:p.value},{default:F=>n.loader?n.loader(F):o(Se,{active:F.isActive,color:F.color,indeterminate:!0,size:"16",width:"2"},null)}):r&&o(be,{key:String(r),icon:r,size:"x-small"},null)]})])])}})}})}),me({},e)}}),Re={__name:"server_manager",setup(t){const v=c(!1),f=c(""),n=[{align:"start",key:"id",sortable:!1,title:"id"},{key:"qr_addr",titel:"qr_addr"},{key:"takeaway_key",titel:"takeaway_key"},{key:"url",title:"server url"},{key:"shopify_name",title:"shopify name"}],i=c([{id:"Frozen Yogurt",url:"https://test.123",shopify_name:""},{id:"222",url:"https://test.222",shopify_name:""}]);ne(()=>{R.getAllSever(l=>{console.log("serverAPI.getAllSever",l),l.result&&(console.log("ret: ",l.datas),i.value=l.datas)})});let s=c(!1);const u=c({});function _(l,e){s.value=!1,v.value=!0,u.value={...e.item}}function x(){v.value=!1;let l=u.value;if(s.value)l.url&&(l.url=l.url.trim()),l.url==""&&(l.url=void 0),l.takeWay||(l.takeWay=!1),R.addServer(l,e=>{e.result==!0&&i.value.push(e.data)});else{const e=i.value.findIndex(a=>a.id===l.id);if(e!==-1){let a=i.value[e],p=!1;for(const I in l)if(l[I]!=a[e]){p=!0;break}l.takeWay||(l.takeWay=!1),p&&(R.setServer(l),i.value.splice(e,1,u.value))}}}function P(){v.value=!0,u.value={id:"",url:""},s.value=!0}return(l,e)=>(y(),ie(J,null,[o(D,{title:"Server Manager",flat:""},{text:d(()=>[o(m,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=a=>f.value=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),o(H,{class:"ma-2",onClick:P,color:"indigo-darken-3"},{default:d(()=>e[10]||(e[10]=[L("new server")])),_:1,__:[10]})]),default:d(()=>[o(ke,{headers:n,items:i.value,search:f.value,"onClick:row":_},null,8,["items","search"])]),_:1}),o(Ve,{modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=a=>v.value=a),width:"500"},{default:d(()=>[o(D,{title:"edit user"},{default:d(()=>[o(ce),o(Ce,{"fast-fail":"",onSubmit:re(x,["prevent"])},{default:d(()=>[C(s)?(y(),h(m,{key:0,class:"ma-3",modelValue:u.value.id,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value.id=a),variant:"outlined",label:"name"},null,8,["modelValue"])):S("",!0),C(s)?S("",!0):(y(),h(m,{key:1,class:"ma-3",modelValue:u.value.id,"onUpdate:modelValue":e[2]||(e[2]=a=>u.value.id=a),variant:"outlined",label:"name",readonly:""},null,8,["modelValue"])),C(s)?(y(),h(m,{key:2,class:"ma-3",modelValue:u.value.url,"onUpdate:modelValue":e[3]||(e[3]=a=>u.value.url=a),variant:"outlined",label:"url"},null,8,["modelValue"])):S("",!0),C(s)?S("",!0):(y(),h(m,{key:3,class:"ma-3",modelValue:u.value.url,"onUpdate:modelValue":e[4]||(e[4]=a=>u.value.url=a),variant:"outlined",label:"url"},null,8,["modelValue"])),o(m,{class:"ma-3",modelValue:u.value.qr_addr,"onUpdate:modelValue":e[5]||(e[5]=a=>u.value.qr_addr=a),variant:"outlined",label:"qr_addr"},null,8,["modelValue"]),o(m,{class:"ma-3",modelValue:u.value.takeaway_key,"onUpdate:modelValue":e[6]||(e[6]=a=>u.value.takeaway_key=a),variant:"outlined",label:"takeaway_key"},null,8,["modelValue"]),o(m,{class:"ma-3",modelValue:u.value.shopify_name,"onUpdate:modelValue":e[7]||(e[7]=a=>u.value.shopify_name=a),variant:"outlined",label:"shopify_name"},null,8,["modelValue"]),o(xe,{modelValue:u.value.takeWay,"onUpdate:modelValue":e[8]||(e[8]=a=>u.value.takeWay=a),label:"Take way",color:"primary","hide-details":"",inset:""},null,8,["modelValue"]),o(D,{class:"text-center"},{default:d(()=>[o(H,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:d(()=>e[11]||(e[11]=[L("Submit")])),_:1,__:[11]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Re as default};
