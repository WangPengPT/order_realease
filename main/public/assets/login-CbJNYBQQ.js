import{g as O,p as _,u as j,q as X,r as S,s as I,Z as ee,d as ae,e as te,w as $,o as oe,aC as ne,c as R,f as t,m as y,U as M,A as se,k as le,x as re,h as b,Q as ie,t as N,_ as ue,D as de,E as l,L as ce,aD as me,H as fe,I as C,aE as ve,S as Ve}from"./index-DVFL-tUX.js";import{V as be,a as pe}from"./VApp-BdIBpUdj.js";import{b as ge,d as ke,V as we}from"./VMain-BITkmG0o.js";import{V as ye}from"./VRow-cPxJR682.js";import{V as Pe}from"./VCol-CnL0iwoJ.js";import{j as L,f as q,q as F,V as he,b as Te,a as U,e as Ce}from"./VTextField-DivJZr3_.js";import{V as Se,b as Re}from"./VToolbar-BrAWgNWM.js";import{V as E}from"./VSpacer-DlJbCv1n.js";import{J as Le,j as H,W as Ae,h as Be,a as Y,P as Ie,n as xe,K as De,N as $e,Y as Ne,a2 as Ue,s as Ee,V as B,x as Oe,z as _e}from"./scopeId-BsoYstxX.js";import{V as je}from"./VForm-ByycU28T.js";function Me(e){const a=I(e());let o=-1;function n(){clearInterval(o)}function m(){n(),re(()=>a.value=e())}function i(s){const f=s?getComputedStyle(s):{transitionDuration:.2},v=parseFloat(f.transitionDuration)*1e3||200;if(n(),a.value<=0)return;const p=performance.now();o=window.setInterval(()=>{const g=performance.now()-p+v;a.value=Math.max(e()-g,0),a.value<=0&&n()},v)}return le(n),{clear:n,time:a,start:i,reset:m}}const qe=_({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...$e({location:"bottom"}),...De(),...xe(),...Ie(),...se(),...M(F({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Fe=O()({name:"VSnackbar",props:qe(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:o}=a;const n=j(e,"modelValue"),{positionClasses:m}=Le(e),{scopeId:i}=H(),{themeClasses:s}=X(e),{colorClasses:f,colorStyles:v,variantClasses:p}=Ae(e),{roundedClasses:g}=Be(e),V=Me(()=>Number(e.timeout)),P=S(),u=S(),d=I(!1),c=I(0),k=S(),W=ee(ke,void 0);ae(()=>!!W,()=>{const r=ge();te(()=>{k.value=r.mainStyles.value})}),$(n,h),$(()=>e.timeout,h),oe(()=>{n.value&&h()});let A=-1;function h(){V.reset(),window.clearTimeout(A);const r=Number(e.timeout);if(!n.value||r===-1)return;const w=ne(u.value);V.start(w),A=window.setTimeout(()=>{n.value=!1},r)}function z(){V.reset(),window.clearTimeout(A)}function G(){d.value=!0,z()}function x(){d.value=!1,h()}function K(r){c.value=r.touches[0].clientY}function J(r){Math.abs(c.value-r.changedTouches[0].clientY)>50&&(n.value=!1)}function Q(){d.value&&x()}const Z=R(()=>e.location.split(" ").reduce((r,w)=>(r[`v-snackbar--${w}`]=!0,r),{}));return Y(()=>{const r=L.filterProps(e),w=!!(o.default||o.text||e.text);return t(L,y({ref:P,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},Z.value,m.value,e.class],style:[k.value,e.style]},r,{modelValue:n.value,"onUpdate:modelValue":T=>n.value=T,contentProps:y({class:["v-snackbar__wrapper",s.value,f.value,g.value,p.value],style:[v.value],onPointerenter:G,onPointerleave:x},r.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:K,onTouchend:J,onAfterLeave:Q},i),{default:()=>{var T,D;return[Ne(!1,"v-snackbar"),e.timer&&!d.value&&b("div",{key:"timer",class:"v-snackbar__timer"},[t(Ue,{ref:u,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:V.time.value},null)]),w&&b("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((T=o.text)==null?void 0:T.call(o))??e.text,(D=o.default)==null?void 0:D.call(o)]),o.actions&&t(Ee,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[b("div",{class:"v-snackbar__actions"},[o.actions({isActive:n})])]})]},activator:o.activator})}),q({},P)}}),He=_({id:String,interactive:Boolean,text:String,...M(F({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Ye=O()({name:"VTooltip",props:He(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:o}=a;const n=j(e,"modelValue"),{scopeId:m}=H(),i=ie(),s=N(()=>e.id||`v-tooltip-${i}`),f=S(),v=R(()=>e.location.split(" ").length>1?e.location:e.location+" center"),p=R(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),g=N(()=>e.transition!=null?e.transition:n.value?"scale-transition":"fade-transition"),V=R(()=>y({"aria-describedby":s.value},e.activatorProps));return Y(()=>{const P=L.filterProps(e);return t(L,y({ref:f,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:s.value},P,{modelValue:n.value,"onUpdate:modelValue":u=>n.value=u,transition:g.value,absolute:!0,location:v.value,origin:p.value,persistent:!0,role:"tooltip",activatorProps:V.value,_disableGlobalStack:!0},m),{activator:o.activator,default:function(){var k;for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];return((k=o.default)==null?void 0:k.call(o,...d))??e.text}})}),q({},f)}}),We={name:"Login",data:()=>({valid:!0,loading:!1,id:"",idRules:[e=>!!e||"Id cannot be empty"],password:"",passwordRules:[e=>!!e||"Password cannot be empty",e=>e&&e.length>=6||"Password length cannot be less than 6 characters"],showPassword:!1,remember:!1,snackbar:!1,snackbarText:"",snackbarColor:"error"}),methods:{submit(){this.$refs.form.validate()&&(this.loading=!0,ce.login(this.id,this.password,e=>{this.loading=!1,e?me.push("/"):this.showError("Wrong id or password")}))},showError(e){this.snackbarText=e,this.snackbarColor="error",this.snackbar=!0}}},ze={class:"d-flex justify-space-between align-center"};function Ge(e,a,o,n,m,i){return fe(),de(be,null,{default:l(()=>[t(we,null,{default:l(()=>[t(pe,{class:"fill-height",fluid:""},{default:l(()=>[t(ye,{align:"center",justify:"center"},{default:l(()=>[t(Pe,{cols:"12",sm:"8",md:"6",lg:"4"},{default:l(()=>[t(he,{class:"elevation-12"},{default:l(()=>[t(Se,{color:"primary",dark:"",flat:""},{default:l(()=>[t(Re,null,{default:l(()=>a[6]||(a[6]=[C("login")])),_:1,__:[6]}),t(E),t(Ye,{bottom:""},{activator:l(({on:s})=>[t(B,y({icon:""},ve(s)),{default:l(()=>[t(Oe,null,{default:l(()=>a[7]||(a[7]=[C("mdi-help-circle")])),_:1,__:[7]})]),_:2},1040)]),default:l(()=>[a[8]||(a[8]=b("span",null,"help",-1))]),_:1,__:[8]})]),_:1}),t(Te,null,{default:l(()=>[t(je,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":a[3]||(a[3]=s=>e.valid=s),"lazy-validation":""},{default:l(()=>[t(U,{modelValue:e.id,"onUpdate:modelValue":a[0]||(a[0]=s=>e.id=s),rules:e.idRules,label:"id",name:"id","prepend-icon":"mdi-email",type:"email",required:""},null,8,["modelValue","rules"]),t(U,{modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=s=>e.password=s),rules:e.passwordRules,label:"password",name:"password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password","onClick:append":a[2]||(a[2]=s=>e.showPassword=!e.showPassword),required:""},null,8,["modelValue","rules","append-icon","type"])]),_:1},8,["modelValue"])]),_:1}),t(Ce,null,{default:l(()=>[t(E),t(B,{color:"primary",onClick:i.submit,loading:e.loading},{default:l(()=>a[9]||(a[9]=[C("login")])),_:1,__:[9]},8,["onClick","loading"])]),_:1}),t(_e)]),_:1}),t(Fe,{modelValue:e.snackbar,"onUpdate:modelValue":a[5]||(a[5]=s=>e.snackbar=s),color:e.snackbarColor,top:""},{default:l(()=>[b("div",ze,[b("span",null,Ve(e.snackbarText),1),t(B,{text:"",onClick:a[4]||(a[4]=s=>e.snackbar=!1),class:"ml-auto"},{default:l(()=>a[10]||(a[10]=[C("close")])),_:1,__:[10]})])]),_:1},8,["modelValue","color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const sa=ue(We,[["render",Ge],["__scopeId","data-v-a0a712fb"]]);export{sa as default};
