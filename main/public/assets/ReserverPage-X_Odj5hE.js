import{a as z}from"./index-BJWZOonI.js";import{s as O,a as q}from"./index-FLWNGuie.js";import{s as E,a as G}from"./index-DpU21Pn8.js";import{s as U}from"./index-Bh7az4oB.js";import{q as A,x as H,n as N,h as y,s as K,c,a as e,b as d,w as u,l as a,F as L,r as J,o as i,z as D,t as s,C as P,e as v,f as j,G as Q}from"./index-B4m_7Y0U.js";import{s as W}from"./index-BEtl-END.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Dj29UPWe.js";import"./index-BoqHXuJm.js";import"./index-vm8EaUnC.js";import"./index-TGSflx2e.js";import"./index-Ba6H6xAh.js";import"./index-R_lhfoFZ.js";import"./index-BjjIQ-yX.js";const Y={class:"card h-full",style:{display:"flex","flex-direction":"column"}},Z={class:"flex flex-wrap gap-2 justify-content-between align-items-center"},ee={class:"flex flex-column"},te={class:"m-0 font-bold text-2xl text-left flex-grow-1"},se={class:"flex flex-row gap-2 align-items-center"},le={class:"font-bold"},ae={class:"font-bold text-green-800"},re={class:"font-bold text-blue-800"},oe={class:"font-bold text-red-800"},ne={key:0},ie={key:1},de={class:"text-center py-5"},ce={class:"mt-3 text-gray-500"},ue={class:"flex flex-row gap-2 align-items-center"},ve={class:"flex flex-column"},ge={class:"text-lg font-bold"},pe={class:"text-sm text-gray-600"},me={key:0,class:"flex justify-content-center align-items-center w-full bg-red-100 mb-2 border-round-xl p-1"},fe={class:"flex flex-column gap-2 overflow-auto"},_e={class:"border-gray-300 border-1 border-round-lg p-3 flex flex-column gap-2"},xe={class:"flex flex-row justify-content-between align-items-center"},be={class:"text-sm text-gray-500"},ye={class:"flex flex-row align-items-center gap-2"},he={key:0,class:"text-gray-500"},Pe={class:"font-bold"},we={class:"flex flex-row align-items-center gap-2"},ke={key:0,class:"text-gray-500"},Ce={class:"font-bold"},Ne={class:"flex flex-row align-items-center gap-2"},De={key:0,class:"text-gray-500"},je={class:"font-bold"},Re={key:0,class:"flex flex-row align-items-center gap-2"},Ie={key:0,class:"text-gray-500"},Me={class:""},Be={class:"flex flex-row align-items-center gap-2"},Fe={key:0,class:"text-gray-500"},Se={class:""},Te={class:"flex flex-row align-items-center gap-2"},Ve={key:0,class:"text-gray-500"},$e={class:""},ze={key:1,class:"flex flex-row align-items-center gap-2"},Oe={key:0,class:"text-gray-500"},qe={class:"text-purple-300 font-bold"},Ee={class:"flex flex-row justify-content-end"},Ge={class:"text-xs text-gray-400"},Ue={__name:"ReserverPage",setup(Ae){const{t}=A(),R=H(),f=N.tableReserves,r=y(),_=y(!1),g=y(!1);function I(o){r.value=o.data,_.value=!0,console.log(r.value)}const h=y({global:{value:null,matchMode:Q.CONTAINS}}),w=K(()=>{const o=r.value.status;return o=="processing"?{label:t("reserverPage.processing")+"...",outlined:!0}:o=="voided"?{label:t("orderPage.voided"),outlined:!0}:{label:t("reserverPage.cancelReserve"),outlined:!1}});function M(){r.value.status=="processing"||r.value.status=="voided"||R.require({message:t("reserverPage.reserveCancellationMSG"),header:t("reserverPage.cancelReserve")+":"+r.value.name,rejectProps:{label:t("common.cancel"),severity:"secondary",outlined:!0},acceptProps:{label:t("common.confirm"),severity:"danger"},accept:()=>{N.cancelReserve({...r.value,status:"processing"},o=>{o.success?(r.value.status=o.data.status,_.value=!1):console.log("Cancellation Error:",o.data)})},reject:()=>{}})}function x(o){const l=f.value.filter(m=>m.financial_status==="voided"||m.status==="voided").length,b=f.value.filter(m=>m.status==="new"||m.status==="confirmed").length;switch(o){case"completed":return f.value.length-l-b;case"voided":return l;case"unCompleted":return b;default:return f.value.length}}const B=o=>({completed:"status-completed",confirmed:"status-confirmed",processing:"status-processing",new:"status-new",voided:"status-voided"})[o]||"",F=o=>({completed:t("orderPage.completed"),confirmed:t("orderPage.confirmed"),processing:t("reserverPage.processing"),new:t("orderPage.new"),voided:t("orderPage.voided")})[o]||o,S=o=>new Date(o).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return(o,l)=>{var C;const b=G,m=U,T=E,p=q,V=O,k=J("lable"),$=z;return i(),c(L,null,[e("div",Y,[d(V,{value:a(f),tableStyle:"min-width: 50rem",dataKey:"id",paginator:"",rows:10,rowsPerPageOptions:[10,20,50],stripedRows:"",scrollable:"",scrollHeight:"flex",filters:h.value,selectionMode:"single",onRowClick:I},{header:u(()=>[e("div",Z,[e("div",ee,[e("h4",te,s(a(t)("reserverPage.header")),1),e("div",se,[e("small",le,s(a(t)("reserverPage.reserveNumber.total"))+":"+s(x("all")),1),e("small",ae,s(a(t)("reserverPage.reserveNumber.success"))+":"+s(x("completed")),1),e("small",re,s(a(t)("reserverPage.reserveNumber.unfinished"))+":"+s(x("unCompleted")),1),e("small",oe,s(a(t)("reserverPage.reserveNumber.canceled"))+":"+s(x("voided")),1)])]),d(T,null,{default:u(()=>[d(b,null,{default:u(()=>l[3]||(l[3]=[e("i",{class:"pi pi-search"},null,-1)])),_:1,__:[3]}),d(m,{modelValue:h.value.global.value,"onUpdate:modelValue":l[0]||(l[0]=n=>h.value.global.value=n),placeholder:a(t)("orderPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:u(()=>[e("div",de,[l[4]||(l[4]=e("i",{class:"pi pi-search",style:{"font-size":"3rem",color:"#ccc"}},null,-1)),e("p",ce,s(a(t)("orderPage.notFound")),1)])]),default:u(()=>[d(p,{header:a(t)("orderPage.status")},{body:u(({data:n})=>[e("span",{class:D(["status-badge",B(n.status||"new")])},s(F(n.status||"new")),3)]),_:1},8,["header"]),d(p,{field:"name",header:"ID",sortable:""}),d(p,{field:"date",header:a(t)("reserverPage.dateTime"),sortable:""},{body:u(({data:n})=>[P(s(n.date+" "+n.time),1)]),_:1},8,["header"]),d(p,{field:"discount",header:a(t)("reserverPage.discount")},{body:u(({data:n})=>[n.discount?(i(),c("label",ne,s(n.discount)+"%",1)):(i(),c("label",ie))]),_:1},8,["header"]),d(p,{field:"customerName",header:a(t)("reserverPage.customerName")},null,8,["header"]),d(p,{field:"numberPeople",header:a(t)("reserverPage.numberPeople")},null,8,["header"]),d(p,{field:"phone",header:a(t)("reserverPage.phone")},null,8,["header"]),d(p,{field:"note",header:a(t)("reserverPage.note")},null,8,["header"])]),_:1},8,["value","filters"])]),d(a(W),{visible:_.value,"onUpdate:visible":l[2]||(l[2]=n=>_.value=n),header:a(t)("reserverPage.reserveDetails")+" (ID: "+((C=r.value)==null?void 0:C.name)+")",modal:!0,dismissableMask:!0,style:{width:"450px"}},{header:u(()=>{var n;return[e("div",ue,[l[5]||(l[5]=e("div",{class:"border-round-3xl bg-gray-200 flex justify-content-center align-items-center p-2"},[e("i",{class:"pi pi-calendar text-xl font-bold"})],-1)),e("div",ve,[e("label",ge,s(a(t)("reserverPage.reserveDetails")),1),e("label",pe,s(a(t)("reserverPage.reserveID"))+": "+s((n=r.value)==null?void 0:n.name),1)])])]}),footer:u(()=>[d($,{label:w.value.label,outlined:w.value.outlined,class:"w-full p-2 border-round-xl",onClick:M},null,8,["label","outlined"])]),default:u(()=>{var n;return[r.value.status=="voided"?(i(),c("div",me,[r.value.financial_status=="voided"?(i(),j(k,{key:0,class:"font-bold text-red-500"},{default:u(()=>[P(s(a(t)("reserverPage.cancelForClient")),1)]),_:1})):r.value.status=="voided"?(i(),j(k,{key:1,class:"font-bold text-red-500"},{default:u(()=>[P(s(a(t)("reserverPage.cancelForRestaurant")),1)]),_:1})):v("",!0)])):v("",!0),e("div",fe,[e("div",_e,[e("div",xe,[e("label",be,s(a(t)("reserverPage.customerDetails")),1),e("i",{class:D([g.value?"pi pi-eye-slash":"pi pi-eye","text-gray-600"]),onClick:l[1]||(l[1]=He=>g.value=!g.value)},null,2)]),e("div",ye,[l[6]||(l[6]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-user text-gray-500"})],-1)),g.value?(i(),c("label",he,s(a(t)("reserverPage.customerName"))+" :",1)):v("",!0),e("label",Pe,s(r.value.customerName),1)]),e("div",we,[l[7]||(l[7]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-calendar text-gray-500"})],-1)),g.value?(i(),c("label",ke,s(a(t)("reserverPage.dateTime"))+" :",1)):v("",!0),e("label",Ce,s(r.value.date+" "+r.value.time),1)]),e("div",Ne,[l[8]||(l[8]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-users text-gray-500"})],-1)),g.value?(i(),c("label",De,s(a(t)("reserverPage.numberPeople"))+" :",1)):v("",!0),e("label",je,s(r.value.numberPeople),1)]),r.value.discount?(i(),c("div",Re,[l[9]||(l[9]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-percentage text-gray-500"})],-1)),g.value?(i(),c("label",Ie,s(a(t)("reserverPage.discount"))+" :",1)):v("",!0),e("label",Me,s(r.value.discount?r.value.discount+"%":""),1)])):v("",!0),e("div",Be,[l[10]||(l[10]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-phone text-gray-500"})],-1)),g.value?(i(),c("label",Fe,s(a(t)("reserverPage.phone"))+" :",1)):v("",!0),e("label",Se,s(r.value.phone),1)]),e("div",Te,[l[11]||(l[11]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-envelope text-gray-500"})],-1)),g.value?(i(),c("label",Ve,s(a(t)("reserverPage.email"))+" :",1)):v("",!0),e("label",$e,s(r.value.email),1)]),(n=r.value)!=null&&n.note&&r.value.note!==""?(i(),c("div",ze,[l[12]||(l[12]=e("div",{class:"bg-gray-200 p-2 border-round-xl flex justify-content-center align-items-center"},[e("i",{class:"pi pi-comment text-gray-500"})],-1)),g.value?(i(),c("label",Oe,s(a(t)("reserverPage.notes"))+" :",1)):v("",!0),e("label",qe,s(r.value.note),1)])):v("",!0)])]),e("div",Ee,[e("label",Ge,s(a(t)("reserverPage.creationDate")+": "+(r.value.creationDate?S(r.value.creationDate):"")),1)])]}),_:1},8,["visible","header"])],64)}}},ot=X(Ue,[["__scopeId","data-v-14dfd76a"]]);export{ot as default};
