import{r as i,o as w,L as v,J as I,f as t,E as d,F as A,H as V,I as g,M,D as y,N as k,O as b}from"./index-jlh9wguj.js";import{V as p,a as o,b as N}from"./VTextField-cPMALfSi.js";import{V as E,a as T}from"./VDialog-Bo-nZPHO.js";import{V as C}from"./scopeId-C3vjaBmm.js";import{V as B}from"./VForm-Boe1S3xY.js";import"./VList-BjssYsKO.js";const O={__name:"map_manager",setup(D){const n=i(!1),r=i(""),R=[{align:"start",key:"name",sortable:!1,title:"Restaurant"},{key:"address",title:"Address"},{key:"city",title:"City"},{key:"postalCode",title:"Postal Code"},{key:"phone",title:"Contact"},{key:"latitude",title:"Latitude"},{key:"longitude",title:"Longitude"}],m=i([{name:"Mountain Grill",address:"789 Hill Road",city:"Sintra",postalCode:"2710-591",phone:"+351564738291",latitude:"38.8029",longitude:"-9.3817"}]);w(()=>{v.getAllRestaurants(u=>{console.log("serverAPI.getAllRestaurants",u),u.result&&(m.value=u.datas)})});let s=i(!1);const a=i({});function U(u,e){console.log(u,e),s.value=!1,n.value=!0,a.value={...e.item}}function c(){n.value=!1;let u=a.value;if(console.log("THIS IS WHEN SUBMIT PRESSED, :",u),s.value){v.addRestaurant(u),m.value.push(u);return}const e=users.value.findIndex(l=>l.id===u.id);if(e!==-1){let l=users.value[e],f=!1;for(const S in a.value)if(u[S]!=l[e]){f=!0;break}f&&(v.setUser(u),users.value.splice(e,1,a.value))}}function x(){n.value=!0,a.value={name:"",address:"",city:"",postalCode:"",phone:"",latitude:"",longitude:""},s.value=!0}return(u,e)=>(V(),I(A,null,[t(p,{title:"Map Manager",flat:""},{text:d(()=>[t(o,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=l=>r.value=l),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),t(C,{class:"ma-2",onClick:x,color:"indigo-darken-3"},{default:d(()=>e[10]||(e[10]=[g("Add Restaurant")])),_:1,__:[10]})]),default:d(()=>[t(T,{headers:R,items:m.value,search:r.value,"onClick:row":U},null,8,["items","search"])]),_:1}),t(E,{modelValue:n.value,"onUpdate:modelValue":e[9]||(e[9]=l=>n.value=l),width:"500"},{default:d(()=>[t(p,{title:"Edit Info"},{default:d(()=>[t(N),t(B,{"fast-fail":"",onSubmit:M(c,["prevent"])},{default:d(()=>[b(s)?(V(),y(o,{key:0,class:"ma-3",modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.name=l),variant:"outlined",label:"Restaurant Name"},null,8,["modelValue"])):k("",!0),b(s)?k("",!0):(V(),y(o,{key:1,class:"ma-3",modelValue:a.value.name,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.name=l),variant:"outlined",label:"Restaurant Name",readonly:""},null,8,["modelValue"])),t(o,{class:"ma-3",modelValue:a.value.address,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.address=l),variant:"outlined",label:"Address"},null,8,["modelValue"]),t(o,{class:"ma-3",modelValue:a.value.city,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.city=l),variant:"outlined",label:"City"},null,8,["modelValue"]),t(o,{class:"ma-3",modelValue:a.value.postalCode,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.postalCode=l),variant:"outlined",label:"Postal Code"},null,8,["modelValue"]),t(o,{class:"ma-3",modelValue:a.value.phone,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.phone=l),variant:"outlined",label:"Contact"},null,8,["modelValue"]),t(o,{class:"ma-3",modelValue:a.value.latitude,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.latitude=l),variant:"outlined",label:"Latitude"},null,8,["modelValue"]),t(o,{class:"ma-3",modelValue:a.value.longitude,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.longitude=l),variant:"outlined",label:"Longitude"},null,8,["modelValue"]),t(p,{class:"text-center"},{default:d(()=>[t(C,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:d(()=>e[11]||(e[11]=[g("Submit")])),_:1,__:[11]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{O as default};
