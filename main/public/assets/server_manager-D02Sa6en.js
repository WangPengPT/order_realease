import{g as le,p as te,u as N,r as c,P as se,t as T,Q as oe,R as ue,f as o,m as W,h as k,n as z,i as q,F as J,o as ne,L as R,J as ie,E as d,H as y,I as L,M as re,D as w,N as S,O as C}from"./index-BjZiAZU8.js";import{u as de,c as E,f as me,m as ve,V as D,a as v,b as ce}from"./VTextField-DB7Xq1dr.js";import{b as O,m as fe,V as Ve,a as ke}from"./VDialog-CdQ98Yl4.js";import{v as ye,a as pe,s as ge,w as be,x as he,L as we,y as Se,V as H}from"./scopeId-CARzoy4P.js";import{V as Ce}from"./VForm-DpwGvzux.js";import"./VList-BC1xmJVX.js";const _e=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ve(),...fe()},"VSwitch"),xe=le()({name:"VSwitch",inheritAttrs:!1,props:_e(),emits:{"update:focused":t=>!0,"update:modelValue":t=>!0,"update:indeterminate":t=>!0},setup(t,m){let{attrs:f,slots:n}=m;const i=N(t,"indeterminate"),u=N(t,"modelValue"),{loaderClasses:s}=ye(t),{isFocused:_,focus:x,blur:P}=de(t),a=c(),e=c(),l=se&&window.matchMedia("(forced-colors: active)").matches,p=T(()=>typeof t.loading=="string"&&t.loading!==""?t.loading:t.color),I=oe(),Q=T(()=>t.id||`switch-${I}`);function Y(){i.value&&(i.value=!1)}function $(g){var b,h;g.stopPropagation(),g.preventDefault(),(h=(b=a.value)==null?void 0:b.input)==null||h.click()}return pe(()=>{const[g,b]=ue(f),h=E.filterProps(t),j=O.filterProps(t);return o(E,W({ref:e,class:["v-switch",{"v-switch--flat":t.flat},{"v-switch--inset":t.inset},{"v-switch--indeterminate":i.value},s.value,t.class]},g,h,{modelValue:u.value,"onUpdate:modelValue":B=>u.value=B,id:Q.value,focused:_.value,style:t.style}),{...n,default:B=>{let{id:G,messagesId:K,isDisabled:X,isReadonly:Z,isValid:M}=B;const U={model:u,isValid:M};return o(O,W({ref:a},j,{modelValue:u.value,"onUpdate:modelValue":[V=>u.value=V,Y],id:G.value,"aria-describedby":K.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:X.value,readonly:Z.value,onFocus:x,onBlur:P},b),{...n,default:V=>{let{backgroundColorClasses:A,backgroundColorStyles:r}=V;return k("div",{class:q(["v-switch__track",l?void 0:A.value]),style:z(r.value),onClick:$},[n["track-true"]&&k("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](U)]),n["track-false"]&&k("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](U)])])},input:V=>{let{inputNode:A,icon:r,backgroundColorClasses:ee,backgroundColorStyles:ae}=V;return k(J,null,[A,k("div",{class:q(["v-switch__thumb",{"v-switch__thumb--filled":r||t.loading},t.inset||l?void 0:ee.value]),style:z(t.inset?void 0:ae.value)},[n.thumb?o(ge,{defaults:{VIcon:{icon:r,size:"x-small"}}},{default:()=>[n.thumb({...U,icon:r})]}):o(be,null,{default:()=>[t.loading?o(we,{name:"v-switch",active:!0,color:M.value===!1?void 0:p.value},{default:F=>n.loader?n.loader(F):o(Se,{active:F.isActive,color:F.color,indeterminate:!0,size:"16",width:"2"},null)}):r&&o(he,{key:String(r),icon:r,size:"x-small"},null)]})])])}})}})}),me({},e)}}),Re={__name:"server_manager",setup(t){const m=c(!1),f=c(""),n=[{align:"start",key:"id",sortable:!1,title:"id"},{key:"qr_addr",titel:"qr_addr"},{key:"url",title:"server url"},{key:"shopify_name",title:"shopify name"}],i=c([{id:"Frozen Yogurt",url:"https://test.123",shopify_name:""},{id:"222",url:"https://test.222",shopify_name:""}]);ne(()=>{R.getAllSever(a=>{console.log("serverAPI.getAllSever",a),a.result&&(console.log("ret: ",a.datas),i.value=a.datas)})});let u=c(!1);const s=c({});function _(a,e){u.value=!1,m.value=!0,s.value={...e.item}}function x(){m.value=!1;let a=s.value;if(u.value)a.url&&(a.url=a.url.trim()),a.url==""&&(a.url=void 0),a.takeWay||(a.takeWay=!1),R.addServer(a,e=>{e.result==!0&&i.value.push(e.data)});else{const e=i.value.findIndex(l=>l.id===a.id);if(e!==-1){let l=i.value[e],p=!1;for(const I in a)if(a[I]!=l[e]){p=!0;break}a.takeWay||(a.takeWay=!1),p&&(R.setServer(a),i.value.splice(e,1,s.value))}}}function P(){m.value=!0,s.value={id:"",url:""},u.value=!0}return(a,e)=>(y(),ie(J,null,[o(D,{title:"Server Manager",flat:""},{text:d(()=>[o(v,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),o(H,{class:"ma-2",onClick:P,color:"indigo-darken-3"},{default:d(()=>e[9]||(e[9]=[L("new server")])),_:1,__:[9]})]),default:d(()=>[o(ke,{headers:n,items:i.value,search:f.value,"onClick:row":_},null,8,["items","search"])]),_:1}),o(Ve,{modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=l=>m.value=l),width:"500"},{default:d(()=>[o(D,{title:"edit user"},{default:d(()=>[o(ce),o(Ce,{"fast-fail":"",onSubmit:re(x,["prevent"])},{default:d(()=>[C(u)?(y(),w(v,{key:0,class:"ma-3",modelValue:s.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value.id=l),variant:"outlined",label:"name"},null,8,["modelValue"])):S("",!0),C(u)?S("",!0):(y(),w(v,{key:1,class:"ma-3",modelValue:s.value.id,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value.id=l),variant:"outlined",label:"name",readonly:""},null,8,["modelValue"])),C(u)?(y(),w(v,{key:2,class:"ma-3",modelValue:s.value.url,"onUpdate:modelValue":e[3]||(e[3]=l=>s.value.url=l),variant:"outlined",label:"url"},null,8,["modelValue"])):S("",!0),C(u)?S("",!0):(y(),w(v,{key:3,class:"ma-3",modelValue:s.value.url,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value.url=l),variant:"outlined",label:"url"},null,8,["modelValue"])),o(v,{class:"ma-3",modelValue:s.value.qr_addr,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value.qr_addr=l),variant:"outlined",label:"qr_addr"},null,8,["modelValue"]),o(v,{class:"ma-3",modelValue:s.value.shopify_name,"onUpdate:modelValue":e[6]||(e[6]=l=>s.value.shopify_name=l),variant:"outlined",label:"shopify_name"},null,8,["modelValue"]),o(xe,{modelValue:s.value.takeWay,"onUpdate:modelValue":e[7]||(e[7]=l=>s.value.takeWay=l),label:"Take way",color:"primary","hide-details":"",inset:""},null,8,["modelValue"]),o(D,{class:"text-center"},{default:d(()=>[o(H,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:d(()=>e[10]||(e[10]=[L("Submit")])),_:1,__:[10]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Re as default};
