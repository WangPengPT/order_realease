import{_ as c,r as _,o as B,L as I,J as i,f as l,E as t,F as V,H as d,h as a,D as k,N as T,I as n,S as s,K as P}from"./index-p0zqH7t2.js";import{V as v,d as R,a as U,b as x,e as F}from"./VTextField-CZFxSL6Y.js";import{V as b,a as L,c as O,d as z}from"./VDialog-D1zwgEBi.js";import{V as m}from"./VRow-XgxTh3TW.js";import{V as o}from"./VCol-Dw0fXkRm.js";import{z as E,V as K}from"./scopeId-BeyffGEF.js";import{V as q}from"./VSpacer-DCqcGDut.js";import"./VList-DTTZ7Rr5.js";const H={key:0},J={key:1},M={__name:"order_manager",setup(Q){const g=_(!1),f=_(!1),y=_(""),r=_(null),w=[{key:"name",title:"id",sortable:!0},{key:"restaurant",title:"restaurant",sortable:!0},{key:"pickupDate",title:"date 取餐日期"},{key:"pickupTime",title:"time 取餐时间"},{key:"customer.name",title:"customer 客户"},{key:"total_price",title:"total_price 总价"},{key:"pay_state",title:"pay state 付款状态"},{key:"pay_type",title:"pay type 付款方式"}],C=_([]);B(()=>{I.getAllOrder(p=>{console.log("serverAPI.getAllSever",p),p.result&&(C.value=p.data)})});function N(p,{item:e}){r.value=e,f.value=!0}return(p,e)=>(d(),i(V,null,[l(v,{flat:""},{text:t(()=>[l(U,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=u=>y.value=u),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),default:t(()=>[l(v,{class:"ma-2"},{default:t(()=>[l(R,null,{default:t(()=>e[4]||(e[4]=[a("span",null,"Order List",-1)])),_:1,__:[4]}),l(L,{headers:w,items:C.value,search:y.value,hover:"","onClick:row":N},null,8,["items","search"])]),_:1})]),_:1}),l(b,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=u=>g.value=u),width:"500"},{default:t(()=>[l(v,{title:"edit user"},{default:t(()=>[l(x)]),_:1})]),_:1},8,["modelValue"]),l(b,{modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=u=>f.value=u),width:"600"},{default:t(()=>[l(v,{title:"Order Details"},{default:t(()=>[r.value?(d(),k(x,{key:0},{default:t(()=>[l(m,null,{default:t(()=>[l(o,{cols:"6"},{default:t(()=>[e[5]||(e[5]=a("strong",null,"ID:",-1)),n(" "+s(r.value.name),1)]),_:1,__:[5]}),l(o,{cols:"6"},{default:t(()=>[e[6]||(e[6]=a("strong",null,"Restaurant:",-1)),n(" "+s(r.value.restaurant),1)]),_:1,__:[6]})]),_:1}),l(m,null,{default:t(()=>[l(o,{cols:"6"},{default:t(()=>[e[7]||(e[7]=a("strong",null,"Pickup Date:",-1)),n(" "+s(r.value.pickupDate),1)]),_:1,__:[7]}),l(o,{cols:"6"},{default:t(()=>[e[8]||(e[8]=a("strong",null,"Pickup Time:",-1)),n(" "+s(r.value.pickupTime),1)]),_:1,__:[8]})]),_:1}),l(m,null,{default:t(()=>[l(o,{cols:"6"},{default:t(()=>{var u;return[e[9]||(e[9]=a("strong",null,"Customer:",-1)),n(" "+s((u=r.value.customer)==null?void 0:u.name),1)]}),_:1,__:[9]}),l(o,{cols:"6"},{default:t(()=>{var u;return[e[10]||(e[10]=a("strong",null,"Phone:",-1)),n(" "+s((u=r.value.customer)==null?void 0:u.phone),1)]}),_:1,__:[10]})]),_:1}),l(m,null,{default:t(()=>[l(o,{cols:"6"},{default:t(()=>{var u;return[e[11]||(e[11]=a("strong",null,"email:",-1)),n(" "+s((u=r.value.customer)==null?void 0:u.email),1)]}),_:1,__:[11]}),l(o,{cols:"6"},{default:t(()=>[e[12]||(e[12]=a("strong",null,"Total Price:",-1)),n(" "+s(r.value.total_price),1)]),_:1,__:[12]})]),_:1}),l(m,null,{default:t(()=>[l(o,{cols:"6"},{default:t(()=>[e[13]||(e[13]=a("strong",null,"Payment State:",-1)),n(" "+s(r.value.pay_state),1)]),_:1,__:[13]}),l(o,{cols:"6"},{default:t(()=>[e[14]||(e[14]=a("strong",null,"Payment Type:",-1)),n(" "+s(r.value.pay_type),1)]),_:1,__:[14]})]),_:1}),r.value.line_items&&r.value.line_items.length?(d(),k(m,{key:0},{default:t(()=>[l(o,{cols:"12"},{default:t(()=>[l(E,{class:"my-4"}),e[16]||(e[16]=a("h3",{class:"text-h6"},"Item Details",-1)),l(O,{density:"compact"},{default:t(()=>[e[15]||(e[15]=a("thead",null,[a("tr",null,[a("th",null,"SKU"),a("th",null,"Product Name"),a("th",null,"Quantity"),a("th",null,"Price"),a("th",null,"Properties")])],-1)),a("tbody",null,[(d(!0),i(V,null,P(r.value.line_items,(u,S)=>(d(),i("tr",{key:S},[a("td",null,s(u.sku),1),a("td",null,s(u.name),1),a("td",null,s(u.quantity),1),a("td",null,s(u.price),1),a("td",null,[u.properties&&u.properties.length?(d(),i("span",H,[(d(!0),i(V,null,P(u.properties,(D,A)=>(d(),k(z,{key:A,size:"small",class:"ma-1"},{default:t(()=>[n(s(D.name)+": "+s(D.value),1)]),_:2},1024))),128))])):(d(),i("span",J,"None"))])]))),128))])]),_:1,__:[15]})]),_:1,__:[16]})]),_:1})):T("",!0)]),_:1})):T("",!0),l(F,null,{default:t(()=>[l(q),l(K,{color:"primary",onClick:e[2]||(e[2]=u=>f.value=!1)},{default:t(()=>e[17]||(e[17]=[n("Close")])),_:1,__:[17]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ee=c(M,[["__scopeId","data-v-7adb31d4"]]);export{ee as default};
