import{g as ie,p as re,u as Y,r as p,P as de,t as H,Q as me,R as ve,f as t,m as J,h as u,n as Q,i as L,F as Z,o as ce,L as T,J as fe,E as n,H as w,S as k,M as X,I as E,D as P,N as B,O as R}from"./index-Bid_jSnd.js";import{u as Ve,c as $,f as pe,m as be,V as W,a as V,b as ye}from"./VTextField-bNby0a_9.js";import{b as j,m as ke,V as Ce,a as he}from"./VDialog-B4f-FeZ8.js";import{v as we,a as ge,s as De,w as Se,x as ee,L as Ue,y as xe,V as g}from"./scopeId-DyeaSrDo.js";import{V as Ae}from"./VForm-BMB5siiG.js";import{V as K,a as _}from"./VRow-BSSRLMyJ.js";import"./VList-DkvT1QUR.js";const Ie=re({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...be(),...ke()},"VSwitch"),d=ie()({name:"VSwitch",inheritAttrs:!1,props:Ie(),emits:{"update:focused":s=>!0,"update:modelValue":s=>!0,"update:indeterminate":s=>!0},setup(s,b){let{attrs:C,slots:i}=b;const r=Y(s,"indeterminate"),m=Y(s,"modelValue"),{loaderClasses:D}=we(s),{isFocused:v,focus:a,blur:M}=Ve(s),S=p(),O=p(),U=de&&window.matchMedia("(forced-colors: active)").matches,x=H(()=>typeof s.loading=="string"&&s.loading!==""?s.loading:s.color),o=me(),e=H(()=>s.id||`switch-${o}`);function l(){r.value&&(r.value=!1)}function c(y){var A,I;y.stopPropagation(),y.preventDefault(),(I=(A=S.value)==null?void 0:A.input)==null||I.click()}return ge(()=>{const[y,A]=ve(C),I=$.filterProps(s),le=j.filterProps(s);return t($,J({ref:O,class:["v-switch",{"v-switch--flat":s.flat},{"v-switch--inset":s.inset},{"v-switch--indeterminate":r.value},D.value,s.class]},y,I,{modelValue:m.value,"onUpdate:modelValue":N=>m.value=N,id:e.value,focused:v.value,style:s.style}),{...i,default:N=>{let{id:ae,messagesId:te,isDisabled:oe,isReadonly:se,isValid:G}=N;const F={model:m,isValid:G};return t(j,J({ref:S},le,{modelValue:m.value,"onUpdate:modelValue":[h=>m.value=h,l],id:ae.value,"aria-describedby":te.value,type:"checkbox","aria-checked":r.value?"mixed":void 0,disabled:oe.value,readonly:se.value,onFocus:a,onBlur:M},A),{...i,default:h=>{let{backgroundColorClasses:z,backgroundColorStyles:f}=h;return u("div",{class:L(["v-switch__track",U?void 0:z.value]),style:Q(f.value),onClick:c},[i["track-true"]&&u("div",{key:"prepend",class:"v-switch__track-true"},[i["track-true"](F)]),i["track-false"]&&u("div",{key:"append",class:"v-switch__track-false"},[i["track-false"](F)])])},input:h=>{let{inputNode:z,icon:f,backgroundColorClasses:ne,backgroundColorStyles:ue}=h;return u(Z,null,[z,u("div",{class:L(["v-switch__thumb",{"v-switch__thumb--filled":f||s.loading},s.inset||U?void 0:ne.value]),style:Q(s.inset?void 0:ue.value)},[i.thumb?t(De,{defaults:{VIcon:{icon:f,size:"x-small"}}},{default:()=>[i.thumb({...F,icon:f})]}):t(Se,null,{default:()=>[s.loading?t(Ue,{name:"v-switch",active:!0,color:G.value===!1?void 0:x.value},{default:q=>i.loader?i.loader(q):t(xe,{active:q.isActive,color:q.color,indeterminate:!0,size:"16",width:"2"},null)}):f&&t(ee,{key:String(f),icon:f,size:"x-small"},null)]})])])}})}})}),pe({},O)}}),Pe={class:"text-no-wrap"},ze={__name:"server_manager",setup(s){const b=p(!1),C=p(""),i=[{align:"start",key:"online",title:"Statu"},{key:"id",sortable:!1,title:"id"},{key:"port",title:"Port"},{key:"qr_addr",title:"qr_addr"},{key:"takeaway_key",title:"takeaway_key"},{key:"url",title:"server url"},{key:"shopify_name",title:"shopify name"},{key:"actions",title:"Actions"}],r=p([]),m=p({});ce(()=>{D()});function D(){T.getAllSever(o=>{console.log("serverAPI.getAllSever",o),o.result&&(console.log("ret: ",o.datas,o.states),r.value=o.datas,m.value=o.states)})}let v=p(!1);const a=p({});function M(o,e){v.value=!1,b.value=!0,a.value={...e.item},a.value.permissionsControl||(a.value.permissionsControl={}),a.value.customDishesControl||(a.value.customDishesControl={1:{enabled:!0,name:"Sushi Aleatória®"},2:{enabled:!0,name:"Poke Bowl"},3:{enabled:!0,name:"MY BOX"},4:{enabled:!0,name:"bibimbap"},5:{enabled:!0,name:"XIAOXIONG® RAMEN"},6:{enabled:!0,name:"Menu Almoço"}})}function S(){b.value=!1;let o=a.value;if(v.value)o.url&&(o.url=o.url.trim()),o.url==""&&(o.url=void 0),o.takeWay||(o.takeWay=!1),T.addServer(o,e=>{e.result==!0&&r.value.push(e.data)});else{const e=r.value.findIndex(l=>l.id===o.id);if(e!==-1){let l=r.value[e],c=!1;for(const y in o)if(o[y]!=l[e]){c=!0;break}o.takeWay||(o.takeWay=!1),c&&(T.setServer(o),r.value.splice(e,1,a.value))}}}function O(o,e){}function U(){b.value=!0,a.value={id:"",url:"",permissionsControl:{},customDishesControl:{1:{enabled:!0,name:"Sushi Aleatória®"},2:{enabled:!0,name:"Poke Bowl"},3:{enabled:!0,name:"MY BOX"},4:{enabled:!0,name:"bibimbap"},5:{enabled:!0,name:"XIAOXIONG® RAMEN"},6:{enabled:!0,name:"Menu Almoço"}}},v.value=!0}function x(o){if(m.value.statuOnline)return m.value.statuOnline[o.id]}return(o,e)=>(w(),fe(Z,null,[t(W,{title:"Server Manager",flat:""},{text:n(()=>[t(V,{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=l=>C.value=l),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),t(g,{class:"ma-2",onClick:U,color:"indigo-darken-3"},{default:n(()=>e[20]||(e[20]=[E("new server")])),_:1,__:[20]}),t(g,{class:"ma-2",onClick:D,color:"indigo-darken-3"},{default:n(()=>e[21]||(e[21]=[E("refresh")])),_:1,__:[21]})]),default:n(()=>[t(he,{headers:i,items:r.value,search:C.value,hover:""},{item:n(({item:l})=>[u("tr",Pe,[u("td",{class:L({"text-success":x(l),"text-error":!x(l)})},[t(ee,{icon:"mdi-circle"})],2),u("td",null,k(l.id),1),u("td",null,k(l.port),1),u("td",null,k(l.qr_addr),1),u("td",null,k(l.takeaway_key),1),u("td",null,k(l.url),1),u("td",null,k(l.shopify_name),1),u("td",null,[t(g,{size:"small",icon:"mdi-pencil",onClick:X(c=>M(c,{item:l}),["stop"])},null,8,["onClick"]),t(g,{class:"ml-2",size:"small",icon:"mdi-trash-can-outline",onClick:X(c=>void 0,["stop"])},null,8,["onClick"])])])]),_:1},8,["items","search"])]),_:1}),t(Ce,{modelValue:b.value,"onUpdate:modelValue":e[19]||(e[19]=l=>b.value=l),width:"500"},{default:n(()=>[t(W,{title:"edit user"},{default:n(()=>[t(ye),t(Ae,{"fast-fail":"",onSubmit:X(S,["prevent"])},{default:n(()=>[R(v)?(w(),P(V,{key:0,class:"ma-3",modelValue:a.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.id=l),variant:"outlined",label:"name"},null,8,["modelValue"])):B("",!0),R(v)?B("",!0):(w(),P(V,{key:1,class:"ma-3",modelValue:a.value.id,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.id=l),variant:"outlined",label:"name",readonly:""},null,8,["modelValue"])),R(v)?(w(),P(V,{key:2,class:"ma-3",modelValue:a.value.url,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.url=l),variant:"outlined",label:"url"},null,8,["modelValue"])):B("",!0),R(v)?B("",!0):(w(),P(V,{key:3,class:"ma-3",modelValue:a.value.url,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.url=l),variant:"outlined",label:"url"},null,8,["modelValue"])),t(V,{class:"ma-3",modelValue:a.value.qr_addr,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.qr_addr=l),variant:"outlined",label:"qr_addr"},null,8,["modelValue"]),t(V,{class:"ma-3",modelValue:a.value.takeaway_key,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.takeaway_key=l),variant:"outlined",label:"takeaway_key"},null,8,["modelValue"]),t(V,{class:"ma-3",modelValue:a.value.shopify_name,"onUpdate:modelValue":e[7]||(e[7]=l=>a.value.shopify_name=l),variant:"outlined",label:"shopify_name"},null,8,["modelValue"]),t(K,{class:"ma-3 pa-1 border-solid"},{default:n(()=>[t(_,null,{default:n(()=>[t(d,{class:"ml-2",modelValue:a.value.permissionsControl.order,"onUpdate:modelValue":e[8]||(e[8]=l=>a.value.permissionsControl.order=l),label:"Order",color:"primary","hide-details":"",inset:""},null,8,["modelValue"]),t(d,{class:"ml-2",modelValue:a.value.permissionsControl.delivery,"onUpdate:modelValue":e[9]||(e[9]=l=>a.value.permissionsControl.delivery=l),label:"Delivery",color:"primary","hide-details":"",inset:""},null,8,["modelValue"]),t(d,{class:"ml-2",modelValue:a.value.permissionsControl.fandays,"onUpdate:modelValue":e[10]||(e[10]=l=>a.value.permissionsControl.fandays=l),label:"Fandays",color:"primary","hide-details":"",inset:""},null,8,["modelValue"])]),_:1}),t(_,null,{default:n(()=>[t(d,{class:"ml-2",modelValue:a.value.permissionsControl.reserver,"onUpdate:modelValue":e[11]||(e[11]=l=>a.value.permissionsControl.reserver=l),label:"Reserver",color:"primary","hide-details":"",inset:""},null,8,["modelValue"]),t(d,{class:"ml-2",modelValue:a.value.permissionsControl.vip,"onUpdate:modelValue":e[12]||(e[12]=l=>a.value.permissionsControl.vip=l),label:"VIP",color:"primary","hide-details":"",inset:""},null,8,["modelValue"])]),_:1})]),_:1}),t(K,{class:"ma-3 pa-1 border-solid"},{default:n(()=>[t(_,null,{default:n(()=>[t(d,{class:"ml-2",modelValue:a.value.customDishesControl[1].enabled,"onUpdate:modelValue":e[13]||(e[13]=l=>a.value.customDishesControl[1].enabled=l),label:a.value.customDishesControl[1].name,color:"primary","hide-details":"",inset:""},null,8,["modelValue","label"]),t(d,{class:"ml-2",modelValue:a.value.customDishesControl[2].enabled,"onUpdate:modelValue":e[14]||(e[14]=l=>a.value.customDishesControl[2].enabled=l),label:a.value.customDishesControl[2].name,color:"primary","hide-details":"",inset:""},null,8,["modelValue","label"]),t(d,{class:"ml-2",modelValue:a.value.customDishesControl[3].enabled,"onUpdate:modelValue":e[15]||(e[15]=l=>a.value.customDishesControl[3].enabled=l),label:a.value.customDishesControl[3].name,color:"primary","hide-details":"",inset:""},null,8,["modelValue","label"])]),_:1}),t(_,null,{default:n(()=>[t(d,{class:"ml-2",modelValue:a.value.customDishesControl[4].enabled,"onUpdate:modelValue":e[16]||(e[16]=l=>a.value.customDishesControl[4].enabled=l),label:a.value.customDishesControl[4].name,color:"primary","hide-details":"",inset:""},null,8,["modelValue","label"]),t(d,{class:"ml-2",modelValue:a.value.customDishesControl[5].enabled,"onUpdate:modelValue":e[17]||(e[17]=l=>a.value.customDishesControl[5].enabled=l),label:a.value.customDishesControl[5].name,color:"primary","hide-details":"",inset:""},null,8,["modelValue","label"]),t(d,{class:"ml-2",modelValue:a.value.customDishesControl[6].enabled,"onUpdate:modelValue":e[18]||(e[18]=l=>a.value.customDishesControl[6].enabled=l),label:a.value.customDishesControl[6].name,color:"primary","hide-details":"",inset:""},null,8,["modelValue","label"])]),_:1})]),_:1}),t(W,{class:"text-center"},{default:n(()=>[t(g,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:n(()=>e[22]||(e[22]=[E("Submit")])),_:1,__:[22]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{ze as default};
