import{r as d,o as C,L as y,J as U,f as u,E as r,F,H as m,I as g,M as N,D as f,N as v,O as V}from"./index-DD8_JU72.js";import{V as k,a as n,b as A}from"./VTextField-C6NmxLQ7.js";import{V as B,a as D}from"./VDialog-BQSnD_Bv.js";import{V as c}from"./scopeId-CiIqZ2V8.js";import{V as I}from"./VForm-CJGqx5dm.js";import"./VList-i2GkgBqh.js";const O={__name:"server_manager",setup(T){const s=d(!1),p=d(""),x=[{align:"start",key:"id",sortable:!1,title:"id"},{key:"url",title:"server url"},{key:"shopify_name",title:"shopify name"}],i=d([{id:"Frozen Yogurt",url:"https://test.123",shopify_name:""},{id:"222",url:"https://test.222",shopify_name:""}]);C(()=>{y.getAllSever(l=>{console.log("serverAPI.getAllSever",l),l.result&&(i.value=l.datas)})});let o=d(!1);const t=d({});function S(l,e){console.log(l,e),o.value=!1,s.value=!0,t.value={...e.item}}function w(){s.value=!1;let l=t.value;if(o.value)l.url&&(l.url=l.url.trim()),l.url==""&&(l.url=void 0),y.addServer(l,e=>{e.result==!0&&i.value.push(e.data)});else{const e=i.value.findIndex(a=>a.id===l.id);if(e!==-1){let a=i.value[e],b=!1;for(const h in l)if(l[h]!=a[e]){b=!0;break}b&&(y.setServer(l),i.value.splice(e,1,t.value))}}}function _(){s.value=!0,t.value={id:"",url:""},o.value=!0}return(l,e)=>(m(),U(F,null,[u(k,{title:"Nutrition",flat:""},{text:r(()=>[u(n,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=a=>p.value=a),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),u(c,{class:"ma-2",onClick:_,color:"indigo-darken-3"},{default:r(()=>e[7]||(e[7]=[g("new server")])),_:1,__:[7]})]),default:r(()=>[u(D,{headers:x,items:i.value,search:p.value,"onClick:row":S},null,8,["items","search"])]),_:1}),u(B,{modelValue:s.value,"onUpdate:modelValue":e[6]||(e[6]=a=>s.value=a),width:"500"},{default:r(()=>[u(k,{title:"edit user"},{default:r(()=>[u(A),u(I,{"fast-fail":"",onSubmit:N(w,["prevent"])},{default:r(()=>[V(o)?(m(),f(n,{key:0,class:"ma-3",modelValue:t.value.id,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.id=a),variant:"outlined",label:"name"},null,8,["modelValue"])):v("",!0),V(o)?v("",!0):(m(),f(n,{key:1,class:"ma-3",modelValue:t.value.id,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.id=a),variant:"outlined",label:"name",readonly:""},null,8,["modelValue"])),V(o)?(m(),f(n,{key:2,class:"ma-3",modelValue:t.value.url,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.url=a),variant:"outlined",label:"url"},null,8,["modelValue"])):v("",!0),V(o)?v("",!0):(m(),f(n,{key:3,class:"ma-3",modelValue:t.value.url,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.url=a),variant:"outlined",label:"url",readonly:""},null,8,["modelValue"])),u(n,{class:"ma-3",modelValue:t.value.shopify_name,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.shopify_name=a),variant:"outlined",label:"shopify_name"},null,8,["modelValue"]),u(k,{class:"text-center"},{default:r(()=>[u(c,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:r(()=>e[8]||(e[8]=[g("Submit")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{O as default};
