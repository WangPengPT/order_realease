import{r as n,o as N,L as f,J as A,f as u,E as s,F as B,H as v,I as g,M as D,D as w,N as b,O as c}from"./index-UMjGVMiU.js";import{V,a as i,b as I}from"./VTextField-DH4vsLrH.js";import{V as S,a as T}from"./VDialog-rI4KEimM.js";import{V as k}from"./scopeId-DOqiFFyj.js";import{V as _}from"./VForm-C1-h4WEz.js";import"./VList-DyWM5fp9.js";const O={__name:"user_manager",setup(M){const r=n(!1),m=n(""),U=[{align:"start",key:"id",sortable:!1,title:"id"},{key:"url",title:"server url"}],o=n([{id:"Frozen Yogurt",password:159,url:"https://test.123"},{id:"222",password:222,url:"https://test.222"}]);N(()=>{f.getAllUser(t=>{console.log("serverAPI.getAllUser",t),t.result&&(o.value=t.datas)})});let d=n(!1);const a=n({});function x(t,e){console.log(t,e),d.value=!1,r.value=!0,a.value={...e.item}}function y(){r.value=!1;let t=a.value;if(d.value){f.addUser(t),o.value.push(t);return}const e=o.value.findIndex(l=>l.id===t.id);if(e!==-1){let l=o.value[e],p=!1;for(const F in a.value)if(t[F]!=l[e]){p=!0;break}p&&(f.setUser(t),o.value.splice(e,1,a.value))}}function C(){r.value=!0,a.value={id:"",passwrod:"",url:""},d.value=!0}return(t,e)=>(v(),A(B,null,[u(V,{title:"Nutrition",flat:""},{text:s(()=>[u(i,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),u(k,{class:"ma-2",onClick:C,color:"indigo-darken-3"},{default:s(()=>e[6]||(e[6]=[g("new user")])),_:1,__:[6]})]),default:s(()=>[u(T,{headers:U,items:o.value,search:m.value,"onClick:row":x},null,8,["items","search"])]),_:1}),u(S,{modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=l=>r.value=l),width:"500"},{default:s(()=>[u(V,{title:"edit user"},{default:s(()=>[u(I),u(_,{"fast-fail":"",onSubmit:D(y,["prevent"])},{default:s(()=>[c(d)?(v(),w(i,{key:0,class:"ma-3",modelValue:a.value.id,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.id=l),variant:"outlined",label:"name"},null,8,["modelValue"])):b("",!0),c(d)?b("",!0):(v(),w(i,{key:1,class:"ma-3",modelValue:a.value.id,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.id=l),variant:"outlined",label:"name",readonly:""},null,8,["modelValue"])),u(i,{class:"ma-3",modelValue:a.value.password,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.password=l),variant:"outlined",label:"password"},null,8,["modelValue"]),u(i,{class:"ma-3",modelValue:a.value.url,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.url=l),variant:"outlined",label:"url"},null,8,["modelValue"]),u(V,{class:"text-center"},{default:s(()=>[u(k,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:s(()=>e[7]||(e[7]=[g("Submit")])),_:1,__:[7]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{O as default};
