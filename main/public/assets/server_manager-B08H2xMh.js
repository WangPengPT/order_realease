import{g as le,p as te,u as N,r as c,P as se,t as T,Q as oe,R as ue,f as s,m as W,h as k,n as z,i as L,F as Q,o as ne,L as R,J as ie,E as d,H as y,I as E,M as re,D as w,N as S,O as C}from"./index-jlh9wguj.js";import{u as de,c as O,f as me,m as ce,V as D,a as v,b as ve}from"./VTextField-cPMALfSi.js";import{b as H,m as fe,V as Ve,a as ke}from"./VDialog-Bo-nZPHO.js";import{v as ye,a as ge,s as pe,w as he,x as be,L as we,y as Se,V as J}from"./scopeId-C3vjaBmm.js";import{V as Ce}from"./VForm-Boe1S3xY.js";import"./VList-BjssYsKO.js";const _e=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ce(),...fe()},"VSwitch"),xe=le()({name:"VSwitch",inheritAttrs:!1,props:_e(),emits:{"update:focused":l=>!0,"update:modelValue":l=>!0,"update:indeterminate":l=>!0},setup(l,m){let{attrs:f,slots:n}=m;const i=N(l,"indeterminate"),u=N(l,"modelValue"),{loaderClasses:o}=ye(l),{isFocused:_,focus:x,blur:P}=de(l),a=c(),e=c(),t=se&&window.matchMedia("(forced-colors: active)").matches,g=T(()=>typeof l.loading=="string"&&l.loading!==""?l.loading:l.color),I=oe(),Y=T(()=>l.id||`switch-${I}`);function $(){i.value&&(i.value=!1)}function j(p){var h,b;p.stopPropagation(),p.preventDefault(),(b=(h=a.value)==null?void 0:h.input)==null||b.click()}return ge(()=>{const[p,h]=ue(f),b=O.filterProps(l),q=H.filterProps(l);return s(O,W({ref:e,class:["v-switch",{"v-switch--flat":l.flat},{"v-switch--inset":l.inset},{"v-switch--indeterminate":i.value},o.value,l.class]},p,b,{modelValue:u.value,"onUpdate:modelValue":B=>u.value=B,id:Y.value,focused:_.value,style:l.style}),{...n,default:B=>{let{id:G,messagesId:K,isDisabled:X,isReadonly:Z,isValid:M}=B;const A={model:u,isValid:M};return s(H,W({ref:a},q,{modelValue:u.value,"onUpdate:modelValue":[V=>u.value=V,$],id:G.value,"aria-describedby":K.value,type:"checkbox","aria-checked":i.value?"mixed":void 0,disabled:X.value,readonly:Z.value,onFocus:x,onBlur:P},h),{...n,default:V=>{let{backgroundColorClasses:F,backgroundColorStyles:r}=V;return k("div",{class:L(["v-switch__track",t?void 0:F.value]),style:z(r.value),onClick:j},[n["track-true"]&&k("div",{key:"prepend",class:"v-switch__track-true"},[n["track-true"](A)]),n["track-false"]&&k("div",{key:"append",class:"v-switch__track-false"},[n["track-false"](A)])])},input:V=>{let{inputNode:F,icon:r,backgroundColorClasses:ee,backgroundColorStyles:ae}=V;return k(Q,null,[F,k("div",{class:L(["v-switch__thumb",{"v-switch__thumb--filled":r||l.loading},l.inset||t?void 0:ee.value]),style:z(l.inset?void 0:ae.value)},[n.thumb?s(pe,{defaults:{VIcon:{icon:r,size:"x-small"}}},{default:()=>[n.thumb({...A,icon:r})]}):s(he,null,{default:()=>[l.loading?s(we,{name:"v-switch",active:!0,color:M.value===!1?void 0:g.value},{default:U=>n.loader?n.loader(U):s(Se,{active:U.isActive,color:U.color,indeterminate:!0,size:"16",width:"2"},null)}):r&&s(be,{key:String(r),icon:r,size:"x-small"},null)]})])])}})}})}),me({},e)}}),Re={__name:"server_manager",setup(l){const m=c(!1),f=c(""),n=[{align:"start",key:"id",sortable:!1,title:"id"},{key:"url",title:"server url"},{key:"shopify_name",title:"shopify name"}],i=c([{id:"Frozen Yogurt",url:"https://test.123",shopify_name:""},{id:"222",url:"https://test.222",shopify_name:""}]);ne(()=>{R.getAllSever(a=>{console.log("serverAPI.getAllSever",a),a.result&&(console.log("ret: ",a.datas),i.value=a.datas)})});let u=c(!1);const o=c({});function _(a,e){console.log(a,e),u.value=!1,m.value=!0,o.value={...e.item}}function x(){m.value=!1;let a=o.value;if(u.value)a.url&&(a.url=a.url.trim()),a.url==""&&(a.url=void 0),a.takeWay||(a.takeWay=!1),R.addServer(a,e=>{e.result==!0&&i.value.push(e.data)});else{const e=i.value.findIndex(t=>t.id===a.id);if(e!==-1){let t=i.value[e],g=!1;for(const I in a)if(a[I]!=t[e]){g=!0;break}a.takeWay||(a.takeWay=!1),g&&(R.setServer(a),i.value.splice(e,1,o.value))}}}function P(){m.value=!0,o.value={id:"",url:""},u.value=!0}return(a,e)=>(y(),ie(Q,null,[s(D,{title:"Server Manager",flat:""},{text:d(()=>[s(v,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=t=>f.value=t),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),s(J,{class:"ma-2",onClick:P,color:"indigo-darken-3"},{default:d(()=>e[8]||(e[8]=[E("new server")])),_:1,__:[8]})]),default:d(()=>[s(ke,{headers:n,items:i.value,search:f.value,"onClick:row":_},null,8,["items","search"])]),_:1}),s(Ve,{modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=t=>m.value=t),width:"500"},{default:d(()=>[s(D,{title:"edit user"},{default:d(()=>[s(ve),s(Ce,{"fast-fail":"",onSubmit:re(x,["prevent"])},{default:d(()=>[C(u)?(y(),w(v,{key:0,class:"ma-3",modelValue:o.value.id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.id=t),variant:"outlined",label:"name"},null,8,["modelValue"])):S("",!0),C(u)?S("",!0):(y(),w(v,{key:1,class:"ma-3",modelValue:o.value.id,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.id=t),variant:"outlined",label:"name",readonly:""},null,8,["modelValue"])),C(u)?(y(),w(v,{key:2,class:"ma-3",modelValue:o.value.url,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.url=t),variant:"outlined",label:"url"},null,8,["modelValue"])):S("",!0),C(u)?S("",!0):(y(),w(v,{key:3,class:"ma-3",modelValue:o.value.url,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.url=t),variant:"outlined",label:"url",readonly:""},null,8,["modelValue"])),s(v,{class:"ma-3",modelValue:o.value.shopify_name,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.shopify_name=t),variant:"outlined",label:"shopify_name"},null,8,["modelValue"]),s(xe,{modelValue:o.value.takeWay,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.takeWay=t),label:"Take way",color:"primary","hide-details":"",inset:""},null,8,["modelValue"]),s(D,{class:"text-center"},{default:d(()=>[s(J,{width:"200",class:"mb-3",type:"submit",color:"indigo-darken-3"},{default:d(()=>e[9]||(e[9]=[E("Submit")])),_:1,__:[9]})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{Re as default};
