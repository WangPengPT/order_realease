import{s as R}from"./index-Bz_QLyn5.js";import{s as T,a as $}from"./index-DZ_84HLy.js";import{s as D,a as O}from"./index-Dc40dJ-s.js";import{s as B}from"./index-BWn8x0Ui.js";import{q as F,n as f,h as p,s as U,c as z,a as o,d as s,w as i,l as a,F as A,o as j,A as q,z as E,t as u,C as G,G as H}from"./index-Cp7MK5GH.js";import{s as b}from"./index-Bmi0JjVe.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-5ZZNUr_T.js";import"./index-CQVWfr5o.js";import"./index-Bun3Cj71.js";import"./index-B7fHUpY8.js";import"./index-BKUb7z73.js";import"./index-D7UCpOy8.js";import"./index-C9QZM6ev.js";import"./index-BFPpMVGv.js";import"./index-BOVrHiKk.js";import"./index-CVDPUBfE.js";const L={class:"card h-full",style:{display:"flex","flex-direction":"column"}},J={class:"flex flex-wrap gap-2 items-center justify-between"},Q={class:"m-0 font-bold text-2xl text-left flex-grow-1"},W=["onClick"],X={class:"flex flex-column gap-2"},Y={class:"font-bold text-lg"},Z={class:"font-bold text-lg"},ee={class:"font-bold text-lg"},ae={__name:"ReserverPage",setup(te){const{t:e}=F(),_=f.tableReserves;f.checkReservesStatus();const t=p(),m=p(!1);function P(n){console.log("Clicked"),t.value=n.data,m.value=!0}const g=p({global:{value:null,matchMode:H.CONTAINS}}),v=p(!1),d=p(null),w=U(()=>[{label:e("orderPage.completed"),value:"completed"},{label:e("orderPage.unfinished"),value:"unfinished"},{label:e("orderPage.new"),value:"new"},{label:e("orderPage.voided"),value:"voided"}]);function x(n){n.financial_status!="voided"&&(t.value=n,m.value=!1,d.value=n.status,v.value=!0)}function C(){d.value!==null&&(t.value.status!==d.value&&((t.value.status==="new"||!t.value.status)&&f.updateNewOrderCount("takeaway",-1),d.value==="new"&&f.updateNewOrderCount("takeaway",1),t.value.status=d.value),v.value=!1)}const k=n=>({completed:"status-completed",unfinished:"status-read",new:"status-new",voided:"status-voided"})[n]||"",S=n=>({completed:e("orderPage.completed"),unfinished:e("orderPage.unfinished"),new:e("orderPage.new"),voided:e("orderPage.voided")})[n]||n;return(n,r)=>{var h;const y=O,N=B,M=D,c=$,V=T,I=R;return j(),z(A,null,[o("div",L,[s(V,{value:a(_),tableStyle:"min-width: 50rem",dataKey:"id",paginator:"",rows:5,rowsPerPageOptions:[5,10,20,50],stripedRows:"",filters:g.value,scrollable:"",scrollHeight:"flex",onRowClick:P,selectionMode:"single"},{header:i(()=>[o("div",J,[o("h4",Q,u(a(e)("reserverPage.header")),1),s(M,null,{default:i(()=>[s(y,null,{default:i(()=>r[4]||(r[4]=[o("i",{class:"pi pi-search"},null,-1)])),_:1,__:[4]}),s(N,{modelValue:g.value.global.value,"onUpdate:modelValue":r[0]||(r[0]=l=>g.value.global.value=l),placeholder:a(e)("orderPage.find")},null,8,["modelValue","placeholder"])]),_:1})])]),default:i(()=>[s(c,{header:a(e)("orderPage.status")},{body:i(({data:l})=>[o("span",{class:E(["status-badge",k(l.status||"new")]),onClick:q(le=>x(l),["stop"])},u(S(l.status||"new")),11,W)]),_:1},8,["header"]),s(c,{field:"name",header:"ID",sortable:""}),s(c,{field:"date",header:a(e)("reserverPage.dateTime"),sortable:""},{body:i(({data:l})=>[G(u(l.date+" "+l.time),1)]),_:1},8,["header"]),s(c,{field:"customerName",header:a(e)("reserverPage.customerName")},null,8,["header"]),s(c,{field:"numberPeople",header:a(e)("reserverPage.numberPeople")},null,8,["header"]),s(c,{field:"phone",header:a(e)("reserverPage.phone")},null,8,["header"]),s(c,{field:"note",header:a(e)("reserverPage.note")},null,8,["header"])]),_:1},8,["value","filters"])]),o("div",null,[s(a(b),{visible:v.value,"onUpdate:visible":r[2]||(r[2]=l=>v.value=l),header:a(e)("orderPage.orderStatus"),modal:!0,dismissableMask:!0},{default:i(()=>[s(I,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=l=>d.value=l),options:w.value,optionLabel:"label",optionValue:"value",onClick:C},null,8,["modelValue","options"])]),_:1},8,["visible","header"])]),s(a(b),{visible:m.value,"onUpdate:visible":r[3]||(r[3]=l=>m.value=l),header:a(e)("reserverPage.reserveDetails")+" (ID: "+((h=t.value)==null?void 0:h.name)+")",modal:"",style:{width:"450px"}},{default:i(()=>[o("div",X,[o("label",Y,u(a(e)("reserverPage.dateTime")+": "+t.value.date+" "+t.value.time),1),o("label",Z,u(a(e)("reserverPage.customerName")+": "+t.value.customerName),1),o("label",ee,u(a(e)("reserverPage.numberPeople")+": "+t.value.numberPeople),1),o("label",null,u(a(e)("reserverPage.phone")+": "+t.value.phone),1),o("label",null,u(a(e)("reserverPage.email")+": "+t.value.email),1),o("label",null,u(a(e)("reserverPage.note")+": "+t.value.note),1)])]),_:1},8,["visible","header"])],64)}}},we=K(ae,[["__scopeId","data-v-8b43e035"]]);export{we as default};
