import{b as O,c as q,R as M}from"./index-Dt8QeYD_.js";import{s as R}from"./index-BEJGvhft.js";import{s as T}from"./index-B73DqUWe.js";import{s as N}from"./index-D3vkpfzW.js";import{s as U}from"./index-DuGPmLZM.js";import{s as z}from"./index-Cybyqlvq.js";import{s as G}from"./index-CQMzRwa1.js";import{q as L,h as r,j as X,p as n,n as l,c as u,o as m,d as s,a,w as h,s as A,m as E,f as H,e as J,x as K,t as Q,F as W,l as Y,R as Z}from"./index-Dl_Q6PiL.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DLOeTjaT.js";import"./index-CcAkN1m5.js";import"./index-1uW-q7sl.js";import"./index-DvW4oD7C.js";import"./index-ByGCMPYM.js";const ae="/XIAOXIONG_LOGO.png",te={class:"w-full shadow-2 bg-primary"},oe={class:"flex flex-row justify-content-start"},se={class:"flex align-items-center justify-content-center"},ne={class:"text-white"},le={class:"flex flex-column"},ie={class:"flex flex-wrap align-items-center m-2"},re={class:"flex flex-wrap align-items-center m-2"},pe={class:"flex flex-wrap justify-content-end align-items-center mt-2"},ce={__name:"TopBar",setup(b){const t=X(),d=L(),i=r(!1),p=r(),c=r(),f=r(),x=r([{label:"选项",items:[{label:"上传菜单",icon:"pi pi-file-import",command:()=>{t.push(n.updateMenu.path)}},{label:"菜单排序",icon:"pi pi-tag",command:()=>{t.push(n.menuTags.path)}},{label:"设置",icon:"pi pi-cog",command:()=>{p.value=l.hasDuck.value,c.value=l.isFanDays.value,i.value=!0,P()}},{label:"帮助/手册",icon:"pi pi-question"},{label:"登出",icon:"pi pi-sign-out",command:()=>{k()}}]}]),y=_=>{f.value.toggle(_)},w=r([{label:"主页",icon:"pi pi-home",command:()=>{t.push(n.mainPath.path)}},{label:"订单",icon:"pi pi-receipt",command:()=>{t.push(n.mainPath.order.path)},badge:l.newOrderCount},{label:"二维码",icon:"pi pi-qrcode",command:()=>{t.push(n.mainPath.qcode.path)}},{label:"菜单",icon:"pi pi-book",command:()=>{t.push(n.mainPath.menu.path)}},{label:"桌子",icon:"pi pi-table",command:()=>{t.push(n.mainPath.tables.path)}},{label:"打印机",icon:"pi pi-print",command:()=>{t.push(n.mainPath.printers.path)}},{label:"页面编辑",icon:"pi pi-file-edit",command:()=>{t.push(n.mainPath.editablePages.path)}}]);function D(){l.hasDuck.value=p.value,l.isFanDays.value=c.value,l.updatePeoplePrice(),i.value=!1}function k(){d.require({message:"确认登出您的账号?",header:"登出账号",icon:"pi pi-exclamation-triangle",rejectProps:{label:"取消登出",severity:"secondary",outlined:!0},acceptProps:{label:"确认登出",severity:"danger"},accept:()=>{localStorage.removeItem("loggedIn"),localStorage.removeItem("loginDate"),t.replace("/login")},reject:()=>{}})}function P(){console.log("manager.hasDuck.value:",l.hasDuck.value,`
manager.isFanDays.value:`,l.isFanDays.value),console.log("hasDuck:",p.value,`
isFanDays:`,c.value)}return(_,e)=>{const $=G,g=O,V=z,j=q,B=U,v=N,C=T,F=R,S=M;return m(),u(W,null,[s($),a("div",te,[a("div",oe,[a("div",se,[s(g,{type:"button",icon:"pi pi-bars",onClick:y,"aria-haspopup":"true","aria-controls":"overlay_menu",class:"custom-clean-button"}),e[4]||(e[4]=a("img",{src:ae,class:"max-w-9rem p-1"},null,-1)),e[5]||(e[5]=a("span",{class:"text-lg font-bold",style:{color:"aliceblue"}},"Order System",-1)),s(V,{ref_key:"menu",ref:f,id:"overlay_menu",model:x.value,popup:!0},null,8,["model"])])]),s(B,{model:w.value,class:"justify-content-center bg-primary border-none",breakpoint:"369px"},{item:h(({item:o,props:I})=>[A((m(),u("a",E({class:"flex flex-column justify-content-center align-items-center"},I.action),[a("span",{class:K([o.icon,"text-white"])},null,2),a("span",ne,Q(o.label),1),o.badge?(m(),H(j,{key:0,value:o.badge,severity:"danger",class:"absolute top-0 right-0 transform translate-x-1/4 -translate-y-1/3",style:{"font-size":"0.7rem",height:"16px","min-width":"16px"}},null,8,["value"])):J("",!0)],16)),[[S]])]),_:1},8,["model"]),s(C,{visible:i.value,"onUpdate:visible":e[3]||(e[3]=o=>i.value=o),header:"设置",modal:!0,dismissableMask:!0,style:{"min-width":"300px","max-width":"400px"}},{default:h(()=>[a("div",le,[a("div",ie,[s(v,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o)},null,8,["modelValue"]),e[6]||(e[6]=a("label",{class:"ml-2"}," 显示石锅拌饭 ",-1))]),a("div",re,[s(v,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o)},null,8,["modelValue"]),e[7]||(e[7]=a("label",{class:"ml-2"}," 粉丝节状态 ",-1))])]),a("div",pe,[s(g,{label:"保存",onClick:e[2]||(e[2]=o=>D())})])]),_:1},8,["visible"])]),s(F)],64)}}},me=ee(ce,[["__scopeId","data-v-9a804067"]]),ue={class:"fixed top-0 right-0 left-0 h-full w-full"},de={class:"h-full w-full"},je={__name:"MainLayout",setup(b){return(t,d)=>{const i=me;return m(),u("div",ue,[s(i),a("div",de,[s(Y(Z))])])}}};export{je as default};
